"use strict";
(self["webpackChunkicode_run"] = self["webpackChunkicode_run"] || []).push([["vendors-my-cli_node_modules_monaco-editor_esm_vs_editor_browser_config_editorConfiguration_js-587a58"],{

/***/ 9217:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "N": () => (/* binding */ applyFontInfo)
/* harmony export */ });
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81447);
/* harmony import */ var _base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87980);
/* harmony import */ var _common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(72530);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function applyFontInfo(domNode,fontInfo){if(domNode instanceof _base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_2__/* .FastDomNode */ .Z){domNode.setFontFamily(fontInfo.getMassagedFontFamily(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isSafari?_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_1__/* .EDITOR_FONT_DEFAULTS.fontFamily */ .hL.fontFamily:null));domNode.setFontWeight(fontInfo.fontWeight);domNode.setFontSize(fontInfo.fontSize);domNode.setFontFeatureSettings(fontInfo.fontFeatureSettings);domNode.setLineHeight(fontInfo.lineHeight);domNode.setLetterSpacing(fontInfo.letterSpacing);}else{domNode.style.fontFamily=fontInfo.getMassagedFontFamily(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isSafari?_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_1__/* .EDITOR_FONT_DEFAULTS.fontFamily */ .hL.fontFamily:null);domNode.style.fontWeight=fontInfo.fontWeight;domNode.style.fontSize=fontInfo.fontSize+'px';domNode.style.fontFeatureSettings=fontInfo.fontFeatureSettings;domNode.style.lineHeight=fontInfo.lineHeight+'px';domNode.style.letterSpacing=fontInfo.letterSpacing+'px';}}

/***/ }),

/***/ 80997:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "z": () => (/* binding */ EditorConfiguration)
});

// UNUSED EXPORTS: ComputedEditorOptions

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/browser.js
var browser = __webpack_require__(81447);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/objects.js
var objects = __webpack_require__(473);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/elementSizeObserver.js
var elementSizeObserver = __webpack_require__(35165);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/fontMeasurements.js + 1 modules
var fontMeasurements = __webpack_require__(85086);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/collections.js
var collections = __webpack_require__(10379);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/migrateOptions.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Compatibility with old options
 */function migrateOptions(options){var wordWrap=options.wordWrap;if(wordWrap===true){options.wordWrap='on';}else if(wordWrap===false){options.wordWrap='off';}var lineNumbers=options.lineNumbers;if(lineNumbers===true){options.lineNumbers='on';}else if(lineNumbers===false){options.lineNumbers='off';}var autoClosingBrackets=options.autoClosingBrackets;if(autoClosingBrackets===false){options.autoClosingBrackets='never';options.autoClosingQuotes='never';options.autoSurround='never';}var cursorBlinking=options.cursorBlinking;if(cursorBlinking==='visible'){options.cursorBlinking='solid';}var renderWhitespace=options.renderWhitespace;if(renderWhitespace===true){options.renderWhitespace='boundary';}else if(renderWhitespace===false){options.renderWhitespace='none';}var renderLineHighlight=options.renderLineHighlight;if(renderLineHighlight===true){options.renderLineHighlight='line';}else if(renderLineHighlight===false){options.renderLineHighlight='none';}var acceptSuggestionOnEnter=options.acceptSuggestionOnEnter;if(acceptSuggestionOnEnter===true){options.acceptSuggestionOnEnter='on';}else if(acceptSuggestionOnEnter===false){options.acceptSuggestionOnEnter='off';}var tabCompletion=options.tabCompletion;if(tabCompletion===false){options.tabCompletion='off';}else if(tabCompletion===true){options.tabCompletion='onlySnippets';}var suggest=options.suggest;if(suggest&&_typeof(suggest.filteredTypes)==='object'&&suggest.filteredTypes){var mapping={};mapping['method']='showMethods';mapping['function']='showFunctions';mapping['constructor']='showConstructors';mapping['deprecated']='showDeprecated';mapping['field']='showFields';mapping['variable']='showVariables';mapping['class']='showClasses';mapping['struct']='showStructs';mapping['interface']='showInterfaces';mapping['module']='showModules';mapping['property']='showProperties';mapping['event']='showEvents';mapping['operator']='showOperators';mapping['unit']='showUnits';mapping['value']='showValues';mapping['constant']='showConstants';mapping['enum']='showEnums';mapping['enumMember']='showEnumMembers';mapping['keyword']='showKeywords';mapping['text']='showWords';mapping['color']='showColors';mapping['file']='showFiles';mapping['reference']='showReferences';mapping['folder']='showFolders';mapping['typeParameter']='showTypeParameters';mapping['snippet']='showSnippets';(0,collections/* forEach */.E)(mapping,function(entry){var value=suggest.filteredTypes[entry.key];if(value===false){suggest[entry.value]=value;}});// delete (<any>suggest).filteredTypes;
}var hover=options.hover;if(hover===true){options.hover={enabled:true};}else if(hover===false){options.hover={enabled:false};}var parameterHints=options.parameterHints;if(parameterHints===true){options.parameterHints={enabled:true};}else if(parameterHints===false){options.parameterHints={enabled:false};}var autoIndent=options.autoIndent;if(autoIndent===true){options.autoIndent='full';}else if(autoIndent===false){options.autoIndent='advanced';}var matchBrackets=options.matchBrackets;if(matchBrackets===true){options.matchBrackets='always';}else if(matchBrackets===false){options.matchBrackets='never';}var renderIndentGuides=options.renderIndentGuides,highlightActiveIndentGuide=options.highlightActiveIndentGuide;if(!options.guides){options.guides={};}if(renderIndentGuides!==undefined){options.guides.indentation=!!renderIndentGuides;}if(highlightActiveIndentGuide!==undefined){options.guides.highlightActiveIndentation=!!highlightActiveIndentGuide;}}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/tabFocus.js
var tabFocus = __webpack_require__(15116);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js
var editorOptions = __webpack_require__(72530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorZoom.js
var editorZoom = __webpack_require__(19477);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/fontInfo.js
var config_fontInfo = __webpack_require__(47233);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibility.js
var accessibility = __webpack_require__(10304);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/editorConfiguration.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(editorConfiguration_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function editorConfiguration_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){editorConfiguration_typeof=function _typeof(obj){return typeof obj;};}else{editorConfiguration_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return editorConfiguration_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":editorConfiguration_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var EditorConfiguration=/*#__PURE__*/function(_Disposable){_inherits(EditorConfiguration,_Disposable);var _super=_createSuper(EditorConfiguration);function EditorConfiguration(isSimpleWidget,options,container,_accessibilityService){var _this;_classCallCheck(this,EditorConfiguration);_this=_super.call(this);_this._accessibilityService=_accessibilityService;_this._onDidChange=_this._register(new common_event/* Emitter */.Q5());_this.onDidChange=_this._onDidChange.event;_this._onDidChangeFast=_this._register(new common_event/* Emitter */.Q5());_this.onDidChangeFast=_this._onDidChangeFast.event;_this._isDominatedByLongLines=false;_this._viewLineCount=1;_this._lineNumbersDigitCount=1;_this._reservedHeight=0;_this._computeOptionsMemory=new editorOptions/* ComputeOptionsMemory */.LJ();_this.isSimpleWidget=isSimpleWidget;_this._containerObserver=_this._register(new elementSizeObserver/* ElementSizeObserver */.I(container,options.dimension));_this._rawOptions=deepCloneAndMigrateOptions(options);_this._validatedOptions=EditorOptionsUtil.validateOptions(_this._rawOptions);_this.options=_this._computeOptions();if(_this.options.get(10/* automaticLayout */)){_this._containerObserver.startObserving();}_this._register(editorZoom/* EditorZoom.onDidChangeZoomLevel */.C.onDidChangeZoomLevel(function(){return _this._recomputeOptions();}));_this._register(tabFocus/* TabFocus.onDidChangeTabFocus */.n.onDidChangeTabFocus(function(){return _this._recomputeOptions();}));_this._register(_this._containerObserver.onDidChange(function(){return _this._recomputeOptions();}));_this._register(fontMeasurements/* FontMeasurements.onDidChange */.g.onDidChange(function(){return _this._recomputeOptions();}));_this._register(browser.PixelRatio.onDidChange(function(){return _this._recomputeOptions();}));_this._register(_this._accessibilityService.onDidChangeScreenReaderOptimized(function(){return _this._recomputeOptions();}));return _this;}_createClass(EditorConfiguration,[{key:"_recomputeOptions",value:function _recomputeOptions(){var newOptions=this._computeOptions();var changeEvent=EditorOptionsUtil.checkEquals(this.options,newOptions);if(changeEvent===null){// nothing changed!
return;}this.options=newOptions;this._onDidChangeFast.fire(changeEvent);this._onDidChange.fire(changeEvent);}},{key:"_computeOptions",value:function _computeOptions(){var partialEnv=this._readEnvConfiguration();var bareFontInfo=config_fontInfo/* BareFontInfo.createFromValidatedSettings */.E4.createFromValidatedSettings(this._validatedOptions,partialEnv.pixelRatio,this.isSimpleWidget);var fontInfo=this._readFontInfo(bareFontInfo);var env={memory:this._computeOptionsMemory,outerWidth:partialEnv.outerWidth,outerHeight:partialEnv.outerHeight-this._reservedHeight,fontInfo:fontInfo,extraEditorClassName:partialEnv.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:partialEnv.emptySelectionClipboard,pixelRatio:partialEnv.pixelRatio,tabFocusMode:tabFocus/* TabFocus.getTabFocusMode */.n.getTabFocusMode(),accessibilitySupport:partialEnv.accessibilitySupport};return EditorOptionsUtil.computeOptions(this._validatedOptions,env);}},{key:"_readEnvConfiguration",value:function _readEnvConfiguration(){return{extraEditorClassName:getExtraEditorClassName(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:browser.isWebKit||browser.isFirefox,pixelRatio:browser.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2/* Enabled */:this._accessibilityService.getAccessibilitySupport()};}},{key:"_readFontInfo",value:function _readFontInfo(bareFontInfo){return fontMeasurements/* FontMeasurements.readFontInfo */.g.readFontInfo(bareFontInfo);}},{key:"getRawOptions",value:function getRawOptions(){return this._rawOptions;}},{key:"updateOptions",value:function updateOptions(_newOptions){var newOptions=deepCloneAndMigrateOptions(_newOptions);var didChange=EditorOptionsUtil.applyUpdate(this._rawOptions,newOptions);if(!didChange){return;}this._validatedOptions=EditorOptionsUtil.validateOptions(this._rawOptions);this._recomputeOptions();}},{key:"observeContainer",value:function observeContainer(dimension){this._containerObserver.observe(dimension);}},{key:"setIsDominatedByLongLines",value:function setIsDominatedByLongLines(isDominatedByLongLines){if(this._isDominatedByLongLines===isDominatedByLongLines){return;}this._isDominatedByLongLines=isDominatedByLongLines;this._recomputeOptions();}},{key:"setModelLineCount",value:function setModelLineCount(modelLineCount){var lineNumbersDigitCount=digitCount(modelLineCount);if(this._lineNumbersDigitCount===lineNumbersDigitCount){return;}this._lineNumbersDigitCount=lineNumbersDigitCount;this._recomputeOptions();}},{key:"setViewLineCount",value:function setViewLineCount(viewLineCount){if(this._viewLineCount===viewLineCount){return;}this._viewLineCount=viewLineCount;this._recomputeOptions();}},{key:"setReservedHeight",value:function setReservedHeight(reservedHeight){if(this._reservedHeight===reservedHeight){return;}this._reservedHeight=reservedHeight;this._recomputeOptions();}}]);return EditorConfiguration;}(lifecycle/* Disposable */.JT);EditorConfiguration=__decorate([__param(3,accessibility/* IAccessibilityService */.F)],EditorConfiguration);function digitCount(n){var r=0;while(n){n=Math.floor(n/10);r++;}return r?r:1;}function getExtraEditorClassName(){var extra='';if(!browser.isSafari&&!browser.isWebkitWebView){// Use user-select: none in all browsers except Safari and native macOS WebView
extra+='no-user-select ';}if(browser.isSafari){// See https://github.com/microsoft/vscode/issues/108822
extra+='no-minimap-shadow ';}if(platform/* isMacintosh */.dz){extra+='mac ';}return extra;}var ValidatedEditorOptions=/*#__PURE__*/function(){function ValidatedEditorOptions(){_classCallCheck(this,ValidatedEditorOptions);this._values=[];}_createClass(ValidatedEditorOptions,[{key:"_read",value:function _read(option){return this._values[option];}},{key:"get",value:function get(id){return this._values[id];}},{key:"_write",value:function _write(option,value){this._values[option]=value;}}]);return ValidatedEditorOptions;}();var ComputedEditorOptions=/*#__PURE__*/function(){function ComputedEditorOptions(){_classCallCheck(this,ComputedEditorOptions);this._values=[];}_createClass(ComputedEditorOptions,[{key:"_read",value:function _read(id){if(id>=this._values.length){throw new Error('Cannot read uninitialized value');}return this._values[id];}},{key:"get",value:function get(id){return this._read(id);}},{key:"_write",value:function _write(id,value){this._values[id]=value;}}]);return ComputedEditorOptions;}();var EditorOptionsUtil=/*#__PURE__*/function(){function EditorOptionsUtil(){_classCallCheck(this,EditorOptionsUtil);}_createClass(EditorOptionsUtil,null,[{key:"validateOptions",value:function validateOptions(options){var result=new ValidatedEditorOptions();var _iterator=_createForOfIteratorHelper(editorOptions/* editorOptionsRegistry */.Bc),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var editorOption=_step.value;var value=editorOption.name==='_never_'?undefined:options[editorOption.name];result._write(editorOption.id,editorOption.validate(value));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;}},{key:"computeOptions",value:function computeOptions(options,env){var result=new ComputedEditorOptions();var _iterator2=_createForOfIteratorHelper(editorOptions/* editorOptionsRegistry */.Bc),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var editorOption=_step2.value;result._write(editorOption.id,editorOption.compute(env,result,options._read(editorOption.id)));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return result;}},{key:"_deepEquals",value:function _deepEquals(a,b){if(editorConfiguration_typeof(a)!=='object'||editorConfiguration_typeof(b)!=='object'||!a||!b){return a===b;}if(Array.isArray(a)||Array.isArray(b)){return Array.isArray(a)&&Array.isArray(b)?arrays/* equals */.fS(a,b):false;}if(Object.keys(a).length!==Object.keys(b).length){return false;}for(var key in a){if(!EditorOptionsUtil._deepEquals(a[key],b[key])){return false;}}return true;}},{key:"checkEquals",value:function checkEquals(a,b){var result=[];var somethingChanged=false;var _iterator3=_createForOfIteratorHelper(editorOptions/* editorOptionsRegistry */.Bc),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var editorOption=_step3.value;var changed=!EditorOptionsUtil._deepEquals(a._read(editorOption.id),b._read(editorOption.id));result[editorOption.id]=changed;if(changed){somethingChanged=true;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return somethingChanged?new editorOptions/* ConfigurationChangedEvent */.Bb(result):null;}/**
     * Returns true if something changed.
     * Modifies `options`.
    */},{key:"applyUpdate",value:function applyUpdate(options,update){var changed=false;var _iterator4=_createForOfIteratorHelper(editorOptions/* editorOptionsRegistry */.Bc),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var editorOption=_step4.value;if(update.hasOwnProperty(editorOption.name)){var result=editorOption.applyUpdate(options[editorOption.name],update[editorOption.name]);options[editorOption.name]=result.newValue;changed=changed||result.didChange;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return changed;}}]);return EditorOptionsUtil;}();function deepCloneAndMigrateOptions(_options){var options=objects/* deepClone */.I8(_options);migrateOptions(options);return options;}

/***/ }),

/***/ 35165:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": () => (/* binding */ ElementSizeObserver)
/* harmony export */ });
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19860);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36223);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ElementSizeObserver=/*#__PURE__*/function(_Disposable){_inherits(ElementSizeObserver,_Disposable);var _super=_createSuper(ElementSizeObserver);function ElementSizeObserver(referenceDomElement,dimension){var _this;_classCallCheck(this,ElementSizeObserver);_this=_super.call(this);_this._onDidChange=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__/* .Emitter */ .Q5());_this.onDidChange=_this._onDidChange.event;_this._referenceDomElement=referenceDomElement;_this._width=-1;_this._height=-1;_this._resizeObserver=null;_this.measureReferenceDomElement(false,dimension);return _this;}_createClass(ElementSizeObserver,[{key:"dispose",value:function dispose(){this.stopObserving();_get(_getPrototypeOf(ElementSizeObserver.prototype),"dispose",this).call(this);}},{key:"getWidth",value:function getWidth(){return this._width;}},{key:"getHeight",value:function getHeight(){return this._height;}},{key:"startObserving",value:function startObserving(){var _this2=this;if(!this._resizeObserver&&this._referenceDomElement){this._resizeObserver=new ResizeObserver(function(entries){if(entries&&entries[0]&&entries[0].contentRect){_this2.observe({width:entries[0].contentRect.width,height:entries[0].contentRect.height});}else{_this2.observe();}});this._resizeObserver.observe(this._referenceDomElement);}}},{key:"stopObserving",value:function stopObserving(){if(this._resizeObserver){this._resizeObserver.disconnect();this._resizeObserver=null;}}},{key:"observe",value:function observe(dimension){this.measureReferenceDomElement(true,dimension);}},{key:"measureReferenceDomElement",value:function measureReferenceDomElement(emitEvent,dimension){var observedWidth=0;var observedHeight=0;if(dimension){observedWidth=dimension.width;observedHeight=dimension.height;}else if(this._referenceDomElement){observedWidth=this._referenceDomElement.clientWidth;observedHeight=this._referenceDomElement.clientHeight;}observedWidth=Math.max(5,observedWidth);observedHeight=Math.max(5,observedHeight);if(this._width!==observedWidth||this._height!==observedHeight){this._width=observedWidth;this._height=observedHeight;if(emitEvent){this._onDidChange.fire();}}}}]);return ElementSizeObserver;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__/* .Disposable */ .JT);

/***/ }),

/***/ 85086:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "g": () => (/* binding */ FontMeasurements)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/browser.js
var browser = __webpack_require__(81447);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/domFontInfo.js
var domFontInfo = __webpack_require__(9217);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/charWidthReader.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var CharWidthRequest=/*#__PURE__*/function(){function CharWidthRequest(chr,type){_classCallCheck(this,CharWidthRequest);this.chr=chr;this.type=type;this.width=0;}_createClass(CharWidthRequest,[{key:"fulfill",value:function fulfill(width){this.width=width;}}]);return CharWidthRequest;}();var DomCharWidthReader=/*#__PURE__*/function(){function DomCharWidthReader(bareFontInfo,requests){_classCallCheck(this,DomCharWidthReader);this._bareFontInfo=bareFontInfo;this._requests=requests;this._container=null;this._testElements=null;}_createClass(DomCharWidthReader,[{key:"read",value:function read(){// Create a test container with all these test elements
this._createDomElements();// Add the container to the DOM
document.body.appendChild(this._container);// Read character widths
this._readFromDomElements();// Remove the container from the DOM
document.body.removeChild(this._container);this._container=null;this._testElements=null;}},{key:"_createDomElements",value:function _createDomElements(){var container=document.createElement('div');container.style.position='absolute';container.style.top='-50000px';container.style.width='50000px';var regularDomNode=document.createElement('div');(0,domFontInfo/* applyFontInfo */.N)(regularDomNode,this._bareFontInfo);container.appendChild(regularDomNode);var boldDomNode=document.createElement('div');(0,domFontInfo/* applyFontInfo */.N)(boldDomNode,this._bareFontInfo);boldDomNode.style.fontWeight='bold';container.appendChild(boldDomNode);var italicDomNode=document.createElement('div');(0,domFontInfo/* applyFontInfo */.N)(italicDomNode,this._bareFontInfo);italicDomNode.style.fontStyle='italic';container.appendChild(italicDomNode);var testElements=[];var _iterator=_createForOfIteratorHelper(this._requests),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var request=_step.value;var parent=void 0;if(request.type===0/* Regular */){parent=regularDomNode;}if(request.type===2/* Bold */){parent=boldDomNode;}if(request.type===1/* Italic */){parent=italicDomNode;}parent.appendChild(document.createElement('br'));var testElement=document.createElement('span');DomCharWidthReader._render(testElement,request);parent.appendChild(testElement);testElements.push(testElement);}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._container=container;this._testElements=testElements;}},{key:"_readFromDomElements",value:function _readFromDomElements(){for(var i=0,len=this._requests.length;i<len;i++){var request=this._requests[i];var testElement=this._testElements[i];request.fulfill(testElement.offsetWidth/256);}}}],[{key:"_render",value:function _render(testElement,request){if(request.chr===' '){var htmlString="\xA0";// Repeat character 256 (2^8) times
for(var i=0;i<8;i++){htmlString+=htmlString;}testElement.innerText=htmlString;}else{var testString=request.chr;// Repeat character 256 (2^8) times
for(var _i=0;_i<8;_i++){testString+=testString;}testElement.textContent=testString;}}}]);return DomCharWidthReader;}();function readCharWidths(bareFontInfo,requests){var reader=new DomCharWidthReader(bareFontInfo,requests);reader.read();}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js
var editorOptions = __webpack_require__(72530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/fontInfo.js
var fontInfo = __webpack_require__(47233);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/fontMeasurements.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function fontMeasurements_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=fontMeasurements_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function fontMeasurements_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return fontMeasurements_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fontMeasurements_arrayLikeToArray(o,minLen);}function fontMeasurements_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function fontMeasurements_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function fontMeasurements_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function fontMeasurements_createClass(Constructor,protoProps,staticProps){if(protoProps)fontMeasurements_defineProperties(Constructor.prototype,protoProps);if(staticProps)fontMeasurements_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var FontMeasurementsImpl=/*#__PURE__*/function(_Disposable){_inherits(FontMeasurementsImpl,_Disposable);var _super=_createSuper(FontMeasurementsImpl);function FontMeasurementsImpl(){var _this;fontMeasurements_classCallCheck(this,FontMeasurementsImpl);_this=_super.call(this);_this._onDidChange=_this._register(new common_event/* Emitter */.Q5());_this.onDidChange=_this._onDidChange.event;_this._cache=new FontMeasurementsCache();_this._evictUntrustedReadingsTimeout=-1;return _this;}fontMeasurements_createClass(FontMeasurementsImpl,[{key:"dispose",value:function dispose(){if(this._evictUntrustedReadingsTimeout!==-1){window.clearTimeout(this._evictUntrustedReadingsTimeout);this._evictUntrustedReadingsTimeout=-1;}_get(_getPrototypeOf(FontMeasurementsImpl.prototype),"dispose",this).call(this);}/**
     * Clear all cached font information and trigger a change event.
     */},{key:"clearAllFontInfos",value:function clearAllFontInfos(){this._cache=new FontMeasurementsCache();this._onDidChange.fire();}},{key:"_writeToCache",value:function _writeToCache(item,value){var _this2=this;this._cache.put(item,value);if(!value.isTrusted&&this._evictUntrustedReadingsTimeout===-1){// Try reading again after some time
this._evictUntrustedReadingsTimeout=window.setTimeout(function(){_this2._evictUntrustedReadingsTimeout=-1;_this2._evictUntrustedReadings();},5000);}}},{key:"_evictUntrustedReadings",value:function _evictUntrustedReadings(){var values=this._cache.getValues();var somethingRemoved=false;var _iterator=fontMeasurements_createForOfIteratorHelper(values),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(!item.isTrusted){somethingRemoved=true;this._cache.remove(item);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(somethingRemoved){this._onDidChange.fire();}}/**
     * Read font information.
     */},{key:"readFontInfo",value:function readFontInfo(bareFontInfo){if(!this._cache.has(bareFontInfo)){var readConfig=this._actualReadFontInfo(bareFontInfo);if(readConfig.typicalHalfwidthCharacterWidth<=2||readConfig.typicalFullwidthCharacterWidth<=2||readConfig.spaceWidth<=2||readConfig.maxDigitWidth<=2){// Hey, it's Bug 14341 ... we couldn't read
readConfig=new fontInfo/* FontInfo */.pR({pixelRatio:browser.PixelRatio.value,fontFamily:readConfig.fontFamily,fontWeight:readConfig.fontWeight,fontSize:readConfig.fontSize,fontFeatureSettings:readConfig.fontFeatureSettings,lineHeight:readConfig.lineHeight,letterSpacing:readConfig.letterSpacing,isMonospace:readConfig.isMonospace,typicalHalfwidthCharacterWidth:Math.max(readConfig.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(readConfig.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:readConfig.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(readConfig.spaceWidth,5),middotWidth:Math.max(readConfig.middotWidth,5),wsmiddotWidth:Math.max(readConfig.wsmiddotWidth,5),maxDigitWidth:Math.max(readConfig.maxDigitWidth,5)},false);}this._writeToCache(bareFontInfo,readConfig);}return this._cache.get(bareFontInfo);}},{key:"_createRequest",value:function _createRequest(chr,type,all,monospace){var result=new CharWidthRequest(chr,type);all.push(result);if(monospace){monospace.push(result);}return result;}},{key:"_actualReadFontInfo",value:function _actualReadFontInfo(bareFontInfo){var all=[];var monospace=[];var typicalHalfwidthCharacter=this._createRequest('n',0/* Regular */,all,monospace);var typicalFullwidthCharacter=this._createRequest("\uFF4D",0/* Regular */,all,null);var space=this._createRequest(' ',0/* Regular */,all,monospace);var digit0=this._createRequest('0',0/* Regular */,all,monospace);var digit1=this._createRequest('1',0/* Regular */,all,monospace);var digit2=this._createRequest('2',0/* Regular */,all,monospace);var digit3=this._createRequest('3',0/* Regular */,all,monospace);var digit4=this._createRequest('4',0/* Regular */,all,monospace);var digit5=this._createRequest('5',0/* Regular */,all,monospace);var digit6=this._createRequest('6',0/* Regular */,all,monospace);var digit7=this._createRequest('7',0/* Regular */,all,monospace);var digit8=this._createRequest('8',0/* Regular */,all,monospace);var digit9=this._createRequest('9',0/* Regular */,all,monospace);// monospace test: used for whitespace rendering
var rightwardsArrow=this._createRequest('→',0/* Regular */,all,monospace);var halfwidthRightwardsArrow=this._createRequest('￫',0/* Regular */,all,null);// U+00B7 - MIDDLE DOT
var middot=this._createRequest('·',0/* Regular */,all,monospace);// U+2E31 - WORD SEPARATOR MIDDLE DOT
var wsmiddotWidth=this._createRequest(String.fromCharCode(0x2E31),0/* Regular */,all,null);// monospace test: some characters
var monospaceTestChars='|/-_ilm%';for(var i=0,len=monospaceTestChars.length;i<len;i++){this._createRequest(monospaceTestChars.charAt(i),0/* Regular */,all,monospace);this._createRequest(monospaceTestChars.charAt(i),1/* Italic */,all,monospace);this._createRequest(monospaceTestChars.charAt(i),2/* Bold */,all,monospace);}readCharWidths(bareFontInfo,all);var maxDigitWidth=Math.max(digit0.width,digit1.width,digit2.width,digit3.width,digit4.width,digit5.width,digit6.width,digit7.width,digit8.width,digit9.width);var isMonospace=bareFontInfo.fontFeatureSettings===editorOptions/* EditorFontLigatures.OFF */.n0.OFF;var referenceWidth=monospace[0].width;for(var _i=1,_len=monospace.length;isMonospace&&_i<_len;_i++){var diff=referenceWidth-monospace[_i].width;if(diff<-0.001||diff>0.001){isMonospace=false;break;}}var canUseHalfwidthRightwardsArrow=true;if(isMonospace&&halfwidthRightwardsArrow.width!==referenceWidth){// using a halfwidth rightwards arrow would break monospace...
canUseHalfwidthRightwardsArrow=false;}if(halfwidthRightwardsArrow.width>rightwardsArrow.width){// using a halfwidth rightwards arrow would paint a larger arrow than a regular rightwards arrow
canUseHalfwidthRightwardsArrow=false;}return new fontInfo/* FontInfo */.pR({pixelRatio:browser.PixelRatio.value,fontFamily:bareFontInfo.fontFamily,fontWeight:bareFontInfo.fontWeight,fontSize:bareFontInfo.fontSize,fontFeatureSettings:bareFontInfo.fontFeatureSettings,lineHeight:bareFontInfo.lineHeight,letterSpacing:bareFontInfo.letterSpacing,isMonospace:isMonospace,typicalHalfwidthCharacterWidth:typicalHalfwidthCharacter.width,typicalFullwidthCharacterWidth:typicalFullwidthCharacter.width,canUseHalfwidthRightwardsArrow:canUseHalfwidthRightwardsArrow,spaceWidth:space.width,middotWidth:middot.width,wsmiddotWidth:wsmiddotWidth.width,maxDigitWidth:maxDigitWidth},true);}}]);return FontMeasurementsImpl;}(lifecycle/* Disposable */.JT);var FontMeasurementsCache=/*#__PURE__*/function(){function FontMeasurementsCache(){fontMeasurements_classCallCheck(this,FontMeasurementsCache);this._keys=Object.create(null);this._values=Object.create(null);}fontMeasurements_createClass(FontMeasurementsCache,[{key:"has",value:function has(item){var itemId=item.getId();return!!this._values[itemId];}},{key:"get",value:function get(item){var itemId=item.getId();return this._values[itemId];}},{key:"put",value:function put(item,value){var itemId=item.getId();this._keys[itemId]=item;this._values[itemId]=value;}},{key:"remove",value:function remove(item){var itemId=item.getId();delete this._keys[itemId];delete this._values[itemId];}},{key:"getValues",value:function getValues(){var _this3=this;return Object.keys(this._keys).map(function(id){return _this3._values[id];});}}]);return FontMeasurementsCache;}();var FontMeasurements=new FontMeasurementsImpl();

/***/ }),

/***/ 15116:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "n": () => (/* binding */ TabFocus)
/* harmony export */ });
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36223);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var TabFocusImpl=/*#__PURE__*/function(){function TabFocusImpl(){_classCallCheck(this,TabFocusImpl);this._tabFocus=false;this._onDidChangeTabFocus=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5();this.onDidChangeTabFocus=this._onDidChangeTabFocus.event;}_createClass(TabFocusImpl,[{key:"getTabFocusMode",value:function getTabFocusMode(){return this._tabFocus;}},{key:"setTabFocusMode",value:function setTabFocusMode(tabFocusMode){if(this._tabFocus===tabFocusMode){return;}this._tabFocus=tabFocusMode;this._onDidChangeTabFocus.fire(this._tabFocus);}}]);return TabFocusImpl;}();/**
 * Control what pressing Tab does.
 * If it is false, pressing Tab or Shift-Tab will be handled by the editor.
 * If it is true, pressing Tab or Shift-Tab will move the browser focus.
 * Defaults to false.
 */var TabFocus=new TabFocusImpl();

/***/ }),

/***/ 91973:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CoreEditingCommands": () => (/* binding */ CoreEditingCommands),
/* harmony export */   "CoreEditorCommand": () => (/* binding */ CoreEditorCommand),
/* harmony export */   "CoreNavigationCommands": () => (/* binding */ CoreNavigationCommands),
/* harmony export */   "EditorScroll_": () => (/* binding */ EditorScroll_),
/* harmony export */   "RevealLine_": () => (/* binding */ RevealLine_)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(71453);
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81447);
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(918);
/* harmony import */ var _base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44046);
/* harmony import */ var _editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79098);
/* harmony import */ var _services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(95328);
/* harmony import */ var _common_cursor_cursorColumnSelection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(70499);
/* harmony import */ var _common_cursor_cursorCommon_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(84002);
/* harmony import */ var _common_cursor_cursorDeleteOperations_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(72672);
/* harmony import */ var _common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(99375);
/* harmony import */ var _common_cursor_cursorTypeOperations_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(20683);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(96844);
/* harmony import */ var _common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(48919);
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(11703);
/* harmony import */ var _platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(85377);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var CORE_WEIGHT=0/* EditorCore */;var CoreEditorCommand=/*#__PURE__*/function(_EditorCommand){_inherits(CoreEditorCommand,_EditorCommand);var _super=_createSuper(CoreEditorCommand);function CoreEditorCommand(){_classCallCheck(this,CoreEditorCommand);return _super.apply(this,arguments);}_createClass(CoreEditorCommand,[{key:"runEditorCommand",value:function runEditorCommand(accessor,editor,args){var viewModel=editor._getViewModel();if(!viewModel){// the editor has no view => has no cursors
return;}this.runCoreEditorCommand(viewModel,args||{});}}]);return CoreEditorCommand;}(_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorCommand */ ._l);var EditorScroll_;(function(EditorScroll_){var isEditorScrollArgs=function isEditorScrollArgs(arg){if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isObject */ .Kn(arg)){return false;}var scrollArg=arg;if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isString */ .HD(scrollArg.to)){return false;}if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isUndefined */ .o8(scrollArg.by)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isString */ .HD(scrollArg.by)){return false;}if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isUndefined */ .o8(scrollArg.value)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isNumber */ .hj(scrollArg.value)){return false;}if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isUndefined */ .o8(scrollArg.revealCursor)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isBoolean */ .jn(scrollArg.revealCursor)){return false;}return true;};EditorScroll_.description={description:'Scroll editor in the given direction',args:[{name:'Editor scroll argument object',description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:isEditorScrollArgs,schema:{'type':'object','required':['to'],'properties':{'to':{'type':'string','enum':['up','down']},'by':{'type':'string','enum':['line','wrappedLine','page','halfPage']},'value':{'type':'number','default':1},'revealCursor':{'type':'boolean'}}}}]};/**
     * Directions in the view for editor scroll command.
     */EditorScroll_.RawDirection={Up:'up',Down:'down'};/**
     * Units for editor scroll 'by' argument
     */EditorScroll_.RawUnit={Line:'line',WrappedLine:'wrappedLine',Page:'page',HalfPage:'halfPage'};function parse(args){var direction;switch(args.to){case EditorScroll_.RawDirection.Up:direction=1/* Up */;break;case EditorScroll_.RawDirection.Down:direction=2/* Down */;break;default:// Illegal arguments
return null;}var unit;switch(args.by){case EditorScroll_.RawUnit.Line:unit=1/* Line */;break;case EditorScroll_.RawUnit.WrappedLine:unit=2/* WrappedLine */;break;case EditorScroll_.RawUnit.Page:unit=3/* Page */;break;case EditorScroll_.RawUnit.HalfPage:unit=4/* HalfPage */;break;default:unit=2/* WrappedLine */;}var value=Math.floor(args.value||1);var revealCursor=!!args.revealCursor;return{direction:direction,unit:unit,value:value,revealCursor:revealCursor,select:!!args.select};}EditorScroll_.parse=parse;})(EditorScroll_||(EditorScroll_={}));var RevealLine_;(function(RevealLine_){var isRevealLineArgs=function isRevealLineArgs(arg){if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isObject */ .Kn(arg)){return false;}var reveaLineArg=arg;if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isNumber */ .hj(reveaLineArg.lineNumber)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isString */ .HD(reveaLineArg.lineNumber)){return false;}if(!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isUndefined */ .o8(reveaLineArg.at)&&!_base_common_types_js__WEBPACK_IMPORTED_MODULE_12__/* .isString */ .HD(reveaLineArg.at)){return false;}return true;};RevealLine_.description={description:'Reveal the given line at the given logical position',args:[{name:'Reveal line argument object',description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:isRevealLineArgs,schema:{'type':'object','required':['lineNumber'],'properties':{'lineNumber':{'type':['number','string']},'at':{'type':'string','enum':['top','center','bottom']}}}}]};/**
     * Values for reveal line 'at' argument
     */RevealLine_.RawAtArgument={Top:'top',Center:'center',Bottom:'bottom'};})(RevealLine_||(RevealLine_={}));var EditorOrNativeTextInputCommand=/*#__PURE__*/function(){function EditorOrNativeTextInputCommand(target){var _this=this;_classCallCheck(this,EditorOrNativeTextInputCommand);// 1. handle case when focus is in editor.
target.addImplementation(10000,'code-editor',function(accessor,args){// Only if editor text focus (i.e. not if editor has widget focus).
var focusedEditor=accessor.get(_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__/* .ICodeEditorService */ .$).getFocusedCodeEditor();if(focusedEditor&&focusedEditor.hasTextFocus()){return _this._runEditorCommand(accessor,focusedEditor,args);}return false;});// 2. handle case when focus is in some other `input` / `textarea`.
target.addImplementation(1000,'generic-dom-input-textarea',function(accessor,args){// Only if focused on an element that allows for entering text
var activeElement=document.activeElement;if(activeElement&&['input','textarea'].indexOf(activeElement.tagName.toLowerCase())>=0){_this.runDOMCommand();return true;}return false;});// 3. (default) handle case when focus is somewhere else.
target.addImplementation(0,'generic-dom',function(accessor,args){// Redirecting to active editor
var activeEditor=accessor.get(_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__/* .ICodeEditorService */ .$).getActiveCodeEditor();if(activeEditor){activeEditor.focus();return _this._runEditorCommand(accessor,activeEditor,args);}return false;});}_createClass(EditorOrNativeTextInputCommand,[{key:"_runEditorCommand",value:function _runEditorCommand(accessor,editor,args){var result=this.runEditorCommand(accessor,editor,args);if(result){return result;}return true;}}]);return EditorOrNativeTextInputCommand;}();var CoreNavigationCommands;(function(CoreNavigationCommands){var BaseMoveToCommand=/*#__PURE__*/function(_CoreEditorCommand){_inherits(BaseMoveToCommand,_CoreEditorCommand);var _super2=_createSuper(BaseMoveToCommand);function BaseMoveToCommand(opts){var _this2;_classCallCheck(this,BaseMoveToCommand);_this2=_super2.call(this,opts);_this2._minimalReveal=opts.minimalReveal;_this2._inSelectionMode=opts.inSelectionMode;return _this2;}_createClass(BaseMoveToCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();var cursorStateChanged=viewModel.setCursorStates(args.source,3/* Explicit */,[_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveTo */ .P.moveTo(viewModel,viewModel.getPrimaryCursorState(),this._inSelectionMode,args.position,args.viewPosition)]);if(cursorStateChanged){viewModel.revealPrimaryCursor(args.source,true,this._minimalReveal);}}}]);return BaseMoveToCommand;}(CoreEditorCommand);CoreNavigationCommands.MoveTo=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new BaseMoveToCommand({id:'_moveTo',minimalReveal:true,inSelectionMode:false,precondition:undefined}));CoreNavigationCommands.MoveToSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new BaseMoveToCommand({id:'_moveToSelect',minimalReveal:false,inSelectionMode:true,precondition:undefined}));var ColumnSelectCommand=/*#__PURE__*/function(_CoreEditorCommand2){_inherits(ColumnSelectCommand,_CoreEditorCommand2);var _super3=_createSuper(ColumnSelectCommand);function ColumnSelectCommand(){_classCallCheck(this,ColumnSelectCommand);return _super3.apply(this,arguments);}_createClass(ColumnSelectCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();var result=this._getColumnSelectResult(viewModel,viewModel.getPrimaryCursorState(),viewModel.getCursorColumnSelectData(),args);viewModel.setCursorStates(args.source,3/* Explicit */,result.viewStates.map(function(viewState){return _common_cursor_cursorCommon_js__WEBPACK_IMPORTED_MODULE_5__/* .CursorState.fromViewState */ .Vi.fromViewState(viewState);}));viewModel.setCursorColumnSelectData({isReal:true,fromViewLineNumber:result.fromLineNumber,fromViewVisualColumn:result.fromVisualColumn,toViewLineNumber:result.toLineNumber,toViewVisualColumn:result.toVisualColumn});if(result.reversed){viewModel.revealTopMostCursor(args.source);}else{viewModel.revealBottomMostCursor(args.source);}}}]);return ColumnSelectCommand;}(CoreEditorCommand);CoreNavigationCommands.ColumnSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_ColumnSelectCommand){_inherits(_class,_ColumnSelectCommand);var _super4=_createSuper(_class);function _class(){_classCallCheck(this,_class);return _super4.call(this,{id:'columnSelect',precondition:undefined});}_createClass(_class,[{key:"_getColumnSelectResult",value:function _getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){// validate `args`
var validatedPosition=viewModel.model.validatePosition(args.position);var validatedViewPosition=viewModel.coordinatesConverter.validateViewPosition(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(args.viewPosition.lineNumber,args.viewPosition.column),validatedPosition);var fromViewLineNumber=args.doColumnSelect?prevColumnSelectData.fromViewLineNumber:validatedViewPosition.lineNumber;var fromViewVisualColumn=args.doColumnSelect?prevColumnSelectData.fromViewVisualColumn:args.mouseColumn-1;return _common_cursor_cursorColumnSelection_js__WEBPACK_IMPORTED_MODULE_4__/* .ColumnSelection.columnSelect */ .U.columnSelect(viewModel.cursorConfig,viewModel,fromViewLineNumber,fromViewVisualColumn,validatedViewPosition.lineNumber,args.mouseColumn-1);}}]);return _class;}(ColumnSelectCommand))());CoreNavigationCommands.CursorColumnSelectLeft=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_ColumnSelectCommand2){_inherits(_class2,_ColumnSelectCommand2);var _super5=_createSuper(_class2);function _class2(){_classCallCheck(this,_class2);return _super5.call(this,{id:'cursorColumnSelectLeft',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|512/* Alt */|15/* LeftArrow */,linux:{primary:0}}});}_createClass(_class2,[{key:"_getColumnSelectResult",value:function _getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return _common_cursor_cursorColumnSelection_js__WEBPACK_IMPORTED_MODULE_4__/* .ColumnSelection.columnSelectLeft */ .U.columnSelectLeft(viewModel.cursorConfig,viewModel,prevColumnSelectData);}}]);return _class2;}(ColumnSelectCommand))());CoreNavigationCommands.CursorColumnSelectRight=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_ColumnSelectCommand3){_inherits(_class3,_ColumnSelectCommand3);var _super6=_createSuper(_class3);function _class3(){_classCallCheck(this,_class3);return _super6.call(this,{id:'cursorColumnSelectRight',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|512/* Alt */|17/* RightArrow */,linux:{primary:0}}});}_createClass(_class3,[{key:"_getColumnSelectResult",value:function _getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return _common_cursor_cursorColumnSelection_js__WEBPACK_IMPORTED_MODULE_4__/* .ColumnSelection.columnSelectRight */ .U.columnSelectRight(viewModel.cursorConfig,viewModel,prevColumnSelectData);}}]);return _class3;}(ColumnSelectCommand))());var ColumnSelectUpCommand=/*#__PURE__*/function(_ColumnSelectCommand4){_inherits(ColumnSelectUpCommand,_ColumnSelectCommand4);var _super7=_createSuper(ColumnSelectUpCommand);function ColumnSelectUpCommand(opts){var _this3;_classCallCheck(this,ColumnSelectUpCommand);_this3=_super7.call(this,opts);_this3._isPaged=opts.isPaged;return _this3;}_createClass(ColumnSelectUpCommand,[{key:"_getColumnSelectResult",value:function _getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return _common_cursor_cursorColumnSelection_js__WEBPACK_IMPORTED_MODULE_4__/* .ColumnSelection.columnSelectUp */ .U.columnSelectUp(viewModel.cursorConfig,viewModel,prevColumnSelectData,this._isPaged);}}]);return ColumnSelectUpCommand;}(ColumnSelectCommand);CoreNavigationCommands.CursorColumnSelectUp=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new ColumnSelectUpCommand({isPaged:false,id:'cursorColumnSelectUp',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|512/* Alt */|16/* UpArrow */,linux:{primary:0}}}));CoreNavigationCommands.CursorColumnSelectPageUp=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new ColumnSelectUpCommand({isPaged:true,id:'cursorColumnSelectPageUp',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|512/* Alt */|11/* PageUp */,linux:{primary:0}}}));var ColumnSelectDownCommand=/*#__PURE__*/function(_ColumnSelectCommand5){_inherits(ColumnSelectDownCommand,_ColumnSelectCommand5);var _super8=_createSuper(ColumnSelectDownCommand);function ColumnSelectDownCommand(opts){var _this4;_classCallCheck(this,ColumnSelectDownCommand);_this4=_super8.call(this,opts);_this4._isPaged=opts.isPaged;return _this4;}_createClass(ColumnSelectDownCommand,[{key:"_getColumnSelectResult",value:function _getColumnSelectResult(viewModel,primary,prevColumnSelectData,args){return _common_cursor_cursorColumnSelection_js__WEBPACK_IMPORTED_MODULE_4__/* .ColumnSelection.columnSelectDown */ .U.columnSelectDown(viewModel.cursorConfig,viewModel,prevColumnSelectData,this._isPaged);}}]);return ColumnSelectDownCommand;}(ColumnSelectCommand);CoreNavigationCommands.CursorColumnSelectDown=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new ColumnSelectDownCommand({isPaged:false,id:'cursorColumnSelectDown',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|512/* Alt */|18/* DownArrow */,linux:{primary:0}}}));CoreNavigationCommands.CursorColumnSelectPageDown=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new ColumnSelectDownCommand({isPaged:true,id:'cursorColumnSelectPageDown',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|512/* Alt */|12/* PageDown */,linux:{primary:0}}}));var CursorMoveImpl=/*#__PURE__*/function(_CoreEditorCommand3){_inherits(CursorMoveImpl,_CoreEditorCommand3);var _super9=_createSuper(CursorMoveImpl);function CursorMoveImpl(){_classCallCheck(this,CursorMoveImpl);return _super9.call(this,{id:'cursorMove',precondition:undefined,description:_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMove.description */ .N.description});}_createClass(CursorMoveImpl,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var parsed=_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMove.parse */ .N.parse(args);if(!parsed){// illegal arguments
return;}this._runCursorMove(viewModel,args.source,parsed);}},{key:"_runCursorMove",value:function _runCursorMove(viewModel,source,args){viewModel.model.pushStackElement();viewModel.setCursorStates(source,3/* Explicit */,CursorMoveImpl._move(viewModel,viewModel.getCursorStates(),args));viewModel.revealPrimaryCursor(source,true);}}],[{key:"_move",value:function _move(viewModel,cursors,args){var inSelectionMode=args.select;var value=args.value;switch(args.direction){case 0/* Left */:case 1/* Right */:case 2/* Up */:case 3/* Down */:case 4/* PrevBlankLine */:case 5/* NextBlankLine */:case 6/* WrappedLineStart */:case 7/* WrappedLineFirstNonWhitespaceCharacter */:case 8/* WrappedLineColumnCenter */:case 9/* WrappedLineEnd */:case 10/* WrappedLineLastNonWhitespaceCharacter */:return _common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.simpleMove */ .P.simpleMove(viewModel,cursors,args.direction,inSelectionMode,value,args.unit);case 11/* ViewPortTop */:case 13/* ViewPortBottom */:case 12/* ViewPortCenter */:case 14/* ViewPortIfOutside */:return _common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.viewportMove */ .P.viewportMove(viewModel,cursors,args.direction,inSelectionMode,value);default:return null;}}}]);return CursorMoveImpl;}(CoreEditorCommand);CoreNavigationCommands.CursorMoveImpl=CursorMoveImpl;CoreNavigationCommands.CursorMove=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveImpl());var CursorMoveBasedCommand=/*#__PURE__*/function(_CoreEditorCommand4){_inherits(CursorMoveBasedCommand,_CoreEditorCommand4);var _super10=_createSuper(CursorMoveBasedCommand);function CursorMoveBasedCommand(opts){var _this5;_classCallCheck(this,CursorMoveBasedCommand);_this5=_super10.call(this,opts);_this5._staticArgs=opts.args;return _this5;}_createClass(CursorMoveBasedCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,dynamicArgs){var args=this._staticArgs;if(this._staticArgs.value===-1/* PAGE_SIZE_MARKER */){// -1 is a marker for page size
args={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:dynamicArgs.pageSize||viewModel.cursorConfig.pageSize};}viewModel.model.pushStackElement();viewModel.setCursorStates(dynamicArgs.source,3/* Explicit */,_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.simpleMove */ .P.simpleMove(viewModel,viewModel.getCursorStates(),args.direction,args.select,args.value,args.unit));viewModel.revealPrimaryCursor(dynamicArgs.source,true);}}]);return CursorMoveBasedCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorLeft=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:0/* Left */,unit:0/* None */,select:false,value:1},id:'cursorLeft',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:15/* LeftArrow */,mac:{primary:15/* LeftArrow */,secondary:[256/* WinCtrl */|32/* KeyB */]}}}));CoreNavigationCommands.CursorLeftSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:0/* Left */,unit:0/* None */,select:true,value:1},id:'cursorLeftSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|15/* LeftArrow */}}));CoreNavigationCommands.CursorRight=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:1/* Right */,unit:0/* None */,select:false,value:1},id:'cursorRight',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:17/* RightArrow */,mac:{primary:17/* RightArrow */,secondary:[256/* WinCtrl */|36/* KeyF */]}}}));CoreNavigationCommands.CursorRightSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:1/* Right */,unit:0/* None */,select:true,value:1},id:'cursorRightSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|17/* RightArrow */}}));CoreNavigationCommands.CursorUp=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:2/* Up */,unit:2/* WrappedLine */,select:false,value:1},id:'cursorUp',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:16/* UpArrow */,mac:{primary:16/* UpArrow */,secondary:[256/* WinCtrl */|46/* KeyP */]}}}));CoreNavigationCommands.CursorUpSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:2/* Up */,unit:2/* WrappedLine */,select:true,value:1},id:'cursorUpSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|16/* UpArrow */,secondary:[2048/* CtrlCmd */|1024/* Shift */|16/* UpArrow */],mac:{primary:1024/* Shift */|16/* UpArrow */},linux:{primary:1024/* Shift */|16/* UpArrow */}}}));CoreNavigationCommands.CursorPageUp=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:2/* Up */,unit:2/* WrappedLine */,select:false,value:-1/* PAGE_SIZE_MARKER */},id:'cursorPageUp',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:11/* PageUp */}}));CoreNavigationCommands.CursorPageUpSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:2/* Up */,unit:2/* WrappedLine */,select:true,value:-1/* PAGE_SIZE_MARKER */},id:'cursorPageUpSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|11/* PageUp */}}));CoreNavigationCommands.CursorDown=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:3/* Down */,unit:2/* WrappedLine */,select:false,value:1},id:'cursorDown',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:18/* DownArrow */,mac:{primary:18/* DownArrow */,secondary:[256/* WinCtrl */|44/* KeyN */]}}}));CoreNavigationCommands.CursorDownSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:3/* Down */,unit:2/* WrappedLine */,select:true,value:1},id:'cursorDownSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|18/* DownArrow */,secondary:[2048/* CtrlCmd */|1024/* Shift */|18/* DownArrow */],mac:{primary:1024/* Shift */|18/* DownArrow */},linux:{primary:1024/* Shift */|18/* DownArrow */}}}));CoreNavigationCommands.CursorPageDown=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:3/* Down */,unit:2/* WrappedLine */,select:false,value:-1/* PAGE_SIZE_MARKER */},id:'cursorPageDown',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:12/* PageDown */}}));CoreNavigationCommands.CursorPageDownSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new CursorMoveBasedCommand({args:{direction:3/* Down */,unit:2/* WrappedLine */,select:true,value:-1/* PAGE_SIZE_MARKER */},id:'cursorPageDownSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|12/* PageDown */}}));CoreNavigationCommands.CreateCursor=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand5){_inherits(_class4,_CoreEditorCommand5);var _super11=_createSuper(_class4);function _class4(){_classCallCheck(this,_class4);return _super11.call(this,{id:'createCursor',precondition:undefined});}_createClass(_class4,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var newState;if(args.wholeLine){newState=_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.line */ .P.line(viewModel,viewModel.getPrimaryCursorState(),false,args.position,args.viewPosition);}else{newState=_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveTo */ .P.moveTo(viewModel,viewModel.getPrimaryCursorState(),false,args.position,args.viewPosition);}var states=viewModel.getCursorStates();// Check if we should remove a cursor (sort of like a toggle)
if(states.length>1){var newModelPosition=newState.modelState?newState.modelState.position:null;var newViewPosition=newState.viewState?newState.viewState.position:null;for(var i=0,len=states.length;i<len;i++){var state=states[i];if(newModelPosition&&!state.modelState.selection.containsPosition(newModelPosition)){continue;}if(newViewPosition&&!state.viewState.selection.containsPosition(newViewPosition)){continue;}// => Remove the cursor
states.splice(i,1);viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,states);return;}}// => Add the new cursor
states.push(newState);viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,states);}}]);return _class4;}(CoreEditorCommand))());CoreNavigationCommands.LastCursorMoveToSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand6){_inherits(_class5,_CoreEditorCommand6);var _super12=_createSuper(_class5);function _class5(){_classCallCheck(this,_class5);return _super12.call(this,{id:'_lastCursorMoveToSelect',precondition:undefined});}_createClass(_class5,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var lastAddedCursorIndex=viewModel.getLastAddedCursorIndex();var states=viewModel.getCursorStates();var newStates=states.slice(0);newStates[lastAddedCursorIndex]=_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveTo */ .P.moveTo(viewModel,states[lastAddedCursorIndex],true,args.position,args.viewPosition);viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,newStates);}}]);return _class5;}(CoreEditorCommand))());var HomeCommand=/*#__PURE__*/function(_CoreEditorCommand7){_inherits(HomeCommand,_CoreEditorCommand7);var _super13=_createSuper(HomeCommand);function HomeCommand(opts){var _this6;_classCallCheck(this,HomeCommand);_this6=_super13.call(this,opts);_this6._inSelectionMode=opts.inSelectionMode;return _this6;}_createClass(HomeCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveToBeginningOfLine */ .P.moveToBeginningOfLine(viewModel,viewModel.getCursorStates(),this._inSelectionMode));viewModel.revealPrimaryCursor(args.source,true);}}]);return HomeCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorHome=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new HomeCommand({inSelectionMode:false,id:'cursorHome',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:14/* Home */,mac:{primary:14/* Home */,secondary:[2048/* CtrlCmd */|15/* LeftArrow */]}}}));CoreNavigationCommands.CursorHomeSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new HomeCommand({inSelectionMode:true,id:'cursorHomeSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|14/* Home */,mac:{primary:1024/* Shift */|14/* Home */,secondary:[2048/* CtrlCmd */|1024/* Shift */|15/* LeftArrow */]}}}));var LineStartCommand=/*#__PURE__*/function(_CoreEditorCommand8){_inherits(LineStartCommand,_CoreEditorCommand8);var _super14=_createSuper(LineStartCommand);function LineStartCommand(opts){var _this7;_classCallCheck(this,LineStartCommand);_this7=_super14.call(this,opts);_this7._inSelectionMode=opts.inSelectionMode;return _this7;}_createClass(LineStartCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,this._exec(viewModel.getCursorStates()));viewModel.revealPrimaryCursor(args.source,true);}},{key:"_exec",value:function _exec(cursors){var result=[];for(var i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];var lineNumber=cursor.modelState.position.lineNumber;result[i]=_common_cursor_cursorCommon_js__WEBPACK_IMPORTED_MODULE_5__/* .CursorState.fromModelState */ .Vi.fromModelState(cursor.modelState.move(this._inSelectionMode,lineNumber,1,0));}return result;}}]);return LineStartCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorLineStart=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LineStartCommand({inSelectionMode:false,id:'cursorLineStart',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:0,mac:{primary:256/* WinCtrl */|31/* KeyA */}}}));CoreNavigationCommands.CursorLineStartSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LineStartCommand({inSelectionMode:true,id:'cursorLineStartSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:0,mac:{primary:256/* WinCtrl */|1024/* Shift */|31/* KeyA */}}}));var EndCommand=/*#__PURE__*/function(_CoreEditorCommand9){_inherits(EndCommand,_CoreEditorCommand9);var _super15=_createSuper(EndCommand);function EndCommand(opts){var _this8;_classCallCheck(this,EndCommand);_this8=_super15.call(this,opts);_this8._inSelectionMode=opts.inSelectionMode;return _this8;}_createClass(EndCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveToEndOfLine */ .P.moveToEndOfLine(viewModel,viewModel.getCursorStates(),this._inSelectionMode,args.sticky||false));viewModel.revealPrimaryCursor(args.source,true);}}]);return EndCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorEnd=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new EndCommand({inSelectionMode:false,id:'cursorEnd',precondition:undefined,kbOpts:{args:{sticky:false},weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:13/* End */,mac:{primary:13/* End */,secondary:[2048/* CtrlCmd */|17/* RightArrow */]}},description:{description:"Go to End",args:[{name:'args',schema:{type:'object',properties:{'sticky':{description:_nls_js__WEBPACK_IMPORTED_MODULE_14__/* .localize */ .N('stickydesc',"Stick to the end even when going to longer lines"),type:'boolean',default:false}}}}]}}));CoreNavigationCommands.CursorEndSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new EndCommand({inSelectionMode:true,id:'cursorEndSelect',precondition:undefined,kbOpts:{args:{sticky:false},weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1024/* Shift */|13/* End */,mac:{primary:1024/* Shift */|13/* End */,secondary:[2048/* CtrlCmd */|1024/* Shift */|17/* RightArrow */]}},description:{description:"Select to End",args:[{name:'args',schema:{type:'object',properties:{'sticky':{description:_nls_js__WEBPACK_IMPORTED_MODULE_14__/* .localize */ .N('stickydesc',"Stick to the end even when going to longer lines"),type:'boolean',default:false}}}}]}}));var LineEndCommand=/*#__PURE__*/function(_CoreEditorCommand10){_inherits(LineEndCommand,_CoreEditorCommand10);var _super16=_createSuper(LineEndCommand);function LineEndCommand(opts){var _this9;_classCallCheck(this,LineEndCommand);_this9=_super16.call(this,opts);_this9._inSelectionMode=opts.inSelectionMode;return _this9;}_createClass(LineEndCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,this._exec(viewModel,viewModel.getCursorStates()));viewModel.revealPrimaryCursor(args.source,true);}},{key:"_exec",value:function _exec(viewModel,cursors){var result=[];for(var i=0,len=cursors.length;i<len;i++){var cursor=cursors[i];var lineNumber=cursor.modelState.position.lineNumber;var maxColumn=viewModel.model.getLineMaxColumn(lineNumber);result[i]=_common_cursor_cursorCommon_js__WEBPACK_IMPORTED_MODULE_5__/* .CursorState.fromModelState */ .Vi.fromModelState(cursor.modelState.move(this._inSelectionMode,lineNumber,maxColumn,0));}return result;}}]);return LineEndCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorLineEnd=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LineEndCommand({inSelectionMode:false,id:'cursorLineEnd',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:0,mac:{primary:256/* WinCtrl */|35/* KeyE */}}}));CoreNavigationCommands.CursorLineEndSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LineEndCommand({inSelectionMode:true,id:'cursorLineEndSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:0,mac:{primary:256/* WinCtrl */|1024/* Shift */|35/* KeyE */}}}));var TopCommand=/*#__PURE__*/function(_CoreEditorCommand11){_inherits(TopCommand,_CoreEditorCommand11);var _super17=_createSuper(TopCommand);function TopCommand(opts){var _this10;_classCallCheck(this,TopCommand);_this10=_super17.call(this,opts);_this10._inSelectionMode=opts.inSelectionMode;return _this10;}_createClass(TopCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveToBeginningOfBuffer */ .P.moveToBeginningOfBuffer(viewModel,viewModel.getCursorStates(),this._inSelectionMode));viewModel.revealPrimaryCursor(args.source,true);}}]);return TopCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorTop=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new TopCommand({inSelectionMode:false,id:'cursorTop',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|14/* Home */,mac:{primary:2048/* CtrlCmd */|16/* UpArrow */}}}));CoreNavigationCommands.CursorTopSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new TopCommand({inSelectionMode:true,id:'cursorTopSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|14/* Home */,mac:{primary:2048/* CtrlCmd */|1024/* Shift */|16/* UpArrow */}}}));var BottomCommand=/*#__PURE__*/function(_CoreEditorCommand12){_inherits(BottomCommand,_CoreEditorCommand12);var _super18=_createSuper(BottomCommand);function BottomCommand(opts){var _this11;_classCallCheck(this,BottomCommand);_this11=_super18.call(this,opts);_this11._inSelectionMode=opts.inSelectionMode;return _this11;}_createClass(BottomCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.moveToEndOfBuffer */ .P.moveToEndOfBuffer(viewModel,viewModel.getCursorStates(),this._inSelectionMode));viewModel.revealPrimaryCursor(args.source,true);}}]);return BottomCommand;}(CoreEditorCommand);CoreNavigationCommands.CursorBottom=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new BottomCommand({inSelectionMode:false,id:'cursorBottom',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|13/* End */,mac:{primary:2048/* CtrlCmd */|18/* DownArrow */}}}));CoreNavigationCommands.CursorBottomSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new BottomCommand({inSelectionMode:true,id:'cursorBottomSelect',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|13/* End */,mac:{primary:2048/* CtrlCmd */|1024/* Shift */|18/* DownArrow */}}}));var EditorScrollImpl=/*#__PURE__*/function(_CoreEditorCommand13){_inherits(EditorScrollImpl,_CoreEditorCommand13);var _super19=_createSuper(EditorScrollImpl);function EditorScrollImpl(){_classCallCheck(this,EditorScrollImpl);return _super19.call(this,{id:'editorScroll',precondition:undefined,description:EditorScroll_.description});}_createClass(EditorScrollImpl,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var parsed=EditorScroll_.parse(args);if(!parsed){// illegal arguments
return;}this._runEditorScroll(viewModel,args.source,parsed);}},{key:"_runEditorScroll",value:function _runEditorScroll(viewModel,source,args){var desiredScrollTop=this._computeDesiredScrollTop(viewModel,args);if(args.revealCursor){// must ensure cursor is in new visible range
var desiredVisibleViewRange=viewModel.getCompletelyVisibleViewRangeAtScrollTop(desiredScrollTop);viewModel.setCursorStates(source,3/* Explicit */,[_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.findPositionInViewportIfOutside */ .P.findPositionInViewportIfOutside(viewModel,viewModel.getPrimaryCursorState(),desiredVisibleViewRange,args.select)]);}viewModel.setScrollTop(desiredScrollTop,0/* Smooth */);}},{key:"_computeDesiredScrollTop",value:function _computeDesiredScrollTop(viewModel,args){if(args.unit===1/* Line */){// scrolling by model lines
var visibleViewRange=viewModel.getCompletelyVisibleViewRange();var visibleModelRange=viewModel.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange);var desiredTopModelLineNumber;if(args.direction===1/* Up */){// must go x model lines up
desiredTopModelLineNumber=Math.max(1,visibleModelRange.startLineNumber-args.value);}else{// must go x model lines down
desiredTopModelLineNumber=Math.min(viewModel.model.getLineCount(),visibleModelRange.startLineNumber+args.value);}var viewPosition=viewModel.coordinatesConverter.convertModelPositionToViewPosition(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(desiredTopModelLineNumber,1));return viewModel.getVerticalOffsetForLineNumber(viewPosition.lineNumber);}var noOfLines;if(args.unit===3/* Page */){noOfLines=viewModel.cursorConfig.pageSize*args.value;}else if(args.unit===4/* HalfPage */){noOfLines=Math.round(viewModel.cursorConfig.pageSize/2)*args.value;}else{noOfLines=args.value;}var deltaLines=(args.direction===1/* Up */?-1:1)*noOfLines;return viewModel.getScrollTop()+deltaLines*viewModel.cursorConfig.lineHeight;}}]);return EditorScrollImpl;}(CoreEditorCommand);CoreNavigationCommands.EditorScrollImpl=EditorScrollImpl;CoreNavigationCommands.EditorScroll=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new EditorScrollImpl());CoreNavigationCommands.ScrollLineUp=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand14){_inherits(_class6,_CoreEditorCommand14);var _super20=_createSuper(_class6);function _class6(){_classCallCheck(this,_class6);return _super20.call(this,{id:'scrollLineUp',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|16/* UpArrow */,mac:{primary:256/* WinCtrl */|11/* PageUp */}}});}_createClass(_class6,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:1/* Up */,unit:2/* WrappedLine */,value:1,revealCursor:false,select:false});}}]);return _class6;}(CoreEditorCommand))());CoreNavigationCommands.ScrollPageUp=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand15){_inherits(_class7,_CoreEditorCommand15);var _super21=_createSuper(_class7);function _class7(){_classCallCheck(this,_class7);return _super21.call(this,{id:'scrollPageUp',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|11/* PageUp */,win:{primary:512/* Alt */|11/* PageUp */},linux:{primary:512/* Alt */|11/* PageUp */}}});}_createClass(_class7,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:1/* Up */,unit:3/* Page */,value:1,revealCursor:false,select:false});}}]);return _class7;}(CoreEditorCommand))());CoreNavigationCommands.ScrollLineDown=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand16){_inherits(_class8,_CoreEditorCommand16);var _super22=_createSuper(_class8);function _class8(){_classCallCheck(this,_class8);return _super22.call(this,{id:'scrollLineDown',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|18/* DownArrow */,mac:{primary:256/* WinCtrl */|12/* PageDown */}}});}_createClass(_class8,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:2/* Down */,unit:2/* WrappedLine */,value:1,revealCursor:false,select:false});}}]);return _class8;}(CoreEditorCommand))());CoreNavigationCommands.ScrollPageDown=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand17){_inherits(_class9,_CoreEditorCommand17);var _super23=_createSuper(_class9);function _class9(){_classCallCheck(this,_class9);return _super23.call(this,{id:'scrollPageDown',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|12/* PageDown */,win:{primary:512/* Alt */|12/* PageDown */},linux:{primary:512/* Alt */|12/* PageDown */}}});}_createClass(_class9,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){CoreNavigationCommands.EditorScroll._runEditorScroll(viewModel,args.source,{direction:2/* Down */,unit:3/* Page */,value:1,revealCursor:false,select:false});}}]);return _class9;}(CoreEditorCommand))());var WordCommand=/*#__PURE__*/function(_CoreEditorCommand18){_inherits(WordCommand,_CoreEditorCommand18);var _super24=_createSuper(WordCommand);function WordCommand(opts){var _this12;_classCallCheck(this,WordCommand);_this12=_super24.call(this,opts);_this12._inSelectionMode=opts.inSelectionMode;return _this12;}_createClass(WordCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,[_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.word */ .P.word(viewModel,viewModel.getPrimaryCursorState(),this._inSelectionMode,args.position)]);viewModel.revealPrimaryCursor(args.source,true);}}]);return WordCommand;}(CoreEditorCommand);CoreNavigationCommands.WordSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new WordCommand({inSelectionMode:false,id:'_wordSelect',precondition:undefined}));CoreNavigationCommands.WordSelectDrag=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new WordCommand({inSelectionMode:true,id:'_wordSelectDrag',precondition:undefined}));CoreNavigationCommands.LastCursorWordSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand19){_inherits(_class10,_CoreEditorCommand19);var _super25=_createSuper(_class10);function _class10(){_classCallCheck(this,_class10);return _super25.call(this,{id:'lastCursorWordSelect',precondition:undefined});}_createClass(_class10,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var lastAddedCursorIndex=viewModel.getLastAddedCursorIndex();var states=viewModel.getCursorStates();var newStates=states.slice(0);var lastAddedState=states[lastAddedCursorIndex];newStates[lastAddedCursorIndex]=_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.word */ .P.word(viewModel,lastAddedState,lastAddedState.modelState.hasSelection(),args.position);viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,newStates);}}]);return _class10;}(CoreEditorCommand))());var LineCommand=/*#__PURE__*/function(_CoreEditorCommand20){_inherits(LineCommand,_CoreEditorCommand20);var _super26=_createSuper(LineCommand);function LineCommand(opts){var _this13;_classCallCheck(this,LineCommand);_this13=_super26.call(this,opts);_this13._inSelectionMode=opts.inSelectionMode;return _this13;}_createClass(LineCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,[_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.line */ .P.line(viewModel,viewModel.getPrimaryCursorState(),this._inSelectionMode,args.position,args.viewPosition)]);viewModel.revealPrimaryCursor(args.source,false);}}]);return LineCommand;}(CoreEditorCommand);CoreNavigationCommands.LineSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LineCommand({inSelectionMode:false,id:'_lineSelect',precondition:undefined}));CoreNavigationCommands.LineSelectDrag=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LineCommand({inSelectionMode:true,id:'_lineSelectDrag',precondition:undefined}));var LastCursorLineCommand=/*#__PURE__*/function(_CoreEditorCommand21){_inherits(LastCursorLineCommand,_CoreEditorCommand21);var _super27=_createSuper(LastCursorLineCommand);function LastCursorLineCommand(opts){var _this14;_classCallCheck(this,LastCursorLineCommand);_this14=_super27.call(this,opts);_this14._inSelectionMode=opts.inSelectionMode;return _this14;}_createClass(LastCursorLineCommand,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var lastAddedCursorIndex=viewModel.getLastAddedCursorIndex();var states=viewModel.getCursorStates();var newStates=states.slice(0);newStates[lastAddedCursorIndex]=_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.line */ .P.line(viewModel,states[lastAddedCursorIndex],this._inSelectionMode,args.position,args.viewPosition);viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,newStates);}}]);return LastCursorLineCommand;}(CoreEditorCommand);CoreNavigationCommands.LastCursorLineSelect=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LastCursorLineCommand({inSelectionMode:false,id:'lastCursorLineSelect',precondition:undefined}));CoreNavigationCommands.LastCursorLineSelectDrag=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new LastCursorLineCommand({inSelectionMode:true,id:'lastCursorLineSelectDrag',precondition:undefined}));CoreNavigationCommands.CancelSelection=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand22){_inherits(_class11,_CoreEditorCommand22);var _super28=_createSuper(_class11);function _class11(){_classCallCheck(this,_class11);return _super28.call(this,{id:'cancelSelection',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.hasNonEmptySelection */ .u.hasNonEmptySelection,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */]}});}_createClass(_class11,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,[_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.cancelSelection */ .P.cancelSelection(viewModel,viewModel.getPrimaryCursorState())]);viewModel.revealPrimaryCursor(args.source,true);}}]);return _class11;}(CoreEditorCommand))());CoreNavigationCommands.RemoveSecondaryCursors=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand23){_inherits(_class12,_CoreEditorCommand23);var _super29=_createSuper(_class12);function _class12(){_classCallCheck(this,_class12);return _super29.call(this,{id:'removeSecondaryCursors',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.hasMultipleSelections */ .u.hasMultipleSelections,kbOpts:{weight:CORE_WEIGHT+1,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */]}});}_createClass(_class12,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,[viewModel.getPrimaryCursorState()]);viewModel.revealPrimaryCursor(args.source,true);(0,_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__/* .status */ .i7)(_nls_js__WEBPACK_IMPORTED_MODULE_14__/* .localize */ .N('removedCursor',"Removed secondary cursors"));}}]);return _class12;}(CoreEditorCommand))());CoreNavigationCommands.RevealLine=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand24){_inherits(_class13,_CoreEditorCommand24);var _super30=_createSuper(_class13);function _class13(){_classCallCheck(this,_class13);return _super30.call(this,{id:'revealLine',precondition:undefined,description:RevealLine_.description});}_createClass(_class13,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){var revealLineArg=args;var lineNumberArg=revealLineArg.lineNumber||0;var lineNumber=typeof lineNumberArg==='number'?lineNumberArg+1:parseInt(lineNumberArg)+1;if(lineNumber<1){lineNumber=1;}var lineCount=viewModel.model.getLineCount();if(lineNumber>lineCount){lineNumber=lineCount;}var range=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_15__/* .Range */ .e(lineNumber,1,lineNumber,viewModel.model.getLineMaxColumn(lineNumber));var revealAt=0/* Simple */;if(revealLineArg.at){switch(revealLineArg.at){case RevealLine_.RawAtArgument.Top:revealAt=3/* Top */;break;case RevealLine_.RawAtArgument.Center:revealAt=1/* Center */;break;case RevealLine_.RawAtArgument.Bottom:revealAt=4/* Bottom */;break;default:break;}}var viewRange=viewModel.coordinatesConverter.convertModelRangeToViewRange(range);viewModel.revealRange(args.source,false,viewRange,revealAt,0/* Smooth */);}}]);return _class13;}(CoreEditorCommand))());CoreNavigationCommands.SelectAll=new(/*#__PURE__*/function(_EditorOrNativeTextIn){_inherits(_class14,_EditorOrNativeTextIn);var _super31=_createSuper(_class14);function _class14(){_classCallCheck(this,_class14);return _super31.call(this,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .SelectAllCommand */ .Sq);}_createClass(_class14,[{key:"runDOMCommand",value:function runDOMCommand(){if(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isFirefox){document.activeElement.focus();document.activeElement.select();}document.execCommand('selectAll');}},{key:"runEditorCommand",value:function runEditorCommand(accessor,editor,args){var viewModel=editor._getViewModel();if(!viewModel){// the editor has no view => has no cursors
return;}this.runCoreEditorCommand(viewModel,args);}},{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates('keyboard',3/* Explicit */,[_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_7__/* .CursorMoveCommands.selectAll */ .P.selectAll(viewModel,viewModel.getPrimaryCursorState())]);}}]);return _class14;}(EditorOrNativeTextInputCommand))();CoreNavigationCommands.SetSelection=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditorCommand25){_inherits(_class15,_CoreEditorCommand25);var _super32=_createSuper(_class15);function _class15(){_classCallCheck(this,_class15);return _super32.call(this,{id:'setSelection',precondition:undefined});}_createClass(_class15,[{key:"runCoreEditorCommand",value:function runCoreEditorCommand(viewModel,args){viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,[_common_cursor_cursorCommon_js__WEBPACK_IMPORTED_MODULE_5__/* .CursorState.fromModelSelection */ .Vi.fromModelSelection(args.selection)]);}}]);return _class15;}(CoreEditorCommand))());})(CoreNavigationCommands||(CoreNavigationCommands={}));var columnSelectionCondition=_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__/* .ContextKeyExpr.and */ .Ao.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.columnSelection */ .u.columnSelection);function registerColumnSelection(id,keybinding){_platform_keybinding_common_keybindingsRegistry_js__WEBPACK_IMPORTED_MODULE_11__/* .KeybindingsRegistry.registerKeybindingRule */ .W.registerKeybindingRule({id:id,primary:keybinding,when:columnSelectionCondition,weight:CORE_WEIGHT+1});}registerColumnSelection(CoreNavigationCommands.CursorColumnSelectLeft.id,1024/* Shift */|15/* LeftArrow */);registerColumnSelection(CoreNavigationCommands.CursorColumnSelectRight.id,1024/* Shift */|17/* RightArrow */);registerColumnSelection(CoreNavigationCommands.CursorColumnSelectUp.id,1024/* Shift */|16/* UpArrow */);registerColumnSelection(CoreNavigationCommands.CursorColumnSelectPageUp.id,1024/* Shift */|11/* PageUp */);registerColumnSelection(CoreNavigationCommands.CursorColumnSelectDown.id,1024/* Shift */|18/* DownArrow */);registerColumnSelection(CoreNavigationCommands.CursorColumnSelectPageDown.id,1024/* Shift */|12/* PageDown */);function registerCommand(command){command.register();return command;}var CoreEditingCommands;(function(CoreEditingCommands){var CoreEditingCommand=/*#__PURE__*/function(_EditorCommand2){_inherits(CoreEditingCommand,_EditorCommand2);var _super33=_createSuper(CoreEditingCommand);function CoreEditingCommand(){_classCallCheck(this,CoreEditingCommand);return _super33.apply(this,arguments);}_createClass(CoreEditingCommand,[{key:"runEditorCommand",value:function runEditorCommand(accessor,editor,args){var viewModel=editor._getViewModel();if(!viewModel){// the editor has no view => has no cursors
return;}this.runCoreEditingCommand(editor,viewModel,args||{});}}]);return CoreEditingCommand;}(_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorCommand */ ._l);CoreEditingCommands.CoreEditingCommand=CoreEditingCommand;CoreEditingCommands.LineBreakInsert=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditingCommand){_inherits(_class16,_CoreEditingCommand);var _super34=_createSuper(_class16);function _class16(){_classCallCheck(this,_class16);return _super34.call(this,{id:'lineBreakInsert',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.writable */ .u.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:0,mac:{primary:256/* WinCtrl */|45/* KeyO */}}});}_createClass(_class16,[{key:"runCoreEditingCommand",value:function runCoreEditingCommand(editor,viewModel,args){editor.pushUndoStop();editor.executeCommands(this.id,_common_cursor_cursorTypeOperations_js__WEBPACK_IMPORTED_MODULE_8__/* .TypeOperations.lineBreakInsert */ .u.lineBreakInsert(viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(function(s){return s.modelState.selection;})));}}]);return _class16;}(CoreEditingCommand))());CoreEditingCommands.Outdent=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditingCommand2){_inherits(_class17,_CoreEditingCommand2);var _super35=_createSuper(_class17);function _class17(){_classCallCheck(this,_class17);return _super35.call(this,{id:'outdent',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.writable */ .u.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__/* .ContextKeyExpr.and */ .Ao.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.editorTextFocus */ .u.editorTextFocus,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.tabDoesNotMoveFocus */ .u.tabDoesNotMoveFocus),primary:1024/* Shift */|2/* Tab */}});}_createClass(_class17,[{key:"runCoreEditingCommand",value:function runCoreEditingCommand(editor,viewModel,args){editor.pushUndoStop();editor.executeCommands(this.id,_common_cursor_cursorTypeOperations_js__WEBPACK_IMPORTED_MODULE_8__/* .TypeOperations.outdent */ .u.outdent(viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(function(s){return s.modelState.selection;})));editor.pushUndoStop();}}]);return _class17;}(CoreEditingCommand))());CoreEditingCommands.Tab=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditingCommand3){_inherits(_class18,_CoreEditingCommand3);var _super36=_createSuper(_class18);function _class18(){_classCallCheck(this,_class18);return _super36.call(this,{id:'tab',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.writable */ .u.writable,kbOpts:{weight:CORE_WEIGHT,kbExpr:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_10__/* .ContextKeyExpr.and */ .Ao.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.editorTextFocus */ .u.editorTextFocus,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.tabDoesNotMoveFocus */ .u.tabDoesNotMoveFocus),primary:2/* Tab */}});}_createClass(_class18,[{key:"runCoreEditingCommand",value:function runCoreEditingCommand(editor,viewModel,args){editor.pushUndoStop();editor.executeCommands(this.id,_common_cursor_cursorTypeOperations_js__WEBPACK_IMPORTED_MODULE_8__/* .TypeOperations.tab */ .u.tab(viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(function(s){return s.modelState.selection;})));editor.pushUndoStop();}}]);return _class18;}(CoreEditingCommand))());CoreEditingCommands.DeleteLeft=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditingCommand4){_inherits(_class19,_CoreEditingCommand4);var _super37=_createSuper(_class19);function _class19(){_classCallCheck(this,_class19);return _super37.call(this,{id:'deleteLeft',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:1/* Backspace */,secondary:[1024/* Shift */|1/* Backspace */],mac:{primary:1/* Backspace */,secondary:[1024/* Shift */|1/* Backspace */,256/* WinCtrl */|38/* KeyH */,256/* WinCtrl */|1/* Backspace */]}}});}_createClass(_class19,[{key:"runCoreEditingCommand",value:function runCoreEditingCommand(editor,viewModel,args){var _DeleteOperations$del=_common_cursor_cursorDeleteOperations_js__WEBPACK_IMPORTED_MODULE_6__/* .DeleteOperations.deleteLeft */ .A.deleteLeft(viewModel.getPrevEditOperationType(),viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(function(s){return s.modelState.selection;}),viewModel.getCursorAutoClosedCharacters()),_DeleteOperations$del2=_slicedToArray(_DeleteOperations$del,2),shouldPushStackElementBefore=_DeleteOperations$del2[0],commands=_DeleteOperations$del2[1];if(shouldPushStackElementBefore){editor.pushUndoStop();}editor.executeCommands(this.id,commands);viewModel.setPrevEditOperationType(2/* DeletingLeft */);}}]);return _class19;}(CoreEditingCommand))());CoreEditingCommands.DeleteRight=(0,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorCommand */ .fK)(new(/*#__PURE__*/function(_CoreEditingCommand5){_inherits(_class20,_CoreEditingCommand5);var _super38=_createSuper(_class20);function _class20(){_classCallCheck(this,_class20);return _super38.call(this,{id:'deleteRight',precondition:undefined,kbOpts:{weight:CORE_WEIGHT,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:20/* Delete */,mac:{primary:20/* Delete */,secondary:[256/* WinCtrl */|34/* KeyD */,256/* WinCtrl */|20/* Delete */]}}});}_createClass(_class20,[{key:"runCoreEditingCommand",value:function runCoreEditingCommand(editor,viewModel,args){var _DeleteOperations$del3=_common_cursor_cursorDeleteOperations_js__WEBPACK_IMPORTED_MODULE_6__/* .DeleteOperations.deleteRight */ .A.deleteRight(viewModel.getPrevEditOperationType(),viewModel.cursorConfig,viewModel.model,viewModel.getCursorStates().map(function(s){return s.modelState.selection;})),_DeleteOperations$del4=_slicedToArray(_DeleteOperations$del3,2),shouldPushStackElementBefore=_DeleteOperations$del4[0],commands=_DeleteOperations$del4[1];if(shouldPushStackElementBefore){editor.pushUndoStop();}editor.executeCommands(this.id,commands);viewModel.setPrevEditOperationType(3/* DeletingRight */);}}]);return _class20;}(CoreEditingCommand))());CoreEditingCommands.Undo=new(/*#__PURE__*/function(_EditorOrNativeTextIn2){_inherits(_class21,_EditorOrNativeTextIn2);var _super39=_createSuper(_class21);function _class21(){_classCallCheck(this,_class21);return _super39.call(this,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .UndoCommand */ .n_);}_createClass(_class21,[{key:"runDOMCommand",value:function runDOMCommand(){document.execCommand('undo');}},{key:"runEditorCommand",value:function runEditorCommand(accessor,editor,args){if(!editor.hasModel()||editor.getOption(81/* readOnly */)===true){return;}return editor.getModel().undo();}}]);return _class21;}(EditorOrNativeTextInputCommand))();CoreEditingCommands.Redo=new(/*#__PURE__*/function(_EditorOrNativeTextIn3){_inherits(_class22,_EditorOrNativeTextIn3);var _super40=_createSuper(_class22);function _class22(){_classCallCheck(this,_class22);return _super40.call(this,_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .RedoCommand */ .kz);}_createClass(_class22,[{key:"runDOMCommand",value:function runDOMCommand(){document.execCommand('redo');}},{key:"runEditorCommand",value:function runEditorCommand(accessor,editor,args){if(!editor.hasModel()||editor.getOption(81/* readOnly */)===true){return;}return editor.getModel().redo();}}]);return _class22;}(EditorOrNativeTextInputCommand))();})(CoreEditingCommands||(CoreEditingCommands={}));/**
 * A command that will invoke a command on the focused editor.
 */var EditorHandlerCommand=/*#__PURE__*/function(_Command){_inherits(EditorHandlerCommand,_Command);var _super41=_createSuper(EditorHandlerCommand);function EditorHandlerCommand(id,handlerId,description){var _this15;_classCallCheck(this,EditorHandlerCommand);_this15=_super41.call(this,{id:id,precondition:undefined,description:description});_this15._handlerId=handlerId;return _this15;}_createClass(EditorHandlerCommand,[{key:"runCommand",value:function runCommand(accessor,args){var editor=accessor.get(_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_3__/* .ICodeEditorService */ .$).getFocusedCodeEditor();if(!editor){return;}editor.trigger('keyboard',this._handlerId,args);}}]);return EditorHandlerCommand;}(_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .Command */ .mY);function registerOverwritableCommand(handlerId,description){registerCommand(new EditorHandlerCommand('default:'+handlerId,handlerId));registerCommand(new EditorHandlerCommand(handlerId,handlerId,description));}registerOverwritableCommand("type"/* Type */,{description:"Type",args:[{name:'args',schema:{'type':'object','required':['text'],'properties':{'text':{'type':'string'}}}}]});registerOverwritableCommand("replacePreviousChar"/* ReplacePreviousChar */);registerOverwritableCommand("compositionType"/* CompositionType */);registerOverwritableCommand("compositionStart"/* CompositionStart */);registerOverwritableCommand("compositionEnd"/* CompositionEnd */);registerOverwritableCommand("paste"/* Paste */);registerOverwritableCommand("cut"/* Cut */);

/***/ }),

/***/ 41033:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Iq": () => (/* binding */ HitTestContext),
/* harmony export */   "ZP": () => (/* binding */ MouseTarget),
/* harmony export */   "rp": () => (/* binding */ MouseTargetFactory),
/* harmony export */   "sB": () => (/* binding */ PointerHandlerLastRenderData)
/* harmony export */ });
/* unused harmony export shadowCaretRangeFromPoint */
/* harmony import */ var _editorDom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48786);
/* harmony import */ var _view_viewPart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(73190);
/* harmony import */ var _viewParts_lines_viewLine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23950);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(96844);
/* harmony import */ var _common_core_cursorColumns_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(44847);
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(20446);
/* harmony import */ var _common_cursor_cursorAtomicMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87000);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var UnknownHitTestResult=function UnknownHitTestResult(){var hitTarget=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;_classCallCheck(this,UnknownHitTestResult);this.hitTarget=hitTarget;this.type=0/* Unknown */;};var ContentHitTestResult=function ContentHitTestResult(position,spanNode,injectedText){_classCallCheck(this,ContentHitTestResult);this.position=position;this.spanNode=spanNode;this.injectedText=injectedText;this.type=1/* Content */;};var HitTestResult;(function(HitTestResult){function createFromDOMInfo(ctx,spanNode,offset){var position=ctx.getPositionFromDOMInfo(spanNode,offset);if(position){return new ContentHitTestResult(position,spanNode,null);}return new UnknownHitTestResult(spanNode);}HitTestResult.createFromDOMInfo=createFromDOMInfo;})(HitTestResult||(HitTestResult={}));var PointerHandlerLastRenderData=function PointerHandlerLastRenderData(lastViewCursorsRenderData,lastTextareaPosition){_classCallCheck(this,PointerHandlerLastRenderData);this.lastViewCursorsRenderData=lastViewCursorsRenderData;this.lastTextareaPosition=lastTextareaPosition;};var MouseTarget=/*#__PURE__*/function(){function MouseTarget(){_classCallCheck(this,MouseTarget);}_createClass(MouseTarget,null,[{key:"_deduceRage",value:function _deduceRage(position){var range=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!range&&position){return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__/* .Range */ .e(position.lineNumber,position.column,position.lineNumber,position.column);}return range!==null&&range!==void 0?range:null;}},{key:"createUnknown",value:function createUnknown(element,mouseColumn,position){return{type:0/* UNKNOWN */,element:element,mouseColumn:mouseColumn,position:position,range:this._deduceRage(position)};}},{key:"createTextarea",value:function createTextarea(element,mouseColumn){return{type:1/* TEXTAREA */,element:element,mouseColumn:mouseColumn,position:null,range:null};}},{key:"createMargin",value:function createMargin(type,element,mouseColumn,position,range,detail){return{type:type,element:element,mouseColumn:mouseColumn,position:position,range:range,detail:detail};}},{key:"createViewZone",value:function createViewZone(type,element,mouseColumn,position,detail){return{type:type,element:element,mouseColumn:mouseColumn,position:position,range:this._deduceRage(position),detail:detail};}},{key:"createContentText",value:function createContentText(element,mouseColumn,position,range,detail){return{type:6/* CONTENT_TEXT */,element:element,mouseColumn:mouseColumn,position:position,range:this._deduceRage(position,range),detail:detail};}},{key:"createContentEmpty",value:function createContentEmpty(element,mouseColumn,position,detail){return{type:7/* CONTENT_EMPTY */,element:element,mouseColumn:mouseColumn,position:position,range:this._deduceRage(position),detail:detail};}},{key:"createContentWidget",value:function createContentWidget(element,mouseColumn,detail){return{type:9/* CONTENT_WIDGET */,element:element,mouseColumn:mouseColumn,position:null,range:null,detail:detail};}},{key:"createScrollbar",value:function createScrollbar(element,mouseColumn,position){return{type:11/* SCROLLBAR */,element:element,mouseColumn:mouseColumn,position:position,range:this._deduceRage(position)};}},{key:"createOverlayWidget",value:function createOverlayWidget(element,mouseColumn,detail){return{type:12/* OVERLAY_WIDGET */,element:element,mouseColumn:mouseColumn,position:null,range:null,detail:detail};}},{key:"createOutsideEditor",value:function createOutsideEditor(mouseColumn,position){return{type:13/* OUTSIDE_EDITOR */,element:null,mouseColumn:mouseColumn,position:position,range:this._deduceRage(position)};}},{key:"_typeToString",value:function _typeToString(type){if(type===1/* TEXTAREA */){return'TEXTAREA';}if(type===2/* GUTTER_GLYPH_MARGIN */){return'GUTTER_GLYPH_MARGIN';}if(type===3/* GUTTER_LINE_NUMBERS */){return'GUTTER_LINE_NUMBERS';}if(type===4/* GUTTER_LINE_DECORATIONS */){return'GUTTER_LINE_DECORATIONS';}if(type===5/* GUTTER_VIEW_ZONE */){return'GUTTER_VIEW_ZONE';}if(type===6/* CONTENT_TEXT */){return'CONTENT_TEXT';}if(type===7/* CONTENT_EMPTY */){return'CONTENT_EMPTY';}if(type===8/* CONTENT_VIEW_ZONE */){return'CONTENT_VIEW_ZONE';}if(type===9/* CONTENT_WIDGET */){return'CONTENT_WIDGET';}if(type===10/* OVERVIEW_RULER */){return'OVERVIEW_RULER';}if(type===11/* SCROLLBAR */){return'SCROLLBAR';}if(type===12/* OVERLAY_WIDGET */){return'OVERLAY_WIDGET';}return'UNKNOWN';}},{key:"toString",value:function toString(target){return this._typeToString(target.type)+': '+target.position+' - '+target.range+' - '+JSON.stringify(target.detail);}}]);return MouseTarget;}();var ElementPath=/*#__PURE__*/function(){function ElementPath(){_classCallCheck(this,ElementPath);}_createClass(ElementPath,null,[{key:"isTextArea",value:function isTextArea(path){return path.length===2&&path[0]===3/* OverflowGuard */&&path[1]===6/* TextArea */;}},{key:"isChildOfViewLines",value:function isChildOfViewLines(path){return path.length>=4&&path[0]===3/* OverflowGuard */&&path[3]===7/* ViewLines */;}},{key:"isStrictChildOfViewLines",value:function isStrictChildOfViewLines(path){return path.length>4&&path[0]===3/* OverflowGuard */&&path[3]===7/* ViewLines */;}},{key:"isChildOfScrollableElement",value:function isChildOfScrollableElement(path){return path.length>=2&&path[0]===3/* OverflowGuard */&&path[1]===5/* ScrollableElement */;}},{key:"isChildOfMinimap",value:function isChildOfMinimap(path){return path.length>=2&&path[0]===3/* OverflowGuard */&&path[1]===8/* Minimap */;}},{key:"isChildOfContentWidgets",value:function isChildOfContentWidgets(path){return path.length>=4&&path[0]===3/* OverflowGuard */&&path[3]===1/* ContentWidgets */;}},{key:"isChildOfOverflowingContentWidgets",value:function isChildOfOverflowingContentWidgets(path){return path.length>=1&&path[0]===2/* OverflowingContentWidgets */;}},{key:"isChildOfOverlayWidgets",value:function isChildOfOverlayWidgets(path){return path.length>=2&&path[0]===3/* OverflowGuard */&&path[1]===4/* OverlayWidgets */;}}]);return ElementPath;}();var HitTestContext=/*#__PURE__*/function(){function HitTestContext(context,viewHelper,lastRenderData){_classCallCheck(this,HitTestContext);this.model=context.model;var options=context.configuration.options;this.layoutInfo=options.get(131/* layoutInfo */);this.viewDomNode=viewHelper.viewDomNode;this.lineHeight=options.get(59/* lineHeight */);this.stickyTabStops=options.get(104/* stickyTabStops */);this.typicalHalfwidthCharacterWidth=options.get(44/* fontInfo */).typicalHalfwidthCharacterWidth;this.lastRenderData=lastRenderData;this._context=context;this._viewHelper=viewHelper;}_createClass(HitTestContext,[{key:"getZoneAtCoord",value:function getZoneAtCoord(mouseVerticalOffset){return HitTestContext.getZoneAtCoord(this._context,mouseVerticalOffset);}},{key:"getFullLineRangeAtCoord",value:function getFullLineRangeAtCoord(mouseVerticalOffset){if(this._context.viewLayout.isAfterLines(mouseVerticalOffset)){// Below the last line
var _lineNumber=this._context.model.getLineCount();var _maxLineColumn=this._context.model.getLineMaxColumn(_lineNumber);return{range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__/* .Range */ .e(_lineNumber,_maxLineColumn,_lineNumber,_maxLineColumn),isAfterLines:true};}var lineNumber=this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);var maxLineColumn=this._context.model.getLineMaxColumn(lineNumber);return{range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__/* .Range */ .e(lineNumber,1,lineNumber,maxLineColumn),isAfterLines:false};}},{key:"getLineNumberAtVerticalOffset",value:function getLineNumberAtVerticalOffset(mouseVerticalOffset){return this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);}},{key:"isAfterLines",value:function isAfterLines(mouseVerticalOffset){return this._context.viewLayout.isAfterLines(mouseVerticalOffset);}},{key:"isInTopPadding",value:function isInTopPadding(mouseVerticalOffset){return this._context.viewLayout.isInTopPadding(mouseVerticalOffset);}},{key:"isInBottomPadding",value:function isInBottomPadding(mouseVerticalOffset){return this._context.viewLayout.isInBottomPadding(mouseVerticalOffset);}},{key:"getVerticalOffsetForLineNumber",value:function getVerticalOffsetForLineNumber(lineNumber){return this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber);}},{key:"findAttribute",value:function findAttribute(element,attr){return HitTestContext._findAttribute(element,attr,this._viewHelper.viewDomNode);}},{key:"getLineWidth",value:function getLineWidth(lineNumber){return this._viewHelper.getLineWidth(lineNumber);}},{key:"visibleRangeForPosition",value:function visibleRangeForPosition(lineNumber,column){return this._viewHelper.visibleRangeForPosition(lineNumber,column);}},{key:"getPositionFromDOMInfo",value:function getPositionFromDOMInfo(spanNode,offset){return this._viewHelper.getPositionFromDOMInfo(spanNode,offset);}},{key:"getCurrentScrollTop",value:function getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop();}},{key:"getCurrentScrollLeft",value:function getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft();}}],[{key:"getZoneAtCoord",value:function getZoneAtCoord(context,mouseVerticalOffset){// The target is either a view zone or the empty space after the last view-line
var viewZoneWhitespace=context.viewLayout.getWhitespaceAtVerticalOffset(mouseVerticalOffset);if(viewZoneWhitespace){var viewZoneMiddle=viewZoneWhitespace.verticalOffset+viewZoneWhitespace.height/2;var lineCount=context.model.getLineCount();var positionBefore=null;var position;var positionAfter=null;if(viewZoneWhitespace.afterLineNumber!==lineCount){// There are more lines after this view zone
positionAfter=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(viewZoneWhitespace.afterLineNumber+1,1);}if(viewZoneWhitespace.afterLineNumber>0){// There are more lines above this view zone
positionBefore=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(viewZoneWhitespace.afterLineNumber,context.model.getLineMaxColumn(viewZoneWhitespace.afterLineNumber));}if(positionAfter===null){position=positionBefore;}else if(positionBefore===null){position=positionAfter;}else if(mouseVerticalOffset<viewZoneMiddle){position=positionBefore;}else{position=positionAfter;}return{viewZoneId:viewZoneWhitespace.id,afterLineNumber:viewZoneWhitespace.afterLineNumber,positionBefore:positionBefore,positionAfter:positionAfter,position:position};}return null;}},{key:"_findAttribute",value:function _findAttribute(element,attr,stopAt){while(element&&element!==document.body){if(element.hasAttribute&&element.hasAttribute(attr)){return element.getAttribute(attr);}if(element===stopAt){return null;}element=element.parentNode;}return null;}}]);return HitTestContext;}();var BareHitTestRequest=function BareHitTestRequest(ctx,editorPos,pos,relativePos){_classCallCheck(this,BareHitTestRequest);this.editorPos=editorPos;this.pos=pos;this.relativePos=relativePos;this.mouseVerticalOffset=Math.max(0,ctx.getCurrentScrollTop()+this.relativePos.y);this.mouseContentHorizontalOffset=ctx.getCurrentScrollLeft()+this.relativePos.x-ctx.layoutInfo.contentLeft;this.isInMarginArea=this.relativePos.x<ctx.layoutInfo.contentLeft&&this.relativePos.x>=ctx.layoutInfo.glyphMarginLeft;this.isInContentArea=!this.isInMarginArea;this.mouseColumn=Math.max(0,MouseTargetFactory._getMouseColumn(this.mouseContentHorizontalOffset,ctx.typicalHalfwidthCharacterWidth));};var HitTestRequest=/*#__PURE__*/function(_BareHitTestRequest){_inherits(HitTestRequest,_BareHitTestRequest);var _super=_createSuper(HitTestRequest);function HitTestRequest(ctx,editorPos,pos,relativePos,target){var _this;_classCallCheck(this,HitTestRequest);_this=_super.call(this,ctx,editorPos,pos,relativePos);_this._ctx=ctx;if(target){_this.target=target;_this.targetPath=_view_viewPart_js__WEBPACK_IMPORTED_MODULE_1__/* .PartFingerprints.collect */ .K.collect(target,ctx.viewDomNode);}else{_this.target=null;_this.targetPath=new Uint8Array(0);}return _this;}_createClass(HitTestRequest,[{key:"toString",value:function toString(){return"pos(".concat(this.pos.x,",").concat(this.pos.y,"), editorPos(").concat(this.editorPos.x,",").concat(this.editorPos.y,"), relativePos(").concat(this.relativePos.x,",").concat(this.relativePos.y,"), mouseVerticalOffset: ").concat(this.mouseVerticalOffset,", mouseContentHorizontalOffset: ").concat(this.mouseContentHorizontalOffset,"\n\ttarget: ").concat(this.target?this.target.outerHTML:null);}},{key:"_getMouseColumn",value:function _getMouseColumn(){var position=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(position&&position.column<this._ctx.model.getLineMaxColumn(position.lineNumber)){// Most likely, the line contains foreign decorations...
return _common_core_cursorColumns_js__WEBPACK_IMPORTED_MODULE_3__/* .CursorColumns.visibleColumnFromColumn */ .i.visibleColumnFromColumn(this._ctx.model.getLineContent(position.lineNumber),position.column,this._ctx.model.getTextModelOptions().tabSize)+1;}return this.mouseColumn;}},{key:"fulfillUnknown",value:function fulfillUnknown(){var position=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return MouseTarget.createUnknown(this.target,this._getMouseColumn(position),position);}},{key:"fulfillTextarea",value:function fulfillTextarea(){return MouseTarget.createTextarea(this.target,this._getMouseColumn());}},{key:"fulfillMargin",value:function fulfillMargin(type,position,range,detail){return MouseTarget.createMargin(type,this.target,this._getMouseColumn(position),position,range,detail);}},{key:"fulfillViewZone",value:function fulfillViewZone(type,position,detail){return MouseTarget.createViewZone(type,this.target,this._getMouseColumn(position),position,detail);}},{key:"fulfillContentText",value:function fulfillContentText(position,range,detail){return MouseTarget.createContentText(this.target,this._getMouseColumn(position),position,range,detail);}},{key:"fulfillContentEmpty",value:function fulfillContentEmpty(position,detail){return MouseTarget.createContentEmpty(this.target,this._getMouseColumn(position),position,detail);}},{key:"fulfillContentWidget",value:function fulfillContentWidget(detail){return MouseTarget.createContentWidget(this.target,this._getMouseColumn(),detail);}},{key:"fulfillScrollbar",value:function fulfillScrollbar(position){return MouseTarget.createScrollbar(this.target,this._getMouseColumn(position),position);}},{key:"fulfillOverlayWidget",value:function fulfillOverlayWidget(detail){return MouseTarget.createOverlayWidget(this.target,this._getMouseColumn(),detail);}},{key:"withTarget",value:function withTarget(target){return new HitTestRequest(this._ctx,this.editorPos,this.pos,this.relativePos,target);}}]);return HitTestRequest;}(BareHitTestRequest);var EMPTY_CONTENT_AFTER_LINES={isAfterLines:true};function createEmptyContentDataInLines(horizontalDistanceToText){return{isAfterLines:false,horizontalDistanceToText:horizontalDistanceToText};}var MouseTargetFactory=/*#__PURE__*/function(){function MouseTargetFactory(context,viewHelper){_classCallCheck(this,MouseTargetFactory);this._context=context;this._viewHelper=viewHelper;}_createClass(MouseTargetFactory,[{key:"mouseTargetIsWidget",value:function mouseTargetIsWidget(e){var t=e.target;var path=_view_viewPart_js__WEBPACK_IMPORTED_MODULE_1__/* .PartFingerprints.collect */ .K.collect(t,this._viewHelper.viewDomNode);// Is it a content widget?
if(ElementPath.isChildOfContentWidgets(path)||ElementPath.isChildOfOverflowingContentWidgets(path)){return true;}// Is it an overlay widget?
if(ElementPath.isChildOfOverlayWidgets(path)){return true;}return false;}},{key:"createMouseTarget",value:function createMouseTarget(lastRenderData,editorPos,pos,relativePos,target){var ctx=new HitTestContext(this._context,this._viewHelper,lastRenderData);var request=new HitTestRequest(ctx,editorPos,pos,relativePos,target);try{var r=MouseTargetFactory._createMouseTarget(ctx,request,false);// console.log(MouseTarget.toString(r));
return r;}catch(err){// console.log(err);
return request.fulfillUnknown();}}},{key:"getMouseColumn",value:function getMouseColumn(relativePos){var options=this._context.configuration.options;var layoutInfo=options.get(131/* layoutInfo */);var mouseContentHorizontalOffset=this._context.viewLayout.getCurrentScrollLeft()+relativePos.x-layoutInfo.contentLeft;return MouseTargetFactory._getMouseColumn(mouseContentHorizontalOffset,options.get(44/* fontInfo */).typicalHalfwidthCharacterWidth);}}],[{key:"_createMouseTarget",value:function _createMouseTarget(ctx,request,domHitTestExecuted){// console.log(`${domHitTestExecuted ? '=>' : ''}CAME IN REQUEST: ${request}`);
// First ensure the request has a target
if(request.target===null){if(domHitTestExecuted){// Still no target... and we have already executed hit test...
return request.fulfillUnknown();}var hitTestResult=MouseTargetFactory._doHitTest(ctx,request);if(hitTestResult.type===1/* Content */){return MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx,request,hitTestResult.spanNode,hitTestResult.position,hitTestResult.injectedText);}return this._createMouseTarget(ctx,request.withTarget(hitTestResult.hitTarget),true);}// we know for a fact that request.target is not null
var resolvedRequest=request;var result=null;result=result||MouseTargetFactory._hitTestContentWidget(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestOverlayWidget(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestMinimap(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestScrollbarSlider(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestViewZone(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestMargin(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestViewCursor(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestTextArea(ctx,resolvedRequest);result=result||MouseTargetFactory._hitTestViewLines(ctx,resolvedRequest,domHitTestExecuted);result=result||MouseTargetFactory._hitTestScrollbar(ctx,resolvedRequest);return result||request.fulfillUnknown();}},{key:"_hitTestContentWidget",value:function _hitTestContentWidget(ctx,request){// Is it a content widget?
if(ElementPath.isChildOfContentWidgets(request.targetPath)||ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)){var widgetId=ctx.findAttribute(request.target,'widgetId');if(widgetId){return request.fulfillContentWidget(widgetId);}else{return request.fulfillUnknown();}}return null;}},{key:"_hitTestOverlayWidget",value:function _hitTestOverlayWidget(ctx,request){// Is it an overlay widget?
if(ElementPath.isChildOfOverlayWidgets(request.targetPath)){var widgetId=ctx.findAttribute(request.target,'widgetId');if(widgetId){return request.fulfillOverlayWidget(widgetId);}else{return request.fulfillUnknown();}}return null;}},{key:"_hitTestViewCursor",value:function _hitTestViewCursor(ctx,request){if(request.target){// Check if we've hit a painted cursor
var lastViewCursorsRenderData=ctx.lastRenderData.lastViewCursorsRenderData;var _iterator=_createForOfIteratorHelper(lastViewCursorsRenderData),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;if(request.target===d.domNode){return request.fulfillContentText(d.position,null,{mightBeForeignElement:false,injectedText:null});}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}if(request.isInContentArea){// Edge has a bug when hit-testing the exact position of a cursor,
// instead of returning the correct dom node, it returns the
// first or last rendered view line dom node, therefore help it out
// and first check if we are on top of a cursor
var _lastViewCursorsRenderData=ctx.lastRenderData.lastViewCursorsRenderData;var mouseContentHorizontalOffset=request.mouseContentHorizontalOffset;var mouseVerticalOffset=request.mouseVerticalOffset;var _iterator2=_createForOfIteratorHelper(_lastViewCursorsRenderData),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _d=_step2.value;if(mouseContentHorizontalOffset<_d.contentLeft){// mouse position is to the left of the cursor
continue;}if(mouseContentHorizontalOffset>_d.contentLeft+_d.width){// mouse position is to the right of the cursor
continue;}var cursorVerticalOffset=ctx.getVerticalOffsetForLineNumber(_d.position.lineNumber);if(cursorVerticalOffset<=mouseVerticalOffset&&mouseVerticalOffset<=cursorVerticalOffset+_d.height){return request.fulfillContentText(_d.position,null,{mightBeForeignElement:false,injectedText:null});}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return null;}},{key:"_hitTestViewZone",value:function _hitTestViewZone(ctx,request){var viewZoneData=ctx.getZoneAtCoord(request.mouseVerticalOffset);if(viewZoneData){var mouseTargetType=request.isInContentArea?8/* CONTENT_VIEW_ZONE */:5/* GUTTER_VIEW_ZONE */;return request.fulfillViewZone(mouseTargetType,viewZoneData.position,viewZoneData);}return null;}},{key:"_hitTestTextArea",value:function _hitTestTextArea(ctx,request){// Is it the textarea?
if(ElementPath.isTextArea(request.targetPath)){if(ctx.lastRenderData.lastTextareaPosition){return request.fulfillContentText(ctx.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:false,injectedText:null});}return request.fulfillTextarea();}return null;}},{key:"_hitTestMargin",value:function _hitTestMargin(ctx,request){if(request.isInMarginArea){var res=ctx.getFullLineRangeAtCoord(request.mouseVerticalOffset);var pos=res.range.getStartPosition();var offset=Math.abs(request.relativePos.x);var detail={isAfterLines:res.isAfterLines,glyphMarginLeft:ctx.layoutInfo.glyphMarginLeft,glyphMarginWidth:ctx.layoutInfo.glyphMarginWidth,lineNumbersWidth:ctx.layoutInfo.lineNumbersWidth,offsetX:offset};offset-=ctx.layoutInfo.glyphMarginLeft;if(offset<=ctx.layoutInfo.glyphMarginWidth){// On the glyph margin
return request.fulfillMargin(2/* GUTTER_GLYPH_MARGIN */,pos,res.range,detail);}offset-=ctx.layoutInfo.glyphMarginWidth;if(offset<=ctx.layoutInfo.lineNumbersWidth){// On the line numbers
return request.fulfillMargin(3/* GUTTER_LINE_NUMBERS */,pos,res.range,detail);}offset-=ctx.layoutInfo.lineNumbersWidth;// On the line decorations
return request.fulfillMargin(4/* GUTTER_LINE_DECORATIONS */,pos,res.range,detail);}return null;}},{key:"_hitTestViewLines",value:function _hitTestViewLines(ctx,request,domHitTestExecuted){if(!ElementPath.isChildOfViewLines(request.targetPath)){return null;}if(ctx.isInTopPadding(request.mouseVerticalOffset)){return request.fulfillContentEmpty(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(1,1),EMPTY_CONTENT_AFTER_LINES);}// Check if it is below any lines and any view zones
if(ctx.isAfterLines(request.mouseVerticalOffset)||ctx.isInBottomPadding(request.mouseVerticalOffset)){// This most likely indicates it happened after the last view-line
var lineCount=ctx.model.getLineCount();var maxLineColumn=ctx.model.getLineMaxColumn(lineCount);return request.fulfillContentEmpty(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(lineCount,maxLineColumn),EMPTY_CONTENT_AFTER_LINES);}if(domHitTestExecuted){// Check if we are hitting a view-line (can happen in the case of inline decorations on empty lines)
// See https://github.com/microsoft/vscode/issues/46942
if(ElementPath.isStrictChildOfViewLines(request.targetPath)){var lineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);if(ctx.model.getLineLength(lineNumber)===0){var _lineWidth=ctx.getLineWidth(lineNumber);var detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-_lineWidth);return request.fulfillContentEmpty(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(lineNumber,1),detail);}var lineWidth=ctx.getLineWidth(lineNumber);if(request.mouseContentHorizontalOffset>=lineWidth){var _detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);var pos=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(lineNumber,ctx.model.getLineMaxColumn(lineNumber));return request.fulfillContentEmpty(pos,_detail);}}// We have already executed hit test...
return request.fulfillUnknown();}var hitTestResult=MouseTargetFactory._doHitTest(ctx,request);if(hitTestResult.type===1/* Content */){return MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx,request,hitTestResult.spanNode,hitTestResult.position,hitTestResult.injectedText);}return this._createMouseTarget(ctx,request.withTarget(hitTestResult.hitTarget),true);}},{key:"_hitTestMinimap",value:function _hitTestMinimap(ctx,request){if(ElementPath.isChildOfMinimap(request.targetPath)){var possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);var maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfillScrollbar(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(possibleLineNumber,maxColumn));}return null;}},{key:"_hitTestScrollbarSlider",value:function _hitTestScrollbarSlider(ctx,request){if(ElementPath.isChildOfScrollableElement(request.targetPath)){if(request.target&&request.target.nodeType===1){var className=request.target.className;if(className&&/\b(slider|scrollbar)\b/.test(className)){var possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);var maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfillScrollbar(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(possibleLineNumber,maxColumn));}}}return null;}},{key:"_hitTestScrollbar",value:function _hitTestScrollbar(ctx,request){// Is it the overview ruler?
// Is it a child of the scrollable element?
if(ElementPath.isChildOfScrollableElement(request.targetPath)){var possibleLineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);var maxColumn=ctx.model.getLineMaxColumn(possibleLineNumber);return request.fulfillScrollbar(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(possibleLineNumber,maxColumn));}return null;}},{key:"_getMouseColumn",value:function _getMouseColumn(mouseContentHorizontalOffset,typicalHalfwidthCharacterWidth){if(mouseContentHorizontalOffset<0){return 1;}var chars=Math.round(mouseContentHorizontalOffset/typicalHalfwidthCharacterWidth);return chars+1;}},{key:"createMouseTargetFromHitTestPosition",value:function createMouseTargetFromHitTestPosition(ctx,request,spanNode,pos,injectedText){var lineNumber=pos.lineNumber;var column=pos.column;var lineWidth=ctx.getLineWidth(lineNumber);if(request.mouseContentHorizontalOffset>lineWidth){var detail=createEmptyContentDataInLines(request.mouseContentHorizontalOffset-lineWidth);return request.fulfillContentEmpty(pos,detail);}var visibleRange=ctx.visibleRangeForPosition(lineNumber,column);if(!visibleRange){return request.fulfillUnknown(pos);}var columnHorizontalOffset=visibleRange.left;if(request.mouseContentHorizontalOffset===columnHorizontalOffset){return request.fulfillContentText(pos,null,{mightBeForeignElement:!!injectedText,injectedText:injectedText});}var points=[];points.push({offset:visibleRange.left,column:column});if(column>1){var _visibleRange=ctx.visibleRangeForPosition(lineNumber,column-1);if(_visibleRange){points.push({offset:_visibleRange.left,column:column-1});}}var lineMaxColumn=ctx.model.getLineMaxColumn(lineNumber);if(column<lineMaxColumn){var _visibleRange2=ctx.visibleRangeForPosition(lineNumber,column+1);if(_visibleRange2){points.push({offset:_visibleRange2.left,column:column+1});}}points.sort(function(a,b){return a.offset-b.offset;});var mouseCoordinates=request.pos.toClientCoordinates();var spanNodeClientRect=spanNode.getBoundingClientRect();var mouseIsOverSpanNode=spanNodeClientRect.left<=mouseCoordinates.clientX&&mouseCoordinates.clientX<=spanNodeClientRect.right;for(var i=1;i<points.length;i++){var prev=points[i-1];var curr=points[i];if(prev.offset<=request.mouseContentHorizontalOffset&&request.mouseContentHorizontalOffset<=curr.offset){var rng=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_6__/* .Range */ .e(lineNumber,prev.column,lineNumber,curr.column);return request.fulfillContentText(pos,rng,{mightBeForeignElement:!mouseIsOverSpanNode||!!injectedText,injectedText:injectedText});}}return request.fulfillContentText(pos,null,{mightBeForeignElement:!mouseIsOverSpanNode||!!injectedText,injectedText:injectedText});}/**
     * Most probably WebKit browsers and Edge
     */},{key:"_doHitTestWithCaretRangeFromPoint",value:function _doHitTestWithCaretRangeFromPoint(ctx,request){// In Chrome, especially on Linux it is possible to click between lines,
// so try to adjust the `hity` below so that it lands in the center of a line
var lineNumber=ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);var lineVerticalOffset=ctx.getVerticalOffsetForLineNumber(lineNumber);var lineCenteredVerticalOffset=lineVerticalOffset+Math.floor(ctx.lineHeight/2);var adjustedPageY=request.pos.y+(lineCenteredVerticalOffset-request.mouseVerticalOffset);if(adjustedPageY<=request.editorPos.y){adjustedPageY=request.editorPos.y+1;}if(adjustedPageY>=request.editorPos.y+request.editorPos.height){adjustedPageY=request.editorPos.y+request.editorPos.height-1;}var adjustedPage=new _editorDom_js__WEBPACK_IMPORTED_MODULE_0__/* .PageCoordinates */ .YN(request.pos.x,adjustedPageY);var r=this._actualDoHitTestWithCaretRangeFromPoint(ctx,adjustedPage.toClientCoordinates());if(r.type===1/* Content */){return r;}// Also try to hit test without the adjustment (for the edge cases that we are near the top or bottom)
return this._actualDoHitTestWithCaretRangeFromPoint(ctx,request.pos.toClientCoordinates());}},{key:"_actualDoHitTestWithCaretRangeFromPoint",value:function _actualDoHitTestWithCaretRangeFromPoint(ctx,coords){var shadowRoot=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_4__.getShadowRoot(ctx.viewDomNode);var range;if(shadowRoot){if(typeof shadowRoot.caretRangeFromPoint==='undefined'){range=shadowCaretRangeFromPoint(shadowRoot,coords.clientX,coords.clientY);}else{range=shadowRoot.caretRangeFromPoint(coords.clientX,coords.clientY);}}else{range=document.caretRangeFromPoint(coords.clientX,coords.clientY);}if(!range||!range.startContainer){return new UnknownHitTestResult();}// Chrome always hits a TEXT_NODE, while Edge sometimes hits a token span
var startContainer=range.startContainer;if(startContainer.nodeType===startContainer.TEXT_NODE){// startContainer is expected to be the token text
var parent1=startContainer.parentNode;// expected to be the token span
var parent2=parent1?parent1.parentNode:null;// expected to be the view line container span
var parent3=parent2?parent2.parentNode:null;// expected to be the view line div
var parent3ClassName=parent3&&parent3.nodeType===parent3.ELEMENT_NODE?parent3.className:null;if(parent3ClassName===_viewParts_lines_viewLine_js__WEBPACK_IMPORTED_MODULE_2__/* .ViewLine.CLASS_NAME */ .Nt.CLASS_NAME){return HitTestResult.createFromDOMInfo(ctx,parent1,range.startOffset);}else{return new UnknownHitTestResult(startContainer.parentNode);}}else if(startContainer.nodeType===startContainer.ELEMENT_NODE){// startContainer is expected to be the token span
var _parent=startContainer.parentNode;// expected to be the view line container span
var _parent2=_parent?_parent.parentNode:null;// expected to be the view line div
var parent2ClassName=_parent2&&_parent2.nodeType===_parent2.ELEMENT_NODE?_parent2.className:null;if(parent2ClassName===_viewParts_lines_viewLine_js__WEBPACK_IMPORTED_MODULE_2__/* .ViewLine.CLASS_NAME */ .Nt.CLASS_NAME){return HitTestResult.createFromDOMInfo(ctx,startContainer,startContainer.textContent.length);}else{return new UnknownHitTestResult(startContainer);}}return new UnknownHitTestResult();}/**
     * Most probably Gecko
     */},{key:"_doHitTestWithCaretPositionFromPoint",value:function _doHitTestWithCaretPositionFromPoint(ctx,coords){var hitResult=document.caretPositionFromPoint(coords.clientX,coords.clientY);if(hitResult.offsetNode.nodeType===hitResult.offsetNode.TEXT_NODE){// offsetNode is expected to be the token text
var parent1=hitResult.offsetNode.parentNode;// expected to be the token span
var parent2=parent1?parent1.parentNode:null;// expected to be the view line container span
var parent3=parent2?parent2.parentNode:null;// expected to be the view line div
var parent3ClassName=parent3&&parent3.nodeType===parent3.ELEMENT_NODE?parent3.className:null;if(parent3ClassName===_viewParts_lines_viewLine_js__WEBPACK_IMPORTED_MODULE_2__/* .ViewLine.CLASS_NAME */ .Nt.CLASS_NAME){return HitTestResult.createFromDOMInfo(ctx,hitResult.offsetNode.parentNode,hitResult.offset);}else{return new UnknownHitTestResult(hitResult.offsetNode.parentNode);}}// For inline decorations, Gecko sometimes returns the `<span>` of the line and the offset is the `<span>` with the inline decoration
// Some other times, it returns the `<span>` with the inline decoration
if(hitResult.offsetNode.nodeType===hitResult.offsetNode.ELEMENT_NODE){var _parent3=hitResult.offsetNode.parentNode;var parent1ClassName=_parent3&&_parent3.nodeType===_parent3.ELEMENT_NODE?_parent3.className:null;var _parent4=_parent3?_parent3.parentNode:null;var parent2ClassName=_parent4&&_parent4.nodeType===_parent4.ELEMENT_NODE?_parent4.className:null;if(parent1ClassName===_viewParts_lines_viewLine_js__WEBPACK_IMPORTED_MODULE_2__/* .ViewLine.CLASS_NAME */ .Nt.CLASS_NAME){// it returned the `<span>` of the line and the offset is the `<span>` with the inline decoration
var tokenSpan=hitResult.offsetNode.childNodes[Math.min(hitResult.offset,hitResult.offsetNode.childNodes.length-1)];if(tokenSpan){return HitTestResult.createFromDOMInfo(ctx,tokenSpan,0);}}else if(parent2ClassName===_viewParts_lines_viewLine_js__WEBPACK_IMPORTED_MODULE_2__/* .ViewLine.CLASS_NAME */ .Nt.CLASS_NAME){// it returned the `<span>` with the inline decoration
return HitTestResult.createFromDOMInfo(ctx,hitResult.offsetNode,0);}}return new UnknownHitTestResult(hitResult.offsetNode);}},{key:"_snapToSoftTabBoundary",value:function _snapToSoftTabBoundary(position,viewModel){var lineContent=viewModel.getLineContent(position.lineNumber);var _viewModel$getTextMod=viewModel.getTextModelOptions(),tabSize=_viewModel$getTextMod.tabSize;var newPosition=_common_cursor_cursorAtomicMoveOperations_js__WEBPACK_IMPORTED_MODULE_5__/* .AtomicTabMoveOperations.atomicPosition */ .l.atomicPosition(lineContent,position.column-1,tabSize,2/* Nearest */);if(newPosition!==-1){return new _common_core_position_js__WEBPACK_IMPORTED_MODULE_7__/* .Position */ .L(position.lineNumber,newPosition+1);}return position;}},{key:"_doHitTest",value:function _doHitTest(ctx,request){var result=new UnknownHitTestResult();if(typeof document.caretRangeFromPoint==='function'){result=this._doHitTestWithCaretRangeFromPoint(ctx,request);}else if(document.caretPositionFromPoint){result=this._doHitTestWithCaretPositionFromPoint(ctx,request.pos.toClientCoordinates());}if(result.type===1/* Content */){var injectedText=ctx.model.getInjectedTextAt(result.position);var normalizedPosition=ctx.model.normalizePosition(result.position,2/* None */);if(injectedText||!normalizedPosition.equals(result.position)){result=new ContentHitTestResult(normalizedPosition,result.spanNode,injectedText);}}// Snap to the nearest soft tab boundary if atomic soft tabs are enabled.
if(result.type===1/* Content */&&ctx.stickyTabStops){result=new ContentHitTestResult(this._snapToSoftTabBoundary(result.position,ctx.model),result.spanNode,result.injectedText);}return result;}}]);return MouseTargetFactory;}();function shadowCaretRangeFromPoint(shadowRoot,x,y){var range=document.createRange();// Get the element under the point
var el=shadowRoot.elementFromPoint(x,y);if(el!==null){// Get the last child of the element until its firstChild is a text node
// This assumes that the pointer is on the right of the line, out of the tokens
// and that we want to get the offset of the last token of the line
while(el&&el.firstChild&&el.firstChild.nodeType!==el.firstChild.TEXT_NODE&&el.lastChild&&el.lastChild.firstChild){el=el.lastChild;}// Grab its rect
var rect=el.getBoundingClientRect();// And its font
var font=window.getComputedStyle(el,null).getPropertyValue('font');// And also its txt content
var text=el.innerText;// Position the pixel cursor at the left of the element
var pixelCursor=rect.left;var offset=0;var step;// If the point is on the right of the box put the cursor after the last character
if(x>rect.left+rect.width){offset=text.length;}else{var charWidthReader=CharWidthReader.getInstance();// Goes through all the characters of the innerText, and checks if the x of the point
// belongs to the character.
for(var i=0;i<text.length+1;i++){// The step is half the width of the character
step=charWidthReader.getCharWidth(text.charAt(i),font)/2;// Move to the center of the character
pixelCursor+=step;// If the x of the point is smaller that the position of the cursor, the point is over that character
if(x<pixelCursor){offset=i;break;}// Move between the current character and the next
pixelCursor+=step;}}// Creates a range with the text node of the element and set the offset found
range.setStart(el.firstChild,offset);range.setEnd(el.firstChild,offset);}return range;}var CharWidthReader=/*#__PURE__*/function(){function CharWidthReader(){_classCallCheck(this,CharWidthReader);this._cache={};this._canvas=document.createElement('canvas');}_createClass(CharWidthReader,[{key:"getCharWidth",value:function getCharWidth(char,font){var cacheKey=char+font;if(this._cache[cacheKey]){return this._cache[cacheKey];}var context=this._canvas.getContext('2d');context.font=font;var metrics=context.measureText(char);var width=metrics.width;this._cache[cacheKey]=width;return width;}}],[{key:"getInstance",value:function getInstance(){if(!CharWidthReader._INSTANCE){CharWidthReader._INSTANCE=new CharWidthReader();}return CharWidthReader._INSTANCE;}}]);return CharWidthReader;}();CharWidthReader._INSTANCE=null;

/***/ }),

/***/ 84149:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "a": () => (/* binding */ PointerHandler)
});

// UNUSED EXPORTS: PointerEventHandler

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/touch.js
var touch = __webpack_require__(72843);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js
var mouseEvent = __webpack_require__(36590);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseTarget.js
var mouseTarget = __webpack_require__(41033);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorDom.js
var editorDom = __webpack_require__(48786);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorZoom.js
var editorZoom = __webpack_require__(19477);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js
var selection = __webpack_require__(33199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewEventHandler.js
var viewEventHandler = __webpack_require__(61952);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Merges mouse events when mouse move events are throttled
 */function createMouseMoveEventMerger(mouseTargetFactory){return function(lastEvent,currentEvent){var targetIsWidget=false;if(mouseTargetFactory){targetIsWidget=mouseTargetFactory.mouseTargetIsWidget(currentEvent);}if(!targetIsWidget){currentEvent.preventDefault();}return currentEvent;};}var MouseHandler=/*#__PURE__*/function(_ViewEventHandler){_inherits(MouseHandler,_ViewEventHandler);var _super=_createSuper(MouseHandler);function MouseHandler(context,viewController,viewHelper){var _this;_classCallCheck(this,MouseHandler);_this=_super.call(this);_this._context=context;_this.viewController=viewController;_this.viewHelper=viewHelper;_this.mouseTargetFactory=new mouseTarget/* MouseTargetFactory */.rp(_this._context,viewHelper);_this._mouseDownOperation=_this._register(new MouseDownOperation(_this._context,_this.viewController,_this.viewHelper,function(e,testEventTarget){return _this._createMouseTarget(e,testEventTarget);},function(e){return _this._getMouseColumn(e);}));_this.lastMouseLeaveTime=-1;_this._height=_this._context.configuration.options.get(131/* layoutInfo */).height;var mouseEvents=new editorDom/* EditorMouseEventFactory */.N5(_this.viewHelper.viewDomNode);_this._register(mouseEvents.onContextMenu(_this.viewHelper.viewDomNode,function(e){return _this._onContextMenu(e,true);}));_this._register(mouseEvents.onMouseMoveThrottled(_this.viewHelper.viewDomNode,function(e){return _this._onMouseMove(e);},createMouseMoveEventMerger(_this.mouseTargetFactory),MouseHandler.MOUSE_MOVE_MINIMUM_TIME));_this._register(mouseEvents.onMouseUp(_this.viewHelper.viewDomNode,function(e){return _this._onMouseUp(e);}));_this._register(mouseEvents.onMouseLeave(_this.viewHelper.viewDomNode,function(e){return _this._onMouseLeave(e);}));_this._register(mouseEvents.onMouseDown(_this.viewHelper.viewDomNode,function(e){return _this._onMouseDown(e);}));var onMouseWheel=function onMouseWheel(browserEvent){_this.viewController.emitMouseWheel(browserEvent);if(!_this._context.configuration.options.get(68/* mouseWheelZoom */)){return;}var e=new mouseEvent/* StandardWheelEvent */.q(browserEvent);var doMouseWheelZoom=platform/* isMacintosh */.dz// on macOS we support cmd + two fingers scroll (`metaKey` set)
// and also the two fingers pinch gesture (`ctrKey` set)
?(browserEvent.metaKey||browserEvent.ctrlKey)&&!browserEvent.shiftKey&&!browserEvent.altKey:browserEvent.ctrlKey&&!browserEvent.metaKey&&!browserEvent.shiftKey&&!browserEvent.altKey;if(doMouseWheelZoom){var zoomLevel=editorZoom/* EditorZoom.getZoomLevel */.C.getZoomLevel();var delta=e.deltaY>0?1:-1;editorZoom/* EditorZoom.setZoomLevel */.C.setZoomLevel(zoomLevel+delta);e.preventDefault();e.stopPropagation();}};_this._register(dom.addDisposableListener(_this.viewHelper.viewDomNode,dom.EventType.MOUSE_WHEEL,onMouseWheel,{capture:true,passive:false}));_this._context.addEventHandler(_assertThisInitialized(_this));return _this;}_createClass(MouseHandler,[{key:"dispose",value:function dispose(){this._context.removeEventHandler(this);_get(_getPrototypeOf(MouseHandler.prototype),"dispose",this).call(this);}// --- begin event handlers
},{key:"onConfigurationChanged",value:function onConfigurationChanged(e){if(e.hasChanged(131/* layoutInfo */)){// layout change
var height=this._context.configuration.options.get(131/* layoutInfo */).height;if(this._height!==height){this._height=height;this._mouseDownOperation.onHeightChanged();}}return false;}},{key:"onCursorStateChanged",value:function onCursorStateChanged(e){this._mouseDownOperation.onCursorStateChanged(e);return false;}},{key:"onFocusChanged",value:function onFocusChanged(e){return false;}},{key:"onScrollChanged",value:function onScrollChanged(e){this._mouseDownOperation.onScrollChanged();return false;}// --- end event handlers
},{key:"getTargetAtClientPoint",value:function getTargetAtClientPoint(clientX,clientY){var clientPos=new editorDom/* ClientCoordinates */.rU(clientX,clientY);var pos=clientPos.toPageCoordinates();var editorPos=(0,editorDom/* createEditorPagePosition */.kG)(this.viewHelper.viewDomNode);if(pos.y<editorPos.y||pos.y>editorPos.y+editorPos.height||pos.x<editorPos.x||pos.x>editorPos.x+editorPos.width){return null;}var relativePos=(0,editorDom/* createCoordinatesRelativeToEditor */.Pp)(this.viewHelper.viewDomNode,editorPos,pos);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),editorPos,pos,relativePos,null);}},{key:"_createMouseTarget",value:function _createMouseTarget(e,testEventTarget){var _this2=this;var target=e.target;if(!this.viewHelper.viewDomNode.contains(target)){var shadowRoot=dom.getShadowRoot(this.viewHelper.viewDomNode);if(shadowRoot){target=shadowRoot.elementsFromPoint(e.posx,e.posy).find(function(el){return _this2.viewHelper.viewDomNode.contains(el);});}}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,testEventTarget?target:null);}},{key:"_getMouseColumn",value:function _getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos);}},{key:"_onContextMenu",value:function _onContextMenu(e,testEventTarget){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,testEventTarget)});}},{key:"_onMouseMove",value:function _onMouseMove(e){if(this._mouseDownOperation.isActive()){// In selection/drag operation
return;}var actualMouseMoveTime=e.timestamp;if(actualMouseMoveTime<this.lastMouseLeaveTime){// Due to throttling, this event occurred before the mouse left the editor, therefore ignore it.
return;}this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,true)});}},{key:"_onMouseLeave",value:function _onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime();this.viewController.emitMouseLeave({event:e,target:null});}},{key:"_onMouseUp",value:function _onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,true)});}},{key:"_onMouseDown",value:function _onMouseDown(e){var _this3=this;var t=this._createMouseTarget(e,true);var targetIsContent=t.type===6/* CONTENT_TEXT */||t.type===7/* CONTENT_EMPTY */;var targetIsGutter=t.type===2/* GUTTER_GLYPH_MARGIN */||t.type===3/* GUTTER_LINE_NUMBERS */||t.type===4/* GUTTER_LINE_DECORATIONS */;var targetIsLineNumbers=t.type===3/* GUTTER_LINE_NUMBERS */;var selectOnLineNumbers=this._context.configuration.options.get(98/* selectOnLineNumbers */);var targetIsViewZone=t.type===8/* CONTENT_VIEW_ZONE */||t.type===5/* GUTTER_VIEW_ZONE */;var targetIsWidget=t.type===9/* CONTENT_WIDGET */;var shouldHandle=e.leftButton||e.middleButton;if(platform/* isMacintosh */.dz&&e.leftButton&&e.ctrlKey){shouldHandle=false;}var focus=function focus(){e.preventDefault();_this3.viewHelper.focusTextArea();};if(shouldHandle&&(targetIsContent||targetIsLineNumbers&&selectOnLineNumbers)){focus();this._mouseDownOperation.start(t.type,e);}else if(targetIsGutter){// Do not steal focus
e.preventDefault();}else if(targetIsViewZone){var viewZoneData=t.detail;if(this.viewHelper.shouldSuppressMouseDownOnViewZone(viewZoneData.viewZoneId)){focus();this._mouseDownOperation.start(t.type,e);e.preventDefault();}}else if(targetIsWidget&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)){focus();e.preventDefault();}this.viewController.emitMouseDown({event:e,target:t});}}]);return MouseHandler;}(viewEventHandler/* ViewEventHandler */.O);MouseHandler.MOUSE_MOVE_MINIMUM_TIME=100;// ms
var MouseDownOperation=/*#__PURE__*/function(_Disposable){_inherits(MouseDownOperation,_Disposable);var _super2=_createSuper(MouseDownOperation);function MouseDownOperation(context,viewController,viewHelper,createMouseTarget,getMouseColumn){var _this4;_classCallCheck(this,MouseDownOperation);_this4=_super2.call(this);_this4._context=context;_this4._viewController=viewController;_this4._viewHelper=viewHelper;_this4._createMouseTarget=createMouseTarget;_this4._getMouseColumn=getMouseColumn;_this4._mouseMoveMonitor=_this4._register(new editorDom/* GlobalEditorMouseMoveMonitor */.iB(_this4._viewHelper.viewDomNode));_this4._onScrollTimeout=_this4._register(new common_async/* TimeoutTimer */._F());_this4._mouseState=new MouseDownState();_this4._currentSelection=new selection/* Selection */.Y(1,1,1,1);_this4._isActive=false;_this4._lastMouseEvent=null;return _this4;}_createClass(MouseDownOperation,[{key:"dispose",value:function dispose(){_get(_getPrototypeOf(MouseDownOperation.prototype),"dispose",this).call(this);}},{key:"isActive",value:function isActive(){return this._isActive;}},{key:"_onMouseDownThenMove",value:function _onMouseDownThenMove(e){this._lastMouseEvent=e;this._mouseState.setModifiers(e);var position=this._findMousePosition(e,true);if(!position){// Ignoring because position is unknown
return;}if(this._mouseState.isDragAndDrop){this._viewController.emitMouseDrag({event:e,target:position});}else{this._dispatchMouse(position,true);}}},{key:"start",value:function start(targetType,e){var _this5=this;this._lastMouseEvent=e;this._mouseState.setStartedOnLineNumbers(targetType===3/* GUTTER_LINE_NUMBERS */);this._mouseState.setStartButtons(e);this._mouseState.setModifiers(e);var position=this._findMousePosition(e,true);if(!position||!position.position){// Ignoring because position is unknown
return;}this._mouseState.trySetCount(e.detail,position.position);// Overwrite the detail of the MouseEvent, as it will be sent out in an event and contributions might rely on it.
e.detail=this._mouseState.count;var options=this._context.configuration.options;if(!options.get(81/* readOnly */)&&options.get(31/* dragAndDrop */)&&!options.get(18/* columnSelection */)&&!this._mouseState.altKey// we don't support multiple mouse
&&e.detail<2// only single click on a selection can work
&&!this._isActive// the mouse is not down yet
&&!this._currentSelection.isEmpty()// we don't drag single cursor
&&position.type===6/* CONTENT_TEXT */ // single click on text
&&position.position&&this._currentSelection.containsPosition(position.position)// single click on a selection
){this._mouseState.isDragAndDrop=true;this._isActive=true;this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,createMouseMoveEventMerger(null),function(e){return _this5._onMouseDownThenMove(e);},function(browserEvent){var position=_this5._findMousePosition(_this5._lastMouseEvent,true);if(browserEvent&&browserEvent instanceof KeyboardEvent){// cancel
_this5._viewController.emitMouseDropCanceled();}else{_this5._viewController.emitMouseDrop({event:_this5._lastMouseEvent,target:position?_this5._createMouseTarget(_this5._lastMouseEvent,true):null// Ignoring because position is unknown, e.g., Content View Zone
});}_this5._stop();});return;}this._mouseState.isDragAndDrop=false;this._dispatchMouse(position,e.shiftKey);if(!this._isActive){this._isActive=true;this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,createMouseMoveEventMerger(null),function(e){return _this5._onMouseDownThenMove(e);},function(){return _this5._stop();});}}},{key:"_stop",value:function _stop(){this._isActive=false;this._onScrollTimeout.cancel();}},{key:"onHeightChanged",value:function onHeightChanged(){this._mouseMoveMonitor.stopMonitoring();}},{key:"onScrollChanged",value:function onScrollChanged(){var _this6=this;if(!this._isActive){return;}this._onScrollTimeout.setIfNotSet(function(){if(!_this6._lastMouseEvent){return;}var position=_this6._findMousePosition(_this6._lastMouseEvent,false);if(!position){// Ignoring because position is unknown
return;}if(_this6._mouseState.isDragAndDrop){// Ignoring because users are dragging the text
return;}_this6._dispatchMouse(position,true);},10);}},{key:"onCursorStateChanged",value:function onCursorStateChanged(e){this._currentSelection=e.selections[0];}},{key:"_getPositionOutsideEditor",value:function _getPositionOutsideEditor(e){var editorContent=e.editorPos;var model=this._context.model;var viewLayout=this._context.viewLayout;var mouseColumn=this._getMouseColumn(e);if(e.posy<editorContent.y){var verticalOffset=Math.max(viewLayout.getCurrentScrollTop()-(editorContent.y-e.posy),0);var viewZoneData=mouseTarget/* HitTestContext.getZoneAtCoord */.Iq.getZoneAtCoord(this._context,verticalOffset);if(viewZoneData){var newPosition=this._helpPositionJumpOverViewZone(viewZoneData);if(newPosition){return mouseTarget/* MouseTarget.createOutsideEditor */.ZP.createOutsideEditor(mouseColumn,newPosition);}}var aboveLineNumber=viewLayout.getLineNumberAtVerticalOffset(verticalOffset);return mouseTarget/* MouseTarget.createOutsideEditor */.ZP.createOutsideEditor(mouseColumn,new position/* Position */.L(aboveLineNumber,1));}if(e.posy>editorContent.y+editorContent.height){var _verticalOffset=viewLayout.getCurrentScrollTop()+e.relativePos.y;var _viewZoneData=mouseTarget/* HitTestContext.getZoneAtCoord */.Iq.getZoneAtCoord(this._context,_verticalOffset);if(_viewZoneData){var _newPosition=this._helpPositionJumpOverViewZone(_viewZoneData);if(_newPosition){return mouseTarget/* MouseTarget.createOutsideEditor */.ZP.createOutsideEditor(mouseColumn,_newPosition);}}var belowLineNumber=viewLayout.getLineNumberAtVerticalOffset(_verticalOffset);return mouseTarget/* MouseTarget.createOutsideEditor */.ZP.createOutsideEditor(mouseColumn,new position/* Position */.L(belowLineNumber,model.getLineMaxColumn(belowLineNumber)));}var possibleLineNumber=viewLayout.getLineNumberAtVerticalOffset(viewLayout.getCurrentScrollTop()+e.relativePos.y);if(e.posx<editorContent.x){return mouseTarget/* MouseTarget.createOutsideEditor */.ZP.createOutsideEditor(mouseColumn,new position/* Position */.L(possibleLineNumber,1));}if(e.posx>editorContent.x+editorContent.width){return mouseTarget/* MouseTarget.createOutsideEditor */.ZP.createOutsideEditor(mouseColumn,new position/* Position */.L(possibleLineNumber,model.getLineMaxColumn(possibleLineNumber)));}return null;}},{key:"_findMousePosition",value:function _findMousePosition(e,testEventTarget){var positionOutsideEditor=this._getPositionOutsideEditor(e);if(positionOutsideEditor){return positionOutsideEditor;}var t=this._createMouseTarget(e,testEventTarget);var hintedPosition=t.position;if(!hintedPosition){return null;}if(t.type===8/* CONTENT_VIEW_ZONE */||t.type===5/* GUTTER_VIEW_ZONE */){var newPosition=this._helpPositionJumpOverViewZone(t.detail);if(newPosition){return mouseTarget/* MouseTarget.createViewZone */.ZP.createViewZone(t.type,t.element,t.mouseColumn,newPosition,t.detail);}}return t;}},{key:"_helpPositionJumpOverViewZone",value:function _helpPositionJumpOverViewZone(viewZoneData){// Force position on view zones to go above or below depending on where selection started from
var selectionStart=new position/* Position */.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn);var positionBefore=viewZoneData.positionBefore;var positionAfter=viewZoneData.positionAfter;if(positionBefore&&positionAfter){if(positionBefore.isBefore(selectionStart)){return positionBefore;}else{return positionAfter;}}return null;}},{key:"_dispatchMouse",value:function _dispatchMouse(position,inSelectionMode){if(!position.position){return;}this._viewController.dispatchMouse({position:position.position,mouseColumn:position.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:inSelectionMode,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton});}}]);return MouseDownOperation;}(lifecycle/* Disposable */.JT);var MouseDownState=/*#__PURE__*/function(){function MouseDownState(){_classCallCheck(this,MouseDownState);this._altKey=false;this._ctrlKey=false;this._metaKey=false;this._shiftKey=false;this._leftButton=false;this._middleButton=false;this._startedOnLineNumbers=false;this._lastMouseDownPosition=null;this._lastMouseDownPositionEqualCount=0;this._lastMouseDownCount=0;this._lastSetMouseDownCountTime=0;this.isDragAndDrop=false;}_createClass(MouseDownState,[{key:"altKey",get:function get(){return this._altKey;}},{key:"ctrlKey",get:function get(){return this._ctrlKey;}},{key:"metaKey",get:function get(){return this._metaKey;}},{key:"shiftKey",get:function get(){return this._shiftKey;}},{key:"leftButton",get:function get(){return this._leftButton;}},{key:"middleButton",get:function get(){return this._middleButton;}},{key:"startedOnLineNumbers",get:function get(){return this._startedOnLineNumbers;}},{key:"count",get:function get(){return this._lastMouseDownCount;}},{key:"setModifiers",value:function setModifiers(source){this._altKey=source.altKey;this._ctrlKey=source.ctrlKey;this._metaKey=source.metaKey;this._shiftKey=source.shiftKey;}},{key:"setStartButtons",value:function setStartButtons(source){this._leftButton=source.leftButton;this._middleButton=source.middleButton;}},{key:"setStartedOnLineNumbers",value:function setStartedOnLineNumbers(startedOnLineNumbers){this._startedOnLineNumbers=startedOnLineNumbers;}},{key:"trySetCount",value:function trySetCount(setMouseDownCount,newMouseDownPosition){// a. Invalidate multiple clicking if too much time has passed (will be hit by IE because the detail field of mouse events contains garbage in IE10)
var currentTime=new Date().getTime();if(currentTime-this._lastSetMouseDownCountTime>MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME){setMouseDownCount=1;}this._lastSetMouseDownCountTime=currentTime;// b. Ensure that we don't jump from single click to triple click in one go (will be hit by IE because the detail field of mouse events contains garbage in IE10)
if(setMouseDownCount>this._lastMouseDownCount+1){setMouseDownCount=this._lastMouseDownCount+1;}// c. Invalidate multiple clicking if the logical position is different
if(this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(newMouseDownPosition)){this._lastMouseDownPositionEqualCount++;}else{this._lastMouseDownPositionEqualCount=1;}this._lastMouseDownPosition=newMouseDownPosition;// Finally set the lastMouseDownCount
this._lastMouseDownCount=Math.min(setMouseDownCount,this._lastMouseDownPositionEqualCount);}}]);return MouseDownState;}();MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME=400;// ms
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/canIUse.js
var canIUse = __webpack_require__(94484);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/controller/textAreaInput.js
var textAreaInput = __webpack_require__(19595);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/controller/pointerHandler.js
function pointerHandler_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){pointerHandler_typeof=function _typeof(obj){return typeof obj;};}else{pointerHandler_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return pointerHandler_typeof(obj);}function pointerHandler_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function pointerHandler_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function pointerHandler_createClass(Constructor,protoProps,staticProps){if(protoProps)pointerHandler_defineProperties(Constructor.prototype,protoProps);if(staticProps)pointerHandler_defineProperties(Constructor,staticProps);return Constructor;}function pointerHandler_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){pointerHandler_get=Reflect.get;}else{pointerHandler_get=function _get(target,property,receiver){var base=pointerHandler_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return pointerHandler_get(target,property,receiver||target);}function pointerHandler_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=pointerHandler_getPrototypeOf(object);if(object===null)break;}return object;}function pointerHandler_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)pointerHandler_setPrototypeOf(subClass,superClass);}function pointerHandler_setPrototypeOf(o,p){pointerHandler_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return pointerHandler_setPrototypeOf(o,p);}function pointerHandler_createSuper(Derived){var hasNativeReflectConstruct=pointerHandler_isNativeReflectConstruct();return function _createSuperInternal(){var Super=pointerHandler_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=pointerHandler_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return pointerHandler_possibleConstructorReturn(this,result);};}function pointerHandler_possibleConstructorReturn(self,call){if(call&&(pointerHandler_typeof(call)==="object"||typeof call==="function")){return call;}return pointerHandler_assertThisInitialized(self);}function pointerHandler_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function pointerHandler_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function pointerHandler_getPrototypeOf(o){pointerHandler_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return pointerHandler_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Currently only tested on iOS 13/ iPadOS.
 */var PointerEventHandler=/*#__PURE__*/function(_MouseHandler){pointerHandler_inherits(PointerEventHandler,_MouseHandler);var _super=pointerHandler_createSuper(PointerEventHandler);function PointerEventHandler(context,viewController,viewHelper){var _this;pointerHandler_classCallCheck(this,PointerEventHandler);_this=_super.call(this,context,viewController,viewHelper);_this._register(touch/* Gesture.addTarget */.o.addTarget(_this.viewHelper.linesContentDomNode));_this._register(dom.addDisposableListener(_this.viewHelper.linesContentDomNode,touch/* EventType.Tap */.t.Tap,function(e){return _this.onTap(e);}));_this._register(dom.addDisposableListener(_this.viewHelper.linesContentDomNode,touch/* EventType.Change */.t.Change,function(e){return _this.onChange(e);}));_this._register(dom.addDisposableListener(_this.viewHelper.linesContentDomNode,touch/* EventType.Contextmenu */.t.Contextmenu,function(e){return _this._onContextMenu(new editorDom/* EditorMouseEvent */.gy(e,_this.viewHelper.viewDomNode),false);}));_this._lastPointerType='mouse';_this._register(dom.addDisposableListener(_this.viewHelper.linesContentDomNode,'pointerdown',function(e){var pointerType=e.pointerType;if(pointerType==='mouse'){_this._lastPointerType='mouse';return;}else if(pointerType==='touch'){_this._lastPointerType='touch';}else{_this._lastPointerType='pen';}}));// PonterEvents
var pointerEvents=new editorDom/* EditorPointerEventFactory */.tC(_this.viewHelper.viewDomNode);_this._register(pointerEvents.onPointerMoveThrottled(_this.viewHelper.viewDomNode,function(e){return _this._onMouseMove(e);},createMouseMoveEventMerger(_this.mouseTargetFactory),MouseHandler.MOUSE_MOVE_MINIMUM_TIME));_this._register(pointerEvents.onPointerUp(_this.viewHelper.viewDomNode,function(e){return _this._onMouseUp(e);}));_this._register(pointerEvents.onPointerLeave(_this.viewHelper.viewDomNode,function(e){return _this._onMouseLeave(e);}));_this._register(pointerEvents.onPointerDown(_this.viewHelper.viewDomNode,function(e){return _this._onMouseDown(e);}));return _this;}pointerHandler_createClass(PointerEventHandler,[{key:"onTap",value:function onTap(event){if(!event.initialTarget||!this.viewHelper.linesContentDomNode.contains(event.initialTarget)){return;}event.preventDefault();this.viewHelper.focusTextArea();var target=this._createMouseTarget(new editorDom/* EditorMouseEvent */.gy(event,this.viewHelper.viewDomNode),false);if(target.position){// this.viewController.moveTo(target.position);
this.viewController.dispatchMouse({position:target.position,mouseColumn:target.position.column,startedOnLineNumbers:false,mouseDownCount:event.tapCount,inSelectionMode:false,altKey:false,ctrlKey:false,metaKey:false,shiftKey:false,leftButton:false,middleButton:false});}}},{key:"onChange",value:function onChange(e){if(this._lastPointerType==='touch'){this._context.model.deltaScrollNow(-e.translationX,-e.translationY);}}},{key:"_onMouseDown",value:function _onMouseDown(e){if(e.browserEvent.pointerType==='touch'){return;}pointerHandler_get(pointerHandler_getPrototypeOf(PointerEventHandler.prototype),"_onMouseDown",this).call(this,e);}}]);return PointerEventHandler;}(MouseHandler);var TouchHandler=/*#__PURE__*/function(_MouseHandler2){pointerHandler_inherits(TouchHandler,_MouseHandler2);var _super2=pointerHandler_createSuper(TouchHandler);function TouchHandler(context,viewController,viewHelper){var _this2;pointerHandler_classCallCheck(this,TouchHandler);_this2=_super2.call(this,context,viewController,viewHelper);_this2._register(touch/* Gesture.addTarget */.o.addTarget(_this2.viewHelper.linesContentDomNode));_this2._register(dom.addDisposableListener(_this2.viewHelper.linesContentDomNode,touch/* EventType.Tap */.t.Tap,function(e){return _this2.onTap(e);}));_this2._register(dom.addDisposableListener(_this2.viewHelper.linesContentDomNode,touch/* EventType.Change */.t.Change,function(e){return _this2.onChange(e);}));_this2._register(dom.addDisposableListener(_this2.viewHelper.linesContentDomNode,touch/* EventType.Contextmenu */.t.Contextmenu,function(e){return _this2._onContextMenu(new editorDom/* EditorMouseEvent */.gy(e,_this2.viewHelper.viewDomNode),false);}));return _this2;}pointerHandler_createClass(TouchHandler,[{key:"onTap",value:function onTap(event){event.preventDefault();this.viewHelper.focusTextArea();var target=this._createMouseTarget(new editorDom/* EditorMouseEvent */.gy(event,this.viewHelper.viewDomNode),false);if(target.position){// Send the tap event also to the <textarea> (for input purposes)
var _event=document.createEvent('CustomEvent');_event.initEvent(textAreaInput/* TextAreaSyntethicEvents.Tap */.pd.Tap,false,true);this.viewHelper.dispatchTextAreaEvent(_event);this.viewController.moveTo(target.position);}}},{key:"onChange",value:function onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY);}}]);return TouchHandler;}(MouseHandler);var PointerHandler=/*#__PURE__*/function(_Disposable){pointerHandler_inherits(PointerHandler,_Disposable);var _super3=pointerHandler_createSuper(PointerHandler);function PointerHandler(context,viewController,viewHelper){var _this3;pointerHandler_classCallCheck(this,PointerHandler);_this3=_super3.call(this);if(platform/* isIOS */.gn&&canIUse/* BrowserFeatures.pointerEvents */.D.pointerEvents){_this3.handler=_this3._register(new PointerEventHandler(context,viewController,viewHelper));}else if(window.TouchEvent){_this3.handler=_this3._register(new TouchHandler(context,viewController,viewHelper));}else{_this3.handler=_this3._register(new MouseHandler(context,viewController,viewHelper));}return _this3;}pointerHandler_createClass(PointerHandler,[{key:"getTargetAtClientPoint",value:function getTargetAtClientPoint(clientX,clientY){return this.handler.getTargetAtClientPoint(clientX,clientY);}}]);return PointerHandler;}(lifecycle/* Disposable */.JT);

/***/ }),

/***/ 35147:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "H": () => (/* binding */ TextAreaHandler)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(71453);
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81447);
/* harmony import */ var _base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(87980);
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63638);
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41712);
/* harmony import */ var _config_domFontInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9217);
/* harmony import */ var _textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19595);
/* harmony import */ var _textAreaState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50417);
/* harmony import */ var _view_viewPart_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(73190);
/* harmony import */ var _viewParts_lineNumbers_lineNumbers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(44739);
/* harmony import */ var _viewParts_margin_margin_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(89284);
/* harmony import */ var _common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(72530);
/* harmony import */ var _common_core_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(60493);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(96844);
/* harmony import */ var _common_core_selection_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(33199);
/* harmony import */ var _base_browser_ui_mouseCursor_mouseCursor_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(78366);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(98480);
/* harmony import */ var _base_common_color_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(65142);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var VisibleTextAreaData=/*#__PURE__*/function(){function VisibleTextAreaData(_context,modelLineNumber,distanceToModelLineStart,widthOfHiddenLineTextBefore,distanceToModelLineEnd){_classCallCheck(this,VisibleTextAreaData);this._context=_context;this.modelLineNumber=modelLineNumber;this.distanceToModelLineStart=distanceToModelLineStart;this.widthOfHiddenLineTextBefore=widthOfHiddenLineTextBefore;this.distanceToModelLineEnd=distanceToModelLineEnd;this._visibleTextAreaBrand=undefined;this.startPosition=null;this.endPosition=null;this.visibleTextareaStart=null;this.visibleTextareaEnd=null;}_createClass(VisibleTextAreaData,[{key:"prepareRender",value:function prepareRender(visibleRangeProvider){var startModelPosition=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(this.modelLineNumber,this.distanceToModelLineStart+1);var endModelPosition=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(startModelPosition);this.endPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(endModelPosition);if(this.startPosition.lineNumber===this.endPosition.lineNumber){this.visibleTextareaStart=visibleRangeProvider.visibleRangeForPosition(this.startPosition);this.visibleTextareaEnd=visibleRangeProvider.visibleRangeForPosition(this.endPosition);}else{// TODO: what if the view positions are not on the same line?
this.visibleTextareaStart=null;this.visibleTextareaEnd=null;}}}]);return VisibleTextAreaData;}();var canUseZeroSizeTextarea=_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isFirefox;var TextAreaHandler=/*#__PURE__*/function(_ViewPart){_inherits(TextAreaHandler,_ViewPart);var _super=_createSuper(TextAreaHandler);function TextAreaHandler(context,viewController,visibleRangeProvider){var _this;_classCallCheck(this,TextAreaHandler);_this=_super.call(this,context);// --- end view API
_this._primaryCursorPosition=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(1,1);_this._primaryCursorVisibleRange=null;_this._viewController=viewController;_this._visibleRangeProvider=visibleRangeProvider;_this._scrollLeft=0;_this._scrollTop=0;var options=_this._context.configuration.options;var layoutInfo=options.get(131/* layoutInfo */);_this._setAccessibilityOptions(options);_this._contentLeft=layoutInfo.contentLeft;_this._contentWidth=layoutInfo.contentWidth;_this._contentHeight=layoutInfo.height;_this._fontInfo=options.get(44/* fontInfo */);_this._lineHeight=options.get(59/* lineHeight */);_this._emptySelectionClipboard=options.get(32/* emptySelectionClipboard */);_this._copyWithSyntaxHighlighting=options.get(21/* copyWithSyntaxHighlighting */);_this._visibleTextArea=null;_this._selections=[new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_14__/* .Selection */ .Y(1,1,1,1)];_this._modelSelections=[new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_14__/* .Selection */ .Y(1,1,1,1)];_this._lastRenderPosition=null;// Text Area (The focus will always be in the textarea when the cursor is blinking)
_this.textArea=(0,_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_15__/* .createFastDomNode */ .X)(document.createElement('textarea'));_view_viewPart_js__WEBPACK_IMPORTED_MODULE_6__/* .PartFingerprints.write */ .K.write(_this.textArea,6/* TextArea */);_this.textArea.setClassName("inputarea ".concat(_base_browser_ui_mouseCursor_mouseCursor_js__WEBPACK_IMPORTED_MODULE_16__/* .MOUSE_CURSOR_TEXT_CSS_CLASS_NAME */ .S));_this.textArea.setAttribute('wrap','off');_this.textArea.setAttribute('autocorrect','off');_this.textArea.setAttribute('autocapitalize','off');_this.textArea.setAttribute('autocomplete','off');_this.textArea.setAttribute('spellcheck','false');_this.textArea.setAttribute('aria-label',_this._getAriaLabel(options));_this.textArea.setAttribute('tabindex',String(options.get(112/* tabIndex */)));_this.textArea.setAttribute('role','textbox');_this.textArea.setAttribute('aria-roledescription',_nls_js__WEBPACK_IMPORTED_MODULE_17__/* .localize */ .N('editor',"editor"));_this.textArea.setAttribute('aria-multiline','true');_this.textArea.setAttribute('aria-haspopup','false');_this.textArea.setAttribute('aria-autocomplete','both');if(options.get(30/* domReadOnly */)&&options.get(81/* readOnly */)){_this.textArea.setAttribute('readonly','true');}_this.textAreaCover=(0,_base_browser_fastDomNode_js__WEBPACK_IMPORTED_MODULE_15__/* .createFastDomNode */ .X)(document.createElement('div'));_this.textAreaCover.setPosition('absolute');var simpleModel={getLineCount:function getLineCount(){return _this._context.model.getLineCount();},getLineMaxColumn:function getLineMaxColumn(lineNumber){return _this._context.model.getLineMaxColumn(lineNumber);},getValueInRange:function getValueInRange(range,eol){return _this._context.model.getValueInRange(range,eol);}};var textAreaInputHost={getDataToCopy:function getDataToCopy(){var rawTextToCopy=_this._context.model.getPlainTextToCopy(_this._modelSelections,_this._emptySelectionClipboard,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__/* .isWindows */ .ED);var newLineCharacter=_this._context.model.getEOL();var isFromEmptySelection=_this._emptySelectionClipboard&&_this._modelSelections.length===1&&_this._modelSelections[0].isEmpty();var multicursorText=Array.isArray(rawTextToCopy)?rawTextToCopy:null;var text=Array.isArray(rawTextToCopy)?rawTextToCopy.join(newLineCharacter):rawTextToCopy;var html=undefined;var mode=null;if(_textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__/* .CopyOptions.forceCopyWithSyntaxHighlighting */ .RA.forceCopyWithSyntaxHighlighting||_this._copyWithSyntaxHighlighting&&text.length<65536){var richText=_this._context.model.getRichTextToCopy(_this._modelSelections,_this._emptySelectionClipboard);if(richText){html=richText.html;mode=richText.mode;}}return{isFromEmptySelection:isFromEmptySelection,multicursorText:multicursorText,text:text,html:html,mode:mode};},getScreenReaderContent:function getScreenReaderContent(currentState){if(_this._accessibilitySupport===1/* Disabled */){// We know for a fact that a screen reader is not attached
// On OSX, we write the character before the cursor to allow for "long-press" composition
// Also on OSX, we write the word before the cursor to allow for the Accessibility Keyboard to give good hints
if(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__/* .isMacintosh */ .dz){var selection=_this._selections[0];if(selection.isEmpty()){var position=selection.getStartPosition();var textBefore=_this._getWordBeforePosition(position);if(textBefore.length===0){textBefore=_this._getCharacterBeforePosition(position);}if(textBefore.length>0){return new _textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* .TextAreaState */ .un(textBefore,textBefore.length,textBefore.length,position,position);}}}return _textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* .TextAreaState.EMPTY */ .un.EMPTY;}if(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isAndroid){// when tapping in the editor on a word, Android enters composition mode.
// in the `compositionstart` event we cannot clear the textarea, because
// it then forgets to ever send a `compositionend`.
// we therefore only write the current word in the textarea
var _selection=_this._selections[0];if(_selection.isEmpty()){var _position=_selection.getStartPosition();var _this$_getAndroidWord=_this._getAndroidWordAtPosition(_position),_this$_getAndroidWord2=_slicedToArray(_this$_getAndroidWord,2),wordAtPosition=_this$_getAndroidWord2[0],positionOffsetInWord=_this$_getAndroidWord2[1];if(wordAtPosition.length>0){return new _textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* .TextAreaState */ .un(wordAtPosition,positionOffsetInWord,positionOffsetInWord,_position,_position);}}return _textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* .TextAreaState.EMPTY */ .un.EMPTY;}return _textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* .PagedScreenReaderStrategy.fromEditorSelection */ .ee.fromEditorSelection(currentState,simpleModel,_this._selections[0],_this._accessibilityPageSize,_this._accessibilitySupport===0/* Unknown */);},deduceModelPosition:function deduceModelPosition(viewAnchorPosition,deltaOffset,lineFeedCnt){return _this._context.model.deduceModelPositionRelativeToViewPosition(viewAnchorPosition,deltaOffset,lineFeedCnt);}};var textAreaWrapper=_this._register(new _textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__/* .TextAreaWrapper */ .Tj(_this.textArea.domNode));_this._textAreaInput=_this._register(new _textAreaInput_js__WEBPACK_IMPORTED_MODULE_4__/* .TextAreaInput */ .Fz(textAreaInputHost,textAreaWrapper,_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__.OS,_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__));_this._register(_this._textAreaInput.onKeyDown(function(e){_this._viewController.emitKeyDown(e);}));_this._register(_this._textAreaInput.onKeyUp(function(e){_this._viewController.emitKeyUp(e);}));_this._register(_this._textAreaInput.onPaste(function(e){var pasteOnNewLine=false;var multicursorText=null;var mode=null;if(e.metadata){pasteOnNewLine=_this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection;multicursorText=typeof e.metadata.multicursorText!=='undefined'?e.metadata.multicursorText:null;mode=e.metadata.mode;}_this._viewController.paste(e.text,pasteOnNewLine,multicursorText,mode);}));_this._register(_this._textAreaInput.onCut(function(){_this._viewController.cut();}));_this._register(_this._textAreaInput.onType(function(e){if(e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta){// must be handled through the new command
if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* ._debugComposition */ .al){console.log(" => compositionType: <<".concat(e.text,">>, ").concat(e.replacePrevCharCnt,", ").concat(e.replaceNextCharCnt,", ").concat(e.positionDelta));}_this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta);}else{if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_5__/* ._debugComposition */ .al){console.log(" => type: <<".concat(e.text,">>"));}_this._viewController.type(e.text);}}));_this._register(_this._textAreaInput.onSelectionChangeRequest(function(modelSelection){_this._viewController.setSelection(modelSelection);}));_this._register(_this._textAreaInput.onCompositionStart(function(e){// The textarea might contain some content when composition starts.
//
// When we make the textarea visible, it always has a height of 1 line,
// so we don't need to worry too much about content on lines above or below
// the selection.
//
// However, the text on the current line needs to be made visible because
// some IME methods allow to glyphs on the current line (by pressing arrow keys).
//
// (1) The textarea might contain only some parts of the current line,
// like the word before the selection. Also, the content inside the textarea
// can grow or shrink as composition occurs. We therefore anchor the textarea
// in terms of distance to a certain line start and line end.
//
// (2) Also, we should not make \t characters visible, because their rendering
// inside the <textarea> will not align nicely with our rendering. We therefore
// can hide some of the leading text on the current line.
var ta=_this.textArea.domNode;var modelSelection=_this._modelSelections[0];var _ref=function(){// Find the text that is on the current line before the selection
var textBeforeSelection=ta.value.substring(0,Math.min(ta.selectionStart,ta.selectionEnd));var lineFeedOffset1=textBeforeSelection.lastIndexOf('\n');var lineTextBeforeSelection=textBeforeSelection.substring(lineFeedOffset1+1);// We now search to see if we should hide some part of it (if it contains \t)
// We now search to see if we should hide some part of it (if it contains \t)
var tabOffset1=lineTextBeforeSelection.lastIndexOf('\t');var desiredVisibleBeforeCharCount=lineTextBeforeSelection.length-tabOffset1-1;var startModelPosition=modelSelection.getStartPosition();var visibleBeforeCharCount=Math.min(startModelPosition.column-1,desiredVisibleBeforeCharCount);var distanceToModelLineStart=startModelPosition.column-1-visibleBeforeCharCount;var hiddenLineTextBefore=lineTextBeforeSelection.substring(0,lineTextBeforeSelection.length-visibleBeforeCharCount);var widthOfHiddenTextBefore=measureText(hiddenLineTextBefore,_this._fontInfo);return{distanceToModelLineStart:distanceToModelLineStart,widthOfHiddenTextBefore:widthOfHiddenTextBefore};}(),distanceToModelLineStart=_ref.distanceToModelLineStart,widthOfHiddenTextBefore=_ref.widthOfHiddenTextBefore;var _ref2=function(){// Find the text that is on the current line after the selection
var textAfterSelection=ta.value.substring(Math.max(ta.selectionStart,ta.selectionEnd));var lineFeedOffset2=textAfterSelection.indexOf('\n');var lineTextAfterSelection=lineFeedOffset2===-1?textAfterSelection:textAfterSelection.substring(0,lineFeedOffset2);var tabOffset2=lineTextAfterSelection.indexOf('\t');var desiredVisibleAfterCharCount=tabOffset2===-1?lineTextAfterSelection.length:lineTextAfterSelection.length-tabOffset2-1;var endModelPosition=modelSelection.getEndPosition();var visibleAfterCharCount=Math.min(_this._context.model.getModelLineMaxColumn(endModelPosition.lineNumber)-endModelPosition.column,desiredVisibleAfterCharCount);var distanceToModelLineEnd=_this._context.model.getModelLineMaxColumn(endModelPosition.lineNumber)-endModelPosition.column-visibleAfterCharCount;return{distanceToModelLineEnd:distanceToModelLineEnd};}(),distanceToModelLineEnd=_ref2.distanceToModelLineEnd;// Scroll to reveal the location in the editor
_this._context.model.revealRange('keyboard',true,_common_core_range_js__WEBPACK_IMPORTED_MODULE_18__/* .Range.fromPositions */ .e.fromPositions(_this._selections[0].getStartPosition()),0/* Simple */,1/* Immediate */);_this._visibleTextArea=new VisibleTextAreaData(_this._context,modelSelection.startLineNumber,distanceToModelLineStart,widthOfHiddenTextBefore,distanceToModelLineEnd);_this._visibleTextArea.prepareRender(_this._visibleRangeProvider);_this._render();// Show the textarea
_this.textArea.setClassName("inputarea ".concat(_base_browser_ui_mouseCursor_mouseCursor_js__WEBPACK_IMPORTED_MODULE_16__/* .MOUSE_CURSOR_TEXT_CSS_CLASS_NAME */ .S," ime-input"));_this._viewController.compositionStart();_this._context.model.onCompositionStart();}));_this._register(_this._textAreaInput.onCompositionUpdate(function(e){if(!_this._visibleTextArea){return;}_this._visibleTextArea.prepareRender(_this._visibleRangeProvider);_this._render();}));_this._register(_this._textAreaInput.onCompositionEnd(function(){_this._visibleTextArea=null;_this._render();_this.textArea.setClassName("inputarea ".concat(_base_browser_ui_mouseCursor_mouseCursor_js__WEBPACK_IMPORTED_MODULE_16__/* .MOUSE_CURSOR_TEXT_CSS_CLASS_NAME */ .S));_this._viewController.compositionEnd();_this._context.model.onCompositionEnd();}));_this._register(_this._textAreaInput.onFocus(function(){_this._context.model.setHasFocus(true);}));_this._register(_this._textAreaInput.onBlur(function(){_this._context.model.setHasFocus(false);}));return _this;}_createClass(TextAreaHandler,[{key:"dispose",value:function dispose(){_get(_getPrototypeOf(TextAreaHandler.prototype),"dispose",this).call(this);}},{key:"_getAndroidWordAtPosition",value:function _getAndroidWordAtPosition(position){var ANDROID_WORD_SEPARATORS='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?';var lineContent=this._context.model.getLineContent(position.lineNumber);var wordSeparators=(0,_common_core_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_10__/* .getMapForWordSeparators */ .u)(ANDROID_WORD_SEPARATORS);var goingLeft=true;var startColumn=position.column;var goingRight=true;var endColumn=position.column;var distance=0;while(distance<50&&(goingLeft||goingRight)){if(goingLeft&&startColumn<=1){goingLeft=false;}if(goingLeft){var charCode=lineContent.charCodeAt(startColumn-2);var charClass=wordSeparators.get(charCode);if(charClass!==0/* Regular */){goingLeft=false;}else{startColumn--;}}if(goingRight&&endColumn>lineContent.length){goingRight=false;}if(goingRight){var _charCode=lineContent.charCodeAt(endColumn-1);var _charClass=wordSeparators.get(_charCode);if(_charClass!==0/* Regular */){goingRight=false;}else{endColumn++;}}distance++;}return[lineContent.substring(startColumn-1,endColumn-1),position.column-startColumn];}},{key:"_getWordBeforePosition",value:function _getWordBeforePosition(position){var lineContent=this._context.model.getLineContent(position.lineNumber);var wordSeparators=(0,_common_core_wordCharacterClassifier_js__WEBPACK_IMPORTED_MODULE_10__/* .getMapForWordSeparators */ .u)(this._context.configuration.options.get(117/* wordSeparators */));var column=position.column;var distance=0;while(column>1){var charCode=lineContent.charCodeAt(column-2);var charClass=wordSeparators.get(charCode);if(charClass!==0/* Regular */||distance>50){return lineContent.substring(column-1,position.column-1);}distance++;column--;}return lineContent.substring(0,position.column-1);}},{key:"_getCharacterBeforePosition",value:function _getCharacterBeforePosition(position){if(position.column>1){var lineContent=this._context.model.getLineContent(position.lineNumber);var charBefore=lineContent.charAt(position.column-2);if(!_base_common_strings_js__WEBPACK_IMPORTED_MODULE_2__/* .isHighSurrogate */ .ZG(charBefore.charCodeAt(0))){return charBefore;}}return'';}},{key:"_getAriaLabel",value:function _getAriaLabel(options){var accessibilitySupport=options.get(2/* accessibilitySupport */);if(accessibilitySupport===1/* Disabled */){return _nls_js__WEBPACK_IMPORTED_MODULE_17__/* .localize */ .N('accessibilityOffAriaLabel',"The editor is not accessible at this time. Press {0} for options.",_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__/* .isLinux */ .IJ?'Shift+Alt+F1':'Alt+F1');}return options.get(4/* ariaLabel */);}},{key:"_setAccessibilityOptions",value:function _setAccessibilityOptions(options){this._accessibilitySupport=options.get(2/* accessibilitySupport */);var accessibilityPageSize=options.get(3/* accessibilityPageSize */);if(this._accessibilitySupport===2/* Enabled */&&accessibilityPageSize===_common_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorOptions.accessibilityPageSize.defaultValue */ .BH.accessibilityPageSize.defaultValue){// If a screen reader is attached and the default value is not set we shuold automatically increase the page size to 500 for a better experience
this._accessibilityPageSize=500;}else{this._accessibilityPageSize=accessibilityPageSize;}}// --- begin event handlers
},{key:"onConfigurationChanged",value:function onConfigurationChanged(e){var options=this._context.configuration.options;var layoutInfo=options.get(131/* layoutInfo */);this._setAccessibilityOptions(options);this._contentLeft=layoutInfo.contentLeft;this._contentWidth=layoutInfo.contentWidth;this._contentHeight=layoutInfo.height;this._fontInfo=options.get(44/* fontInfo */);this._lineHeight=options.get(59/* lineHeight */);this._emptySelectionClipboard=options.get(32/* emptySelectionClipboard */);this._copyWithSyntaxHighlighting=options.get(21/* copyWithSyntaxHighlighting */);this.textArea.setAttribute('aria-label',this._getAriaLabel(options));this.textArea.setAttribute('tabindex',String(options.get(112/* tabIndex */)));if(e.hasChanged(30/* domReadOnly */)||e.hasChanged(81/* readOnly */)){if(options.get(30/* domReadOnly */)&&options.get(81/* readOnly */)){this.textArea.setAttribute('readonly','true');}else{this.textArea.removeAttribute('readonly');}}if(e.hasChanged(2/* accessibilitySupport */)){this._textAreaInput.writeScreenReaderContent('strategy changed');}return true;}},{key:"onCursorStateChanged",value:function onCursorStateChanged(e){this._selections=e.selections.slice(0);this._modelSelections=e.modelSelections.slice(0);this._textAreaInput.writeScreenReaderContent('selection changed');return true;}},{key:"onDecorationsChanged",value:function onDecorationsChanged(e){// true for inline decorations that can end up relayouting text
return true;}},{key:"onFlushed",value:function onFlushed(e){return true;}},{key:"onLinesChanged",value:function onLinesChanged(e){return true;}},{key:"onLinesDeleted",value:function onLinesDeleted(e){return true;}},{key:"onLinesInserted",value:function onLinesInserted(e){return true;}},{key:"onScrollChanged",value:function onScrollChanged(e){this._scrollLeft=e.scrollLeft;this._scrollTop=e.scrollTop;return true;}},{key:"onZonesChanged",value:function onZonesChanged(e){return true;}// --- end event handlers
// --- begin view API
},{key:"isFocused",value:function isFocused(){return this._textAreaInput.isFocused();}},{key:"focusTextArea",value:function focusTextArea(){this._textAreaInput.focusTextArea();}},{key:"getLastRenderData",value:function getLastRenderData(){return this._lastRenderPosition;}},{key:"setAriaOptions",value:function setAriaOptions(options){if(options.activeDescendant){this.textArea.setAttribute('aria-haspopup','true');this.textArea.setAttribute('aria-autocomplete','list');this.textArea.setAttribute('aria-activedescendant',options.activeDescendant);}else{this.textArea.setAttribute('aria-haspopup','false');this.textArea.setAttribute('aria-autocomplete','both');this.textArea.removeAttribute('aria-activedescendant');}if(options.role){this.textArea.setAttribute('role',options.role);}}},{key:"prepareRender",value:function prepareRender(ctx){this._primaryCursorPosition=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=ctx.visibleRangeForPosition(this._primaryCursorPosition);if(this._visibleTextArea){this._visibleTextArea.prepareRender(ctx);}}},{key:"render",value:function render(ctx){this._textAreaInput.writeScreenReaderContent('render');this._render();}},{key:"_render",value:function _render(){if(this._visibleTextArea){// The text area is visible for composition reasons
var visibleStart=this._visibleTextArea.visibleTextareaStart;var visibleEnd=this._visibleTextArea.visibleTextareaEnd;var startPosition=this._visibleTextArea.startPosition;var endPosition=this._visibleTextArea.endPosition;if(startPosition&&endPosition&&visibleStart&&visibleEnd&&visibleEnd.left>=this._scrollLeft&&visibleStart.left<=this._scrollLeft+this._contentWidth){var _top=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop;var lineCount=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=lineCount*this._lineHeight;var scrollLeft=this._visibleTextArea.widthOfHiddenLineTextBefore;var _left=this._contentLeft+visibleStart.left-this._scrollLeft;var width=visibleEnd.left-visibleStart.left;if(_left<this._contentLeft){// the textarea would be rendered on top of the margin,
// so reduce its width. We use the same technique as
// for hiding text before
var delta=this._contentLeft-_left;_left+=delta;scrollLeft+=delta;width-=delta;}if(width>this._contentWidth){// the textarea would be wider than the content width,
// so reduce its width.
width=this._contentWidth;}this.textArea.domNode.scrollLeft=scrollLeft;this._renderInsideEditor(null,_top,_left,width,this._lineHeight);// Try to render the textarea with the color/font style to match the text under it
var viewLineData=this._context.model.getViewLineData(startPosition.lineNumber);var startTokenIndex=viewLineData.tokens.findTokenIndexAtOffset(startPosition.column-1);var endTokenIndex=viewLineData.tokens.findTokenIndexAtOffset(endPosition.column-1);var presentation;if(startTokenIndex===endTokenIndex){presentation=viewLineData.tokens.getPresentation(startTokenIndex);}else{// if the textarea spans multiple tokens, then use default styles
presentation={foreground:1/* DefaultForeground */,italic:false,bold:false,underline:false,strikethrough:false};}var color=(_common_languages_js__WEBPACK_IMPORTED_MODULE_11__/* .TokenizationRegistry.getColorMap */ .RW.getColorMap()||[])[presentation.foreground];this.textArea.domNode.style.color=color?_base_common_color_js__WEBPACK_IMPORTED_MODULE_12__/* .Color.Format.CSS.formatHex */ .Il.Format.CSS.formatHex(color):'inherit';this.textArea.domNode.style.fontStyle=presentation.italic?'italic':'inherit';if(presentation.bold){// fontWeight is also set by `applyFontInfo`, so only overwrite it if necessary
this.textArea.domNode.style.fontWeight='bold';}this.textArea.domNode.style.textDecoration="".concat(presentation.underline?' underline':'').concat(presentation.strikethrough?' line-through':'');}return;}if(!this._primaryCursorVisibleRange){// The primary cursor is outside the viewport => place textarea to the top left
this._renderAtTopLeft();return;}var left=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(left<this._contentLeft||left>this._contentLeft+this._contentWidth){// cursor is outside the viewport
this._renderAtTopLeft();return;}var top=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(top<0||top>this._contentHeight){// cursor is outside the viewport
this._renderAtTopLeft();return;}// The primary cursor is in the viewport (at least vertically) => place textarea on the cursor
if(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_1__/* .isMacintosh */ .dz){// For the popup emoji input, we will make the text area as high as the line height
// We will also make the fontSize and lineHeight the correct dimensions to help with the placement of these pickers
this._renderInsideEditor(this._primaryCursorPosition,top,left,canUseZeroSizeTextarea?0:1,this._lineHeight);// In case the textarea contains a word, we're going to try to align the textarea's cursor
// with our cursor by scrolling the textarea as much as possible
this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;var _lineCount=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=_lineCount*this._lineHeight;return;}this._renderInsideEditor(this._primaryCursorPosition,top,left,canUseZeroSizeTextarea?0:1,canUseZeroSizeTextarea?0:1);}},{key:"_newlinecount",value:function _newlinecount(text){var result=0;var startIndex=-1;do{startIndex=text.indexOf('\n',startIndex+1);if(startIndex===-1){break;}result++;}while(true);return result;}},{key:"_renderInsideEditor",value:function _renderInsideEditor(renderedPosition,top,left,width,height){this._lastRenderPosition=renderedPosition;var ta=this.textArea;var tac=this.textAreaCover;(0,_config_domFontInfo_js__WEBPACK_IMPORTED_MODULE_3__/* .applyFontInfo */ .N)(ta,this._fontInfo);ta.setTop(top);ta.setLeft(left);ta.setWidth(width);ta.setHeight(height);tac.setTop(0);tac.setLeft(0);tac.setWidth(0);tac.setHeight(0);}},{key:"_renderAtTopLeft",value:function _renderAtTopLeft(){this._lastRenderPosition=null;var ta=this.textArea;var tac=this.textAreaCover;(0,_config_domFontInfo_js__WEBPACK_IMPORTED_MODULE_3__/* .applyFontInfo */ .N)(ta,this._fontInfo);ta.setTop(0);ta.setLeft(0);tac.setTop(0);tac.setLeft(0);if(canUseZeroSizeTextarea){ta.setWidth(0);ta.setHeight(0);tac.setWidth(0);tac.setHeight(0);return;}// (in WebKit the textarea is 1px by 1px because it cannot handle input to a 0x0 textarea)
// specifically, when doing Korean IME, setting the textarea to 0x0 breaks IME badly.
ta.setWidth(1);ta.setHeight(1);tac.setWidth(1);tac.setHeight(1);var options=this._context.configuration.options;if(options.get(50/* glyphMargin */)){tac.setClassName('monaco-editor-background textAreaCover '+_viewParts_margin_margin_js__WEBPACK_IMPORTED_MODULE_8__/* .Margin.OUTER_CLASS_NAME */ .Z.OUTER_CLASS_NAME);}else{if(options.get(60/* lineNumbers */).renderType!==0/* Off */){tac.setClassName('monaco-editor-background textAreaCover '+_viewParts_lineNumbers_lineNumbers_js__WEBPACK_IMPORTED_MODULE_7__/* .LineNumbersOverlay.CLASS_NAME */ .x.CLASS_NAME);}else{tac.setClassName('monaco-editor-background textAreaCover');}}}}]);return TextAreaHandler;}(_view_viewPart_js__WEBPACK_IMPORTED_MODULE_6__/* .ViewPart */ .E);function measureText(text,fontInfo){if(text.length===0){return 0;}var container=document.createElement('div');container.style.position='absolute';container.style.top='-50000px';container.style.width='50000px';var regularDomNode=document.createElement('span');(0,_config_domFontInfo_js__WEBPACK_IMPORTED_MODULE_3__/* .applyFontInfo */ .N)(regularDomNode,fontInfo);regularDomNode.style.whiteSpace='pre';// just like the textarea
regularDomNode.append(text);container.appendChild(regularDomNode);document.body.appendChild(container);var res=regularDomNode.offsetWidth;document.body.removeChild(container);return res;}

/***/ }),

/***/ 19595:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Fz": () => (/* binding */ TextAreaInput),
/* harmony export */   "Nl": () => (/* binding */ InMemoryClipboardMetadataManager),
/* harmony export */   "RA": () => (/* binding */ CopyOptions),
/* harmony export */   "Tj": () => (/* binding */ TextAreaWrapper),
/* harmony export */   "pd": () => (/* binding */ TextAreaSyntethicEvents)
/* harmony export */ });
/* harmony import */ var _base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81447);
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20446);
/* harmony import */ var _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23343);
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(88494);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19860);
/* harmony import */ var _base_common_mime_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(85996);
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41712);
/* harmony import */ var _textAreaState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(50417);
/* harmony import */ var _common_core_selection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(33199);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var TextAreaSyntethicEvents;(function(TextAreaSyntethicEvents){TextAreaSyntethicEvents.Tap='-monaco-textarea-synthetic-tap';})(TextAreaSyntethicEvents||(TextAreaSyntethicEvents={}));var CopyOptions={forceCopyWithSyntaxHighlighting:false};/**
 * Every time we write to the clipboard, we record a bit of extra metadata here.
 * Every time we read from the cipboard, if the text matches our last written text,
 * we can fetch the previous metadata.
 */var InMemoryClipboardMetadataManager=/*#__PURE__*/function(){function InMemoryClipboardMetadataManager(){_classCallCheck(this,InMemoryClipboardMetadataManager);this._lastState=null;}_createClass(InMemoryClipboardMetadataManager,[{key:"set",value:function set(lastCopiedValue,data){this._lastState={lastCopiedValue:lastCopiedValue,data:data};}},{key:"get",value:function get(pastedText){if(this._lastState&&this._lastState.lastCopiedValue===pastedText){// match!
return this._lastState.data;}this._lastState=null;return null;}}]);return InMemoryClipboardMetadataManager;}();InMemoryClipboardMetadataManager.INSTANCE=new InMemoryClipboardMetadataManager();var CompositionContext=/*#__PURE__*/function(){function CompositionContext(){_classCallCheck(this,CompositionContext);this._lastTypeTextLength=0;}_createClass(CompositionContext,[{key:"handleCompositionUpdate",value:function handleCompositionUpdate(text){text=text||'';var typeInput={text:text,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};this._lastTypeTextLength=text.length;return typeInput;}}]);return CompositionContext;}();/**
 * Writes screen reader content to the textarea and is able to analyze its input events to generate:
 *  - onCut
 *  - onPaste
 *  - onType
 *
 * Composition events are generated for presentation purposes (composition input is reflected in onType).
 */var TextAreaInput=/*#__PURE__*/function(_Disposable){_inherits(TextAreaInput,_Disposable);var _super=_createSuper(TextAreaInput);function TextAreaInput(_host,_textArea,_OS,_browser){var _this;_classCallCheck(this,TextAreaInput);_this=_super.call(this);_this._host=_host;_this._textArea=_textArea;_this._OS=_OS;_this._browser=_browser;_this._onFocus=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onFocus=_this._onFocus.event;_this._onBlur=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onBlur=_this._onBlur.event;_this._onKeyDown=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onKeyDown=_this._onKeyDown.event;_this._onKeyUp=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onKeyUp=_this._onKeyUp.event;_this._onCut=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onCut=_this._onCut.event;_this._onPaste=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onPaste=_this._onPaste.event;_this._onType=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onType=_this._onType.event;_this._onCompositionStart=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onCompositionStart=_this._onCompositionStart.event;_this._onCompositionUpdate=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onCompositionUpdate=_this._onCompositionUpdate.event;_this._onCompositionEnd=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onCompositionEnd=_this._onCompositionEnd.event;_this._onSelectionChangeRequest=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this.onSelectionChangeRequest=_this._onSelectionChangeRequest.event;_this._asyncTriggerCut=_this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_3__/* .RunOnceScheduler */ .pY(function(){return _this._onCut.fire();},0));_this._asyncFocusGainWriteScreenReaderContent=_this._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_3__/* .RunOnceScheduler */ .pY(function(){return _this.writeScreenReaderContent('asyncFocusGain');},0));_this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.EMPTY */ .un.EMPTY;_this._selectionChangeListener=null;_this.writeScreenReaderContent('ctor');_this._hasFocus=false;_this._currentComposition=null;var lastKeyDown=null;_this._register(_this._textArea.onKeyDown(function(_e){var e=new _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__/* .StandardKeyboardEvent */ .y(_e);if(e.keyCode===109/* KEY_IN_COMPOSITION */||_this._currentComposition&&e.keyCode===1/* Backspace */){// Stop propagation for keyDown events if the IME is processing key input
e.stopPropagation();}if(e.equals(9/* Escape */)){// Prevent default always for `Esc`, otherwise it will generate a keypress
// See https://msdn.microsoft.com/en-us/library/ie/ms536939(v=vs.85).aspx
e.preventDefault();}lastKeyDown=e;_this._onKeyDown.fire(e);}));_this._register(_this._textArea.onKeyUp(function(_e){var e=new _base_browser_keyboardEvent_js__WEBPACK_IMPORTED_MODULE_2__/* .StandardKeyboardEvent */ .y(_e);_this._onKeyUp.fire(e);}));_this._register(_this._textArea.onCompositionStart(function(e){if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* ._debugComposition */ .al){console.log("[compositionstart]",e);}var currentComposition=new CompositionContext();if(_this._currentComposition){// simply reset the composition context
_this._currentComposition=currentComposition;return;}_this._currentComposition=currentComposition;if(_this._OS===2/* Macintosh */&&lastKeyDown&&lastKeyDown.equals(109/* KEY_IN_COMPOSITION */)&&_this._textAreaState.selectionStart===_this._textAreaState.selectionEnd&&_this._textAreaState.selectionStart>0&&_this._textAreaState.value.substr(_this._textAreaState.selectionStart-1,1)===e.data&&(lastKeyDown.code==='ArrowRight'||lastKeyDown.code==='ArrowLeft')){// Handling long press case on Chromium/Safari macOS + arrow key => pretend the character was selected
if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* ._debugComposition */ .al){console.log("[compositionstart] Handling long press case on macOS + arrow key",e);}// Pretend the previous character was composed (in order to get it removed by subsequent compositionupdate events)
currentComposition.handleCompositionUpdate('x');_this._onCompositionStart.fire({data:e.data});return;}if(_this._browser.isAndroid){// when tapping on the editor, Android enters composition mode to edit the current word
// so we cannot clear the textarea on Android and we must pretend the current word was selected
_this._onCompositionStart.fire({data:e.data});return;}_this._onCompositionStart.fire({data:e.data});}));_this._register(_this._textArea.onCompositionUpdate(function(e){if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* ._debugComposition */ .al){console.log("[compositionupdate]",e);}var currentComposition=_this._currentComposition;if(!currentComposition){// should not be possible to receive a 'compositionupdate' without a 'compositionstart'
return;}if(_this._browser.isAndroid){// On Android, the data sent with the composition update event is unusable.
// For example, if the cursor is in the middle of a word like Mic|osoft
// and Microsoft is chosen from the keyboard's suggestions, the e.data will contain "Microsoft".
// This is not really usable because it doesn't tell us where the edit began and where it ended.
var newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.readFromTextArea */ .un.readFromTextArea(_this._textArea);var _typeInput=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.deduceAndroidCompositionInput */ .un.deduceAndroidCompositionInput(_this._textAreaState,newState);_this._textAreaState=newState;_this._onType.fire(_typeInput);_this._onCompositionUpdate.fire(e);return;}var typeInput=currentComposition.handleCompositionUpdate(e.data);_this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.readFromTextArea */ .un.readFromTextArea(_this._textArea);_this._onType.fire(typeInput);_this._onCompositionUpdate.fire(e);}));_this._register(_this._textArea.onCompositionEnd(function(e){if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* ._debugComposition */ .al){console.log("[compositionend]",e);}var currentComposition=_this._currentComposition;if(!currentComposition){// https://github.com/microsoft/monaco-editor/issues/1663
// On iOS 13.2, Chinese system IME randomly trigger an additional compositionend event with empty data
return;}_this._currentComposition=null;if(_this._browser.isAndroid){// On Android, the data sent with the composition update event is unusable.
// For example, if the cursor is in the middle of a word like Mic|osoft
// and Microsoft is chosen from the keyboard's suggestions, the e.data will contain "Microsoft".
// This is not really usable because it doesn't tell us where the edit began and where it ended.
var newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.readFromTextArea */ .un.readFromTextArea(_this._textArea);var _typeInput2=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.deduceAndroidCompositionInput */ .un.deduceAndroidCompositionInput(_this._textAreaState,newState);_this._textAreaState=newState;_this._onType.fire(_typeInput2);_this._onCompositionEnd.fire();return;}var typeInput=currentComposition.handleCompositionUpdate(e.data);_this._textAreaState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.readFromTextArea */ .un.readFromTextArea(_this._textArea);_this._onType.fire(typeInput);_this._onCompositionEnd.fire();}));_this._register(_this._textArea.onInput(function(e){if(_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* ._debugComposition */ .al){console.log("[input]",e);}// Pretend here we touched the text area, as the `input` event will most likely
// result in a `selectionchange` event which we want to ignore
_this._textArea.setIgnoreSelectionChangeTime('received input event');if(_this._currentComposition){return;}var newState=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.readFromTextArea */ .un.readFromTextArea(_this._textArea);var typeInput=_textAreaState_js__WEBPACK_IMPORTED_MODULE_8__/* .TextAreaState.deduceInput */ .un.deduceInput(_this._textAreaState,newState,/*couldBeEmojiInput*/_this._OS===2/* Macintosh */);if(typeInput.replacePrevCharCnt===0&&typeInput.text.length===1&&_base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__/* .isHighSurrogate */ .ZG(typeInput.text.charCodeAt(0))){// Ignore invalid input but keep it around for next time
return;}_this._textAreaState=newState;if(typeInput.text!==''||typeInput.replacePrevCharCnt!==0||typeInput.replaceNextCharCnt!==0||typeInput.positionDelta!==0){_this._onType.fire(typeInput);}}));// --- Clipboard operations
_this._register(_this._textArea.onCut(function(e){// Pretend here we touched the text area, as the `cut` event will most likely
// result in a `selectionchange` event which we want to ignore
_this._textArea.setIgnoreSelectionChangeTime('received cut event');_this._ensureClipboardGetsEditorSelection(e);_this._asyncTriggerCut.schedule();}));_this._register(_this._textArea.onCopy(function(e){_this._ensureClipboardGetsEditorSelection(e);}));_this._register(_this._textArea.onPaste(function(e){// Pretend here we touched the text area, as the `paste` event will most likely
// result in a `selectionchange` event which we want to ignore
_this._textArea.setIgnoreSelectionChangeTime('received paste event');e.preventDefault();if(!e.clipboardData){return;}var _ClipboardEventUtils$=ClipboardEventUtils.getTextData(e.clipboardData),_ClipboardEventUtils$2=_slicedToArray(_ClipboardEventUtils$,2),text=_ClipboardEventUtils$2[0],metadata=_ClipboardEventUtils$2[1];if(!text){return;}// try the in-memory store
metadata=metadata||InMemoryClipboardMetadataManager.INSTANCE.get(text);_this._onPaste.fire({text:text,metadata:metadata});}));_this._register(_this._textArea.onFocus(function(){var hadFocus=_this._hasFocus;_this._setHasFocus(true);if(_this._browser.isSafari&&!hadFocus&&_this._hasFocus){// When "tabbing into" the textarea, immediately after dispatching the 'focus' event,
// Safari will always move the selection at offset 0 in the textarea
_this._asyncFocusGainWriteScreenReaderContent.schedule();}}));_this._register(_this._textArea.onBlur(function(){if(_this._currentComposition){// See https://github.com/microsoft/vscode/issues/112621
// where compositionend is not triggered when the editor
// is taken off-dom during a composition
// Clear the flag to be able to write to the textarea
_this._currentComposition=null;// Clear the textarea to avoid an unwanted cursor type
_this.writeScreenReaderContent('blurWithoutCompositionEnd');// Fire artificial composition end
_this._onCompositionEnd.fire();}_this._setHasFocus(false);}));_this._register(_this._textArea.onSyntheticTap(function(){if(_this._browser.isAndroid&&_this._currentComposition){// on Android, tapping does not cancel the current composition, so the
// textarea is stuck showing the old composition
// Clear the flag to be able to write to the textarea
_this._currentComposition=null;// Clear the textarea to avoid an unwanted cursor type
_this.writeScreenReaderContent('tapWithoutCompositionEnd');// Fire artificial composition end
_this._onCompositionEnd.fire();}}));return _this;}_createClass(TextAreaInput,[{key:"_installSelectionChangeListener",value:function _installSelectionChangeListener(){var _this2=this;// See https://github.com/microsoft/vscode/issues/27216 and https://github.com/microsoft/vscode/issues/98256
// When using a Braille display, it is possible for users to reposition the
// system caret. This is reflected in Chrome as a `selectionchange` event.
//
// The `selectionchange` event appears to be emitted under numerous other circumstances,
// so it is quite a challenge to distinguish a `selectionchange` coming in from a user
// using a Braille display from all the other cases.
//
// The problems with the `selectionchange` event are:
//  * the event is emitted when the textarea is focused programmatically -- textarea.focus()
//  * the event is emitted when the selection is changed in the textarea programmatically -- textarea.setSelectionRange(...)
//  * the event is emitted when the value of the textarea is changed programmatically -- textarea.value = '...'
//  * the event is emitted when tabbing into the textarea
//  * the event is emitted asynchronously (sometimes with a delay as high as a few tens of ms)
//  * the event sometimes comes in bursts for a single logical textarea operation
// `selectionchange` events often come multiple times for a single logical change
// so throttle multiple `selectionchange` events that burst in a short period of time.
var previousSelectionChangeEventTime=0;return _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener(document,'selectionchange',function(e){if(!_this2._hasFocus){return;}if(_this2._currentComposition){return;}if(!_this2._browser.isChrome){// Support only for Chrome until testing happens on other browsers
return;}var now=Date.now();var delta1=now-previousSelectionChangeEventTime;previousSelectionChangeEventTime=now;if(delta1<5){// received another `selectionchange` event within 5ms of the previous `selectionchange` event
// => ignore it
return;}var delta2=now-_this2._textArea.getIgnoreSelectionChangeTime();_this2._textArea.resetSelectionChangeTime();if(delta2<100){// received a `selectionchange` event within 100ms since we touched the textarea
// => ignore it, since we caused it
return;}if(!_this2._textAreaState.selectionStartPosition||!_this2._textAreaState.selectionEndPosition){// Cannot correlate a position in the textarea with a position in the editor...
return;}var newValue=_this2._textArea.getValue();if(_this2._textAreaState.value!==newValue){// Cannot correlate a position in the textarea with a position in the editor...
return;}var newSelectionStart=_this2._textArea.getSelectionStart();var newSelectionEnd=_this2._textArea.getSelectionEnd();if(_this2._textAreaState.selectionStart===newSelectionStart&&_this2._textAreaState.selectionEnd===newSelectionEnd){// Nothing to do...
return;}var _newSelectionStartPosition=_this2._textAreaState.deduceEditorPosition(newSelectionStart);var newSelectionStartPosition=_this2._host.deduceModelPosition(_newSelectionStartPosition[0],_newSelectionStartPosition[1],_newSelectionStartPosition[2]);var _newSelectionEndPosition=_this2._textAreaState.deduceEditorPosition(newSelectionEnd);var newSelectionEndPosition=_this2._host.deduceModelPosition(_newSelectionEndPosition[0],_newSelectionEndPosition[1],_newSelectionEndPosition[2]);var newSelection=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_9__/* .Selection */ .Y(newSelectionStartPosition.lineNumber,newSelectionStartPosition.column,newSelectionEndPosition.lineNumber,newSelectionEndPosition.column);_this2._onSelectionChangeRequest.fire(newSelection);});}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(TextAreaInput.prototype),"dispose",this).call(this);if(this._selectionChangeListener){this._selectionChangeListener.dispose();this._selectionChangeListener=null;}}},{key:"focusTextArea",value:function focusTextArea(){// Setting this._hasFocus and writing the screen reader content
// will result in a focus() and setSelectionRange() in the textarea
this._setHasFocus(true);// If the editor is off DOM, focus cannot be really set, so let's double check that we have managed to set the focus
this.refreshFocusState();}},{key:"isFocused",value:function isFocused(){return this._hasFocus;}},{key:"refreshFocusState",value:function refreshFocusState(){this._setHasFocus(this._textArea.hasFocus());}},{key:"_setHasFocus",value:function _setHasFocus(newHasFocus){if(this._hasFocus===newHasFocus){// no change
return;}this._hasFocus=newHasFocus;if(this._selectionChangeListener){this._selectionChangeListener.dispose();this._selectionChangeListener=null;}if(this._hasFocus){this._selectionChangeListener=this._installSelectionChangeListener();}if(this._hasFocus){this.writeScreenReaderContent('focusgain');}if(this._hasFocus){this._onFocus.fire();}else{this._onBlur.fire();}}},{key:"_setAndWriteTextAreaState",value:function _setAndWriteTextAreaState(reason,textAreaState){if(!this._hasFocus){textAreaState=textAreaState.collapseSelection();}textAreaState.writeToTextArea(reason,this._textArea,this._hasFocus);this._textAreaState=textAreaState;}},{key:"writeScreenReaderContent",value:function writeScreenReaderContent(reason){if(this._currentComposition){// Do not write to the text area when doing composition
return;}this._setAndWriteTextAreaState(reason,this._host.getScreenReaderContent(this._textAreaState));}},{key:"_ensureClipboardGetsEditorSelection",value:function _ensureClipboardGetsEditorSelection(e){var dataToCopy=this._host.getDataToCopy();var storedMetadata={version:1,isFromEmptySelection:dataToCopy.isFromEmptySelection,multicursorText:dataToCopy.multicursorText,mode:dataToCopy.mode};InMemoryClipboardMetadataManager.INSTANCE.set(// When writing "LINE\r\n" to the clipboard and then pasting,
// Firefox pastes "LINE\n", so let's work around this quirk
this._browser.isFirefox?dataToCopy.text.replace(/\r\n/g,'\n'):dataToCopy.text,storedMetadata);e.preventDefault();if(e.clipboardData){ClipboardEventUtils.setTextData(e.clipboardData,dataToCopy.text,dataToCopy.html,storedMetadata);}}}]);return TextAreaInput;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__/* .Disposable */ .JT);var ClipboardEventUtils=/*#__PURE__*/function(){function ClipboardEventUtils(){_classCallCheck(this,ClipboardEventUtils);}_createClass(ClipboardEventUtils,null,[{key:"getTextData",value:function getTextData(clipboardData){var text=clipboardData.getData(_base_common_mime_js__WEBPACK_IMPORTED_MODULE_6__/* .Mimes.text */ .v.text);var metadata=null;var rawmetadata=clipboardData.getData('vscode-editor-data');if(typeof rawmetadata==='string'){try{metadata=JSON.parse(rawmetadata);if(metadata.version!==1){metadata=null;}}catch(err){// no problem!
}}return[text,metadata];}},{key:"setTextData",value:function setTextData(clipboardData,text,html,metadata){clipboardData.setData(_base_common_mime_js__WEBPACK_IMPORTED_MODULE_6__/* .Mimes.text */ .v.text,text);if(typeof html==='string'){clipboardData.setData('text/html',html);}clipboardData.setData('vscode-editor-data',JSON.stringify(metadata));}}]);return ClipboardEventUtils;}();var TextAreaWrapper=/*#__PURE__*/function(_Disposable2){_inherits(TextAreaWrapper,_Disposable2);var _super2=_createSuper(TextAreaWrapper);function TextAreaWrapper(_actual){var _this3;_classCallCheck(this,TextAreaWrapper);_this3=_super2.call(this);_this3._actual=_actual;_this3.onKeyDown=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'keydown')).event;_this3.onKeyUp=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'keyup')).event;_this3.onCompositionStart=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'compositionstart')).event;_this3.onCompositionUpdate=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'compositionupdate')).event;_this3.onCompositionEnd=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'compositionend')).event;_this3.onInput=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'input')).event;_this3.onCut=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'cut')).event;_this3.onCopy=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'copy')).event;_this3.onPaste=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'paste')).event;_this3.onFocus=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'focus')).event;_this3.onBlur=_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.createEventEmitter(_this3._actual,'blur')).event;_this3._onSyntheticTap=_this3._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_4__/* .Emitter */ .Q5());_this3.onSyntheticTap=_this3._onSyntheticTap.event;_this3._ignoreSelectionChangeTime=0;_this3._register(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener(_this3._actual,TextAreaSyntethicEvents.Tap,function(){return _this3._onSyntheticTap.fire();}));return _this3;}_createClass(TextAreaWrapper,[{key:"hasFocus",value:function hasFocus(){var shadowRoot=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getShadowRoot(this._actual);if(shadowRoot){return shadowRoot.activeElement===this._actual;}else if(_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.isInDOM(this._actual)){return document.activeElement===this._actual;}else{return false;}}},{key:"setIgnoreSelectionChangeTime",value:function setIgnoreSelectionChangeTime(reason){this._ignoreSelectionChangeTime=Date.now();}},{key:"getIgnoreSelectionChangeTime",value:function getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime;}},{key:"resetSelectionChangeTime",value:function resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0;}},{key:"getValue",value:function getValue(){// console.log('current value: ' + this._textArea.value);
return this._actual.value;}},{key:"setValue",value:function setValue(reason,value){var textArea=this._actual;if(textArea.value===value){// No change
return;}// console.log('reason: ' + reason + ', current value: ' + textArea.value + ' => new value: ' + value);
this.setIgnoreSelectionChangeTime('setValue');textArea.value=value;}},{key:"getSelectionStart",value:function getSelectionStart(){return this._actual.selectionDirection==='backward'?this._actual.selectionEnd:this._actual.selectionStart;}},{key:"getSelectionEnd",value:function getSelectionEnd(){return this._actual.selectionDirection==='backward'?this._actual.selectionStart:this._actual.selectionEnd;}},{key:"setSelectionRange",value:function setSelectionRange(reason,selectionStart,selectionEnd){var textArea=this._actual;var activeElement=null;var shadowRoot=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.getShadowRoot(textArea);if(shadowRoot){activeElement=shadowRoot.activeElement;}else{activeElement=document.activeElement;}var currentIsFocused=activeElement===textArea;var currentSelectionStart=textArea.selectionStart;var currentSelectionEnd=textArea.selectionEnd;if(currentIsFocused&&currentSelectionStart===selectionStart&&currentSelectionEnd===selectionEnd){// No change
// Firefox iframe bug https://github.com/microsoft/monaco-editor/issues/643#issuecomment-367871377
if(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isFirefox&&window.parent!==window){textArea.focus();}return;}// console.log('reason: ' + reason + ', setSelectionRange: ' + selectionStart + ' -> ' + selectionEnd);
if(currentIsFocused){// No need to focus, only need to change the selection range
this.setIgnoreSelectionChangeTime('setSelectionRange');textArea.setSelectionRange(selectionStart,selectionEnd);if(_base_browser_browser_js__WEBPACK_IMPORTED_MODULE_0__.isFirefox&&window.parent!==window){textArea.focus();}return;}// If the focus is outside the textarea, browsers will try really hard to reveal the textarea.
// Here, we try to undo the browser's desperate reveal.
try{var scrollState=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.saveParentsScrollTop(textArea);this.setIgnoreSelectionChangeTime('setSelectionRange');textArea.focus();textArea.setSelectionRange(selectionStart,selectionEnd);_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_1__.restoreParentsScrollTop(textArea,scrollState);}catch(e){// Sometimes IE throws when setting selection (e.g. textarea is off-DOM)
}}}]);return TextAreaWrapper;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_5__/* .Disposable */ .JT);

/***/ }),

/***/ 50417:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "al": () => (/* binding */ _debugComposition),
/* harmony export */   "ee": () => (/* binding */ PagedScreenReaderStrategy),
/* harmony export */   "un": () => (/* binding */ TextAreaState)
/* harmony export */ });
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41712);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96844);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var _debugComposition=false;var TextAreaState=/*#__PURE__*/function(){function TextAreaState(value,selectionStart,selectionEnd,selectionStartPosition,selectionEndPosition){_classCallCheck(this,TextAreaState);this.value=value;this.selectionStart=selectionStart;this.selectionEnd=selectionEnd;this.selectionStartPosition=selectionStartPosition;this.selectionEndPosition=selectionEndPosition;}_createClass(TextAreaState,[{key:"toString",value:function toString(){return"[ <".concat(this.value,">, selectionStart: ").concat(this.selectionStart,", selectionEnd: ").concat(this.selectionEnd,"]");}},{key:"collapseSelection",value:function collapseSelection(){return new TextAreaState(this.value,this.value.length,this.value.length,null,null);}},{key:"writeToTextArea",value:function writeToTextArea(reason,textArea,select){if(_debugComposition){console.log("writeToTextArea ".concat(reason,": ").concat(this.toString()));}textArea.setValue(reason,this.value);if(select){textArea.setSelectionRange(reason,this.selectionStart,this.selectionEnd);}}},{key:"deduceEditorPosition",value:function deduceEditorPosition(offset){if(offset<=this.selectionStart){var str=this.value.substring(offset,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,str,-1);}if(offset>=this.selectionEnd){var _str=this.value.substring(this.selectionEnd,offset);return this._finishDeduceEditorPosition(this.selectionEndPosition,_str,1);}var str1=this.value.substring(this.selectionStart,offset);if(str1.indexOf(String.fromCharCode(8230))===-1){return this._finishDeduceEditorPosition(this.selectionStartPosition,str1,1);}var str2=this.value.substring(offset,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,str2,-1);}},{key:"_finishDeduceEditorPosition",value:function _finishDeduceEditorPosition(anchor,deltaText,signum){var lineFeedCnt=0;var lastLineFeedIndex=-1;while((lastLineFeedIndex=deltaText.indexOf('\n',lastLineFeedIndex+1))!==-1){lineFeedCnt++;}return[anchor,signum*deltaText.length,lineFeedCnt];}}],[{key:"readFromTextArea",value:function readFromTextArea(textArea){return new TextAreaState(textArea.getValue(),textArea.getSelectionStart(),textArea.getSelectionEnd(),null,null);}},{key:"deduceInput",value:function deduceInput(previousState,currentState,couldBeEmojiInput){if(!previousState){// This is the EMPTY state
return{text:'',replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};}if(_debugComposition){console.log('------------------------deduceInput');console.log("PREVIOUS STATE: ".concat(previousState.toString()));console.log("CURRENT STATE: ".concat(currentState.toString()));}var prefixLength=Math.min(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .commonPrefixLength */ .Mh(previousState.value,currentState.value),previousState.selectionStart,currentState.selectionStart);var suffixLength=Math.min(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .commonSuffixLength */ .P1(previousState.value,currentState.value),previousState.value.length-previousState.selectionEnd,currentState.value.length-currentState.selectionEnd);var previousValue=previousState.value.substring(prefixLength,previousState.value.length-suffixLength);var currentValue=currentState.value.substring(prefixLength,currentState.value.length-suffixLength);var previousSelectionStart=previousState.selectionStart-prefixLength;var previousSelectionEnd=previousState.selectionEnd-prefixLength;var currentSelectionStart=currentState.selectionStart-prefixLength;var currentSelectionEnd=currentState.selectionEnd-prefixLength;if(_debugComposition){console.log("AFTER DIFFING PREVIOUS STATE: <".concat(previousValue,">, selectionStart: ").concat(previousSelectionStart,", selectionEnd: ").concat(previousSelectionEnd));console.log("AFTER DIFFING CURRENT STATE: <".concat(currentValue,">, selectionStart: ").concat(currentSelectionStart,", selectionEnd: ").concat(currentSelectionEnd));}if(currentSelectionStart===currentSelectionEnd){// no current selection
var _replacePreviousCharacters=previousState.selectionStart-prefixLength;if(_debugComposition){console.log("REMOVE PREVIOUS: ".concat(_replacePreviousCharacters," chars"));}return{text:currentValue,replacePrevCharCnt:_replacePreviousCharacters,replaceNextCharCnt:0,positionDelta:0};}// there is a current selection => composition case
var replacePreviousCharacters=previousSelectionEnd-previousSelectionStart;return{text:currentValue,replacePrevCharCnt:replacePreviousCharacters,replaceNextCharCnt:0,positionDelta:0};}},{key:"deduceAndroidCompositionInput",value:function deduceAndroidCompositionInput(previousState,currentState){if(!previousState){// This is the EMPTY state
return{text:'',replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};}if(_debugComposition){console.log('------------------------deduceAndroidCompositionInput');console.log("PREVIOUS STATE: ".concat(previousState.toString()));console.log("CURRENT STATE: ".concat(currentState.toString()));}if(previousState.value===currentState.value){return{text:'',replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:currentState.selectionEnd-previousState.selectionEnd};}var prefixLength=Math.min(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .commonPrefixLength */ .Mh(previousState.value,currentState.value),previousState.selectionEnd);var suffixLength=Math.min(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .commonSuffixLength */ .P1(previousState.value,currentState.value),previousState.value.length-previousState.selectionEnd);var previousValue=previousState.value.substring(prefixLength,previousState.value.length-suffixLength);var currentValue=currentState.value.substring(prefixLength,currentState.value.length-suffixLength);var previousSelectionStart=previousState.selectionStart-prefixLength;var previousSelectionEnd=previousState.selectionEnd-prefixLength;var currentSelectionStart=currentState.selectionStart-prefixLength;var currentSelectionEnd=currentState.selectionEnd-prefixLength;if(_debugComposition){console.log("AFTER DIFFING PREVIOUS STATE: <".concat(previousValue,">, selectionStart: ").concat(previousSelectionStart,", selectionEnd: ").concat(previousSelectionEnd));console.log("AFTER DIFFING CURRENT STATE: <".concat(currentValue,">, selectionStart: ").concat(currentSelectionStart,", selectionEnd: ").concat(currentSelectionEnd));}return{text:currentValue,replacePrevCharCnt:previousSelectionEnd,replaceNextCharCnt:previousValue.length-previousSelectionEnd,positionDelta:currentSelectionEnd-currentValue.length};}}]);return TextAreaState;}();TextAreaState.EMPTY=new TextAreaState('',0,0,null,null);var PagedScreenReaderStrategy=/*#__PURE__*/function(){function PagedScreenReaderStrategy(){_classCallCheck(this,PagedScreenReaderStrategy);}_createClass(PagedScreenReaderStrategy,null,[{key:"_getPageOfLine",value:function _getPageOfLine(lineNumber,linesPerPage){return Math.floor((lineNumber-1)/linesPerPage);}},{key:"_getRangeForPage",value:function _getRangeForPage(page,linesPerPage){var offset=page*linesPerPage;var startLineNumber=offset+1;var endLineNumber=offset+linesPerPage;return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_1__/* .Range */ .e(startLineNumber,1,endLineNumber+1,1);}},{key:"fromEditorSelection",value:function fromEditorSelection(previousState,model,selection,linesPerPage,trimLongText){var selectionStartPage=PagedScreenReaderStrategy._getPageOfLine(selection.startLineNumber,linesPerPage);var selectionStartPageRange=PagedScreenReaderStrategy._getRangeForPage(selectionStartPage,linesPerPage);var selectionEndPage=PagedScreenReaderStrategy._getPageOfLine(selection.endLineNumber,linesPerPage);var selectionEndPageRange=PagedScreenReaderStrategy._getRangeForPage(selectionEndPage,linesPerPage);var pretextRange=selectionStartPageRange.intersectRanges(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_1__/* .Range */ .e(1,1,selection.startLineNumber,selection.startColumn));var pretext=model.getValueInRange(pretextRange,1/* LF */);var lastLine=model.getLineCount();var lastLineMaxColumn=model.getLineMaxColumn(lastLine);var posttextRange=selectionEndPageRange.intersectRanges(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_1__/* .Range */ .e(selection.endLineNumber,selection.endColumn,lastLine,lastLineMaxColumn));var posttext=model.getValueInRange(posttextRange,1/* LF */);var text;if(selectionStartPage===selectionEndPage||selectionStartPage+1===selectionEndPage){// take full selection
text=model.getValueInRange(selection,1/* LF */);}else{var selectionRange1=selectionStartPageRange.intersectRanges(selection);var selectionRange2=selectionEndPageRange.intersectRanges(selection);text=model.getValueInRange(selectionRange1,1/* LF */)+String.fromCharCode(8230)+model.getValueInRange(selectionRange2,1/* LF */);}// Chromium handles very poorly text even of a few thousand chars
// Cut text to avoid stalling the entire UI
if(trimLongText){var LIMIT_CHARS=500;if(pretext.length>LIMIT_CHARS){pretext=pretext.substring(pretext.length-LIMIT_CHARS,pretext.length);}if(posttext.length>LIMIT_CHARS){posttext=posttext.substring(0,LIMIT_CHARS);}if(text.length>2*LIMIT_CHARS){text=text.substring(0,LIMIT_CHARS)+String.fromCharCode(8230)+text.substring(text.length-LIMIT_CHARS,text.length);}}return new TextAreaState(pretext+text+posttext,pretext.length,pretext.length+text.length,new _common_core_position_js__WEBPACK_IMPORTED_MODULE_2__/* .Position */ .L(selection.startLineNumber,selection.startColumn),new _common_core_position_js__WEBPACK_IMPORTED_MODULE_2__/* .Position */ .L(selection.endLineNumber,selection.endColumn));}}]);return PagedScreenReaderStrategy;}();

/***/ })

}]);