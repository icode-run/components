"use strict";
(self["webpackChunkicode_run"] = self["webpackChunkicode_run"] || []).push([["vendors-my-cli_node_modules_monaco-editor_esm_vs_editor_common_services_editorSimpleWorker_js-7c1e36"],{

/***/ 1412:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ createMonacoBaseAPI)
/* harmony export */ });
/* unused harmony export KeyMod */
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82643);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36223);
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61273);
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(91134);
/* harmony import */ var _core_position_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(60721);
/* harmony import */ var _core_range_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(96844);
/* harmony import */ var _core_selection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(33199);
/* harmony import */ var _languages_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(98480);
/* harmony import */ var _standalone_standaloneEnums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(58773);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var KeyMod=/*#__PURE__*/function(){function KeyMod(){_classCallCheck(this,KeyMod);}_createClass(KeyMod,null,[{key:"chord",value:function chord(firstPart,secondPart){return (0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_2__/* .KeyChord */ .gx)(firstPart,secondPart);}}]);return KeyMod;}();KeyMod.CtrlCmd=2048/* CtrlCmd */;KeyMod.Shift=1024/* Shift */;KeyMod.Alt=512/* Alt */;KeyMod.WinCtrl=256/* WinCtrl */;function createMonacoBaseAPI(){return{editor:undefined,languages:undefined,CancellationTokenSource:_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_0__/* .CancellationTokenSource */ .A,Emitter:_base_common_event_js__WEBPACK_IMPORTED_MODULE_1__/* .Emitter */ .Q5,KeyCode:_standalone_standaloneEnums_js__WEBPACK_IMPORTED_MODULE_5__/* .KeyCode */ .VD,KeyMod:KeyMod,Position:_core_position_js__WEBPACK_IMPORTED_MODULE_6__/* .Position */ .L,Range:_core_range_js__WEBPACK_IMPORTED_MODULE_7__/* .Range */ .e,Selection:_core_selection_js__WEBPACK_IMPORTED_MODULE_8__/* .Selection */ .Y,SelectionDirection:_standalone_standaloneEnums_js__WEBPACK_IMPORTED_MODULE_5__/* .SelectionDirection */ .a$,MarkerSeverity:_standalone_standaloneEnums_js__WEBPACK_IMPORTED_MODULE_5__/* .MarkerSeverity */ .ZL,MarkerTag:_standalone_standaloneEnums_js__WEBPACK_IMPORTED_MODULE_5__/* .MarkerTag */ .eB,Uri:_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__/* .URI */ .o,Token:_languages_js__WEBPACK_IMPORTED_MODULE_4__/* .Token */ .WU};}

/***/ }),

/***/ 7461:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ky": () => (/* binding */ EditorSimpleWorker)
/* harmony export */ });
/* unused harmony exports MirrorModel, create */
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_diff_diff_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94657);
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63638);
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(91134);
/* harmony import */ var _core_position_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(60721);
/* harmony import */ var _core_range_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(96844);
/* harmony import */ var _diff_diffComputer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(38850);
/* harmony import */ var _model_mirrorTextModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22648);
/* harmony import */ var _core_wordHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(44049);
/* harmony import */ var _languages_linkComputer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(25091);
/* harmony import */ var _languages_supports_inplaceReplaceSupport_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(91142);
/* harmony import */ var _editorBaseApi_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(1412);
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(918);
/* harmony import */ var _base_common_stopwatch_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(76660);
/* harmony import */ var _languages_unicodeTextModelHighlighter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(22007);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};/**
 * @internal
 */var MirrorModel=/*#__PURE__*/function(_BaseMirrorModel){_inherits(MirrorModel,_BaseMirrorModel);var _super=_createSuper(MirrorModel);function MirrorModel(){_classCallCheck(this,MirrorModel);return _super.apply(this,arguments);}_createClass(MirrorModel,[{key:"uri",get:function get(){return this._uri;}},{key:"eol",get:function get(){return this._eol;}},{key:"getValue",value:function getValue(){return this.getText();}},{key:"getLinesContent",value:function getLinesContent(){return this._lines.slice(0);}},{key:"getLineCount",value:function getLineCount(){return this._lines.length;}},{key:"getLineContent",value:function getLineContent(lineNumber){return this._lines[lineNumber-1];}},{key:"getWordAtPosition",value:function getWordAtPosition(position,wordDefinition){var wordAtText=(0,_core_wordHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .getWordAtText */ .t2)(position.column,(0,_core_wordHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .ensureValidWordDefinition */ .eq)(wordDefinition),this._lines[position.lineNumber-1],0);if(wordAtText){return new _core_range_js__WEBPACK_IMPORTED_MODULE_11__/* .Range */ .e(position.lineNumber,wordAtText.startColumn,position.lineNumber,wordAtText.endColumn);}return null;}},{key:"words",value:function words(wordDefinition){var lines=this._lines;var wordenize=this._wordenize.bind(this);var lineNumber=0;var lineText='';var wordRangesIdx=0;var wordRanges=[];return _defineProperty({},Symbol.iterator,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(false){}if(!(wordRangesIdx<wordRanges.length)){_context.next=8;break;}value=lineText.substring(wordRanges[wordRangesIdx].start,wordRanges[wordRangesIdx].end);wordRangesIdx+=1;_context.next=6;return value;case 6:_context.next=16;break;case 8:if(!(lineNumber<lines.length)){_context.next=15;break;}lineText=lines[lineNumber];wordRanges=wordenize(lineText,wordDefinition);wordRangesIdx=0;lineNumber+=1;_context.next=16;break;case 15:return _context.abrupt("break",18);case 16:_context.next=0;break;case 18:case"end":return _context.stop();}}},_callee);}));}},{key:"getLineWords",value:function getLineWords(lineNumber,wordDefinition){var content=this._lines[lineNumber-1];var ranges=this._wordenize(content,wordDefinition);var words=[];var _iterator=_createForOfIteratorHelper(ranges),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var range=_step.value;words.push({word:content.substring(range.start,range.end),startColumn:range.start+1,endColumn:range.end+1});}}catch(err){_iterator.e(err);}finally{_iterator.f();}return words;}},{key:"_wordenize",value:function _wordenize(content,wordDefinition){var result=[];var match;wordDefinition.lastIndex=0;// reset lastIndex just to be sure
while(match=wordDefinition.exec(content)){if(match[0].length===0){// it did match the empty string
break;}result.push({start:match.index,end:match.index+match[0].length});}return result;}},{key:"getValueInRange",value:function getValueInRange(range){range=this._validateRange(range);if(range.startLineNumber===range.endLineNumber){return this._lines[range.startLineNumber-1].substring(range.startColumn-1,range.endColumn-1);}var lineEnding=this._eol;var startLineIndex=range.startLineNumber-1;var endLineIndex=range.endLineNumber-1;var resultLines=[];resultLines.push(this._lines[startLineIndex].substring(range.startColumn-1));for(var i=startLineIndex+1;i<endLineIndex;i++){resultLines.push(this._lines[i]);}resultLines.push(this._lines[endLineIndex].substring(0,range.endColumn-1));return resultLines.join(lineEnding);}},{key:"offsetAt",value:function offsetAt(position){position=this._validatePosition(position);this._ensureLineStarts();return this._lineStarts.getPrefixSum(position.lineNumber-2)+(position.column-1);}},{key:"positionAt",value:function positionAt(offset){offset=Math.floor(offset);offset=Math.max(0,offset);this._ensureLineStarts();var out=this._lineStarts.getIndexOf(offset);var lineLength=this._lines[out.index].length;// Ensure we return a valid position
return{lineNumber:1+out.index,column:1+Math.min(out.remainder,lineLength)};}},{key:"_validateRange",value:function _validateRange(range){var start=this._validatePosition({lineNumber:range.startLineNumber,column:range.startColumn});var end=this._validatePosition({lineNumber:range.endLineNumber,column:range.endColumn});if(start.lineNumber!==range.startLineNumber||start.column!==range.startColumn||end.lineNumber!==range.endLineNumber||end.column!==range.endColumn){return{startLineNumber:start.lineNumber,startColumn:start.column,endLineNumber:end.lineNumber,endColumn:end.column};}return range;}},{key:"_validatePosition",value:function _validatePosition(position){if(!_core_position_js__WEBPACK_IMPORTED_MODULE_12__/* .Position.isIPosition */ .L.isIPosition(position)){throw new Error('bad position');}var lineNumber=position.lineNumber,column=position.column;var hasChanged=false;if(lineNumber<1){lineNumber=1;column=1;hasChanged=true;}else if(lineNumber>this._lines.length){lineNumber=this._lines.length;column=this._lines[lineNumber-1].length+1;hasChanged=true;}else{var maxCharacter=this._lines[lineNumber-1].length+1;if(column<1){column=1;hasChanged=true;}else if(column>maxCharacter){column=maxCharacter;hasChanged=true;}}if(!hasChanged){return position;}else{return{lineNumber:lineNumber,column:column};}}}]);return MirrorModel;}(_model_mirrorTextModel_js__WEBPACK_IMPORTED_MODULE_5__/* .MirrorTextModel */ .v);/**
 * @internal
 */var EditorSimpleWorker=/*#__PURE__*/function(){function EditorSimpleWorker(host,foreignModuleFactory){_classCallCheck(this,EditorSimpleWorker);this._host=host;this._models=Object.create(null);this._foreignModuleFactory=foreignModuleFactory;this._foreignModule=null;}_createClass(EditorSimpleWorker,[{key:"dispose",value:function dispose(){this._models=Object.create(null);}},{key:"_getModel",value:function _getModel(uri){return this._models[uri];}},{key:"_getModels",value:function _getModels(){var _this=this;var all=[];Object.keys(this._models).forEach(function(key){return all.push(_this._models[key]);});return all;}},{key:"acceptNewModel",value:function acceptNewModel(data){this._models[data.url]=new MirrorModel(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_3__/* .URI.parse */ .o.parse(data.url),data.lines,data.EOL,data.versionId);}},{key:"acceptModelChanged",value:function acceptModelChanged(strURL,e){if(!this._models[strURL]){return;}var model=this._models[strURL];model.onEvents(e);}},{key:"acceptRemovedModel",value:function acceptRemovedModel(strURL){if(!this._models[strURL]){return;}delete this._models[strURL];}},{key:"computeUnicodeHighlights",value:function computeUnicodeHighlights(url,options,range){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee2(){var model;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:model=this._getModel(url);if(model){_context2.next=3;break;}return _context2.abrupt("return",{ranges:[],hasMore:false,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0});case 3:return _context2.abrupt("return",_languages_unicodeTextModelHighlighter_js__WEBPACK_IMPORTED_MODULE_10__/* .UnicodeTextModelHighlighter.computeUnicodeHighlights */ .a.computeUnicodeHighlights(model,options,range));case 4:case"end":return _context2.stop();}}},_callee2,this);}));}// ---- BEGIN diff --------------------------------------------------------------------------
},{key:"computeDiff",value:function computeDiff(originalUrl,modifiedUrl,ignoreTrimWhitespace,maxComputationTime){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee3(){var original,modified,originalLines,modifiedLines,diffComputer,diffResult,identical;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:original=this._getModel(originalUrl);modified=this._getModel(modifiedUrl);if(!(!original||!modified)){_context3.next=4;break;}return _context3.abrupt("return",null);case 4:originalLines=original.getLinesContent();modifiedLines=modified.getLinesContent();diffComputer=new _diff_diffComputer_js__WEBPACK_IMPORTED_MODULE_4__/* .DiffComputer */ .g(originalLines,modifiedLines,{shouldComputeCharChanges:true,shouldPostProcessCharChanges:true,shouldIgnoreTrimWhitespace:ignoreTrimWhitespace,shouldMakePrettyDiff:true,maxComputationTime:maxComputationTime});diffResult=diffComputer.computeDiff();identical=diffResult.changes.length>0?false:this._modelsAreIdentical(original,modified);return _context3.abrupt("return",{quitEarly:diffResult.quitEarly,identical:identical,changes:diffResult.changes});case 10:case"end":return _context3.stop();}}},_callee3,this);}));}},{key:"_modelsAreIdentical",value:function _modelsAreIdentical(original,modified){var originalLineCount=original.getLineCount();var modifiedLineCount=modified.getLineCount();if(originalLineCount!==modifiedLineCount){return false;}for(var line=1;line<=originalLineCount;line++){var originalLine=original.getLineContent(line);var modifiedLine=modified.getLineContent(line);if(originalLine!==modifiedLine){return false;}}return true;}},{key:"computeMoreMinimalEdits",value:function computeMoreMinimalEdits(modelUrl,edits){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee4(){var model,result,lastEol,_iterator2,_step2,_step2$value,range,text,eol,original,changes,editOffset,_iterator3,_step3,change,start,end,newEdit;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:model=this._getModel(modelUrl);if(model){_context4.next=3;break;}return _context4.abrupt("return",edits);case 3:result=[];lastEol=undefined;edits=edits.slice(0).sort(function(a,b){if(a.range&&b.range){return _core_range_js__WEBPACK_IMPORTED_MODULE_11__/* .Range.compareRangesUsingStarts */ .e.compareRangesUsingStarts(a.range,b.range);}// eol only changes should go to the end
var aRng=a.range?0:1;var bRng=b.range?0:1;return aRng-bRng;});_iterator2=_createForOfIteratorHelper(edits);_context4.prev=7;_iterator2.s();case 9:if((_step2=_iterator2.n()).done){_context4.next=27;break;}_step2$value=_step2.value,range=_step2$value.range,text=_step2$value.text,eol=_step2$value.eol;if(typeof eol==='number'){lastEol=eol;}if(!(_core_range_js__WEBPACK_IMPORTED_MODULE_11__/* .Range.isEmpty */ .e.isEmpty(range)&&!text)){_context4.next=14;break;}return _context4.abrupt("continue",25);case 14:original=model.getValueInRange(range);text=text.replace(/\r\n|\n|\r/g,model.eol);if(!(original===text)){_context4.next=18;break;}return _context4.abrupt("continue",25);case 18:if(!(Math.max(text.length,original.length)>EditorSimpleWorker._diffLimit)){_context4.next=21;break;}result.push({range:range,text:text});return _context4.abrupt("continue",25);case 21:// compute diff between original and edit.text
changes=(0,_base_common_diff_diff_js__WEBPACK_IMPORTED_MODULE_1__/* .stringDiff */ .a$)(original,text,false);editOffset=model.offsetAt(_core_range_js__WEBPACK_IMPORTED_MODULE_11__/* .Range.lift */ .e.lift(range).getStartPosition());_iterator3=_createForOfIteratorHelper(changes);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){change=_step3.value;start=model.positionAt(editOffset+change.originalStart);end=model.positionAt(editOffset+change.originalStart+change.originalLength);newEdit={text:text.substr(change.modifiedStart,change.modifiedLength),range:{startLineNumber:start.lineNumber,startColumn:start.column,endLineNumber:end.lineNumber,endColumn:end.column}};if(model.getValueInRange(newEdit.range)!==newEdit.text){result.push(newEdit);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}case 25:_context4.next=9;break;case 27:_context4.next=32;break;case 29:_context4.prev=29;_context4.t0=_context4["catch"](7);_iterator2.e(_context4.t0);case 32:_context4.prev=32;_iterator2.f();return _context4.finish(32);case 35:if(typeof lastEol==='number'){result.push({eol:lastEol,text:'',range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}});}return _context4.abrupt("return",result);case 37:case"end":return _context4.stop();}}},_callee4,this,[[7,29,32,35]]);}));}// ---- END minimal edits ---------------------------------------------------------------
},{key:"computeLinks",value:function computeLinks(modelUrl){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee5(){var model;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:model=this._getModel(modelUrl);if(model){_context5.next=3;break;}return _context5.abrupt("return",null);case 3:return _context5.abrupt("return",(0,_languages_linkComputer_js__WEBPACK_IMPORTED_MODULE_13__/* .computeLinks */ .E)(model));case 4:case"end":return _context5.stop();}}},_callee5,this);}));}},{key:"textualSuggest",value:function textualSuggest(modelUrls,leadingWord,wordDef,wordDefFlags){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee6(){var sw,wordDefRegExp,seen,_iterator4,_step4,url,model,_iterator5,_step5,word;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:sw=new _base_common_stopwatch_js__WEBPACK_IMPORTED_MODULE_9__/* .StopWatch */ .G(true);wordDefRegExp=new RegExp(wordDef,wordDefFlags);seen=new Set();_iterator4=_createForOfIteratorHelper(modelUrls);_context6.prev=4;_iterator4.s();case 6:if((_step4=_iterator4.n()).done){_context6.next=33;break;}url=_step4.value;model=this._getModel(url);if(model){_context6.next=11;break;}return _context6.abrupt("continue",31);case 11:_iterator5=_createForOfIteratorHelper(model.words(wordDefRegExp));_context6.prev=12;_iterator5.s();case 14:if((_step5=_iterator5.n()).done){_context6.next=23;break;}word=_step5.value;if(!(word===leadingWord||!isNaN(Number(word)))){_context6.next=18;break;}return _context6.abrupt("continue",21);case 18:seen.add(word);if(!(seen.size>EditorSimpleWorker._suggestionsLimit)){_context6.next=21;break;}return _context6.abrupt("break",33);case 21:_context6.next=14;break;case 23:_context6.next=28;break;case 25:_context6.prev=25;_context6.t0=_context6["catch"](12);_iterator5.e(_context6.t0);case 28:_context6.prev=28;_iterator5.f();return _context6.finish(28);case 31:_context6.next=6;break;case 33:_context6.next=38;break;case 35:_context6.prev=35;_context6.t1=_context6["catch"](4);_iterator4.e(_context6.t1);case 38:_context6.prev=38;_iterator4.f();return _context6.finish(38);case 41:return _context6.abrupt("return",{words:Array.from(seen),duration:sw.elapsed()});case 42:case"end":return _context6.stop();}}},_callee6,this,[[4,35,38,41],[12,25,28,31]]);}));}// ---- END suggest --------------------------------------------------------------------------
//#region -- word ranges --
},{key:"computeWordRanges",value:function computeWordRanges(modelUrl,range,wordDef,wordDefFlags){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee7(){var model,wordDefRegExp,result,line,words,_iterator6,_step6,word,array;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:model=this._getModel(modelUrl);if(model){_context7.next=3;break;}return _context7.abrupt("return",Object.create(null));case 3:wordDefRegExp=new RegExp(wordDef,wordDefFlags);result=Object.create(null);line=range.startLineNumber;case 6:if(!(line<range.endLineNumber)){_context7.next=31;break;}words=model.getLineWords(line,wordDefRegExp);_iterator6=_createForOfIteratorHelper(words);_context7.prev=9;_iterator6.s();case 11:if((_step6=_iterator6.n()).done){_context7.next=20;break;}word=_step6.value;if(isNaN(Number(word.word))){_context7.next=15;break;}return _context7.abrupt("continue",18);case 15:array=result[word.word];if(!array){array=[];result[word.word]=array;}array.push({startLineNumber:line,startColumn:word.startColumn,endLineNumber:line,endColumn:word.endColumn});case 18:_context7.next=11;break;case 20:_context7.next=25;break;case 22:_context7.prev=22;_context7.t0=_context7["catch"](9);_iterator6.e(_context7.t0);case 25:_context7.prev=25;_iterator6.f();return _context7.finish(25);case 28:line++;_context7.next=6;break;case 31:return _context7.abrupt("return",result);case 32:case"end":return _context7.stop();}}},_callee7,this,[[9,22,25,28]]);}));}//#endregion
},{key:"navigateValueSet",value:function navigateValueSet(modelUrl,range,up,wordDef,wordDefFlags){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee8(){var model,wordDefRegExp,selectionText,wordRange,word,result;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:model=this._getModel(modelUrl);if(model){_context8.next=3;break;}return _context8.abrupt("return",null);case 3:wordDefRegExp=new RegExp(wordDef,wordDefFlags);if(range.startColumn===range.endColumn){range={startLineNumber:range.startLineNumber,startColumn:range.startColumn,endLineNumber:range.endLineNumber,endColumn:range.endColumn+1};}selectionText=model.getValueInRange(range);wordRange=model.getWordAtPosition({lineNumber:range.startLineNumber,column:range.startColumn},wordDefRegExp);if(wordRange){_context8.next=9;break;}return _context8.abrupt("return",null);case 9:word=model.getValueInRange(wordRange);result=_languages_supports_inplaceReplaceSupport_js__WEBPACK_IMPORTED_MODULE_7__/* .BasicInplaceReplace.INSTANCE.navigateValueSet */ .J.INSTANCE.navigateValueSet(range,selectionText,wordRange,word,up);return _context8.abrupt("return",result);case 12:case"end":return _context8.stop();}}},_callee8,this);}));}// ---- BEGIN foreign module support --------------------------------------------------------------------------
},{key:"loadForeignModule",value:function loadForeignModule(moduleId,createData,foreignHostMethods){var _this2=this;var proxyMethodRequest=function proxyMethodRequest(method,args){return _this2._host.fhr(method,args);};var foreignHost=_base_common_types_js__WEBPACK_IMPORTED_MODULE_14__/* .createProxyObject */ .IU(foreignHostMethods,proxyMethodRequest);var ctx={host:foreignHost,getMirrorModels:function getMirrorModels(){return _this2._getModels();}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(ctx,createData);// static foreing module
return Promise.resolve(_base_common_types_js__WEBPACK_IMPORTED_MODULE_14__/* .getAllMethodNames */ .$E(this._foreignModule));}// ESM-comment-begin
// 		return new Promise<any>((resolve, reject) => {
// 			require([moduleId], (foreignModule: { create: IForeignModuleFactory }) => {
// 				this._foreignModule = foreignModule.create(ctx, createData);
// 
// 				resolve(types.getAllMethodNames(this._foreignModule));
// 
// 			}, reject);
// 		});
// ESM-comment-end
// ESM-uncomment-begin
return Promise.reject(new Error("Unexpected usage"));// ESM-uncomment-end
}// foreign method request
},{key:"fmr",value:function fmr(method,args){if(!this._foreignModule||typeof this._foreignModule[method]!=='function'){return Promise.reject(new Error('Missing requestHandler or method: '+method));}try{return Promise.resolve(this._foreignModule[method].apply(this._foreignModule,args));}catch(e){return Promise.reject(e);}}}]);return EditorSimpleWorker;}();// ---- END diff --------------------------------------------------------------------------
// ---- BEGIN minimal edits ---------------------------------------------------------------
EditorSimpleWorker._diffLimit=100000;// ---- BEGIN suggest --------------------------------------------------------------------------
EditorSimpleWorker._suggestionsLimit=10000;/**
 * Called on the worker side
 * @internal
 */function create(host){return new EditorSimpleWorker(host,null);}if(typeof importScripts==='function'){// Running in a web worker
_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__/* .globals.monaco */ .li.monaco=(0,_editorBaseApi_js__WEBPACK_IMPORTED_MODULE_8__/* .createMonacoBaseAPI */ .O)();}

/***/ }),

/***/ 43086:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "p": () => (/* binding */ IEditorWorkerService)
/* harmony export */ });
/* unused harmony export ID_EDITOR_WORKER_SERVICE */
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71896);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ID_EDITOR_WORKER_SERVICE='editorWorkerService';var IEditorWorkerService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)(ID_EDITOR_WORKER_SERVICE);

/***/ }),

/***/ 14945:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "r": () => (/* binding */ getIconClasses)
/* harmony export */ });
/* unused harmony export cssEscape */
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12029);
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(74926);
/* harmony import */ var _languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55403);
/* harmony import */ var _platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(32658);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function getIconClasses(modelService,languageService,resource,fileKind){// we always set these base classes even if we do not have a path
var classes=fileKind===_platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_3__/* .FileKind.ROOT_FOLDER */ .R.ROOT_FOLDER?['rootfolder-icon']:fileKind===_platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_3__/* .FileKind.FOLDER */ .R.FOLDER?['folder-icon']:['file-icon'];if(resource){// Get the path and name of the resource. For data-URIs, we need to parse specially
var name;if(resource.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_0__/* .Schemas.data */ .lg.data){var metadata=_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__/* .DataUri.parseMetaData */ .Vb.parseMetaData(resource);name=metadata.get(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__/* .DataUri.META_DATA_LABEL */ .Vb.META_DATA_LABEL);}else{name=cssEscape((0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__/* .basenameOrAuthority */ .Hx)(resource).toLowerCase());}// Folders
if(fileKind===_platform_files_common_files_js__WEBPACK_IMPORTED_MODULE_3__/* .FileKind.FOLDER */ .R.FOLDER){classes.push("".concat(name,"-name-folder-icon"));}// Files
else{// Name & Extension(s)
if(name){classes.push("".concat(name,"-name-file-icon"));// Avoid doing an explosive combination of extensions for very long filenames
// (most file systems do not allow files > 255 length) with lots of `.` characters
// https://github.com/microsoft/vscode/issues/116199
if(name.length<=255){var dotSegments=name.split('.');for(var i=1;i<dotSegments.length;i++){classes.push("".concat(dotSegments.slice(i).join('.'),"-ext-file-icon"));// add each combination of all found extensions if more than one
}}classes.push("ext-file-icon");// extra segment to increase file-ext score
}// Detected Mode
var detectedLanguageId=detectLanguageId(modelService,languageService,resource);if(detectedLanguageId){classes.push("".concat(cssEscape(detectedLanguageId),"-lang-file-icon"));}}}return classes;}function detectLanguageId(modelService,languageService,resource){if(!resource){return null;// we need a resource at least
}var languageId=null;// Data URI: check for encoded metadata
if(resource.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_0__/* .Schemas.data */ .lg.data){var metadata=_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__/* .DataUri.parseMetaData */ .Vb.parseMetaData(resource);var mime=metadata.get(_base_common_resources_js__WEBPACK_IMPORTED_MODULE_1__/* .DataUri.META_DATA_MIME */ .Vb.META_DATA_MIME);if(mime){languageId=languageService.getLanguageIdByMimeType(mime);}}// Any other URI: check for model if existing
else{var model=modelService.getModel(resource);if(model){languageId=model.getLanguageId();}}// only take if the language id is specific (aka no just plain text)
if(languageId&&languageId!==_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_2__/* .PLAINTEXT_LANGUAGE_ID */ .bd){return languageId;}// otherwise fallback to path based detection
return languageService.guessLanguageIdByFilepathOrFirstLine(resource);}function cssEscape(str){return str.replace(/[\11\12\14\15\40]/g,'/');// HTML class names can not contain certain whitespace characters, use / instead, which doesn't exist in file names.
}

/***/ }),

/***/ 93818:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "OG": () => (/* binding */ getDocumentRangeSemanticTokens),
  "ML": () => (/* binding */ getDocumentSemanticTokens),
  "KO": () => (/* binding */ hasDocumentRangeSemanticTokensProvider),
  "Jc": () => (/* binding */ hasDocumentSemanticTokensProvider),
  "Vl": () => (/* binding */ isSemanticTokens),
  "Vj": () => (/* binding */ isSemanticTokensEdits)
});

// UNUSED EXPORTS: DocumentSemanticTokensResult

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/cancellation.js
var cancellation = __webpack_require__(82643);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/uri.js
var common_uri = __webpack_require__(91134);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/model.js
var services_model = __webpack_require__(81431);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/types.js
var types = __webpack_require__(918);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/buffer.js
var buffer = __webpack_require__(19833);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function reverseEndianness(arr){for(var i=0,len=arr.length;i<len;i+=4){// flip bytes 0<->3 and 1<->2
var b0=arr[i+0];var b1=arr[i+1];var b2=arr[i+2];var b3=arr[i+3];arr[i+0]=b3;arr[i+1]=b2;arr[i+2]=b1;arr[i+3]=b0;}}function toLittleEndianBuffer(arr){var uint8Arr=new Uint8Array(arr.buffer,arr.byteOffset,arr.length*4);if(!platform/* isLittleEndian */.r()){// the byte order must be changed
reverseEndianness(uint8Arr);}return buffer/* VSBuffer.wrap */.KN.wrap(uint8Arr);}function encodeSemanticTokensDto(semanticTokens){var dest=new Uint32Array(encodeSemanticTokensDtoSize(semanticTokens));var offset=0;dest[offset++]=semanticTokens.id;if(semanticTokens.type==='full'){dest[offset++]=1/* Full */;dest[offset++]=semanticTokens.data.length;dest.set(semanticTokens.data,offset);offset+=semanticTokens.data.length;}else{dest[offset++]=2/* Delta */;dest[offset++]=semanticTokens.deltas.length;var _iterator=_createForOfIteratorHelper(semanticTokens.deltas),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var delta=_step.value;dest[offset++]=delta.start;dest[offset++]=delta.deleteCount;if(delta.data){dest[offset++]=delta.data.length;dest.set(delta.data,offset);offset+=delta.data.length;}else{dest[offset++]=0;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return toLittleEndianBuffer(dest);}function encodeSemanticTokensDtoSize(semanticTokens){var result=0;result+=+1// id
+1// type
;if(semanticTokens.type==='full'){result+=+1// data length
+semanticTokens.data.length;}else{result+=+1// delta count
;result+=(+1// start
+1// deleteCount
+1// data length
)*semanticTokens.deltas.length;var _iterator2=_createForOfIteratorHelper(semanticTokens.deltas),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var delta=_step2.value;if(delta.data){result+=delta.data.length;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return result;}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/getSemanticTokens.js
function getSemanticTokens_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=getSemanticTokens_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function getSemanticTokens_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return getSemanticTokens_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return getSemanticTokens_arrayLikeToArray(o,minLen);}function getSemanticTokens_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function isSemanticTokens(v){return v&&!!v.data;}function isSemanticTokensEdits(v){return v&&Array.isArray(v.edits);}var DocumentSemanticTokensResult=function DocumentSemanticTokensResult(provider,tokens,error){_classCallCheck(this,DocumentSemanticTokensResult);this.provider=provider;this.tokens=tokens;this.error=error;};function hasDocumentSemanticTokensProvider(model){return languages/* DocumentSemanticTokensProviderRegistry.has */.wT.has(model);}function getDocumentSemanticTokensProviders(model){var groups=languages/* DocumentSemanticTokensProviderRegistry.orderedGroups */.wT.orderedGroups(model);return groups.length>0?groups[0]:[];}function getDocumentSemanticTokens(model,lastProvider,lastResultId,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var _this=this;var providers,results,_iterator,_step,result;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:providers=getDocumentSemanticTokensProviders(model);// Get tokens from all providers at the same time.
_context2.next=3;return Promise.all(providers.map(function(provider){return __awaiter(_this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var result,error;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:error=null;_context.prev=1;_context.next=4;return provider.provideDocumentSemanticTokens(model,provider===lastProvider?lastResultId:null,token);case 4:result=_context.sent;_context.next=11;break;case 7:_context.prev=7;_context.t0=_context["catch"](1);error=_context.t0;result=null;case 11:if(!result||!isSemanticTokens(result)&&!isSemanticTokensEdits(result)){result=null;}return _context.abrupt("return",new DocumentSemanticTokensResult(provider,result,error));case 13:case"end":return _context.stop();}}},_callee,null,[[1,7]]);}));}));case 3:results=_context2.sent;// Try to return the first result with actual tokens or
// the first result which threw an error (!!)
_iterator=getSemanticTokens_createForOfIteratorHelper(results);_context2.prev=5;_iterator.s();case 7:if((_step=_iterator.n()).done){_context2.next=15;break;}result=_step.value;if(!result.error){_context2.next=11;break;}throw result.error;case 11:if(!result.tokens){_context2.next=13;break;}return _context2.abrupt("return",result);case 13:_context2.next=7;break;case 15:_context2.next=20;break;case 17:_context2.prev=17;_context2.t0=_context2["catch"](5);_iterator.e(_context2.t0);case 20:_context2.prev=20;_iterator.f();return _context2.finish(20);case 23:if(!(results.length>0)){_context2.next=25;break;}return _context2.abrupt("return",results[0]);case 25:return _context2.abrupt("return",null);case 26:case"end":return _context2.stop();}}},_callee2,null,[[5,17,20,23]]);}));}function _getDocumentSemanticTokensProviderHighestGroup(model){var result=languages/* DocumentSemanticTokensProviderRegistry.orderedGroups */.wT.orderedGroups(model);return result.length>0?result[0]:null;}var DocumentRangeSemanticTokensResult=function DocumentRangeSemanticTokensResult(provider,tokens){_classCallCheck(this,DocumentRangeSemanticTokensResult);this.provider=provider;this.tokens=tokens;};function hasDocumentRangeSemanticTokensProvider(model){return languages/* DocumentRangeSemanticTokensProviderRegistry.has */.K7.has(model);}function getDocumentRangeSemanticTokensProviders(model){var groups=languages/* DocumentRangeSemanticTokensProviderRegistry.orderedGroups */.K7.orderedGroups(model);return groups.length>0?groups[0]:[];}function getDocumentRangeSemanticTokens(model,range,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){var _this2=this;var providers,results,_iterator2,_step2,result;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:providers=getDocumentRangeSemanticTokensProviders(model);// Get tokens from all providers at the same time.
_context4.next=3;return Promise.all(providers.map(function(provider){return __awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var result;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return provider.provideDocumentRangeSemanticTokens(model,range,token);case 3:result=_context3.sent;_context3.next=10;break;case 6:_context3.prev=6;_context3.t0=_context3["catch"](0);(0,errors/* onUnexpectedExternalError */.Cp)(_context3.t0);result=null;case 10:if(!result||!isSemanticTokens(result)){result=null;}return _context3.abrupt("return",new DocumentRangeSemanticTokensResult(provider,result));case 12:case"end":return _context3.stop();}}},_callee3,null,[[0,6]]);}));}));case 3:results=_context4.sent;// Try to return the first result with actual tokens
_iterator2=getSemanticTokens_createForOfIteratorHelper(results);_context4.prev=5;_iterator2.s();case 7:if((_step2=_iterator2.n()).done){_context4.next=13;break;}result=_step2.value;if(!result.tokens){_context4.next=11;break;}return _context4.abrupt("return",result);case 11:_context4.next=7;break;case 13:_context4.next=18;break;case 15:_context4.prev=15;_context4.t0=_context4["catch"](5);_iterator2.e(_context4.t0);case 18:_context4.prev=18;_iterator2.f();return _context4.finish(18);case 21:if(!(results.length>0)){_context4.next=23;break;}return _context4.abrupt("return",results[0]);case 23:return _context4.abrupt("return",null);case 24:case"end":return _context4.stop();}}},_callee4,null,[[5,15,18,21]]);}));}commands/* CommandsRegistry.registerCommand */.P0.registerCommand('_provideDocumentSemanticTokensLegend',function(accessor){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee5(){var uri,model,providers;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:uri=args[0];(0,types/* assertType */.p_)(uri instanceof common_uri/* URI */.o);model=accessor.get(services_model/* IModelService */.q).getModel(uri);if(model){_context5.next=5;break;}return _context5.abrupt("return",undefined);case 5:providers=_getDocumentSemanticTokensProviderHighestGroup(model);if(providers){_context5.next=8;break;}return _context5.abrupt("return",accessor.get(commands/* ICommandService */.Hy).executeCommand('_provideDocumentRangeSemanticTokensLegend',uri));case 8:return _context5.abrupt("return",providers[0].getLegend());case 9:case"end":return _context5.stop();}}},_callee5);}));});commands/* CommandsRegistry.registerCommand */.P0.registerCommand('_provideDocumentSemanticTokens',function(accessor){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee6(){var uri,model,r,provider,tokens,buff;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:uri=args[0];(0,types/* assertType */.p_)(uri instanceof common_uri/* URI */.o);model=accessor.get(services_model/* IModelService */.q).getModel(uri);if(model){_context6.next=5;break;}return _context6.abrupt("return",undefined);case 5:if(hasDocumentSemanticTokensProvider(model)){_context6.next=7;break;}return _context6.abrupt("return",accessor.get(commands/* ICommandService */.Hy).executeCommand('_provideDocumentRangeSemanticTokens',uri,model.getFullModelRange()));case 7:_context6.next=9;return getDocumentSemanticTokens(model,null,null,cancellation/* CancellationToken.None */.T.None);case 9:r=_context6.sent;if(r){_context6.next=12;break;}return _context6.abrupt("return",undefined);case 12:provider=r.provider,tokens=r.tokens;if(!(!tokens||!isSemanticTokens(tokens))){_context6.next=15;break;}return _context6.abrupt("return",undefined);case 15:buff=encodeSemanticTokensDto({id:0,type:'full',data:tokens.data});if(tokens.resultId){provider.releaseDocumentSemanticTokens(tokens.resultId);}return _context6.abrupt("return",buff);case 18:case"end":return _context6.stop();}}},_callee6);}));});commands/* CommandsRegistry.registerCommand */.P0.registerCommand('_provideDocumentRangeSemanticTokensLegend',function(accessor){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee7(){var uri,range,model,providers,result;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:uri=args[0],range=args[1];(0,types/* assertType */.p_)(uri instanceof common_uri/* URI */.o);model=accessor.get(services_model/* IModelService */.q).getModel(uri);if(model){_context7.next=5;break;}return _context7.abrupt("return",undefined);case 5:providers=getDocumentRangeSemanticTokensProviders(model);if(!(providers.length===0)){_context7.next=8;break;}return _context7.abrupt("return",undefined);case 8:if(!(providers.length===1)){_context7.next=10;break;}return _context7.abrupt("return",providers[0].getLegend());case 10:if(!(!range||!core_range/* Range.isIRange */.e.isIRange(range))){_context7.next=13;break;}// if no range is provided, we cannot support multiple providers
// as we cannot fall back to the one which would give results
// => return the first legend for backwards compatibility and print a warning
console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in");return _context7.abrupt("return",providers[0].getLegend());case 13:_context7.next=15;return getDocumentRangeSemanticTokens(model,core_range/* Range.lift */.e.lift(range),cancellation/* CancellationToken.None */.T.None);case 15:result=_context7.sent;if(result){_context7.next=18;break;}return _context7.abrupt("return",undefined);case 18:return _context7.abrupt("return",result.provider.getLegend());case 19:case"end":return _context7.stop();}}},_callee7);}));});commands/* CommandsRegistry.registerCommand */.P0.registerCommand('_provideDocumentRangeSemanticTokens',function(accessor){for(var _len4=arguments.length,args=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4];}return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee8(){var uri,range,model,result;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:uri=args[0],range=args[1];(0,types/* assertType */.p_)(uri instanceof common_uri/* URI */.o);(0,types/* assertType */.p_)(core_range/* Range.isIRange */.e.isIRange(range));model=accessor.get(services_model/* IModelService */.q).getModel(uri);if(model){_context8.next=6;break;}return _context8.abrupt("return",undefined);case 6:_context8.next=8;return getDocumentRangeSemanticTokens(model,core_range/* Range.lift */.e.lift(range),cancellation/* CancellationToken.None */.T.None);case 8:result=_context8.sent;if(!(!result||!result.tokens)){_context8.next=11;break;}return _context8.abrupt("return",undefined);case 11:return _context8.abrupt("return",encodeSemanticTokensDto({id:0,type:'full',data:result.tokens.data}));case 12:case"end":return _context8.stop();}}},_callee8);}));});

/***/ }),

/***/ 84318:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ ILanguageService)
/* harmony export */ });
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71896);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ILanguageService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)('languageService');

/***/ }),

/***/ 9585:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ ILanguageFeatureDebounceService)
/* harmony export */ });
/* unused harmony export LanguageFeatureDebounceService */
/* harmony import */ var _base_common_hash_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12557);
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46081);
/* harmony import */ var _base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(14210);
/* harmony import */ var _platform_instantiation_common_extensions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(74822);
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(71896);
/* harmony import */ var _platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21752);
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var ILanguageFeatureDebounceService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_2__/* .createDecorator */ .yh)('ILanguageFeatureDebounceService');var IdentityHash;(function(IdentityHash){var _hashes=new WeakMap();var pool=0;function of(obj){var value=_hashes.get(obj);if(value===undefined){value=++pool;_hashes.set(obj,value);}return value;}IdentityHash.of=of;})(IdentityHash||(IdentityHash={}));var FeatureDebounceInformation=/*#__PURE__*/function(){function FeatureDebounceInformation(_logService,_name,_registry,_default,_min,_max){_classCallCheck(this,FeatureDebounceInformation);this._logService=_logService;this._name=_name;this._registry=_registry;this._default=_default;this._min=_min;this._max=_max;this._cache=new _base_common_map_js__WEBPACK_IMPORTED_MODULE_1__/* .LRUCache */ .z6(50,0.7);}_createClass(FeatureDebounceInformation,[{key:"_key",value:function _key(model){return model.id+this._registry.all(model).reduce(function(hashVal,obj){return (0,_base_common_hash_js__WEBPACK_IMPORTED_MODULE_0__/* .doHash */ .SP)(IdentityHash.of(obj),hashVal);},0);}},{key:"get",value:function get(model){var key=this._key(model);var avg=this._cache.get(key);return avg?(0,_base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__/* .clamp */ .uZ)(avg.value,this._min,this._max):this.default();}},{key:"update",value:function update(model,value){var key=this._key(model);var avg=this._cache.get(key);if(!avg){avg=new _base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__/* .SlidingWindowAverage */ .N(6);this._cache.set(key,avg);}var newValue=(0,_base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__/* .clamp */ .uZ)(avg.update(value),this._min,this._max);this._logService.trace("[DEBOUNCE: ".concat(this._name,"] for ").concat(model.uri.toString()," is ").concat(newValue,"ms"));return newValue;}},{key:"_overall",value:function _overall(){var result=new _base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__/* .MovingAverage */ .nM();var _iterator=_createForOfIteratorHelper(this._cache),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),avg=_step$value[1];result.update(avg.value);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result.value;}},{key:"default",value:function _default(){var value=this._overall()|0||this._default;return (0,_base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__/* .clamp */ .uZ)(value,this._min,this._max);}}]);return FeatureDebounceInformation;}();var LanguageFeatureDebounceService=/*#__PURE__*/function(){function LanguageFeatureDebounceService(_logService){_classCallCheck(this,LanguageFeatureDebounceService);this._logService=_logService;this._data=new Map();}_createClass(LanguageFeatureDebounceService,[{key:"for",value:function _for(feature,name,config){var _a,_b,_c;var min=(_a=config===null||config===void 0?void 0:config.min)!==null&&_a!==void 0?_a:50;var max=(_b=config===null||config===void 0?void 0:config.max)!==null&&_b!==void 0?_b:Math.pow(min,2);var extra=(_c=config===null||config===void 0?void 0:config.key)!==null&&_c!==void 0?_c:undefined;var key="".concat(IdentityHash.of(feature),",").concat(min).concat(extra?','+extra:'');var info=this._data.get(key);if(!info){info=new FeatureDebounceInformation(this._logService,name,feature,this._overallAverage()|0||min*1.5,// default is overall default or derived from min-value
min,max);this._data.set(key,info);}return info;}},{key:"_overallAverage",value:function _overallAverage(){// Average of all language features. Not a great value but an approximation
var result=new _base_common_numbers_js__WEBPACK_IMPORTED_MODULE_4__/* .MovingAverage */ .nM();var _iterator2=_createForOfIteratorHelper(this._data.values()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var info=_step2.value;result.update(info.default());}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return result.value;}}]);return LanguageFeatureDebounceService;}();LanguageFeatureDebounceService=__decorate([__param(0,_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_3__/* .ILogService */ .VZ)],LanguageFeatureDebounceService);(0,_platform_instantiation_common_extensions_js__WEBPACK_IMPORTED_MODULE_5__/* .registerSingleton */ .z)(ILanguageFeatureDebounceService,LanguageFeatureDebounceService,true);

/***/ }),

/***/ 88407:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "T": () => (/* binding */ LanguageService)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/glob.js
var glob = __webpack_require__(86748);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/mime.js
var mime = __webpack_require__(85996);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/network.js
var network = __webpack_require__(12029);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/path.js + 1 modules
var common_path = __webpack_require__(25993);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/resources.js
var resources = __webpack_require__(74926);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var registeredAssociations=[];var nonUserRegisteredAssociations=[];var userRegisteredAssociations=[];/**
 * Associate a language to the registry.
 */function registerLanguageAssociation(association){var warnOnOverwrite=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;// Register
var associationItem=toLanguageAssociationItem(association);registeredAssociations.push(associationItem);if(!associationItem.userConfigured){nonUserRegisteredAssociations.push(associationItem);}else{userRegisteredAssociations.push(associationItem);}// Check for conflicts unless this is a user configured association
if(warnOnOverwrite&&!associationItem.userConfigured){registeredAssociations.forEach(function(a){if(a.mime===associationItem.mime||a.userConfigured){return;// same mime or userConfigured is ok
}if(associationItem.extension&&a.extension===associationItem.extension){console.warn("Overwriting extension <<".concat(associationItem.extension,">> to now point to mime <<").concat(associationItem.mime,">>"));}if(associationItem.filename&&a.filename===associationItem.filename){console.warn("Overwriting filename <<".concat(associationItem.filename,">> to now point to mime <<").concat(associationItem.mime,">>"));}if(associationItem.filepattern&&a.filepattern===associationItem.filepattern){console.warn("Overwriting filepattern <<".concat(associationItem.filepattern,">> to now point to mime <<").concat(associationItem.mime,">>"));}if(associationItem.firstline&&a.firstline===associationItem.firstline){console.warn("Overwriting firstline <<".concat(associationItem.firstline,">> to now point to mime <<").concat(associationItem.mime,">>"));}});}}function toLanguageAssociationItem(association){return{id:association.id,mime:association.mime,filename:association.filename,extension:association.extension,filepattern:association.filepattern,firstline:association.firstline,userConfigured:association.userConfigured,filenameLowercase:association.filename?association.filename.toLowerCase():undefined,extensionLowercase:association.extension?association.extension.toLowerCase():undefined,filepatternLowercase:association.filepattern?(0,glob/* parse */.Qc)(association.filepattern.toLowerCase()):undefined,filepatternOnPath:association.filepattern?association.filepattern.indexOf(common_path/* posix.sep */.KR.sep)>=0:false};}/**
 * Clear language associations from the registry.
 */function clearLanguageAssociations(onlyUserConfigured){if(!onlyUserConfigured){registeredAssociations=[];nonUserRegisteredAssociations=[];userRegisteredAssociations=[];}else{registeredAssociations=registeredAssociations.filter(function(a){return!a.userConfigured;});userRegisteredAssociations=[];}}/**
 * Given a file, return the best matching mime types for it
 * based on the registered language associations.
 */function getMimeTypes(resource,firstLine){var path;if(resource){switch(resource.scheme){case network/* Schemas.file */.lg.file:path=resource.fsPath;break;case network/* Schemas.data */.lg.data:{var metadata=resources/* DataUri.parseMetaData */.Vb.parseMetaData(resource);path=metadata.get(resources/* DataUri.META_DATA_LABEL */.Vb.META_DATA_LABEL);break;}default:path=resource.path;}}if(!path){return[mime/* Mimes.unknown */.v.unknown];}path=path.toLowerCase();var filename=(0,common_path/* basename */.EZ)(path);// 1.) User configured mappings have highest priority
var configuredLanguage=getMimeByPath(path,filename,userRegisteredAssociations);if(configuredLanguage){return[configuredLanguage,mime/* Mimes.text */.v.text];}// 2.) Registered mappings have middle priority
var registeredLanguage=getMimeByPath(path,filename,nonUserRegisteredAssociations);if(registeredLanguage){return[registeredLanguage,mime/* Mimes.text */.v.text];}// 3.) Firstline has lowest priority
if(firstLine){var firstlineLanguage=getMimeByFirstline(firstLine);if(firstlineLanguage){return[firstlineLanguage,mime/* Mimes.text */.v.text];}}return[mime/* Mimes.unknown */.v.unknown];}function getMimeByPath(path,filename,associations){var _a;var filenameMatch=undefined;var patternMatch=undefined;var extensionMatch=undefined;// We want to prioritize associations based on the order they are registered so that the last registered
// association wins over all other. This is for https://github.com/microsoft/vscode/issues/20074
for(var i=associations.length-1;i>=0;i--){var association=associations[i];// First exact name match
if(filename===association.filenameLowercase){filenameMatch=association;break;// take it!
}// Longest pattern match
if(association.filepattern){if(!patternMatch||association.filepattern.length>patternMatch.filepattern.length){var target=association.filepatternOnPath?path:filename;// match on full path if pattern contains path separator
if((_a=association.filepatternLowercase)===null||_a===void 0?void 0:_a.call(association,target)){patternMatch=association;}}}// Longest extension match
if(association.extension){if(!extensionMatch||association.extension.length>extensionMatch.extension.length){if(filename.endsWith(association.extensionLowercase)){extensionMatch=association;}}}}// 1.) Exact name match has second highest priority
if(filenameMatch){return filenameMatch.mime;}// 2.) Match on pattern
if(patternMatch){return patternMatch.mime;}// 3.) Match on extension comes next
if(extensionMatch){return extensionMatch.mime;}return undefined;}function getMimeByFirstline(firstLine){if((0,strings/* startsWithUTF8BOM */.uS)(firstLine)){firstLine=firstLine.substr(1);}if(firstLine.length>0){// We want to prioritize associations based on the order they are registered so that the last registered
// association wins over all other. This is for https://github.com/microsoft/vscode/issues/20074
for(var i=registeredAssociations.length-1;i>=0;i--){var association=registeredAssociations[i];if(!association.firstline){continue;}var matches=firstLine.match(association.firstline);if(matches&&matches.length>0){return association.mime;}}}return undefined;}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/modesRegistry.js
var modesRegistry = __webpack_require__(55403);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationRegistry.js
var configurationRegistry = __webpack_require__(53059);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js
var platform = __webpack_require__(83717);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var languagesRegistry_hasOwnProperty=Object.prototype.hasOwnProperty;var NULL_LANGUAGE_ID='vs.editor.nullLanguage';var LanguageIdCodec=/*#__PURE__*/function(){function LanguageIdCodec(){_classCallCheck(this,LanguageIdCodec);this._languageIdToLanguage=[];this._languageToLanguageId=new Map();this._register(NULL_LANGUAGE_ID,0/* Null */);this._register(modesRegistry/* PLAINTEXT_LANGUAGE_ID */.bd,1/* PlainText */);this._nextLanguageId=2;}_createClass(LanguageIdCodec,[{key:"_register",value:function _register(language,languageId){this._languageIdToLanguage[languageId]=language;this._languageToLanguageId.set(language,languageId);}},{key:"register",value:function register(language){if(this._languageToLanguageId.has(language)){return;}var languageId=this._nextLanguageId++;this._register(language,languageId);}},{key:"encodeLanguageId",value:function encodeLanguageId(languageId){return this._languageToLanguageId.get(languageId)||0/* Null */;}},{key:"decodeLanguageId",value:function decodeLanguageId(languageId){return this._languageIdToLanguage[languageId]||NULL_LANGUAGE_ID;}}]);return LanguageIdCodec;}();var LanguagesRegistry=/*#__PURE__*/function(_Disposable){_inherits(LanguagesRegistry,_Disposable);var _super=_createSuper(LanguagesRegistry);function LanguagesRegistry(){var _this;var useModesRegistry=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var warnOnOverwrite=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,LanguagesRegistry);_this=_super.call(this);_this._onDidChange=_this._register(new common_event/* Emitter */.Q5());_this.onDidChange=_this._onDidChange.event;LanguagesRegistry.instanceCount++;_this._warnOnOverwrite=warnOnOverwrite;_this.languageIdCodec=new LanguageIdCodec();_this._dynamicLanguages=[];_this._languages={};_this._mimeTypesMap={};_this._nameMap={};_this._lowercaseNameMap={};if(useModesRegistry){_this._initializeFromRegistry();_this._register(modesRegistry/* ModesRegistry.onDidChangeLanguages */.dQ.onDidChangeLanguages(function(m){_this._initializeFromRegistry();}));}return _this;}_createClass(LanguagesRegistry,[{key:"dispose",value:function dispose(){LanguagesRegistry.instanceCount--;_get(_getPrototypeOf(LanguagesRegistry.prototype),"dispose",this).call(this);}},{key:"_initializeFromRegistry",value:function _initializeFromRegistry(){this._languages={};this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};clearLanguageAssociations();var desc=[].concat(modesRegistry/* ModesRegistry.getLanguages */.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(desc);}},{key:"_registerLanguages",value:function _registerLanguages(desc){var _this2=this;var _iterator=_createForOfIteratorHelper(desc),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;this._registerLanguage(d);}// Rebuild fast path maps
}catch(err){_iterator.e(err);}finally{_iterator.f();}this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};Object.keys(this._languages).forEach(function(langId){var language=_this2._languages[langId];if(language.name){_this2._nameMap[language.name]=language.identifier;}language.aliases.forEach(function(alias){_this2._lowercaseNameMap[alias.toLowerCase()]=language.identifier;});language.mimetypes.forEach(function(mimetype){_this2._mimeTypesMap[mimetype]=language.identifier;});});platform/* Registry.as */.B.as(configurationRegistry/* Extensions.Configuration */.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds());this._onDidChange.fire();}},{key:"_registerLanguage",value:function _registerLanguage(lang){var langId=lang.id;var resolvedLanguage;if(languagesRegistry_hasOwnProperty.call(this._languages,langId)){resolvedLanguage=this._languages[langId];}else{this.languageIdCodec.register(langId);resolvedLanguage={identifier:langId,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]};this._languages[langId]=resolvedLanguage;}this._mergeLanguage(resolvedLanguage,lang);}},{key:"_mergeLanguage",value:function _mergeLanguage(resolvedLanguage,lang){var langId=lang.id;var primaryMime=null;if(Array.isArray(lang.mimetypes)&&lang.mimetypes.length>0){var _resolvedLanguage$mim;(_resolvedLanguage$mim=resolvedLanguage.mimetypes).push.apply(_resolvedLanguage$mim,_toConsumableArray(lang.mimetypes));primaryMime=lang.mimetypes[0];}if(!primaryMime){primaryMime="text/x-".concat(langId);resolvedLanguage.mimetypes.push(primaryMime);}if(Array.isArray(lang.extensions)){if(lang.configuration){// insert first as this appears to be the 'primary' language definition
resolvedLanguage.extensions=lang.extensions.concat(resolvedLanguage.extensions);}else{resolvedLanguage.extensions=resolvedLanguage.extensions.concat(lang.extensions);}var _iterator2=_createForOfIteratorHelper(lang.extensions),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var extension=_step2.value;registerLanguageAssociation({id:langId,mime:primaryMime,extension:extension},this._warnOnOverwrite);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}if(Array.isArray(lang.filenames)){var _iterator3=_createForOfIteratorHelper(lang.filenames),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var filename=_step3.value;registerLanguageAssociation({id:langId,mime:primaryMime,filename:filename},this._warnOnOverwrite);resolvedLanguage.filenames.push(filename);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}if(Array.isArray(lang.filenamePatterns)){var _iterator4=_createForOfIteratorHelper(lang.filenamePatterns),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var filenamePattern=_step4.value;registerLanguageAssociation({id:langId,mime:primaryMime,filepattern:filenamePattern},this._warnOnOverwrite);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}if(typeof lang.firstLine==='string'&&lang.firstLine.length>0){var firstLineRegexStr=lang.firstLine;if(firstLineRegexStr.charAt(0)!=='^'){firstLineRegexStr='^'+firstLineRegexStr;}try{var firstLineRegex=new RegExp(firstLineRegexStr);if(!(0,strings/* regExpLeadsToEndlessLoop */.IO)(firstLineRegex)){registerLanguageAssociation({id:langId,mime:primaryMime,firstline:firstLineRegex},this._warnOnOverwrite);}}catch(err){// Most likely, the regex was bad
(0,errors/* onUnexpectedError */.dL)(err);}}resolvedLanguage.aliases.push(langId);var langAliases=null;if(typeof lang.aliases!=='undefined'&&Array.isArray(lang.aliases)){if(lang.aliases.length===0){// signal that this language should not get a name
langAliases=[null];}else{langAliases=lang.aliases;}}if(langAliases!==null){var _iterator5=_createForOfIteratorHelper(langAliases),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var langAlias=_step5.value;if(!langAlias||langAlias.length===0){continue;}resolvedLanguage.aliases.push(langAlias);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}var containsAliases=langAliases!==null&&langAliases.length>0;if(containsAliases&&langAliases[0]===null){// signal that this language should not get a name
}else{var bestName=(containsAliases?langAliases[0]:null)||langId;if(containsAliases||!resolvedLanguage.name){resolvedLanguage.name=bestName;}}if(lang.configuration){resolvedLanguage.configurationFiles.push(lang.configuration);}if(lang.icon){resolvedLanguage.icons.push(lang.icon);}}},{key:"isRegisteredLanguageId",value:function isRegisteredLanguageId(languageId){if(!languageId){return false;}return languagesRegistry_hasOwnProperty.call(this._languages,languageId);}},{key:"getRegisteredLanguageIds",value:function getRegisteredLanguageIds(){return Object.keys(this._languages);}},{key:"getLanguageIdByLanguageName",value:function getLanguageIdByLanguageName(languageName){var languageNameLower=languageName.toLowerCase();if(!languagesRegistry_hasOwnProperty.call(this._lowercaseNameMap,languageNameLower)){return null;}return this._lowercaseNameMap[languageNameLower];}},{key:"getLanguageIdByMimeType",value:function getLanguageIdByMimeType(mimeType){if(!mimeType){return null;}if(languagesRegistry_hasOwnProperty.call(this._mimeTypesMap,mimeType)){return this._mimeTypesMap[mimeType];}return null;}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function guessLanguageIdByFilepathOrFirstLine(resource,firstLine){var _this3=this;if(!resource&&!firstLine){return[];}var mimeTypes=getMimeTypes(resource,firstLine);return (0,arrays/* coalesce */.kX)(mimeTypes.map(function(mimeType){return _this3.getLanguageIdByMimeType(mimeType);}));}}]);return LanguagesRegistry;}(lifecycle/* Disposable */.JT);LanguagesRegistry.instanceCount=0;
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js
function languageService_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){languageService_typeof=function _typeof(obj){return typeof obj;};}else{languageService_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return languageService_typeof(obj);}function languageService_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function languageService_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function languageService_createClass(Constructor,protoProps,staticProps){if(protoProps)languageService_defineProperties(Constructor.prototype,protoProps);if(staticProps)languageService_defineProperties(Constructor,staticProps);return Constructor;}function languageService_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){languageService_get=Reflect.get;}else{languageService_get=function _get(target,property,receiver){var base=languageService_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return languageService_get(target,property,receiver||target);}function languageService_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=languageService_getPrototypeOf(object);if(object===null)break;}return object;}function languageService_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)languageService_setPrototypeOf(subClass,superClass);}function languageService_setPrototypeOf(o,p){languageService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return languageService_setPrototypeOf(o,p);}function languageService_createSuper(Derived){var hasNativeReflectConstruct=languageService_isNativeReflectConstruct();return function _createSuperInternal(){var Super=languageService_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=languageService_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return languageService_possibleConstructorReturn(this,result);};}function languageService_possibleConstructorReturn(self,call){if(call&&(languageService_typeof(call)==="object"||typeof call==="function")){return call;}return languageService_assertThisInitialized(self);}function languageService_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function languageService_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function languageService_getPrototypeOf(o){languageService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return languageService_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var LanguageService=/*#__PURE__*/function(_Disposable){languageService_inherits(LanguageService,_Disposable);var _super=languageService_createSuper(LanguageService);function LanguageService(){var _this;var warnOnOverwrite=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;languageService_classCallCheck(this,LanguageService);_this=_super.call(this);_this._onDidEncounterLanguage=_this._register(new common_event/* Emitter */.Q5());_this.onDidEncounterLanguage=_this._onDidEncounterLanguage.event;_this._onDidChange=_this._register(new common_event/* Emitter */.Q5({leakWarningThreshold:200/* https://github.com/microsoft/vscode/issues/119968 */}));_this.onDidChange=_this._onDidChange.event;LanguageService.instanceCount++;_this._encounteredLanguages=new Set();_this._registry=_this._register(new LanguagesRegistry(true,warnOnOverwrite));_this.languageIdCodec=_this._registry.languageIdCodec;_this._register(_this._registry.onDidChange(function(){return _this._onDidChange.fire();}));return _this;}languageService_createClass(LanguageService,[{key:"dispose",value:function dispose(){LanguageService.instanceCount--;languageService_get(languageService_getPrototypeOf(LanguageService.prototype),"dispose",this).call(this);}},{key:"isRegisteredLanguageId",value:function isRegisteredLanguageId(languageId){return this._registry.isRegisteredLanguageId(languageId);}},{key:"getLanguageIdByLanguageName",value:function getLanguageIdByLanguageName(languageName){return this._registry.getLanguageIdByLanguageName(languageName);}},{key:"getLanguageIdByMimeType",value:function getLanguageIdByMimeType(mimeType){return this._registry.getLanguageIdByMimeType(mimeType);}},{key:"guessLanguageIdByFilepathOrFirstLine",value:function guessLanguageIdByFilepathOrFirstLine(resource,firstLine){var languageIds=this._registry.guessLanguageIdByFilepathOrFirstLine(resource,firstLine);return (0,arrays/* firstOrDefault */.Xh)(languageIds,null);}},{key:"createById",value:function createById(languageId){var _this2=this;return new LanguageSelection(this.onDidChange,function(){return _this2._createAndGetLanguageIdentifier(languageId);});}},{key:"createByFilepathOrFirstLine",value:function createByFilepathOrFirstLine(resource,firstLine){var _this3=this;return new LanguageSelection(this.onDidChange,function(){var languageId=_this3.guessLanguageIdByFilepathOrFirstLine(resource,firstLine);return _this3._createAndGetLanguageIdentifier(languageId);});}},{key:"_createAndGetLanguageIdentifier",value:function _createAndGetLanguageIdentifier(languageId){if(!languageId||!this.isRegisteredLanguageId(languageId)){// Fall back to plain text if language is unknown
languageId=modesRegistry/* PLAINTEXT_LANGUAGE_ID */.bd;}if(!this._encounteredLanguages.has(languageId)){this._encounteredLanguages.add(languageId);// Ensure tokenizers are created
languages/* TokenizationRegistry.getOrCreate */.RW.getOrCreate(languageId);// Fire event
this._onDidEncounterLanguage.fire(languageId);}return languageId;}}]);return LanguageService;}(lifecycle/* Disposable */.JT);LanguageService.instanceCount=0;var LanguageSelection=/*#__PURE__*/function(){function LanguageSelection(_onDidChangeLanguages,_selector){languageService_classCallCheck(this,LanguageSelection);this._onDidChangeLanguages=_onDidChangeLanguages;this._selector=_selector;this._listener=null;this._emitter=null;this.languageId=this._selector();}languageService_createClass(LanguageSelection,[{key:"_dispose",value:function _dispose(){if(this._listener){this._listener.dispose();this._listener=null;}if(this._emitter){this._emitter.dispose();this._emitter=null;}}},{key:"onDidChange",get:function get(){var _this4=this;if(!this._listener){this._listener=this._onDidChangeLanguages(function(){return _this4._evaluate();});}if(!this._emitter){this._emitter=new common_event/* Emitter */.Q5({onLastListenerRemove:function onLastListenerRemove(){_this4._dispose();}});}return this._emitter.event;}},{key:"_evaluate",value:function _evaluate(){var languageId=this._selector();if(languageId===this.languageId){// no change
return;}this.languageId=languageId;if(this._emitter){this._emitter.fire(this.languageId);}}}]);return LanguageSelection;}();

/***/ }),

/***/ 37768:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "i": () => (/* binding */ IMarkerDecorationsService)
/* harmony export */ });
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71896);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var IMarkerDecorationsService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)('markerDecorationsService');

/***/ }),

/***/ 22609:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "x": () => (/* binding */ MarkerDecorationsService)
/* harmony export */ });
/* harmony import */ var _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(77796);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19860);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16227);
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(46199);
/* harmony import */ var _core_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62660);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81431);
/* harmony import */ var _core_range_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(96844);
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12029);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(36223);
/* harmony import */ var _platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(25530);
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(46081);
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var MarkerDecorations=/*#__PURE__*/function(_Disposable){_inherits(MarkerDecorations,_Disposable);var _super=_createSuper(MarkerDecorations);function MarkerDecorations(model){var _this;_classCallCheck(this,MarkerDecorations);_this=_super.call(this);_this.model=model;_this._markersData=new Map();_this._register((0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .toDisposable */ .OF)(function(){_this.model.deltaDecorations(_toConsumableArray(_this._markersData.keys()),[]);_this._markersData.clear();}));return _this;}_createClass(MarkerDecorations,[{key:"update",value:function update(markers,newDecorations){var oldIds=_toConsumableArray(this._markersData.keys());this._markersData.clear();var ids=this.model.deltaDecorations(oldIds,newDecorations);for(var index=0;index<ids.length;index++){this._markersData.set(ids[index],markers[index]);}return oldIds.length!==0||ids.length!==0;}},{key:"getMarker",value:function getMarker(decoration){return this._markersData.get(decoration.id);}}]);return MarkerDecorations;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);var MarkerDecorationsService=/*#__PURE__*/function(_Disposable2){_inherits(MarkerDecorationsService,_Disposable2);var _super2=_createSuper(MarkerDecorationsService);function MarkerDecorationsService(modelService,_markerService){var _this2;_classCallCheck(this,MarkerDecorationsService);_this2=_super2.call(this);_this2._markerService=_markerService;_this2._onDidChangeMarker=_this2._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_7__/* .Emitter */ .Q5());_this2._markerDecorations=new _base_common_map_js__WEBPACK_IMPORTED_MODULE_9__/* .ResourceMap */ .Y9();modelService.getModels().forEach(function(model){return _this2._onModelAdded(model);});_this2._register(modelService.onModelAdded(_this2._onModelAdded,_assertThisInitialized(_this2)));_this2._register(modelService.onModelRemoved(_this2._onModelRemoved,_assertThisInitialized(_this2)));_this2._register(_this2._markerService.onMarkerChanged(_this2._handleMarkerChange,_assertThisInitialized(_this2)));return _this2;}_createClass(MarkerDecorationsService,[{key:"dispose",value:function dispose(){_get(_getPrototypeOf(MarkerDecorationsService.prototype),"dispose",this).call(this);this._markerDecorations.forEach(function(value){return value.dispose();});this._markerDecorations.clear();}},{key:"getMarker",value:function getMarker(uri,decoration){var markerDecorations=this._markerDecorations.get(uri);return markerDecorations?markerDecorations.getMarker(decoration)||null:null;}},{key:"_handleMarkerChange",value:function _handleMarkerChange(changedResources){var _this3=this;changedResources.forEach(function(resource){var markerDecorations=_this3._markerDecorations.get(resource);if(markerDecorations){_this3._updateDecorations(markerDecorations);}});}},{key:"_onModelAdded",value:function _onModelAdded(model){var markerDecorations=new MarkerDecorations(model);this._markerDecorations.set(model.uri,markerDecorations);this._updateDecorations(markerDecorations);}},{key:"_onModelRemoved",value:function _onModelRemoved(model){var _this4=this;var markerDecorations=this._markerDecorations.get(model.uri);if(markerDecorations){markerDecorations.dispose();this._markerDecorations.delete(model.uri);}// clean up markers for internal, transient models
if(model.uri.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_6__/* .Schemas.inMemory */ .lg.inMemory||model.uri.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_6__/* .Schemas.internal */ .lg.internal||model.uri.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_6__/* .Schemas.vscode */ .lg.vscode){if(this._markerService){this._markerService.read({resource:model.uri}).map(function(marker){return marker.owner;}).forEach(function(owner){return _this4._markerService.remove(owner,[model.uri]);});}}}},{key:"_updateDecorations",value:function _updateDecorations(markerDecorations){var _this5=this;// Limit to the first 500 errors/warnings
var markers=this._markerService.read({resource:markerDecorations.model.uri,take:500});var newModelDecorations=markers.map(function(marker){return{range:_this5._createDecorationRange(markerDecorations.model,marker),options:_this5._createDecorationOption(marker)};});if(markerDecorations.update(markers,newModelDecorations)){this._onDidChangeMarker.fire(markerDecorations.model);}}},{key:"_createDecorationRange",value:function _createDecorationRange(model,rawMarker){var ret=_core_range_js__WEBPACK_IMPORTED_MODULE_10__/* .Range.lift */ .e.lift(rawMarker);if(rawMarker.severity===_platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__/* .MarkerSeverity.Hint */ .ZL.Hint&&!this._hasMarkerTag(rawMarker,1/* Unnecessary */)&&!this._hasMarkerTag(rawMarker,2/* Deprecated */)){// * never render hints on multiple lines
// * make enough space for three dots
ret=ret.setEndPosition(ret.startLineNumber,ret.startColumn+2);}return model.validateRange(ret);}},{key:"_createDecorationOption",value:function _createDecorationOption(marker){var className;var color=undefined;var zIndex;var inlineClassName=undefined;var minimap;switch(marker.severity){case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__/* .MarkerSeverity.Hint */ .ZL.Hint:if(this._hasMarkerTag(marker,2/* Deprecated */)){className=undefined;}else if(this._hasMarkerTag(marker,1/* Unnecessary */)){className="squiggly-unnecessary"/* EditorUnnecessaryDecoration */;}else{className="squiggly-hint"/* EditorHintDecoration */;}zIndex=0;break;case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__/* .MarkerSeverity.Warning */ .ZL.Warning:className="squiggly-warning"/* EditorWarningDecoration */;color=(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__/* .themeColorFromId */ .EN)(_core_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_4__/* .overviewRulerWarning */ .Re);zIndex=20;minimap={color:(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__/* .themeColorFromId */ .EN)(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_8__/* .minimapWarning */ .Ivo),position:_model_js__WEBPACK_IMPORTED_MODULE_2__/* .MinimapPosition.Inline */ .F5.Inline};break;case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__/* .MarkerSeverity.Info */ .ZL.Info:className="squiggly-info"/* EditorInfoDecoration */;color=(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__/* .themeColorFromId */ .EN)(_core_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_4__/* .overviewRulerInfo */ .eS);zIndex=10;break;case _platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__/* .MarkerSeverity.Error */ .ZL.Error:default:className="squiggly-error"/* EditorErrorDecoration */;color=(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__/* .themeColorFromId */ .EN)(_core_editorColorRegistry_js__WEBPACK_IMPORTED_MODULE_4__/* .overviewRulerError */ .lK);zIndex=30;minimap={color:(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_3__/* .themeColorFromId */ .EN)(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_8__/* .minimapError */ .Gj_),position:_model_js__WEBPACK_IMPORTED_MODULE_2__/* .MinimapPosition.Inline */ .F5.Inline};break;}if(marker.tags){if(marker.tags.indexOf(1/* Unnecessary */)!==-1){inlineClassName="squiggly-inline-unnecessary"/* EditorUnnecessaryInlineDecoration */;}if(marker.tags.indexOf(2/* Deprecated */)!==-1){inlineClassName="squiggly-inline-deprecated"/* EditorDeprecatedInlineDecoration */;}}return{description:'marker-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */,className:className,showIfCollapsed:true,overviewRuler:{color:color,position:_model_js__WEBPACK_IMPORTED_MODULE_2__/* .OverviewRulerLane.Right */ .sh.Right},minimap:minimap,zIndex:zIndex,inlineClassName:inlineClassName};}},{key:"_hasMarkerTag",value:function _hasMarkerTag(marker,tag){if(marker.tags){return marker.tags.indexOf(tag)>=0;}return false;}}]);return MarkerDecorationsService;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);MarkerDecorationsService=__decorate([__param(0,_model_js__WEBPACK_IMPORTED_MODULE_5__/* .IModelService */ .q),__param(1,_platform_markers_common_markers_js__WEBPACK_IMPORTED_MODULE_0__/* .IMarkerService */ .lT)],MarkerDecorationsService);

/***/ }),

/***/ 81431:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "q": () => (/* binding */ IModelService)
/* harmony export */ });
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71896);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var IModelService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)('modelService');

/***/ }),

/***/ 78473:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "b$": () => (/* binding */ ModelService),
/* harmony export */   "e3": () => (/* binding */ SEMANTIC_HIGHLIGHTING_SETTING_ID),
/* harmony export */   "tw": () => (/* binding */ isSemanticColoringEnabled)
/* harmony export */ });
/* unused harmony export ModelSemanticColoring */
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19860);
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63638);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(32314);
/* harmony import */ var _model_textModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(58102);
/* harmony import */ var _core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9219);
/* harmony import */ var _languages_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(98480);
/* harmony import */ var _languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(55403);
/* harmony import */ var _language_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(84318);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(81431);
/* harmony import */ var _textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(43674);
/* harmony import */ var _platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(40800);
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(88494);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(82643);
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(46199);
/* harmony import */ var _platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(21752);
/* harmony import */ var _platform_undoRedo_common_undoRedo_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(25637);
/* harmony import */ var _base_common_hash_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(12557);
/* harmony import */ var _model_editStack_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(96747);
/* harmony import */ var _base_common_network_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(12029);
/* harmony import */ var _semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(21569);
/* harmony import */ var _getSemanticTokens_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(93818);
/* harmony import */ var _base_common_objects_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(473);
/* harmony import */ var _languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(71567);
/* harmony import */ var _languageFeatureDebounce_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(9585);
/* harmony import */ var _base_common_stopwatch_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(76660);
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};function MODEL_ID(resource){return resource.toString();}function computeModelSha1(model){// compute the sha1
var shaComputer=new _base_common_hash_js__WEBPACK_IMPORTED_MODULE_17__/* .StringSHA1 */ .yP();var snapshot=model.createSnapshot();var text;while(text=snapshot.read()){shaComputer.update(text);}return shaComputer.digest();}var ModelData=/*#__PURE__*/function(){function ModelData(model,onWillDispose,onDidChangeLanguage){_classCallCheck(this,ModelData);this._modelEventListeners=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .DisposableStore */ .SL();this.model=model;this._languageSelection=null;this._languageSelectionListener=null;this._modelEventListeners.add(model.onWillDispose(function(){return onWillDispose(model);}));this._modelEventListeners.add(model.onDidChangeLanguage(function(e){return onDidChangeLanguage(model,e);}));}_createClass(ModelData,[{key:"_disposeLanguageSelection",value:function _disposeLanguageSelection(){if(this._languageSelectionListener){this._languageSelectionListener.dispose();this._languageSelectionListener=null;}}},{key:"dispose",value:function dispose(){this._modelEventListeners.dispose();this._disposeLanguageSelection();}},{key:"setLanguage",value:function setLanguage(languageSelection){var _this=this;this._disposeLanguageSelection();this._languageSelection=languageSelection;this._languageSelectionListener=this._languageSelection.onDidChange(function(){return _this.model.setMode(languageSelection.languageId);});this.model.setMode(languageSelection.languageId);}}]);return ModelData;}();var DEFAULT_EOL=_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__/* .isLinux */ .IJ||_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__/* .isMacintosh */ .dz?1/* LF */:2/* CRLF */;var DisposedModelInfo=function DisposedModelInfo(uri,initialUndoRedoSnapshot,time,sharesUndoRedoStack,heapSize,sha1,versionId,alternativeVersionId){_classCallCheck(this,DisposedModelInfo);this.uri=uri;this.initialUndoRedoSnapshot=initialUndoRedoSnapshot;this.time=time;this.sharesUndoRedoStack=sharesUndoRedoStack;this.heapSize=heapSize;this.sha1=sha1;this.versionId=versionId;this.alternativeVersionId=alternativeVersionId;};var ModelService=/*#__PURE__*/function(_Disposable){_inherits(ModelService,_Disposable);var _super=_createSuper(ModelService);function ModelService(_configurationService,_resourcePropertiesService,_themeService,_logService,_undoRedoService,_languageService,_languageConfigurationService,_languageFeatureDebounceService){var _this2;_classCallCheck(this,ModelService);_this2=_super.call(this);_this2._configurationService=_configurationService;_this2._resourcePropertiesService=_resourcePropertiesService;_this2._themeService=_themeService;_this2._logService=_logService;_this2._undoRedoService=_undoRedoService;_this2._languageService=_languageService;_this2._languageConfigurationService=_languageConfigurationService;_this2._languageFeatureDebounceService=_languageFeatureDebounceService;_this2._onModelAdded=_this2._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this2.onModelAdded=_this2._onModelAdded.event;_this2._onModelRemoved=_this2._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this2.onModelRemoved=_this2._onModelRemoved.event;_this2._onModelModeChanged=_this2._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this2.onModelLanguageChanged=_this2._onModelModeChanged.event;_this2._modelCreationOptionsByLanguageAndResource=Object.create(null);_this2._models={};_this2._disposedModels=new Map();_this2._disposedModelsHeapSize=0;_this2._semanticStyling=_this2._register(new SemanticStyling(_this2._themeService,_this2._languageService,_this2._logService));_this2._register(_this2._configurationService.onDidChangeConfiguration(function(){return _this2._updateModelOptions();}));_this2._updateModelOptions();_this2._register(new SemanticColoringFeature(_this2._semanticStyling,_assertThisInitialized(_this2),_this2._themeService,_this2._configurationService,_this2._languageFeatureDebounceService));return _this2;}_createClass(ModelService,[{key:"_getEOL",value:function _getEOL(resource,language){if(resource){return this._resourcePropertiesService.getEOL(resource,language);}var eol=this._configurationService.getValue('files.eol',{overrideIdentifier:language});if(eol&&typeof eol==='string'&&eol!=='auto'){return eol;}return _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.OS===3/* Linux */||_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__.OS===2/* Macintosh */?'\n':'\r\n';}},{key:"_shouldRestoreUndoStack",value:function _shouldRestoreUndoStack(){var result=this._configurationService.getValue('files.restoreUndoStack');if(typeof result==='boolean'){return result;}return true;}},{key:"getCreationOptions",value:function getCreationOptions(language,resource,isForSimpleWidget){var creationOptions=this._modelCreationOptionsByLanguageAndResource[language+resource];if(!creationOptions){var editor=this._configurationService.getValue('editor',{overrideIdentifier:language,resource:resource});var eol=this._getEOL(resource,language);creationOptions=ModelService._readModelOptions({editor:editor,eol:eol},isForSimpleWidget);this._modelCreationOptionsByLanguageAndResource[language+resource]=creationOptions;}return creationOptions;}},{key:"_updateModelOptions",value:function _updateModelOptions(){var oldOptionsByLanguageAndResource=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);// Update options on all models
var keys=Object.keys(this._models);for(var i=0,len=keys.length;i<len;i++){var modelId=keys[i];var modelData=this._models[modelId];var language=modelData.model.getLanguageId();var uri=modelData.model.uri;var oldOptions=oldOptionsByLanguageAndResource[language+uri];var newOptions=this.getCreationOptions(language,uri,modelData.model.isForSimpleWidget);ModelService._setModelOptionsForModel(modelData.model,newOptions,oldOptions);}}},{key:"_insertDisposedModel",value:// --- begin IModelService
function _insertDisposedModel(disposedModelData){this._disposedModels.set(MODEL_ID(disposedModelData.uri),disposedModelData);this._disposedModelsHeapSize+=disposedModelData.heapSize;}},{key:"_removeDisposedModel",value:function _removeDisposedModel(resource){var disposedModelData=this._disposedModels.get(MODEL_ID(resource));if(disposedModelData){this._disposedModelsHeapSize-=disposedModelData.heapSize;}this._disposedModels.delete(MODEL_ID(resource));return disposedModelData;}},{key:"_ensureDisposedModelsHeapSize",value:function _ensureDisposedModelsHeapSize(maxModelsHeapSize){if(this._disposedModelsHeapSize>maxModelsHeapSize){// we must remove some old undo stack elements to free up some memory
var disposedModels=[];this._disposedModels.forEach(function(entry){if(!entry.sharesUndoRedoStack){disposedModels.push(entry);}});disposedModels.sort(function(a,b){return a.time-b.time;});while(disposedModels.length>0&&this._disposedModelsHeapSize>maxModelsHeapSize){var disposedModel=disposedModels.shift();this._removeDisposedModel(disposedModel.uri);if(disposedModel.initialUndoRedoSnapshot!==null){this._undoRedoService.restoreSnapshot(disposedModel.initialUndoRedoSnapshot);}}}}},{key:"_createModelData",value:function _createModelData(value,languageId,resource,isForSimpleWidget){var _this3=this;// create & save the model
var options=this.getCreationOptions(languageId,resource,isForSimpleWidget);var model=new _model_textModel_js__WEBPACK_IMPORTED_MODULE_4__/* .TextModel */ .yO(value,languageId,options,resource,this._undoRedoService,this._languageService,this._languageConfigurationService);if(resource&&this._disposedModels.has(MODEL_ID(resource))){var disposedModelData=this._removeDisposedModel(resource);var elements=this._undoRedoService.getElements(resource);var sha1IsEqual=computeModelSha1(model)===disposedModelData.sha1;if(sha1IsEqual||disposedModelData.sharesUndoRedoStack){var _iterator=_createForOfIteratorHelper(elements.past),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;if((0,_model_editStack_js__WEBPACK_IMPORTED_MODULE_18__/* .isEditStackElement */ .e9)(element)&&element.matchesResource(resource)){element.setModel(model);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=_createForOfIteratorHelper(elements.future),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _element=_step2.value;if((0,_model_editStack_js__WEBPACK_IMPORTED_MODULE_18__/* .isEditStackElement */ .e9)(_element)&&_element.matchesResource(resource)){_element.setModel(model);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}this._undoRedoService.setElementsValidFlag(resource,true,function(element){return (0,_model_editStack_js__WEBPACK_IMPORTED_MODULE_18__/* .isEditStackElement */ .e9)(element)&&element.matchesResource(resource);});if(sha1IsEqual){model._overwriteVersionId(disposedModelData.versionId);model._overwriteAlternativeVersionId(disposedModelData.alternativeVersionId);model._overwriteInitialUndoRedoSnapshot(disposedModelData.initialUndoRedoSnapshot);}}else{if(disposedModelData.initialUndoRedoSnapshot!==null){this._undoRedoService.restoreSnapshot(disposedModelData.initialUndoRedoSnapshot);}}}var modelId=MODEL_ID(model.uri);if(this._models[modelId]){// There already exists a model with this id => this is a programmer error
throw new Error('ModelService: Cannot add model because it already exists!');}var modelData=new ModelData(model,function(model){return _this3._onWillDispose(model);},function(model,e){return _this3._onDidChangeLanguage(model,e);});this._models[modelId]=modelData;return modelData;}},{key:"createModel",value:function createModel(value,languageSelection,resource){var isForSimpleWidget=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var modelData;if(languageSelection){modelData=this._createModelData(value,languageSelection.languageId,resource,isForSimpleWidget);this.setMode(modelData.model,languageSelection);}else{modelData=this._createModelData(value,_languages_modesRegistry_js__WEBPACK_IMPORTED_MODULE_7__/* .PLAINTEXT_LANGUAGE_ID */ .bd,resource,isForSimpleWidget);}this._onModelAdded.fire(modelData.model);return modelData.model;}},{key:"setMode",value:function setMode(model,languageSelection){if(!languageSelection){return;}var modelData=this._models[MODEL_ID(model.uri)];if(!modelData){return;}modelData.setLanguage(languageSelection);}},{key:"getModels",value:function getModels(){var ret=[];var keys=Object.keys(this._models);for(var i=0,len=keys.length;i<len;i++){var modelId=keys[i];ret.push(this._models[modelId].model);}return ret;}},{key:"getModel",value:function getModel(resource){var modelId=MODEL_ID(resource);var modelData=this._models[modelId];if(!modelData){return null;}return modelData.model;}},{key:"getSemanticTokensProviderStyling",value:function getSemanticTokensProviderStyling(provider){return this._semanticStyling.get(provider);}// --- end IModelService
},{key:"_schemaShouldMaintainUndoRedoElements",value:function _schemaShouldMaintainUndoRedoElements(resource){return resource.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_19__/* .Schemas.file */ .lg.file||resource.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_19__/* .Schemas.vscodeRemote */ .lg.vscodeRemote||resource.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_19__/* .Schemas.userData */ .lg.userData||resource.scheme===_base_common_network_js__WEBPACK_IMPORTED_MODULE_19__/* .Schemas.vscodeNotebookCell */ .lg.vscodeNotebookCell||resource.scheme==='fake-fs'// for tests
;}},{key:"_onWillDispose",value:function _onWillDispose(model){var modelId=MODEL_ID(model.uri);var modelData=this._models[modelId];var sharesUndoRedoStack=this._undoRedoService.getUriComparisonKey(model.uri)!==model.uri.toString();var maintainUndoRedoStack=false;var heapSize=0;if(sharesUndoRedoStack||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(model.uri)){var elements=this._undoRedoService.getElements(model.uri);if(elements.past.length>0||elements.future.length>0){var _iterator3=_createForOfIteratorHelper(elements.past),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var element=_step3.value;if((0,_model_editStack_js__WEBPACK_IMPORTED_MODULE_18__/* .isEditStackElement */ .e9)(element)&&element.matchesResource(model.uri)){maintainUndoRedoStack=true;heapSize+=element.heapSize(model.uri);element.setModel(model.uri);// remove reference from text buffer instance
}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var _iterator4=_createForOfIteratorHelper(elements.future),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _element2=_step4.value;if((0,_model_editStack_js__WEBPACK_IMPORTED_MODULE_18__/* .isEditStackElement */ .e9)(_element2)&&_element2.matchesResource(model.uri)){maintainUndoRedoStack=true;heapSize+=_element2.heapSize(model.uri);_element2.setModel(model.uri);// remove reference from text buffer instance
}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}}var maxMemory=ModelService.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(!maintainUndoRedoStack){if(!sharesUndoRedoStack){var initialUndoRedoSnapshot=modelData.model.getInitialUndoRedoSnapshot();if(initialUndoRedoSnapshot!==null){this._undoRedoService.restoreSnapshot(initialUndoRedoSnapshot);}}}else if(!sharesUndoRedoStack&&heapSize>maxMemory){// the undo stack for this file would never fit in the configured memory, so don't bother with it.
var _initialUndoRedoSnapshot=modelData.model.getInitialUndoRedoSnapshot();if(_initialUndoRedoSnapshot!==null){this._undoRedoService.restoreSnapshot(_initialUndoRedoSnapshot);}}else{this._ensureDisposedModelsHeapSize(maxMemory-heapSize);// We only invalidate the elements, but they remain in the undo-redo service.
this._undoRedoService.setElementsValidFlag(model.uri,false,function(element){return (0,_model_editStack_js__WEBPACK_IMPORTED_MODULE_18__/* .isEditStackElement */ .e9)(element)&&element.matchesResource(model.uri);});this._insertDisposedModel(new DisposedModelInfo(model.uri,modelData.model.getInitialUndoRedoSnapshot(),Date.now(),sharesUndoRedoStack,heapSize,computeModelSha1(model),model.getVersionId(),model.getAlternativeVersionId()));}delete this._models[modelId];modelData.dispose();// clean up cache
delete this._modelCreationOptionsByLanguageAndResource[model.getLanguageId()+model.uri];this._onModelRemoved.fire(model);}},{key:"_onDidChangeLanguage",value:function _onDidChangeLanguage(model,e){var oldLanguageId=e.oldLanguage;var newLanguageId=model.getLanguageId();var oldOptions=this.getCreationOptions(oldLanguageId,model.uri,model.isForSimpleWidget);var newOptions=this.getCreationOptions(newLanguageId,model.uri,model.isForSimpleWidget);ModelService._setModelOptionsForModel(model,newOptions,oldOptions);this._onModelModeChanged.fire({model:model,oldLanguageId:oldLanguageId});}}],[{key:"_readModelOptions",value:function _readModelOptions(config,isForSimpleWidget){var _a;var tabSize=_core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__/* .EDITOR_MODEL_DEFAULTS.tabSize */ .D.tabSize;if(config.editor&&typeof config.editor.tabSize!=='undefined'){var parsedTabSize=parseInt(config.editor.tabSize,10);if(!isNaN(parsedTabSize)){tabSize=parsedTabSize;}if(tabSize<1){tabSize=1;}}var indentSize=tabSize;if(config.editor&&typeof config.editor.indentSize!=='undefined'&&config.editor.indentSize!=='tabSize'){var parsedIndentSize=parseInt(config.editor.indentSize,10);if(!isNaN(parsedIndentSize)){indentSize=parsedIndentSize;}if(indentSize<1){indentSize=1;}}var insertSpaces=_core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__/* .EDITOR_MODEL_DEFAULTS.insertSpaces */ .D.insertSpaces;if(config.editor&&typeof config.editor.insertSpaces!=='undefined'){insertSpaces=config.editor.insertSpaces==='false'?false:Boolean(config.editor.insertSpaces);}var newDefaultEOL=DEFAULT_EOL;var eol=config.eol;if(eol==='\r\n'){newDefaultEOL=2/* CRLF */;}else if(eol==='\n'){newDefaultEOL=1/* LF */;}var trimAutoWhitespace=_core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__/* .EDITOR_MODEL_DEFAULTS.trimAutoWhitespace */ .D.trimAutoWhitespace;if(config.editor&&typeof config.editor.trimAutoWhitespace!=='undefined'){trimAutoWhitespace=config.editor.trimAutoWhitespace==='false'?false:Boolean(config.editor.trimAutoWhitespace);}var detectIndentation=_core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__/* .EDITOR_MODEL_DEFAULTS.detectIndentation */ .D.detectIndentation;if(config.editor&&typeof config.editor.detectIndentation!=='undefined'){detectIndentation=config.editor.detectIndentation==='false'?false:Boolean(config.editor.detectIndentation);}var largeFileOptimizations=_core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__/* .EDITOR_MODEL_DEFAULTS.largeFileOptimizations */ .D.largeFileOptimizations;if(config.editor&&typeof config.editor.largeFileOptimizations!=='undefined'){largeFileOptimizations=config.editor.largeFileOptimizations==='false'?false:Boolean(config.editor.largeFileOptimizations);}var bracketPairColorizationOptions=_core_textModelDefaults_js__WEBPACK_IMPORTED_MODULE_5__/* .EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions */ .D.bracketPairColorizationOptions;if(((_a=config.editor)===null||_a===void 0?void 0:_a.bracketPairColorization)&&_typeof(config.editor.bracketPairColorization)==='object'){bracketPairColorizationOptions={enabled:!!config.editor.bracketPairColorization.enabled};}return{isForSimpleWidget:isForSimpleWidget,tabSize:tabSize,indentSize:indentSize,insertSpaces:insertSpaces,detectIndentation:detectIndentation,defaultEOL:newDefaultEOL,trimAutoWhitespace:trimAutoWhitespace,largeFileOptimizations:largeFileOptimizations,bracketPairColorizationOptions:bracketPairColorizationOptions};}},{key:"_setModelOptionsForModel",value:function _setModelOptionsForModel(model,newOptions,currentOptions){if(currentOptions&&currentOptions.defaultEOL!==newOptions.defaultEOL&&model.getLineCount()===1){model.setEOL(newOptions.defaultEOL===1/* LF */?0/* LF */:1/* CRLF */);}if(currentOptions&&currentOptions.detectIndentation===newOptions.detectIndentation&&currentOptions.insertSpaces===newOptions.insertSpaces&&currentOptions.tabSize===newOptions.tabSize&&currentOptions.indentSize===newOptions.indentSize&&currentOptions.trimAutoWhitespace===newOptions.trimAutoWhitespace&&(0,_base_common_objects_js__WEBPACK_IMPORTED_MODULE_22__/* .equals */ .fS)(currentOptions.bracketPairColorizationOptions,newOptions.bracketPairColorizationOptions)){// Same indent opts, no need to touch the model
return;}if(newOptions.detectIndentation){model.detectIndentation(newOptions.insertSpaces,newOptions.tabSize);model.updateOptions({trimAutoWhitespace:newOptions.trimAutoWhitespace,bracketColorizationOptions:newOptions.bracketPairColorizationOptions});}else{model.updateOptions({insertSpaces:newOptions.insertSpaces,tabSize:newOptions.tabSize,indentSize:newOptions.indentSize,trimAutoWhitespace:newOptions.trimAutoWhitespace,bracketColorizationOptions:newOptions.bracketPairColorizationOptions});}}}]);return ModelService;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);ModelService.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;ModelService=__decorate([__param(0,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__/* .IConfigurationService */ .Ui),__param(1,_textResourceConfiguration_js__WEBPACK_IMPORTED_MODULE_10__/* .ITextResourcePropertiesService */ .y),__param(2,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__/* .IThemeService */ .XE),__param(3,_platform_log_common_log_js__WEBPACK_IMPORTED_MODULE_15__/* .ILogService */ .VZ),__param(4,_platform_undoRedo_common_undoRedo_js__WEBPACK_IMPORTED_MODULE_16__/* .IUndoRedoService */ .tJ),__param(5,_language_js__WEBPACK_IMPORTED_MODULE_8__/* .ILanguageService */ .O),__param(6,_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_23__/* .ILanguageConfigurationService */ .c_),__param(7,_languageFeatureDebounce_js__WEBPACK_IMPORTED_MODULE_24__/* .ILanguageFeatureDebounceService */ .A)],ModelService);var SEMANTIC_HIGHLIGHTING_SETTING_ID='editor.semanticHighlighting';function isSemanticColoringEnabled(model,themeService,configurationService){var _a;var setting=(_a=configurationService.getValue(SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:model.getLanguageId(),resource:model.uri}))===null||_a===void 0?void 0:_a.enabled;if(typeof setting==='boolean'){return setting;}return themeService.getColorTheme().semanticHighlighting;}var SemanticColoringFeature=/*#__PURE__*/function(_Disposable2){_inherits(SemanticColoringFeature,_Disposable2);var _super2=_createSuper(SemanticColoringFeature);function SemanticColoringFeature(semanticStyling,modelService,themeService,configurationService,languageFeatureDebounceService){var _this4;_classCallCheck(this,SemanticColoringFeature);_this4=_super2.call(this);_this4._watchers=Object.create(null);_this4._semanticStyling=semanticStyling;var register=function register(model){_this4._watchers[model.uri.toString()]=new ModelSemanticColoring(model,_this4._semanticStyling,themeService,languageFeatureDebounceService);};var deregister=function deregister(model,modelSemanticColoring){modelSemanticColoring.dispose();delete _this4._watchers[model.uri.toString()];};var handleSettingOrThemeChange=function handleSettingOrThemeChange(){var _iterator5=_createForOfIteratorHelper(modelService.getModels()),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var model=_step5.value;var curr=_this4._watchers[model.uri.toString()];if(isSemanticColoringEnabled(model,themeService,configurationService)){if(!curr){register(model);}}else{if(curr){deregister(model,curr);}}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}};_this4._register(modelService.onModelAdded(function(model){if(isSemanticColoringEnabled(model,themeService,configurationService)){register(model);}}));_this4._register(modelService.onModelRemoved(function(model){var curr=_this4._watchers[model.uri.toString()];if(curr){deregister(model,curr);}}));_this4._register(configurationService.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)){handleSettingOrThemeChange();}}));_this4._register(themeService.onDidColorThemeChange(handleSettingOrThemeChange));return _this4;}return SemanticColoringFeature;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);SemanticColoringFeature=__decorate([__param(1,_model_js__WEBPACK_IMPORTED_MODULE_9__/* .IModelService */ .q),__param(2,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__/* .IThemeService */ .XE),__param(3,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_11__/* .IConfigurationService */ .Ui),__param(4,_languageFeatureDebounce_js__WEBPACK_IMPORTED_MODULE_24__/* .ILanguageFeatureDebounceService */ .A)],SemanticColoringFeature);var SemanticStyling=/*#__PURE__*/function(_Disposable3){_inherits(SemanticStyling,_Disposable3);var _super3=_createSuper(SemanticStyling);function SemanticStyling(_themeService,_languageService,_logService){var _this5;_classCallCheck(this,SemanticStyling);_this5=_super3.call(this);_this5._themeService=_themeService;_this5._languageService=_languageService;_this5._logService=_logService;_this5._caches=new WeakMap();_this5._register(_this5._themeService.onDidColorThemeChange(function(){_this5._caches=new WeakMap();}));return _this5;}_createClass(SemanticStyling,[{key:"get",value:function get(provider){if(!this._caches.has(provider)){this._caches.set(provider,new _semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_20__/* .SemanticTokensProviderStyling */ .$(provider.getLegend(),this._themeService,this._languageService,this._logService));}return this._caches.get(provider);}}]);return SemanticStyling;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);var SemanticTokensResponse=/*#__PURE__*/function(){function SemanticTokensResponse(provider,resultId,data){_classCallCheck(this,SemanticTokensResponse);this.provider=provider;this.resultId=resultId;this.data=data;}_createClass(SemanticTokensResponse,[{key:"dispose",value:function dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId);}}]);return SemanticTokensResponse;}();var ModelSemanticColoring=/*#__PURE__*/function(_Disposable4){_inherits(ModelSemanticColoring,_Disposable4);var _super4=_createSuper(ModelSemanticColoring);function ModelSemanticColoring(model,stylingProvider,themeService,languageFeatureDebounceService){var _this6;_classCallCheck(this,ModelSemanticColoring);_this6=_super4.call(this);_this6._isDisposed=false;_this6._model=model;_this6._semanticStyling=stylingProvider;_this6._debounceInformation=languageFeatureDebounceService.for(_languages_js__WEBPACK_IMPORTED_MODULE_6__/* .DocumentSemanticTokensProviderRegistry */ .wT,'DocumentSemanticTokens',{min:ModelSemanticColoring.REQUEST_MIN_DELAY,max:ModelSemanticColoring.REQUEST_MAX_DELAY});_this6._fetchDocumentSemanticTokens=_this6._register(new _base_common_async_js__WEBPACK_IMPORTED_MODULE_12__/* .RunOnceScheduler */ .pY(function(){return _this6._fetchDocumentSemanticTokensNow();},ModelSemanticColoring.REQUEST_MIN_DELAY));_this6._currentDocumentResponse=null;_this6._currentDocumentRequestCancellationTokenSource=null;_this6._documentProvidersChangeListeners=[];_this6._register(_this6._model.onDidChangeContent(function(){if(!_this6._fetchDocumentSemanticTokens.isScheduled()){_this6._fetchDocumentSemanticTokens.schedule(_this6._debounceInformation.get(_this6._model));}}));_this6._register(_this6._model.onDidChangeLanguage(function(){// clear any outstanding state
if(_this6._currentDocumentResponse){_this6._currentDocumentResponse.dispose();_this6._currentDocumentResponse=null;}if(_this6._currentDocumentRequestCancellationTokenSource){_this6._currentDocumentRequestCancellationTokenSource.cancel();_this6._currentDocumentRequestCancellationTokenSource=null;}_this6._setDocumentSemanticTokens(null,null,null,[]);_this6._fetchDocumentSemanticTokens.schedule(0);}));var bindDocumentChangeListeners=function bindDocumentChangeListeners(){(0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .dispose */ .B9)(_this6._documentProvidersChangeListeners);_this6._documentProvidersChangeListeners=[];var _iterator6=_createForOfIteratorHelper(_languages_js__WEBPACK_IMPORTED_MODULE_6__/* .DocumentSemanticTokensProviderRegistry.all */ .wT.all(model)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var provider=_step6.value;if(typeof provider.onDidChange==='function'){_this6._documentProvidersChangeListeners.push(provider.onDidChange(function(){return _this6._fetchDocumentSemanticTokens.schedule(0);}));}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}};bindDocumentChangeListeners();_this6._register(_languages_js__WEBPACK_IMPORTED_MODULE_6__/* .DocumentSemanticTokensProviderRegistry.onDidChange */ .wT.onDidChange(function(){bindDocumentChangeListeners();_this6._fetchDocumentSemanticTokens.schedule(_this6._debounceInformation.get(_this6._model));}));_this6._register(themeService.onDidColorThemeChange(function(_){// clear out existing tokens
_this6._setDocumentSemanticTokens(null,null,null,[]);_this6._fetchDocumentSemanticTokens.schedule(_this6._debounceInformation.get(_this6._model));}));_this6._fetchDocumentSemanticTokens.schedule(0);return _this6;}_createClass(ModelSemanticColoring,[{key:"dispose",value:function dispose(){if(this._currentDocumentResponse){this._currentDocumentResponse.dispose();this._currentDocumentResponse=null;}if(this._currentDocumentRequestCancellationTokenSource){this._currentDocumentRequestCancellationTokenSource.cancel();this._currentDocumentRequestCancellationTokenSource=null;}this._setDocumentSemanticTokens(null,null,null,[]);this._isDisposed=true;_get(_getPrototypeOf(ModelSemanticColoring.prototype),"dispose",this).call(this);}},{key:"_fetchDocumentSemanticTokensNow",value:function _fetchDocumentSemanticTokensNow(){var _this7=this;if(this._currentDocumentRequestCancellationTokenSource){// there is already a request running, let it finish...
return;}if(!(0,_getSemanticTokens_js__WEBPACK_IMPORTED_MODULE_21__/* .hasDocumentSemanticTokensProvider */ .Jc)(this._model)){// there is no provider
if(this._currentDocumentResponse){// there are semantic tokens set
this._model.setSemanticTokens(null,false);}return;}var cancellationTokenSource=new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_13__/* .CancellationTokenSource */ .A();var lastProvider=this._currentDocumentResponse?this._currentDocumentResponse.provider:null;var lastResultId=this._currentDocumentResponse?this._currentDocumentResponse.resultId||null:null;var request=(0,_getSemanticTokens_js__WEBPACK_IMPORTED_MODULE_21__/* .getDocumentSemanticTokens */ .ML)(this._model,lastProvider,lastResultId,cancellationTokenSource.token);this._currentDocumentRequestCancellationTokenSource=cancellationTokenSource;var pendingChanges=[];var contentChangeListener=this._model.onDidChangeContent(function(e){pendingChanges.push(e);});var sw=new _base_common_stopwatch_js__WEBPACK_IMPORTED_MODULE_25__/* .StopWatch */ .G(false);request.then(function(res){_this7._debounceInformation.update(_this7._model,sw.elapsed());_this7._currentDocumentRequestCancellationTokenSource=null;contentChangeListener.dispose();if(!res){_this7._setDocumentSemanticTokens(null,null,null,pendingChanges);}else{var provider=res.provider,tokens=res.tokens;var styling=_this7._semanticStyling.get(provider);_this7._setDocumentSemanticTokens(provider,tokens||null,styling,pendingChanges);}},function(err){var isExpectedError=err&&(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__/* .isCancellationError */ .n2(err)||typeof err.message==='string'&&err.message.indexOf('busy')!==-1);if(!isExpectedError){_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__/* .onUnexpectedError */ .dL(err);}// Semantic tokens eats up all errors and considers errors to mean that the result is temporarily not available
// The API does not have a special error kind to express this...
_this7._currentDocumentRequestCancellationTokenSource=null;contentChangeListener.dispose();if(pendingChanges.length>0){// More changes occurred while the request was running
if(!_this7._fetchDocumentSemanticTokens.isScheduled()){_this7._fetchDocumentSemanticTokens.schedule(_this7._debounceInformation.get(_this7._model));}}});}},{key:"_setDocumentSemanticTokens",value:function _setDocumentSemanticTokens(provider,tokens,styling,pendingChanges){var _this8=this;var currentResponse=this._currentDocumentResponse;var rescheduleIfNeeded=function rescheduleIfNeeded(){if(pendingChanges.length>0&&!_this8._fetchDocumentSemanticTokens.isScheduled()){_this8._fetchDocumentSemanticTokens.schedule(_this8._debounceInformation.get(_this8._model));}};if(this._currentDocumentResponse){this._currentDocumentResponse.dispose();this._currentDocumentResponse=null;}if(this._isDisposed){// disposed!
if(provider&&tokens){provider.releaseDocumentSemanticTokens(tokens.resultId);}return;}if(!provider||!styling){this._model.setSemanticTokens(null,false);return;}if(!tokens){this._model.setSemanticTokens(null,true);rescheduleIfNeeded();return;}if((0,_getSemanticTokens_js__WEBPACK_IMPORTED_MODULE_21__/* .isSemanticTokensEdits */ .Vj)(tokens)){if(!currentResponse){// not possible!
this._model.setSemanticTokens(null,true);return;}if(tokens.edits.length===0){// nothing to do!
tokens={resultId:tokens.resultId,data:currentResponse.data};}else{var deltaLength=0;var _iterator7=_createForOfIteratorHelper(tokens.edits),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _edit=_step7.value;deltaLength+=(_edit.data?_edit.data.length:0)-_edit.deleteCount;}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}var srcData=currentResponse.data;var destData=new Uint32Array(srcData.length+deltaLength);var srcLastStart=srcData.length;var destLastStart=destData.length;for(var i=tokens.edits.length-1;i>=0;i--){var edit=tokens.edits[i];var copyCount=srcLastStart-(edit.start+edit.deleteCount);if(copyCount>0){ModelSemanticColoring._copy(srcData,srcLastStart-copyCount,destData,destLastStart-copyCount,copyCount);destLastStart-=copyCount;}if(edit.data){ModelSemanticColoring._copy(edit.data,0,destData,destLastStart-edit.data.length,edit.data.length);destLastStart-=edit.data.length;}srcLastStart=edit.start;}if(srcLastStart>0){ModelSemanticColoring._copy(srcData,0,destData,0,srcLastStart);}tokens={resultId:tokens.resultId,data:destData};}}if((0,_getSemanticTokens_js__WEBPACK_IMPORTED_MODULE_21__/* .isSemanticTokens */ .Vl)(tokens)){this._currentDocumentResponse=new SemanticTokensResponse(provider,tokens.resultId,tokens.data);var result=(0,_semanticTokensProviderStyling_js__WEBPACK_IMPORTED_MODULE_20__/* .toMultilineTokens2 */ .h)(tokens,styling,this._model.getLanguageId());// Adjust incoming semantic tokens
if(pendingChanges.length>0){// More changes occurred while the request was running
// We need to:
// 1. Adjust incoming semantic tokens
// 2. Request them again
var _iterator8=_createForOfIteratorHelper(pendingChanges),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var change=_step8.value;var _iterator9=_createForOfIteratorHelper(result),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var area=_step9.value;var _iterator10=_createForOfIteratorHelper(change.changes),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var singleChange=_step10.value;area.applyEdit(singleChange.range,singleChange.text);}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}this._model.setSemanticTokens(result,true);}else{this._model.setSemanticTokens(null,true);}rescheduleIfNeeded();}}],[{key:"_copy",value:function _copy(src,srcOffset,dest,destOffset,length){for(var i=0;i<length;i++){dest[destOffset+i]=src[srcOffset+i];}}}]);return ModelSemanticColoring;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);ModelSemanticColoring.REQUEST_MIN_DELAY=300;ModelSemanticColoring.REQUEST_MAX_DELAY=2000;ModelSemanticColoring=__decorate([__param(2,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_14__/* .IThemeService */ .XE),__param(3,_languageFeatureDebounce_js__WEBPACK_IMPORTED_MODULE_24__/* .ILanguageFeatureDebounceService */ .A)],ModelSemanticColoring);

/***/ }),

/***/ 90270:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "S": () => (/* binding */ ITextModelService)
/* harmony export */ });
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71896);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ITextModelService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)('textModelService');

/***/ }),

/***/ 21569:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "$": () => (/* binding */ SemanticTokensProviderStyling),
  "h": () => (/* binding */ toMultilineTokens2)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/log/common/log.js
var log = __webpack_require__(21752);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/eolCounter.js
var eolCounter = __webpack_require__(82982);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/sparseMultilineTokens.js
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Represents sparse tokens over a contiguous range of lines.
 */var SparseMultilineTokens=/*#__PURE__*/function(){function SparseMultilineTokens(startLineNumber,tokens){_classCallCheck(this,SparseMultilineTokens);this._startLineNumber=startLineNumber;this._tokens=tokens;this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine();}_createClass(SparseMultilineTokens,[{key:"startLineNumber",get:/**
     * (Inclusive) start line number for these tokens.
     */function get(){return this._startLineNumber;}/**
     * (Inclusive) end line number for these tokens.
     */},{key:"endLineNumber",get:function get(){return this._endLineNumber;}},{key:"toString",value:function toString(){return this._tokens.toString(this._startLineNumber);}},{key:"_updateEndLineNumber",value:function _updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine();}},{key:"isEmpty",value:function isEmpty(){return this._tokens.isEmpty();}},{key:"getLineTokens",value:function getLineTokens(lineNumber){if(this._startLineNumber<=lineNumber&&lineNumber<=this._endLineNumber){return this._tokens.getLineTokens(lineNumber-this._startLineNumber);}return null;}},{key:"getRange",value:function getRange(){var deltaRange=this._tokens.getRange();if(!deltaRange){return deltaRange;}return new range/* Range */.e(this._startLineNumber+deltaRange.startLineNumber,deltaRange.startColumn,this._startLineNumber+deltaRange.endLineNumber,deltaRange.endColumn);}},{key:"removeTokens",value:function removeTokens(range){var startLineIndex=range.startLineNumber-this._startLineNumber;var endLineIndex=range.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(startLineIndex,range.startColumn-1,endLineIndex,range.endColumn-1);this._updateEndLineNumber();}},{key:"split",value:function split(range){// split tokens to two:
// a) all the tokens before `range`
// b) all the tokens after `range`
var startLineIndex=range.startLineNumber-this._startLineNumber;var endLineIndex=range.endLineNumber-this._startLineNumber;var _this$_tokens$split=this._tokens.split(startLineIndex,range.startColumn-1,endLineIndex,range.endColumn-1),_this$_tokens$split2=_slicedToArray(_this$_tokens$split,3),a=_this$_tokens$split2[0],b=_this$_tokens$split2[1],bDeltaLine=_this$_tokens$split2[2];return[new SparseMultilineTokens(this._startLineNumber,a),new SparseMultilineTokens(this._startLineNumber+bDeltaLine,b)];}},{key:"applyEdit",value:function applyEdit(range,text){var _countEOL=(0,eolCounter/* countEOL */.Q)(text),_countEOL2=_slicedToArray(_countEOL,3),eolCount=_countEOL2[0],firstLineLength=_countEOL2[1],lastLineLength=_countEOL2[2];this.acceptEdit(range,eolCount,firstLineLength,lastLineLength,text.length>0?text.charCodeAt(0):0/* Null */);}},{key:"acceptEdit",value:function acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode){this._acceptDeleteRange(range);this._acceptInsertText(new position/* Position */.L(range.startLineNumber,range.startColumn),eolCount,firstLineLength,lastLineLength,firstCharCode);this._updateEndLineNumber();}},{key:"_acceptDeleteRange",value:function _acceptDeleteRange(range){if(range.startLineNumber===range.endLineNumber&&range.startColumn===range.endColumn){// Nothing to delete
return;}var firstLineIndex=range.startLineNumber-this._startLineNumber;var lastLineIndex=range.endLineNumber-this._startLineNumber;if(lastLineIndex<0){// this deletion occurs entirely before this block, so we only need to adjust line numbers
var deletedLinesCount=lastLineIndex-firstLineIndex;this._startLineNumber-=deletedLinesCount;return;}var tokenMaxDeltaLine=this._tokens.getMaxDeltaLine();if(firstLineIndex>=tokenMaxDeltaLine+1){// this deletion occurs entirely after this block, so there is nothing to do
return;}if(firstLineIndex<0&&lastLineIndex>=tokenMaxDeltaLine+1){// this deletion completely encompasses this block
this._startLineNumber=0;this._tokens.clear();return;}if(firstLineIndex<0){var deletedBefore=-firstLineIndex;this._startLineNumber-=deletedBefore;this._tokens.acceptDeleteRange(range.startColumn-1,0,0,lastLineIndex,range.endColumn-1);}else{this._tokens.acceptDeleteRange(0,firstLineIndex,range.startColumn-1,lastLineIndex,range.endColumn-1);}}},{key:"_acceptInsertText",value:function _acceptInsertText(position,eolCount,firstLineLength,lastLineLength,firstCharCode){if(eolCount===0&&firstLineLength===0){// Nothing to insert
return;}var lineIndex=position.lineNumber-this._startLineNumber;if(lineIndex<0){// this insertion occurs before this block, so we only need to adjust line numbers
this._startLineNumber+=eolCount;return;}var tokenMaxDeltaLine=this._tokens.getMaxDeltaLine();if(lineIndex>=tokenMaxDeltaLine+1){// this insertion occurs after this block, so there is nothing to do
return;}this._tokens.acceptInsertText(lineIndex,position.column-1,eolCount,firstLineLength,lastLineLength,firstCharCode);}}],[{key:"create",value:function create(startLineNumber,tokens){return new SparseMultilineTokens(startLineNumber,new SparseMultilineTokensStorage(tokens));}}]);return SparseMultilineTokens;}();var SparseMultilineTokensStorage=/*#__PURE__*/function(){function SparseMultilineTokensStorage(tokens){_classCallCheck(this,SparseMultilineTokensStorage);this._tokens=tokens;this._tokenCount=tokens.length/4;}_createClass(SparseMultilineTokensStorage,[{key:"toString",value:function toString(startLineNumber){var pieces=[];for(var i=0;i<this._tokenCount;i++){pieces.push("(".concat(this._getDeltaLine(i)+startLineNumber,",").concat(this._getStartCharacter(i),"-").concat(this._getEndCharacter(i),")"));}return"[".concat(pieces.join(','),"]");}},{key:"getMaxDeltaLine",value:function getMaxDeltaLine(){var tokenCount=this._getTokenCount();if(tokenCount===0){return-1;}return this._getDeltaLine(tokenCount-1);}},{key:"getRange",value:function getRange(){var tokenCount=this._getTokenCount();if(tokenCount===0){return null;}var startChar=this._getStartCharacter(0);var maxDeltaLine=this._getDeltaLine(tokenCount-1);var endChar=this._getEndCharacter(tokenCount-1);return new range/* Range */.e(0,startChar+1,maxDeltaLine,endChar+1);}},{key:"_getTokenCount",value:function _getTokenCount(){return this._tokenCount;}},{key:"_getDeltaLine",value:function _getDeltaLine(tokenIndex){return this._tokens[4*tokenIndex];}},{key:"_getStartCharacter",value:function _getStartCharacter(tokenIndex){return this._tokens[4*tokenIndex+1];}},{key:"_getEndCharacter",value:function _getEndCharacter(tokenIndex){return this._tokens[4*tokenIndex+2];}},{key:"isEmpty",value:function isEmpty(){return this._getTokenCount()===0;}},{key:"getLineTokens",value:function getLineTokens(deltaLine){var low=0;var high=this._getTokenCount()-1;while(low<high){var mid=low+Math.floor((high-low)/2);var midDeltaLine=this._getDeltaLine(mid);if(midDeltaLine<deltaLine){low=mid+1;}else if(midDeltaLine>deltaLine){high=mid-1;}else{var min=mid;while(min>low&&this._getDeltaLine(min-1)===deltaLine){min--;}var max=mid;while(max<high&&this._getDeltaLine(max+1)===deltaLine){max++;}return new SparseLineTokens(this._tokens.subarray(4*min,4*max+4));}}if(this._getDeltaLine(low)===deltaLine){return new SparseLineTokens(this._tokens.subarray(4*low,4*low+4));}return null;}},{key:"clear",value:function clear(){this._tokenCount=0;}},{key:"removeTokens",value:function removeTokens(startDeltaLine,startChar,endDeltaLine,endChar){var tokens=this._tokens;var tokenCount=this._tokenCount;var newTokenCount=0;var hasDeletedTokens=false;var firstDeltaLine=0;for(var i=0;i<tokenCount;i++){var srcOffset=4*i;var tokenDeltaLine=tokens[srcOffset];var tokenStartCharacter=tokens[srcOffset+1];var tokenEndCharacter=tokens[srcOffset+2];var tokenMetadata=tokens[srcOffset+3];if((tokenDeltaLine>startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter>=startChar)&&(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<=endChar)){hasDeletedTokens=true;}else{if(newTokenCount===0){firstDeltaLine=tokenDeltaLine;}if(hasDeletedTokens){// must move the token to the left
var destOffset=4*newTokenCount;tokens[destOffset]=tokenDeltaLine-firstDeltaLine;tokens[destOffset+1]=tokenStartCharacter;tokens[destOffset+2]=tokenEndCharacter;tokens[destOffset+3]=tokenMetadata;}newTokenCount++;}}this._tokenCount=newTokenCount;return firstDeltaLine;}},{key:"split",value:function split(startDeltaLine,startChar,endDeltaLine,endChar){var tokens=this._tokens;var tokenCount=this._tokenCount;var aTokens=[];var bTokens=[];var destTokens=aTokens;var destOffset=0;var destFirstDeltaLine=0;for(var i=0;i<tokenCount;i++){var srcOffset=4*i;var tokenDeltaLine=tokens[srcOffset];var tokenStartCharacter=tokens[srcOffset+1];var tokenEndCharacter=tokens[srcOffset+2];var tokenMetadata=tokens[srcOffset+3];if(tokenDeltaLine>startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter>=startChar){if(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<=endChar){// this token is touching the range
continue;}else{// this token is after the range
if(destTokens!==bTokens){// this token is the first token after the range
destTokens=bTokens;destOffset=0;destFirstDeltaLine=tokenDeltaLine;}}}destTokens[destOffset++]=tokenDeltaLine-destFirstDeltaLine;destTokens[destOffset++]=tokenStartCharacter;destTokens[destOffset++]=tokenEndCharacter;destTokens[destOffset++]=tokenMetadata;}return[new SparseMultilineTokensStorage(new Uint32Array(aTokens)),new SparseMultilineTokensStorage(new Uint32Array(bTokens)),destFirstDeltaLine];}},{key:"acceptDeleteRange",value:function acceptDeleteRange(horizontalShiftForFirstLineTokens,startDeltaLine,startCharacter,endDeltaLine,endCharacter){// This is a bit complex, here are the cases I used to think about this:
//
// 1. The token starts before the deletion range
// 1a. The token is completely before the deletion range
//               -----------
//                          xxxxxxxxxxx
// 1b. The token starts before, the deletion range ends after the token
//               -----------
//                      xxxxxxxxxxx
// 1c. The token starts before, the deletion range ends precisely with the token
//               ---------------
//                      xxxxxxxx
// 1d. The token starts before, the deletion range is inside the token
//               ---------------
//                    xxxxx
//
// 2. The token starts at the same position with the deletion range
// 2a. The token starts at the same position, and ends inside the deletion range
//               -------
//               xxxxxxxxxxx
// 2b. The token starts at the same position, and ends at the same position as the deletion range
//               ----------
//               xxxxxxxxxx
// 2c. The token starts at the same position, and ends after the deletion range
//               -------------
//               xxxxxxx
//
// 3. The token starts inside the deletion range
// 3a. The token is inside the deletion range
//                -------
//             xxxxxxxxxxxxx
// 3b. The token starts inside the deletion range, and ends at the same position as the deletion range
//                ----------
//             xxxxxxxxxxxxx
// 3c. The token starts inside the deletion range, and ends after the deletion range
//                ------------
//             xxxxxxxxxxx
//
// 4. The token starts after the deletion range
//                  -----------
//          xxxxxxxx
//
var tokens=this._tokens;var tokenCount=this._tokenCount;var deletedLineCount=endDeltaLine-startDeltaLine;var newTokenCount=0;var hasDeletedTokens=false;for(var i=0;i<tokenCount;i++){var srcOffset=4*i;var tokenDeltaLine=tokens[srcOffset];var tokenStartCharacter=tokens[srcOffset+1];var tokenEndCharacter=tokens[srcOffset+2];var tokenMetadata=tokens[srcOffset+3];if(tokenDeltaLine<startDeltaLine||tokenDeltaLine===startDeltaLine&&tokenEndCharacter<=startCharacter){// 1a. The token is completely before the deletion range
// => nothing to do
newTokenCount++;continue;}else if(tokenDeltaLine===startDeltaLine&&tokenStartCharacter<startCharacter){// 1b, 1c, 1d
// => the token survives, but it needs to shrink
if(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter){// 1d. The token starts before, the deletion range is inside the token
// => the token shrinks by the deletion character count
tokenEndCharacter-=endCharacter-startCharacter;}else{// 1b. The token starts before, the deletion range ends after the token
// 1c. The token starts before, the deletion range ends precisely with the token
// => the token shrinks its ending to the deletion start
tokenEndCharacter=startCharacter;}}else if(tokenDeltaLine===startDeltaLine&&tokenStartCharacter===startCharacter){// 2a, 2b, 2c
if(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter){// 2c. The token starts at the same position, and ends after the deletion range
// => the token shrinks by the deletion character count
tokenEndCharacter-=endCharacter-startCharacter;}else{// 2a. The token starts at the same position, and ends inside the deletion range
// 2b. The token starts at the same position, and ends at the same position as the deletion range
// => the token is deleted
hasDeletedTokens=true;continue;}}else if(tokenDeltaLine<endDeltaLine||tokenDeltaLine===endDeltaLine&&tokenStartCharacter<endCharacter){// 3a, 3b, 3c
if(tokenDeltaLine===endDeltaLine&&tokenEndCharacter>endCharacter){// 3c. The token starts inside the deletion range, and ends after the deletion range
// => the token moves left and shrinks
if(tokenDeltaLine===startDeltaLine){// the deletion started on the same line as the token
// => the token moves left and shrinks
tokenStartCharacter=startCharacter;tokenEndCharacter=tokenStartCharacter+(tokenEndCharacter-endCharacter);}else{// the deletion started on a line above the token
// => the token moves to the beginning of the line
tokenStartCharacter=0;tokenEndCharacter=tokenStartCharacter+(tokenEndCharacter-endCharacter);}}else{// 3a. The token is inside the deletion range
// 3b. The token starts inside the deletion range, and ends at the same position as the deletion range
// => the token is deleted
hasDeletedTokens=true;continue;}}else if(tokenDeltaLine>endDeltaLine){// 4. (partial) The token starts after the deletion range, on a line below...
if(deletedLineCount===0&&!hasDeletedTokens){// early stop, there is no need to walk all the tokens and do nothing...
newTokenCount=tokenCount;break;}tokenDeltaLine-=deletedLineCount;}else if(tokenDeltaLine===endDeltaLine&&tokenStartCharacter>=endCharacter){// 4. (continued) The token starts after the deletion range, on the last line where a deletion occurs
if(horizontalShiftForFirstLineTokens&&tokenDeltaLine===0){tokenStartCharacter+=horizontalShiftForFirstLineTokens;tokenEndCharacter+=horizontalShiftForFirstLineTokens;}tokenDeltaLine-=deletedLineCount;tokenStartCharacter-=endCharacter-startCharacter;tokenEndCharacter-=endCharacter-startCharacter;}else{throw new Error("Not possible!");}var destOffset=4*newTokenCount;tokens[destOffset]=tokenDeltaLine;tokens[destOffset+1]=tokenStartCharacter;tokens[destOffset+2]=tokenEndCharacter;tokens[destOffset+3]=tokenMetadata;newTokenCount++;}this._tokenCount=newTokenCount;}},{key:"acceptInsertText",value:function acceptInsertText(deltaLine,character,eolCount,firstLineLength,lastLineLength,firstCharCode){// Here are the cases I used to think about this:
//
// 1. The token is completely before the insertion point
//            -----------   |
// 2. The token ends precisely at the insertion point
//            -----------|
// 3. The token contains the insertion point
//            -----|------
// 4. The token starts precisely at the insertion point
//            |-----------
// 5. The token is completely after the insertion point
//            |   -----------
//
var isInsertingPreciselyOneWordCharacter=eolCount===0&&firstLineLength===1&&(firstCharCode>=48/* Digit0 */&&firstCharCode<=57/* Digit9 */||firstCharCode>=65/* A */&&firstCharCode<=90/* Z */||firstCharCode>=97/* a */&&firstCharCode<=122/* z */);var tokens=this._tokens;var tokenCount=this._tokenCount;for(var i=0;i<tokenCount;i++){var offset=4*i;var tokenDeltaLine=tokens[offset];var tokenStartCharacter=tokens[offset+1];var tokenEndCharacter=tokens[offset+2];if(tokenDeltaLine<deltaLine||tokenDeltaLine===deltaLine&&tokenEndCharacter<character){// 1. The token is completely before the insertion point
// => nothing to do
continue;}else if(tokenDeltaLine===deltaLine&&tokenEndCharacter===character){// 2. The token ends precisely at the insertion point
// => expand the end character only if inserting precisely one character that is a word character
if(isInsertingPreciselyOneWordCharacter){tokenEndCharacter+=1;}else{continue;}}else if(tokenDeltaLine===deltaLine&&tokenStartCharacter<character&&character<tokenEndCharacter){// 3. The token contains the insertion point
if(eolCount===0){// => just expand the end character
tokenEndCharacter+=firstLineLength;}else{// => cut off the token
tokenEndCharacter=character;}}else{// 4. or 5.
if(tokenDeltaLine===deltaLine&&tokenStartCharacter===character){// 4. The token starts precisely at the insertion point
// => grow the token (by keeping its start constant) only if inserting precisely one character that is a word character
// => otherwise behave as in case 5.
if(isInsertingPreciselyOneWordCharacter){continue;}}// => the token must move and keep its size constant
if(tokenDeltaLine===deltaLine){tokenDeltaLine+=eolCount;// this token is on the line where the insertion is taking place
if(eolCount===0){tokenStartCharacter+=firstLineLength;tokenEndCharacter+=firstLineLength;}else{var tokenLength=tokenEndCharacter-tokenStartCharacter;tokenStartCharacter=lastLineLength+(tokenStartCharacter-character);tokenEndCharacter=tokenStartCharacter+tokenLength;}}else{tokenDeltaLine+=eolCount;}}tokens[offset]=tokenDeltaLine;tokens[offset+1]=tokenStartCharacter;tokens[offset+2]=tokenEndCharacter;}}}]);return SparseMultilineTokensStorage;}();var SparseLineTokens=/*#__PURE__*/function(){function SparseLineTokens(tokens){_classCallCheck(this,SparseLineTokens);this._tokens=tokens;}_createClass(SparseLineTokens,[{key:"getCount",value:function getCount(){return this._tokens.length/4;}},{key:"getStartCharacter",value:function getStartCharacter(tokenIndex){return this._tokens[4*tokenIndex+1];}},{key:"getEndCharacter",value:function getEndCharacter(tokenIndex){return this._tokens[4*tokenIndex+2];}},{key:"getMetadata",value:function getMetadata(tokenIndex){return this._tokens[4*tokenIndex+3];}}]);return SparseLineTokens;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/language.js
var language = __webpack_require__(84318);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=semanticTokensProviderStyling_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function semanticTokensProviderStyling_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return semanticTokensProviderStyling_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return semanticTokensProviderStyling_arrayLikeToArray(o,minLen);}function semanticTokensProviderStyling_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function semanticTokensProviderStyling_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function semanticTokensProviderStyling_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function semanticTokensProviderStyling_createClass(Constructor,protoProps,staticProps){if(protoProps)semanticTokensProviderStyling_defineProperties(Constructor.prototype,protoProps);if(staticProps)semanticTokensProviderStyling_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var SemanticTokensProviderStyling=/*#__PURE__*/function(){function SemanticTokensProviderStyling(_legend,_themeService,_languageService,_logService){semanticTokensProviderStyling_classCallCheck(this,SemanticTokensProviderStyling);this._legend=_legend;this._themeService=_themeService;this._languageService=_languageService;this._logService=_logService;this._hashTable=new HashTable();this._hasWarnedOverlappingTokens=false;}semanticTokensProviderStyling_createClass(SemanticTokensProviderStyling,[{key:"getMetadata",value:function getMetadata(tokenTypeIndex,tokenModifierSet,languageId){var encodedLanguageId=this._languageService.languageIdCodec.encodeLanguageId(languageId);var entry=this._hashTable.get(tokenTypeIndex,tokenModifierSet,encodedLanguageId);var metadata;if(entry){metadata=entry.metadata;if(this._logService.getLevel()===log/* LogLevel.Trace */["in"].Trace){this._logService.trace("SemanticTokensProviderStyling [CACHED] ".concat(tokenTypeIndex," / ").concat(tokenModifierSet,": foreground ").concat(languages/* TokenMetadata.getForeground */.NX.getForeground(metadata),", fontStyle ").concat(languages/* TokenMetadata.getFontStyle */.NX.getFontStyle(metadata).toString(2)));}}else{var tokenType=this._legend.tokenTypes[tokenTypeIndex];var tokenModifiers=[];if(tokenType){var modifierSet=tokenModifierSet;for(var modifierIndex=0;modifierSet>0&&modifierIndex<this._legend.tokenModifiers.length;modifierIndex++){if(modifierSet&1){tokenModifiers.push(this._legend.tokenModifiers[modifierIndex]);}modifierSet=modifierSet>>1;}if(modifierSet>0&&this._logService.getLevel()===log/* LogLevel.Trace */["in"].Trace){this._logService.trace("SemanticTokensProviderStyling: unknown token modifier index: ".concat(tokenModifierSet.toString(2)," for legend: ").concat(JSON.stringify(this._legend.tokenModifiers)));tokenModifiers.push('not-in-legend');}var tokenStyle=this._themeService.getColorTheme().getTokenStyleMetadata(tokenType,tokenModifiers,languageId);if(typeof tokenStyle==='undefined'){metadata=2147483647/* NO_STYLING */;}else{metadata=0;if(typeof tokenStyle.italic!=='undefined'){var italicBit=(tokenStyle.italic?1/* Italic */:0)<<10/* FONT_STYLE_OFFSET */;metadata|=italicBit|1/* SEMANTIC_USE_ITALIC */;}if(typeof tokenStyle.bold!=='undefined'){var boldBit=(tokenStyle.bold?2/* Bold */:0)<<10/* FONT_STYLE_OFFSET */;metadata|=boldBit|2/* SEMANTIC_USE_BOLD */;}if(typeof tokenStyle.underline!=='undefined'){var underlineBit=(tokenStyle.underline?4/* Underline */:0)<<10/* FONT_STYLE_OFFSET */;metadata|=underlineBit|4/* SEMANTIC_USE_UNDERLINE */;}if(typeof tokenStyle.strikethrough!=='undefined'){var strikethroughBit=(tokenStyle.strikethrough?8/* Strikethrough */:0)<<10/* FONT_STYLE_OFFSET */;metadata|=strikethroughBit|8/* SEMANTIC_USE_STRIKETHROUGH */;}if(tokenStyle.foreground){var foregroundBits=tokenStyle.foreground<<14/* FOREGROUND_OFFSET */;metadata|=foregroundBits|16/* SEMANTIC_USE_FOREGROUND */;}if(metadata===0){// Nothing!
metadata=2147483647/* NO_STYLING */;}}}else{if(this._logService.getLevel()===log/* LogLevel.Trace */["in"].Trace){this._logService.trace("SemanticTokensProviderStyling: unknown token type index: ".concat(tokenTypeIndex," for legend: ").concat(JSON.stringify(this._legend.tokenTypes)));}metadata=2147483647/* NO_STYLING */;tokenType='not-in-legend';}this._hashTable.add(tokenTypeIndex,tokenModifierSet,encodedLanguageId,metadata);if(this._logService.getLevel()===log/* LogLevel.Trace */["in"].Trace){this._logService.trace("SemanticTokensProviderStyling ".concat(tokenTypeIndex," (").concat(tokenType,") / ").concat(tokenModifierSet," (").concat(tokenModifiers.join(' '),"): foreground ").concat(languages/* TokenMetadata.getForeground */.NX.getForeground(metadata),", fontStyle ").concat(languages/* TokenMetadata.getFontStyle */.NX.getFontStyle(metadata).toString(2)));}}return metadata;}},{key:"warnOverlappingSemanticTokens",value:function warnOverlappingSemanticTokens(lineNumber,startColumn){if(!this._hasWarnedOverlappingTokens){this._hasWarnedOverlappingTokens=true;console.warn("Overlapping semantic tokens detected at lineNumber ".concat(lineNumber,", column ").concat(startColumn));}}}]);return SemanticTokensProviderStyling;}();SemanticTokensProviderStyling=__decorate([__param(1,themeService/* IThemeService */.XE),__param(2,language/* ILanguageService */.O),__param(3,log/* ILogService */.VZ)],SemanticTokensProviderStyling);function toMultilineTokens2(tokens,styling,languageId){var srcData=tokens.data;var tokenCount=tokens.data.length/5|0;var tokensPerArea=Math.max(Math.ceil(tokenCount/1024/* DesiredMaxAreas */),400/* DesiredTokensPerArea */);var result=[];var tokenIndex=0;var lastLineNumber=1;var lastStartCharacter=0;while(tokenIndex<tokenCount){var tokenStartIndex=tokenIndex;var tokenEndIndex=Math.min(tokenStartIndex+tokensPerArea,tokenCount);// Keep tokens on the same line in the same area...
if(tokenEndIndex<tokenCount){var smallTokenEndIndex=tokenEndIndex;while(smallTokenEndIndex-1>tokenStartIndex&&srcData[5*smallTokenEndIndex]===0){smallTokenEndIndex--;}if(smallTokenEndIndex-1===tokenStartIndex){// there are so many tokens on this line that our area would be empty, we must now go right
var bigTokenEndIndex=tokenEndIndex;while(bigTokenEndIndex+1<tokenCount&&srcData[5*bigTokenEndIndex]===0){bigTokenEndIndex++;}tokenEndIndex=bigTokenEndIndex;}else{tokenEndIndex=smallTokenEndIndex;}}var destData=new Uint32Array((tokenEndIndex-tokenStartIndex)*4);var destOffset=0;var areaLine=0;var prevLineNumber=0;var prevStartCharacter=0;var prevEndCharacter=0;while(tokenIndex<tokenEndIndex){var srcOffset=5*tokenIndex;var deltaLine=srcData[srcOffset];var deltaCharacter=srcData[srcOffset+1];// Casting both `lineNumber` and `startCharacter` here to uint32 using `|0`
// to do checks below with the actual value that will be inserted in the Uint32Array result
var lineNumber=lastLineNumber+deltaLine|0;var startCharacter=deltaLine===0?lastStartCharacter+deltaCharacter|0:deltaCharacter;var length=srcData[srcOffset+2];var tokenTypeIndex=srcData[srcOffset+3];var tokenModifierSet=srcData[srcOffset+4];var metadata=styling.getMetadata(tokenTypeIndex,tokenModifierSet,languageId);if(metadata!==2147483647/* NO_STYLING */){if(areaLine===0){areaLine=lineNumber;}if(prevLineNumber===lineNumber&&prevEndCharacter>startCharacter){styling.warnOverlappingSemanticTokens(lineNumber,startCharacter+1);if(prevStartCharacter<startCharacter){// the previous token survives after the overlapping one
destData[destOffset-4+2]=startCharacter;}else{// the previous token is entirely covered by the overlapping one
destOffset-=4;}}destData[destOffset]=lineNumber-areaLine;destData[destOffset+1]=startCharacter;destData[destOffset+2]=startCharacter+length;destData[destOffset+3]=metadata;destOffset+=4;prevLineNumber=lineNumber;prevStartCharacter=startCharacter;prevEndCharacter=startCharacter+length;}lastLineNumber=lineNumber;lastStartCharacter=startCharacter;tokenIndex++;}if(destOffset!==destData.length){destData=destData.subarray(0,destOffset);}var _tokens=SparseMultilineTokens.create(areaLine,destData);result.push(_tokens);}return result;}var HashTableEntry=function HashTableEntry(tokenTypeIndex,tokenModifierSet,languageId,metadata){semanticTokensProviderStyling_classCallCheck(this,HashTableEntry);this.tokenTypeIndex=tokenTypeIndex;this.tokenModifierSet=tokenModifierSet;this.languageId=languageId;this.metadata=metadata;this.next=null;};var HashTable=/*#__PURE__*/function(){function HashTable(){semanticTokensProviderStyling_classCallCheck(this,HashTable);this._elementsCount=0;this._currentLengthIndex=0;this._currentLength=HashTable._SIZES[this._currentLengthIndex];this._growCount=Math.round(this._currentLengthIndex+1<HashTable._SIZES.length?2/3*this._currentLength:0);this._elements=[];HashTable._nullOutEntries(this._elements,this._currentLength);}semanticTokensProviderStyling_createClass(HashTable,[{key:"_hash2",value:function _hash2(n1,n2){return(n1<<5)-n1+n2|0;// n1 * 31 + n2, keep as int32
}},{key:"_hashFunc",value:function _hashFunc(tokenTypeIndex,tokenModifierSet,languageId){return this._hash2(this._hash2(tokenTypeIndex,tokenModifierSet),languageId)%this._currentLength;}},{key:"get",value:function get(tokenTypeIndex,tokenModifierSet,languageId){var hash=this._hashFunc(tokenTypeIndex,tokenModifierSet,languageId);var p=this._elements[hash];while(p){if(p.tokenTypeIndex===tokenTypeIndex&&p.tokenModifierSet===tokenModifierSet&&p.languageId===languageId){return p;}p=p.next;}return null;}},{key:"add",value:function add(tokenTypeIndex,tokenModifierSet,languageId,metadata){this._elementsCount++;if(this._growCount!==0&&this._elementsCount>=this._growCount){// expand!
var oldElements=this._elements;this._currentLengthIndex++;this._currentLength=HashTable._SIZES[this._currentLengthIndex];this._growCount=Math.round(this._currentLengthIndex+1<HashTable._SIZES.length?2/3*this._currentLength:0);this._elements=[];HashTable._nullOutEntries(this._elements,this._currentLength);var _iterator=_createForOfIteratorHelper(oldElements),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var first=_step.value;var p=first;while(p){var oldNext=p.next;p.next=null;this._add(p);p=oldNext;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}this._add(new HashTableEntry(tokenTypeIndex,tokenModifierSet,languageId,metadata));}},{key:"_add",value:function _add(element){var hash=this._hashFunc(element.tokenTypeIndex,element.tokenModifierSet,element.languageId);element.next=this._elements[hash];this._elements[hash]=element;}}],[{key:"_nullOutEntries",value:function _nullOutEntries(entries,length){for(var i=0;i<length;i++){entries[i]=null;}}}]);return HashTable;}();HashTable._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];

/***/ }),

/***/ 43674:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "V": () => (/* binding */ ITextResourceConfigurationService),
/* harmony export */   "y": () => (/* binding */ ITextResourcePropertiesService)
/* harmony export */ });
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71896);
var ITextResourceConfigurationService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)('textResourceConfigurationService');var ITextResourcePropertiesService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_0__/* .createDecorator */ .yh)('textResourcePropertiesService');

/***/ }),

/***/ 58773:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "E$": () => (/* binding */ OverlayWidgetPositionPreference),
/* harmony export */   "F5": () => (/* binding */ MinimapPosition),
/* harmony export */   "Ij": () => (/* binding */ CompletionTriggerKind),
/* harmony export */   "In": () => (/* binding */ TextEditorCursorBlinkingStyle),
/* harmony export */   "Lu": () => (/* binding */ RenderLineNumbersType),
/* harmony export */   "MG": () => (/* binding */ MouseTargetType),
/* harmony export */   "MY": () => (/* binding */ DocumentHighlightKind),
/* harmony export */   "OI": () => (/* binding */ TrackedRangeStickiness),
/* harmony export */   "RM": () => (/* binding */ InjectedTextCursorStops),
/* harmony export */   "VD": () => (/* binding */ KeyCode),
/* harmony export */   "Vi": () => (/* binding */ CursorChangeReason),
/* harmony export */   "WW": () => (/* binding */ SignatureHelpTriggerKind),
/* harmony export */   "ZL": () => (/* binding */ MarkerSeverity),
/* harmony export */   "_x": () => (/* binding */ DefaultEndOfLine),
/* harmony export */   "a$": () => (/* binding */ SelectionDirection),
/* harmony export */   "a7": () => (/* binding */ CompletionItemInsertTextRule),
/* harmony export */   "ao": () => (/* binding */ AccessibilitySupport),
/* harmony export */   "bw": () => (/* binding */ InlineCompletionTriggerKind),
/* harmony export */   "cR": () => (/* binding */ SymbolKind),
/* harmony export */   "cm": () => (/* binding */ CompletionItemKind),
/* harmony export */   "d2": () => (/* binding */ TextEditorCursorStyle),
/* harmony export */   "eB": () => (/* binding */ MarkerTag),
/* harmony export */   "g4": () => (/* binding */ ScrollType),
/* harmony export */   "g_": () => (/* binding */ ScrollbarVisibility),
/* harmony export */   "gl": () => (/* binding */ InlayHintKind),
/* harmony export */   "gm": () => (/* binding */ EndOfLinePreference),
/* harmony export */   "jl": () => (/* binding */ EndOfLineSequence),
/* harmony export */   "py": () => (/* binding */ PositionAffinity),
/* harmony export */   "r3": () => (/* binding */ ContentWidgetPositionPreference),
/* harmony export */   "r4": () => (/* binding */ SymbolTag),
/* harmony export */   "rf": () => (/* binding */ EditorAutoIndentStrategy),
/* harmony export */   "sh": () => (/* binding */ OverviewRulerLane),
/* harmony export */   "up": () => (/* binding */ WrappingIndent),
/* harmony export */   "vQ": () => (/* binding */ RenderMinimap),
/* harmony export */   "wT": () => (/* binding */ EditorOption),
/* harmony export */   "wU": () => (/* binding */ IndentAction),
/* harmony export */   "we": () => (/* binding */ CompletionItemTag)
/* harmony export */ });
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ // THIS IS A GENERATED FILE. DO NOT EDIT DIRECTLY.
var AccessibilitySupport;(function(AccessibilitySupport){/**
     * This should be the browser case where it is not known if a screen reader is attached or no.
     */AccessibilitySupport[AccessibilitySupport["Unknown"]=0]="Unknown";AccessibilitySupport[AccessibilitySupport["Disabled"]=1]="Disabled";AccessibilitySupport[AccessibilitySupport["Enabled"]=2]="Enabled";})(AccessibilitySupport||(AccessibilitySupport={}));var CompletionItemInsertTextRule;(function(CompletionItemInsertTextRule){/**
     * Adjust whitespace/indentation of multiline insert texts to
     * match the current line indentation.
     */CompletionItemInsertTextRule[CompletionItemInsertTextRule["KeepWhitespace"]=1]="KeepWhitespace";/**
     * `insertText` is a snippet.
     */CompletionItemInsertTextRule[CompletionItemInsertTextRule["InsertAsSnippet"]=4]="InsertAsSnippet";})(CompletionItemInsertTextRule||(CompletionItemInsertTextRule={}));var CompletionItemKind;(function(CompletionItemKind){CompletionItemKind[CompletionItemKind["Method"]=0]="Method";CompletionItemKind[CompletionItemKind["Function"]=1]="Function";CompletionItemKind[CompletionItemKind["Constructor"]=2]="Constructor";CompletionItemKind[CompletionItemKind["Field"]=3]="Field";CompletionItemKind[CompletionItemKind["Variable"]=4]="Variable";CompletionItemKind[CompletionItemKind["Class"]=5]="Class";CompletionItemKind[CompletionItemKind["Struct"]=6]="Struct";CompletionItemKind[CompletionItemKind["Interface"]=7]="Interface";CompletionItemKind[CompletionItemKind["Module"]=8]="Module";CompletionItemKind[CompletionItemKind["Property"]=9]="Property";CompletionItemKind[CompletionItemKind["Event"]=10]="Event";CompletionItemKind[CompletionItemKind["Operator"]=11]="Operator";CompletionItemKind[CompletionItemKind["Unit"]=12]="Unit";CompletionItemKind[CompletionItemKind["Value"]=13]="Value";CompletionItemKind[CompletionItemKind["Constant"]=14]="Constant";CompletionItemKind[CompletionItemKind["Enum"]=15]="Enum";CompletionItemKind[CompletionItemKind["EnumMember"]=16]="EnumMember";CompletionItemKind[CompletionItemKind["Keyword"]=17]="Keyword";CompletionItemKind[CompletionItemKind["Text"]=18]="Text";CompletionItemKind[CompletionItemKind["Color"]=19]="Color";CompletionItemKind[CompletionItemKind["File"]=20]="File";CompletionItemKind[CompletionItemKind["Reference"]=21]="Reference";CompletionItemKind[CompletionItemKind["Customcolor"]=22]="Customcolor";CompletionItemKind[CompletionItemKind["Folder"]=23]="Folder";CompletionItemKind[CompletionItemKind["TypeParameter"]=24]="TypeParameter";CompletionItemKind[CompletionItemKind["User"]=25]="User";CompletionItemKind[CompletionItemKind["Issue"]=26]="Issue";CompletionItemKind[CompletionItemKind["Snippet"]=27]="Snippet";})(CompletionItemKind||(CompletionItemKind={}));var CompletionItemTag;(function(CompletionItemTag){CompletionItemTag[CompletionItemTag["Deprecated"]=1]="Deprecated";})(CompletionItemTag||(CompletionItemTag={}));/**
 * How a suggest provider was triggered.
 */var CompletionTriggerKind;(function(CompletionTriggerKind){CompletionTriggerKind[CompletionTriggerKind["Invoke"]=0]="Invoke";CompletionTriggerKind[CompletionTriggerKind["TriggerCharacter"]=1]="TriggerCharacter";CompletionTriggerKind[CompletionTriggerKind["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions";})(CompletionTriggerKind||(CompletionTriggerKind={}));/**
 * A positioning preference for rendering content widgets.
 */var ContentWidgetPositionPreference;(function(ContentWidgetPositionPreference){/**
     * Place the content widget exactly at a position
     */ContentWidgetPositionPreference[ContentWidgetPositionPreference["EXACT"]=0]="EXACT";/**
     * Place the content widget above a position
     */ContentWidgetPositionPreference[ContentWidgetPositionPreference["ABOVE"]=1]="ABOVE";/**
     * Place the content widget below a position
     */ContentWidgetPositionPreference[ContentWidgetPositionPreference["BELOW"]=2]="BELOW";})(ContentWidgetPositionPreference||(ContentWidgetPositionPreference={}));/**
 * Describes the reason the cursor has changed its position.
 */var CursorChangeReason;(function(CursorChangeReason){/**
     * Unknown or not set.
     */CursorChangeReason[CursorChangeReason["NotSet"]=0]="NotSet";/**
     * A `model.setValue()` was called.
     */CursorChangeReason[CursorChangeReason["ContentFlush"]=1]="ContentFlush";/**
     * The `model` has been changed outside of this cursor and the cursor recovers its position from associated markers.
     */CursorChangeReason[CursorChangeReason["RecoverFromMarkers"]=2]="RecoverFromMarkers";/**
     * There was an explicit user gesture.
     */CursorChangeReason[CursorChangeReason["Explicit"]=3]="Explicit";/**
     * There was a Paste.
     */CursorChangeReason[CursorChangeReason["Paste"]=4]="Paste";/**
     * There was an Undo.
     */CursorChangeReason[CursorChangeReason["Undo"]=5]="Undo";/**
     * There was a Redo.
     */CursorChangeReason[CursorChangeReason["Redo"]=6]="Redo";})(CursorChangeReason||(CursorChangeReason={}));/**
 * The default end of line to use when instantiating models.
 */var DefaultEndOfLine;(function(DefaultEndOfLine){/**
     * Use line feed (\n) as the end of line character.
     */DefaultEndOfLine[DefaultEndOfLine["LF"]=1]="LF";/**
     * Use carriage return and line feed (\r\n) as the end of line character.
     */DefaultEndOfLine[DefaultEndOfLine["CRLF"]=2]="CRLF";})(DefaultEndOfLine||(DefaultEndOfLine={}));/**
 * A document highlight kind.
 */var DocumentHighlightKind;(function(DocumentHighlightKind){/**
     * A textual occurrence.
     */DocumentHighlightKind[DocumentHighlightKind["Text"]=0]="Text";/**
     * Read-access of a symbol, like reading a variable.
     */DocumentHighlightKind[DocumentHighlightKind["Read"]=1]="Read";/**
     * Write-access of a symbol, like writing to a variable.
     */DocumentHighlightKind[DocumentHighlightKind["Write"]=2]="Write";})(DocumentHighlightKind||(DocumentHighlightKind={}));/**
 * Configuration options for auto indentation in the editor
 */var EditorAutoIndentStrategy;(function(EditorAutoIndentStrategy){EditorAutoIndentStrategy[EditorAutoIndentStrategy["None"]=0]="None";EditorAutoIndentStrategy[EditorAutoIndentStrategy["Keep"]=1]="Keep";EditorAutoIndentStrategy[EditorAutoIndentStrategy["Brackets"]=2]="Brackets";EditorAutoIndentStrategy[EditorAutoIndentStrategy["Advanced"]=3]="Advanced";EditorAutoIndentStrategy[EditorAutoIndentStrategy["Full"]=4]="Full";})(EditorAutoIndentStrategy||(EditorAutoIndentStrategy={}));var EditorOption;(function(EditorOption){EditorOption[EditorOption["acceptSuggestionOnCommitCharacter"]=0]="acceptSuggestionOnCommitCharacter";EditorOption[EditorOption["acceptSuggestionOnEnter"]=1]="acceptSuggestionOnEnter";EditorOption[EditorOption["accessibilitySupport"]=2]="accessibilitySupport";EditorOption[EditorOption["accessibilityPageSize"]=3]="accessibilityPageSize";EditorOption[EditorOption["ariaLabel"]=4]="ariaLabel";EditorOption[EditorOption["autoClosingBrackets"]=5]="autoClosingBrackets";EditorOption[EditorOption["autoClosingDelete"]=6]="autoClosingDelete";EditorOption[EditorOption["autoClosingOvertype"]=7]="autoClosingOvertype";EditorOption[EditorOption["autoClosingQuotes"]=8]="autoClosingQuotes";EditorOption[EditorOption["autoIndent"]=9]="autoIndent";EditorOption[EditorOption["automaticLayout"]=10]="automaticLayout";EditorOption[EditorOption["autoSurround"]=11]="autoSurround";EditorOption[EditorOption["bracketPairColorization"]=12]="bracketPairColorization";EditorOption[EditorOption["guides"]=13]="guides";EditorOption[EditorOption["codeLens"]=14]="codeLens";EditorOption[EditorOption["codeLensFontFamily"]=15]="codeLensFontFamily";EditorOption[EditorOption["codeLensFontSize"]=16]="codeLensFontSize";EditorOption[EditorOption["colorDecorators"]=17]="colorDecorators";EditorOption[EditorOption["columnSelection"]=18]="columnSelection";EditorOption[EditorOption["comments"]=19]="comments";EditorOption[EditorOption["contextmenu"]=20]="contextmenu";EditorOption[EditorOption["copyWithSyntaxHighlighting"]=21]="copyWithSyntaxHighlighting";EditorOption[EditorOption["cursorBlinking"]=22]="cursorBlinking";EditorOption[EditorOption["cursorSmoothCaretAnimation"]=23]="cursorSmoothCaretAnimation";EditorOption[EditorOption["cursorStyle"]=24]="cursorStyle";EditorOption[EditorOption["cursorSurroundingLines"]=25]="cursorSurroundingLines";EditorOption[EditorOption["cursorSurroundingLinesStyle"]=26]="cursorSurroundingLinesStyle";EditorOption[EditorOption["cursorWidth"]=27]="cursorWidth";EditorOption[EditorOption["disableLayerHinting"]=28]="disableLayerHinting";EditorOption[EditorOption["disableMonospaceOptimizations"]=29]="disableMonospaceOptimizations";EditorOption[EditorOption["domReadOnly"]=30]="domReadOnly";EditorOption[EditorOption["dragAndDrop"]=31]="dragAndDrop";EditorOption[EditorOption["emptySelectionClipboard"]=32]="emptySelectionClipboard";EditorOption[EditorOption["extraEditorClassName"]=33]="extraEditorClassName";EditorOption[EditorOption["fastScrollSensitivity"]=34]="fastScrollSensitivity";EditorOption[EditorOption["find"]=35]="find";EditorOption[EditorOption["fixedOverflowWidgets"]=36]="fixedOverflowWidgets";EditorOption[EditorOption["folding"]=37]="folding";EditorOption[EditorOption["foldingStrategy"]=38]="foldingStrategy";EditorOption[EditorOption["foldingHighlight"]=39]="foldingHighlight";EditorOption[EditorOption["foldingImportsByDefault"]=40]="foldingImportsByDefault";EditorOption[EditorOption["foldingMaximumRegions"]=41]="foldingMaximumRegions";EditorOption[EditorOption["unfoldOnClickAfterEndOfLine"]=42]="unfoldOnClickAfterEndOfLine";EditorOption[EditorOption["fontFamily"]=43]="fontFamily";EditorOption[EditorOption["fontInfo"]=44]="fontInfo";EditorOption[EditorOption["fontLigatures"]=45]="fontLigatures";EditorOption[EditorOption["fontSize"]=46]="fontSize";EditorOption[EditorOption["fontWeight"]=47]="fontWeight";EditorOption[EditorOption["formatOnPaste"]=48]="formatOnPaste";EditorOption[EditorOption["formatOnType"]=49]="formatOnType";EditorOption[EditorOption["glyphMargin"]=50]="glyphMargin";EditorOption[EditorOption["gotoLocation"]=51]="gotoLocation";EditorOption[EditorOption["hideCursorInOverviewRuler"]=52]="hideCursorInOverviewRuler";EditorOption[EditorOption["hover"]=53]="hover";EditorOption[EditorOption["inDiffEditor"]=54]="inDiffEditor";EditorOption[EditorOption["inlineSuggest"]=55]="inlineSuggest";EditorOption[EditorOption["letterSpacing"]=56]="letterSpacing";EditorOption[EditorOption["lightbulb"]=57]="lightbulb";EditorOption[EditorOption["lineDecorationsWidth"]=58]="lineDecorationsWidth";EditorOption[EditorOption["lineHeight"]=59]="lineHeight";EditorOption[EditorOption["lineNumbers"]=60]="lineNumbers";EditorOption[EditorOption["lineNumbersMinChars"]=61]="lineNumbersMinChars";EditorOption[EditorOption["linkedEditing"]=62]="linkedEditing";EditorOption[EditorOption["links"]=63]="links";EditorOption[EditorOption["matchBrackets"]=64]="matchBrackets";EditorOption[EditorOption["minimap"]=65]="minimap";EditorOption[EditorOption["mouseStyle"]=66]="mouseStyle";EditorOption[EditorOption["mouseWheelScrollSensitivity"]=67]="mouseWheelScrollSensitivity";EditorOption[EditorOption["mouseWheelZoom"]=68]="mouseWheelZoom";EditorOption[EditorOption["multiCursorMergeOverlapping"]=69]="multiCursorMergeOverlapping";EditorOption[EditorOption["multiCursorModifier"]=70]="multiCursorModifier";EditorOption[EditorOption["multiCursorPaste"]=71]="multiCursorPaste";EditorOption[EditorOption["occurrencesHighlight"]=72]="occurrencesHighlight";EditorOption[EditorOption["overviewRulerBorder"]=73]="overviewRulerBorder";EditorOption[EditorOption["overviewRulerLanes"]=74]="overviewRulerLanes";EditorOption[EditorOption["padding"]=75]="padding";EditorOption[EditorOption["parameterHints"]=76]="parameterHints";EditorOption[EditorOption["peekWidgetDefaultFocus"]=77]="peekWidgetDefaultFocus";EditorOption[EditorOption["definitionLinkOpensInPeek"]=78]="definitionLinkOpensInPeek";EditorOption[EditorOption["quickSuggestions"]=79]="quickSuggestions";EditorOption[EditorOption["quickSuggestionsDelay"]=80]="quickSuggestionsDelay";EditorOption[EditorOption["readOnly"]=81]="readOnly";EditorOption[EditorOption["renameOnType"]=82]="renameOnType";EditorOption[EditorOption["renderControlCharacters"]=83]="renderControlCharacters";EditorOption[EditorOption["renderFinalNewline"]=84]="renderFinalNewline";EditorOption[EditorOption["renderLineHighlight"]=85]="renderLineHighlight";EditorOption[EditorOption["renderLineHighlightOnlyWhenFocus"]=86]="renderLineHighlightOnlyWhenFocus";EditorOption[EditorOption["renderValidationDecorations"]=87]="renderValidationDecorations";EditorOption[EditorOption["renderWhitespace"]=88]="renderWhitespace";EditorOption[EditorOption["revealHorizontalRightPadding"]=89]="revealHorizontalRightPadding";EditorOption[EditorOption["roundedSelection"]=90]="roundedSelection";EditorOption[EditorOption["rulers"]=91]="rulers";EditorOption[EditorOption["scrollbar"]=92]="scrollbar";EditorOption[EditorOption["scrollBeyondLastColumn"]=93]="scrollBeyondLastColumn";EditorOption[EditorOption["scrollBeyondLastLine"]=94]="scrollBeyondLastLine";EditorOption[EditorOption["scrollPredominantAxis"]=95]="scrollPredominantAxis";EditorOption[EditorOption["selectionClipboard"]=96]="selectionClipboard";EditorOption[EditorOption["selectionHighlight"]=97]="selectionHighlight";EditorOption[EditorOption["selectOnLineNumbers"]=98]="selectOnLineNumbers";EditorOption[EditorOption["showFoldingControls"]=99]="showFoldingControls";EditorOption[EditorOption["showUnused"]=100]="showUnused";EditorOption[EditorOption["snippetSuggestions"]=101]="snippetSuggestions";EditorOption[EditorOption["smartSelect"]=102]="smartSelect";EditorOption[EditorOption["smoothScrolling"]=103]="smoothScrolling";EditorOption[EditorOption["stickyTabStops"]=104]="stickyTabStops";EditorOption[EditorOption["stopRenderingLineAfter"]=105]="stopRenderingLineAfter";EditorOption[EditorOption["suggest"]=106]="suggest";EditorOption[EditorOption["suggestFontSize"]=107]="suggestFontSize";EditorOption[EditorOption["suggestLineHeight"]=108]="suggestLineHeight";EditorOption[EditorOption["suggestOnTriggerCharacters"]=109]="suggestOnTriggerCharacters";EditorOption[EditorOption["suggestSelection"]=110]="suggestSelection";EditorOption[EditorOption["tabCompletion"]=111]="tabCompletion";EditorOption[EditorOption["tabIndex"]=112]="tabIndex";EditorOption[EditorOption["unicodeHighlighting"]=113]="unicodeHighlighting";EditorOption[EditorOption["unusualLineTerminators"]=114]="unusualLineTerminators";EditorOption[EditorOption["useShadowDOM"]=115]="useShadowDOM";EditorOption[EditorOption["useTabStops"]=116]="useTabStops";EditorOption[EditorOption["wordSeparators"]=117]="wordSeparators";EditorOption[EditorOption["wordWrap"]=118]="wordWrap";EditorOption[EditorOption["wordWrapBreakAfterCharacters"]=119]="wordWrapBreakAfterCharacters";EditorOption[EditorOption["wordWrapBreakBeforeCharacters"]=120]="wordWrapBreakBeforeCharacters";EditorOption[EditorOption["wordWrapColumn"]=121]="wordWrapColumn";EditorOption[EditorOption["wordWrapOverride1"]=122]="wordWrapOverride1";EditorOption[EditorOption["wordWrapOverride2"]=123]="wordWrapOverride2";EditorOption[EditorOption["wrappingIndent"]=124]="wrappingIndent";EditorOption[EditorOption["wrappingStrategy"]=125]="wrappingStrategy";EditorOption[EditorOption["showDeprecated"]=126]="showDeprecated";EditorOption[EditorOption["inlayHints"]=127]="inlayHints";EditorOption[EditorOption["editorClassName"]=128]="editorClassName";EditorOption[EditorOption["pixelRatio"]=129]="pixelRatio";EditorOption[EditorOption["tabFocusMode"]=130]="tabFocusMode";EditorOption[EditorOption["layoutInfo"]=131]="layoutInfo";EditorOption[EditorOption["wrappingInfo"]=132]="wrappingInfo";})(EditorOption||(EditorOption={}));/**
 * End of line character preference.
 */var EndOfLinePreference;(function(EndOfLinePreference){/**
     * Use the end of line character identified in the text buffer.
     */EndOfLinePreference[EndOfLinePreference["TextDefined"]=0]="TextDefined";/**
     * Use line feed (\n) as the end of line character.
     */EndOfLinePreference[EndOfLinePreference["LF"]=1]="LF";/**
     * Use carriage return and line feed (\r\n) as the end of line character.
     */EndOfLinePreference[EndOfLinePreference["CRLF"]=2]="CRLF";})(EndOfLinePreference||(EndOfLinePreference={}));/**
 * End of line character preference.
 */var EndOfLineSequence;(function(EndOfLineSequence){/**
     * Use line feed (\n) as the end of line character.
     */EndOfLineSequence[EndOfLineSequence["LF"]=0]="LF";/**
     * Use carriage return and line feed (\r\n) as the end of line character.
     */EndOfLineSequence[EndOfLineSequence["CRLF"]=1]="CRLF";})(EndOfLineSequence||(EndOfLineSequence={}));/**
 * Describes what to do with the indentation when pressing Enter.
 */var IndentAction;(function(IndentAction){/**
     * Insert new line and copy the previous line's indentation.
     */IndentAction[IndentAction["None"]=0]="None";/**
     * Insert new line and indent once (relative to the previous line's indentation).
     */IndentAction[IndentAction["Indent"]=1]="Indent";/**
     * Insert two new lines:
     *  - the first one indented which will hold the cursor
     *  - the second one at the same indentation level
     */IndentAction[IndentAction["IndentOutdent"]=2]="IndentOutdent";/**
     * Insert new line and outdent once (relative to the previous line's indentation).
     */IndentAction[IndentAction["Outdent"]=3]="Outdent";})(IndentAction||(IndentAction={}));var InjectedTextCursorStops;(function(InjectedTextCursorStops){InjectedTextCursorStops[InjectedTextCursorStops["Both"]=0]="Both";InjectedTextCursorStops[InjectedTextCursorStops["Right"]=1]="Right";InjectedTextCursorStops[InjectedTextCursorStops["Left"]=2]="Left";InjectedTextCursorStops[InjectedTextCursorStops["None"]=3]="None";})(InjectedTextCursorStops||(InjectedTextCursorStops={}));var InlayHintKind;(function(InlayHintKind){InlayHintKind[InlayHintKind["Other"]=0]="Other";InlayHintKind[InlayHintKind["Type"]=1]="Type";InlayHintKind[InlayHintKind["Parameter"]=2]="Parameter";})(InlayHintKind||(InlayHintKind={}));/**
 * How an {@link InlineCompletionsProvider inline completion provider} was triggered.
 */var InlineCompletionTriggerKind;(function(InlineCompletionTriggerKind){/**
     * Completion was triggered automatically while editing.
     * It is sufficient to return a single completion item in this case.
     */InlineCompletionTriggerKind[InlineCompletionTriggerKind["Automatic"]=0]="Automatic";/**
     * Completion was triggered explicitly by a user gesture.
     * Return multiple completion items to enable cycling through them.
     */InlineCompletionTriggerKind[InlineCompletionTriggerKind["Explicit"]=1]="Explicit";})(InlineCompletionTriggerKind||(InlineCompletionTriggerKind={}));/**
 * Virtual Key Codes, the value does not hold any inherent meaning.
 * Inspired somewhat from https://msdn.microsoft.com/en-us/library/windows/desktop/dd375731(v=vs.85).aspx
 * But these are "more general", as they should work across browsers & OS`s.
 */var KeyCode;(function(KeyCode){KeyCode[KeyCode["DependsOnKbLayout"]=-1]="DependsOnKbLayout";/**
     * Placed first to cover the 0 value of the enum.
     */KeyCode[KeyCode["Unknown"]=0]="Unknown";KeyCode[KeyCode["Backspace"]=1]="Backspace";KeyCode[KeyCode["Tab"]=2]="Tab";KeyCode[KeyCode["Enter"]=3]="Enter";KeyCode[KeyCode["Shift"]=4]="Shift";KeyCode[KeyCode["Ctrl"]=5]="Ctrl";KeyCode[KeyCode["Alt"]=6]="Alt";KeyCode[KeyCode["PauseBreak"]=7]="PauseBreak";KeyCode[KeyCode["CapsLock"]=8]="CapsLock";KeyCode[KeyCode["Escape"]=9]="Escape";KeyCode[KeyCode["Space"]=10]="Space";KeyCode[KeyCode["PageUp"]=11]="PageUp";KeyCode[KeyCode["PageDown"]=12]="PageDown";KeyCode[KeyCode["End"]=13]="End";KeyCode[KeyCode["Home"]=14]="Home";KeyCode[KeyCode["LeftArrow"]=15]="LeftArrow";KeyCode[KeyCode["UpArrow"]=16]="UpArrow";KeyCode[KeyCode["RightArrow"]=17]="RightArrow";KeyCode[KeyCode["DownArrow"]=18]="DownArrow";KeyCode[KeyCode["Insert"]=19]="Insert";KeyCode[KeyCode["Delete"]=20]="Delete";KeyCode[KeyCode["Digit0"]=21]="Digit0";KeyCode[KeyCode["Digit1"]=22]="Digit1";KeyCode[KeyCode["Digit2"]=23]="Digit2";KeyCode[KeyCode["Digit3"]=24]="Digit3";KeyCode[KeyCode["Digit4"]=25]="Digit4";KeyCode[KeyCode["Digit5"]=26]="Digit5";KeyCode[KeyCode["Digit6"]=27]="Digit6";KeyCode[KeyCode["Digit7"]=28]="Digit7";KeyCode[KeyCode["Digit8"]=29]="Digit8";KeyCode[KeyCode["Digit9"]=30]="Digit9";KeyCode[KeyCode["KeyA"]=31]="KeyA";KeyCode[KeyCode["KeyB"]=32]="KeyB";KeyCode[KeyCode["KeyC"]=33]="KeyC";KeyCode[KeyCode["KeyD"]=34]="KeyD";KeyCode[KeyCode["KeyE"]=35]="KeyE";KeyCode[KeyCode["KeyF"]=36]="KeyF";KeyCode[KeyCode["KeyG"]=37]="KeyG";KeyCode[KeyCode["KeyH"]=38]="KeyH";KeyCode[KeyCode["KeyI"]=39]="KeyI";KeyCode[KeyCode["KeyJ"]=40]="KeyJ";KeyCode[KeyCode["KeyK"]=41]="KeyK";KeyCode[KeyCode["KeyL"]=42]="KeyL";KeyCode[KeyCode["KeyM"]=43]="KeyM";KeyCode[KeyCode["KeyN"]=44]="KeyN";KeyCode[KeyCode["KeyO"]=45]="KeyO";KeyCode[KeyCode["KeyP"]=46]="KeyP";KeyCode[KeyCode["KeyQ"]=47]="KeyQ";KeyCode[KeyCode["KeyR"]=48]="KeyR";KeyCode[KeyCode["KeyS"]=49]="KeyS";KeyCode[KeyCode["KeyT"]=50]="KeyT";KeyCode[KeyCode["KeyU"]=51]="KeyU";KeyCode[KeyCode["KeyV"]=52]="KeyV";KeyCode[KeyCode["KeyW"]=53]="KeyW";KeyCode[KeyCode["KeyX"]=54]="KeyX";KeyCode[KeyCode["KeyY"]=55]="KeyY";KeyCode[KeyCode["KeyZ"]=56]="KeyZ";KeyCode[KeyCode["Meta"]=57]="Meta";KeyCode[KeyCode["ContextMenu"]=58]="ContextMenu";KeyCode[KeyCode["F1"]=59]="F1";KeyCode[KeyCode["F2"]=60]="F2";KeyCode[KeyCode["F3"]=61]="F3";KeyCode[KeyCode["F4"]=62]="F4";KeyCode[KeyCode["F5"]=63]="F5";KeyCode[KeyCode["F6"]=64]="F6";KeyCode[KeyCode["F7"]=65]="F7";KeyCode[KeyCode["F8"]=66]="F8";KeyCode[KeyCode["F9"]=67]="F9";KeyCode[KeyCode["F10"]=68]="F10";KeyCode[KeyCode["F11"]=69]="F11";KeyCode[KeyCode["F12"]=70]="F12";KeyCode[KeyCode["F13"]=71]="F13";KeyCode[KeyCode["F14"]=72]="F14";KeyCode[KeyCode["F15"]=73]="F15";KeyCode[KeyCode["F16"]=74]="F16";KeyCode[KeyCode["F17"]=75]="F17";KeyCode[KeyCode["F18"]=76]="F18";KeyCode[KeyCode["F19"]=77]="F19";KeyCode[KeyCode["NumLock"]=78]="NumLock";KeyCode[KeyCode["ScrollLock"]=79]="ScrollLock";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the ';:' key
     */KeyCode[KeyCode["Semicolon"]=80]="Semicolon";/**
     * For any country/region, the '+' key
     * For the US standard keyboard, the '=+' key
     */KeyCode[KeyCode["Equal"]=81]="Equal";/**
     * For any country/region, the ',' key
     * For the US standard keyboard, the ',<' key
     */KeyCode[KeyCode["Comma"]=82]="Comma";/**
     * For any country/region, the '-' key
     * For the US standard keyboard, the '-_' key
     */KeyCode[KeyCode["Minus"]=83]="Minus";/**
     * For any country/region, the '.' key
     * For the US standard keyboard, the '.>' key
     */KeyCode[KeyCode["Period"]=84]="Period";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the '/?' key
     */KeyCode[KeyCode["Slash"]=85]="Slash";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the '`~' key
     */KeyCode[KeyCode["Backquote"]=86]="Backquote";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the '[{' key
     */KeyCode[KeyCode["BracketLeft"]=87]="BracketLeft";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the '\|' key
     */KeyCode[KeyCode["Backslash"]=88]="Backslash";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the ']}' key
     */KeyCode[KeyCode["BracketRight"]=89]="BracketRight";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     * For the US standard keyboard, the ''"' key
     */KeyCode[KeyCode["Quote"]=90]="Quote";/**
     * Used for miscellaneous characters; it can vary by keyboard.
     */KeyCode[KeyCode["OEM_8"]=91]="OEM_8";/**
     * Either the angle bracket key or the backslash key on the RT 102-key keyboard.
     */KeyCode[KeyCode["IntlBackslash"]=92]="IntlBackslash";KeyCode[KeyCode["Numpad0"]=93]="Numpad0";KeyCode[KeyCode["Numpad1"]=94]="Numpad1";KeyCode[KeyCode["Numpad2"]=95]="Numpad2";KeyCode[KeyCode["Numpad3"]=96]="Numpad3";KeyCode[KeyCode["Numpad4"]=97]="Numpad4";KeyCode[KeyCode["Numpad5"]=98]="Numpad5";KeyCode[KeyCode["Numpad6"]=99]="Numpad6";KeyCode[KeyCode["Numpad7"]=100]="Numpad7";KeyCode[KeyCode["Numpad8"]=101]="Numpad8";KeyCode[KeyCode["Numpad9"]=102]="Numpad9";KeyCode[KeyCode["NumpadMultiply"]=103]="NumpadMultiply";KeyCode[KeyCode["NumpadAdd"]=104]="NumpadAdd";KeyCode[KeyCode["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR";KeyCode[KeyCode["NumpadSubtract"]=106]="NumpadSubtract";KeyCode[KeyCode["NumpadDecimal"]=107]="NumpadDecimal";KeyCode[KeyCode["NumpadDivide"]=108]="NumpadDivide";/**
     * Cover all key codes when IME is processing input.
     */KeyCode[KeyCode["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION";KeyCode[KeyCode["ABNT_C1"]=110]="ABNT_C1";KeyCode[KeyCode["ABNT_C2"]=111]="ABNT_C2";KeyCode[KeyCode["AudioVolumeMute"]=112]="AudioVolumeMute";KeyCode[KeyCode["AudioVolumeUp"]=113]="AudioVolumeUp";KeyCode[KeyCode["AudioVolumeDown"]=114]="AudioVolumeDown";KeyCode[KeyCode["BrowserSearch"]=115]="BrowserSearch";KeyCode[KeyCode["BrowserHome"]=116]="BrowserHome";KeyCode[KeyCode["BrowserBack"]=117]="BrowserBack";KeyCode[KeyCode["BrowserForward"]=118]="BrowserForward";KeyCode[KeyCode["MediaTrackNext"]=119]="MediaTrackNext";KeyCode[KeyCode["MediaTrackPrevious"]=120]="MediaTrackPrevious";KeyCode[KeyCode["MediaStop"]=121]="MediaStop";KeyCode[KeyCode["MediaPlayPause"]=122]="MediaPlayPause";KeyCode[KeyCode["LaunchMediaPlayer"]=123]="LaunchMediaPlayer";KeyCode[KeyCode["LaunchMail"]=124]="LaunchMail";KeyCode[KeyCode["LaunchApp2"]=125]="LaunchApp2";/**
     * Placed last to cover the length of the enum.
     * Please do not depend on this value!
     */KeyCode[KeyCode["MAX_VALUE"]=126]="MAX_VALUE";})(KeyCode||(KeyCode={}));var MarkerSeverity;(function(MarkerSeverity){MarkerSeverity[MarkerSeverity["Hint"]=1]="Hint";MarkerSeverity[MarkerSeverity["Info"]=2]="Info";MarkerSeverity[MarkerSeverity["Warning"]=4]="Warning";MarkerSeverity[MarkerSeverity["Error"]=8]="Error";})(MarkerSeverity||(MarkerSeverity={}));var MarkerTag;(function(MarkerTag){MarkerTag[MarkerTag["Unnecessary"]=1]="Unnecessary";MarkerTag[MarkerTag["Deprecated"]=2]="Deprecated";})(MarkerTag||(MarkerTag={}));/**
 * Position in the minimap to render the decoration.
 */var MinimapPosition;(function(MinimapPosition){MinimapPosition[MinimapPosition["Inline"]=1]="Inline";MinimapPosition[MinimapPosition["Gutter"]=2]="Gutter";})(MinimapPosition||(MinimapPosition={}));/**
 * Type of hit element with the mouse in the editor.
 */var MouseTargetType;(function(MouseTargetType){/**
     * Mouse is on top of an unknown element.
     */MouseTargetType[MouseTargetType["UNKNOWN"]=0]="UNKNOWN";/**
     * Mouse is on top of the textarea used for input.
     */MouseTargetType[MouseTargetType["TEXTAREA"]=1]="TEXTAREA";/**
     * Mouse is on top of the glyph margin
     */MouseTargetType[MouseTargetType["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN";/**
     * Mouse is on top of the line numbers
     */MouseTargetType[MouseTargetType["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS";/**
     * Mouse is on top of the line decorations
     */MouseTargetType[MouseTargetType["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS";/**
     * Mouse is on top of the whitespace left in the gutter by a view zone.
     */MouseTargetType[MouseTargetType["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE";/**
     * Mouse is on top of text in the content.
     */MouseTargetType[MouseTargetType["CONTENT_TEXT"]=6]="CONTENT_TEXT";/**
     * Mouse is on top of empty space in the content (e.g. after line text or below last line)
     */MouseTargetType[MouseTargetType["CONTENT_EMPTY"]=7]="CONTENT_EMPTY";/**
     * Mouse is on top of a view zone in the content.
     */MouseTargetType[MouseTargetType["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE";/**
     * Mouse is on top of a content widget.
     */MouseTargetType[MouseTargetType["CONTENT_WIDGET"]=9]="CONTENT_WIDGET";/**
     * Mouse is on top of the decorations overview ruler.
     */MouseTargetType[MouseTargetType["OVERVIEW_RULER"]=10]="OVERVIEW_RULER";/**
     * Mouse is on top of a scrollbar.
     */MouseTargetType[MouseTargetType["SCROLLBAR"]=11]="SCROLLBAR";/**
     * Mouse is on top of an overlay widget.
     */MouseTargetType[MouseTargetType["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET";/**
     * Mouse is outside of the editor.
     */MouseTargetType[MouseTargetType["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR";})(MouseTargetType||(MouseTargetType={}));/**
 * A positioning preference for rendering overlay widgets.
 */var OverlayWidgetPositionPreference;(function(OverlayWidgetPositionPreference){/**
     * Position the overlay widget in the top right corner
     */OverlayWidgetPositionPreference[OverlayWidgetPositionPreference["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER";/**
     * Position the overlay widget in the bottom right corner
     */OverlayWidgetPositionPreference[OverlayWidgetPositionPreference["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER";/**
     * Position the overlay widget in the top center
     */OverlayWidgetPositionPreference[OverlayWidgetPositionPreference["TOP_CENTER"]=2]="TOP_CENTER";})(OverlayWidgetPositionPreference||(OverlayWidgetPositionPreference={}));/**
 * Vertical Lane in the overview ruler of the editor.
 */var OverviewRulerLane;(function(OverviewRulerLane){OverviewRulerLane[OverviewRulerLane["Left"]=1]="Left";OverviewRulerLane[OverviewRulerLane["Center"]=2]="Center";OverviewRulerLane[OverviewRulerLane["Right"]=4]="Right";OverviewRulerLane[OverviewRulerLane["Full"]=7]="Full";})(OverviewRulerLane||(OverviewRulerLane={}));var PositionAffinity;(function(PositionAffinity){/**
     * Prefers the left most position.
    */PositionAffinity[PositionAffinity["Left"]=0]="Left";/**
     * Prefers the right most position.
    */PositionAffinity[PositionAffinity["Right"]=1]="Right";/**
     * No preference.
    */PositionAffinity[PositionAffinity["None"]=2]="None";})(PositionAffinity||(PositionAffinity={}));var RenderLineNumbersType;(function(RenderLineNumbersType){RenderLineNumbersType[RenderLineNumbersType["Off"]=0]="Off";RenderLineNumbersType[RenderLineNumbersType["On"]=1]="On";RenderLineNumbersType[RenderLineNumbersType["Relative"]=2]="Relative";RenderLineNumbersType[RenderLineNumbersType["Interval"]=3]="Interval";RenderLineNumbersType[RenderLineNumbersType["Custom"]=4]="Custom";})(RenderLineNumbersType||(RenderLineNumbersType={}));var RenderMinimap;(function(RenderMinimap){RenderMinimap[RenderMinimap["None"]=0]="None";RenderMinimap[RenderMinimap["Text"]=1]="Text";RenderMinimap[RenderMinimap["Blocks"]=2]="Blocks";})(RenderMinimap||(RenderMinimap={}));var ScrollType;(function(ScrollType){ScrollType[ScrollType["Smooth"]=0]="Smooth";ScrollType[ScrollType["Immediate"]=1]="Immediate";})(ScrollType||(ScrollType={}));var ScrollbarVisibility;(function(ScrollbarVisibility){ScrollbarVisibility[ScrollbarVisibility["Auto"]=1]="Auto";ScrollbarVisibility[ScrollbarVisibility["Hidden"]=2]="Hidden";ScrollbarVisibility[ScrollbarVisibility["Visible"]=3]="Visible";})(ScrollbarVisibility||(ScrollbarVisibility={}));/**
 * The direction of a selection.
 */var SelectionDirection;(function(SelectionDirection){/**
     * The selection starts above where it ends.
     */SelectionDirection[SelectionDirection["LTR"]=0]="LTR";/**
     * The selection starts below where it ends.
     */SelectionDirection[SelectionDirection["RTL"]=1]="RTL";})(SelectionDirection||(SelectionDirection={}));var SignatureHelpTriggerKind;(function(SignatureHelpTriggerKind){SignatureHelpTriggerKind[SignatureHelpTriggerKind["Invoke"]=1]="Invoke";SignatureHelpTriggerKind[SignatureHelpTriggerKind["TriggerCharacter"]=2]="TriggerCharacter";SignatureHelpTriggerKind[SignatureHelpTriggerKind["ContentChange"]=3]="ContentChange";})(SignatureHelpTriggerKind||(SignatureHelpTriggerKind={}));/**
 * A symbol kind.
 */var SymbolKind;(function(SymbolKind){SymbolKind[SymbolKind["File"]=0]="File";SymbolKind[SymbolKind["Module"]=1]="Module";SymbolKind[SymbolKind["Namespace"]=2]="Namespace";SymbolKind[SymbolKind["Package"]=3]="Package";SymbolKind[SymbolKind["Class"]=4]="Class";SymbolKind[SymbolKind["Method"]=5]="Method";SymbolKind[SymbolKind["Property"]=6]="Property";SymbolKind[SymbolKind["Field"]=7]="Field";SymbolKind[SymbolKind["Constructor"]=8]="Constructor";SymbolKind[SymbolKind["Enum"]=9]="Enum";SymbolKind[SymbolKind["Interface"]=10]="Interface";SymbolKind[SymbolKind["Function"]=11]="Function";SymbolKind[SymbolKind["Variable"]=12]="Variable";SymbolKind[SymbolKind["Constant"]=13]="Constant";SymbolKind[SymbolKind["String"]=14]="String";SymbolKind[SymbolKind["Number"]=15]="Number";SymbolKind[SymbolKind["Boolean"]=16]="Boolean";SymbolKind[SymbolKind["Array"]=17]="Array";SymbolKind[SymbolKind["Object"]=18]="Object";SymbolKind[SymbolKind["Key"]=19]="Key";SymbolKind[SymbolKind["Null"]=20]="Null";SymbolKind[SymbolKind["EnumMember"]=21]="EnumMember";SymbolKind[SymbolKind["Struct"]=22]="Struct";SymbolKind[SymbolKind["Event"]=23]="Event";SymbolKind[SymbolKind["Operator"]=24]="Operator";SymbolKind[SymbolKind["TypeParameter"]=25]="TypeParameter";})(SymbolKind||(SymbolKind={}));var SymbolTag;(function(SymbolTag){SymbolTag[SymbolTag["Deprecated"]=1]="Deprecated";})(SymbolTag||(SymbolTag={}));/**
 * The kind of animation in which the editor's cursor should be rendered.
 */var TextEditorCursorBlinkingStyle;(function(TextEditorCursorBlinkingStyle){/**
     * Hidden
     */TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle["Hidden"]=0]="Hidden";/**
     * Blinking
     */TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle["Blink"]=1]="Blink";/**
     * Blinking with smooth fading
     */TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle["Smooth"]=2]="Smooth";/**
     * Blinking with prolonged filled state and smooth fading
     */TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle["Phase"]=3]="Phase";/**
     * Expand collapse animation on the y axis
     */TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle["Expand"]=4]="Expand";/**
     * No-Blinking
     */TextEditorCursorBlinkingStyle[TextEditorCursorBlinkingStyle["Solid"]=5]="Solid";})(TextEditorCursorBlinkingStyle||(TextEditorCursorBlinkingStyle={}));/**
 * The style in which the editor's cursor should be rendered.
 */var TextEditorCursorStyle;(function(TextEditorCursorStyle){/**
     * As a vertical line (sitting between two characters).
     */TextEditorCursorStyle[TextEditorCursorStyle["Line"]=1]="Line";/**
     * As a block (sitting on top of a character).
     */TextEditorCursorStyle[TextEditorCursorStyle["Block"]=2]="Block";/**
     * As a horizontal line (sitting under a character).
     */TextEditorCursorStyle[TextEditorCursorStyle["Underline"]=3]="Underline";/**
     * As a thin vertical line (sitting between two characters).
     */TextEditorCursorStyle[TextEditorCursorStyle["LineThin"]=4]="LineThin";/**
     * As an outlined block (sitting on top of a character).
     */TextEditorCursorStyle[TextEditorCursorStyle["BlockOutline"]=5]="BlockOutline";/**
     * As a thin horizontal line (sitting under a character).
     */TextEditorCursorStyle[TextEditorCursorStyle["UnderlineThin"]=6]="UnderlineThin";})(TextEditorCursorStyle||(TextEditorCursorStyle={}));/**
 * Describes the behavior of decorations when typing/editing near their edges.
 * Note: Please do not edit the values, as they very carefully match `DecorationRangeBehavior`
 */var TrackedRangeStickiness;(function(TrackedRangeStickiness){TrackedRangeStickiness[TrackedRangeStickiness["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges";TrackedRangeStickiness[TrackedRangeStickiness["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges";TrackedRangeStickiness[TrackedRangeStickiness["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore";TrackedRangeStickiness[TrackedRangeStickiness["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter";})(TrackedRangeStickiness||(TrackedRangeStickiness={}));/**
 * Describes how to indent wrapped lines.
 */var WrappingIndent;(function(WrappingIndent){/**
     * No indentation => wrapped lines begin at column 1.
     */WrappingIndent[WrappingIndent["None"]=0]="None";/**
     * Same => wrapped lines get the same indentation as the parent.
     */WrappingIndent[WrappingIndent["Same"]=1]="Same";/**
     * Indent => wrapped lines get +1 indentation toward the parent.
     */WrappingIndent[WrappingIndent["Indent"]=2]="Indent";/**
     * DeepIndent => wrapped lines get +2 indentation toward the parent.
     */WrappingIndent[WrappingIndent["DeepIndent"]=3]="DeepIndent";})(WrappingIndent||(WrappingIndent={}));

/***/ }),

/***/ 3054:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "B8": () => (/* binding */ StandaloneCodeEditorNLS),
/* harmony export */   "Oe": () => (/* binding */ AccessibilityHelpNLS),
/* harmony export */   "UX": () => (/* binding */ QuickCommandNLS),
/* harmony export */   "aq": () => (/* binding */ QuickOutlineNLS),
/* harmony export */   "iN": () => (/* binding */ StandaloneServicesNLS),
/* harmony export */   "ld": () => (/* binding */ QuickHelpNLS),
/* harmony export */   "qq": () => (/* binding */ GoToLineNLS),
/* harmony export */   "ug": () => (/* binding */ InspectTokensNLS),
/* harmony export */   "xi": () => (/* binding */ ToggleHighContrastNLS)
/* harmony export */ });
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(71453);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var AccessibilityHelpNLS;(function(AccessibilityHelpNLS){AccessibilityHelpNLS.noSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("noSelection","No selection");AccessibilityHelpNLS.singleSelectionRange=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("singleSelectionRange","Line {0}, Column {1} ({2} selected)");AccessibilityHelpNLS.singleSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("singleSelection","Line {0}, Column {1}");AccessibilityHelpNLS.multiSelectionRange=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("multiSelectionRange","{0} selections ({1} characters selected)");AccessibilityHelpNLS.multiSelection=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("multiSelection","{0} selections");AccessibilityHelpNLS.emergencyConfOn=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'.");AccessibilityHelpNLS.openingDocs=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("openingDocs","Now opening the Editor Accessibility documentation page.");AccessibilityHelpNLS.readonlyDiffEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("readonlyDiffEditor"," in a read-only pane of a diff editor.");AccessibilityHelpNLS.editableDiffEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("editableDiffEditor"," in a pane of a diff editor.");AccessibilityHelpNLS.readonlyEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("readonlyEditor"," in a read-only code editor");AccessibilityHelpNLS.editableEditor=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("editableEditor"," in a code editor");AccessibilityHelpNLS.changeConfigToOnMac=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now.");AccessibilityHelpNLS.changeConfigToOnWinLinux=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now.");AccessibilityHelpNLS.auto_on=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("auto_on","The editor is configured to be optimized for usage with a Screen Reader.");AccessibilityHelpNLS.auto_off=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time.");AccessibilityHelpNLS.tabFocusModeOnMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}.");AccessibilityHelpNLS.tabFocusModeOnMsgNoKb=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding.");AccessibilityHelpNLS.tabFocusModeOffMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}.");AccessibilityHelpNLS.tabFocusModeOffMsgNoKb=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.");AccessibilityHelpNLS.openDocMac=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility.");AccessibilityHelpNLS.openDocWinLinux=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility.");AccessibilityHelpNLS.outroMsg=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape.");AccessibilityHelpNLS.showAccessibilityHelpAction=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N("showAccessibilityHelpAction","Show Accessibility Help");})(AccessibilityHelpNLS||(AccessibilityHelpNLS={}));var InspectTokensNLS;(function(InspectTokensNLS){InspectTokensNLS.inspectTokensAction=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('inspectTokens',"Developer: Inspect Tokens");})(InspectTokensNLS||(InspectTokensNLS={}));var GoToLineNLS;(function(GoToLineNLS){GoToLineNLS.gotoLineActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('gotoLineActionLabel',"Go to Line/Column...");})(GoToLineNLS||(GoToLineNLS={}));var QuickHelpNLS;(function(QuickHelpNLS){QuickHelpNLS.helpQuickAccessActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('helpQuickAccess',"Show all Quick Access Providers");})(QuickHelpNLS||(QuickHelpNLS={}));var QuickCommandNLS;(function(QuickCommandNLS){QuickCommandNLS.quickCommandActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('quickCommandActionLabel',"Command Palette");QuickCommandNLS.quickCommandHelp=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('quickCommandActionHelp',"Show And Run Commands");})(QuickCommandNLS||(QuickCommandNLS={}));var QuickOutlineNLS;(function(QuickOutlineNLS){QuickOutlineNLS.quickOutlineActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('quickOutlineActionLabel',"Go to Symbol...");QuickOutlineNLS.quickOutlineByCategoryActionLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('quickOutlineByCategoryActionLabel',"Go to Symbol by Category...");})(QuickOutlineNLS||(QuickOutlineNLS={}));var StandaloneCodeEditorNLS;(function(StandaloneCodeEditorNLS){StandaloneCodeEditorNLS.editorViewAccessibleLabel=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('editorViewAccessibleLabel',"Editor content");StandaloneCodeEditorNLS.accessibilityHelpMessage=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('accessibilityHelpMessage',"Press Alt+F1 for Accessibility Options.");})(StandaloneCodeEditorNLS||(StandaloneCodeEditorNLS={}));var ToggleHighContrastNLS;(function(ToggleHighContrastNLS){ToggleHighContrastNLS.toggleHighContrast=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('toggleHighContrast',"Toggle High Contrast Theme");})(ToggleHighContrastNLS||(ToggleHighContrastNLS={}));var StandaloneServicesNLS;(function(StandaloneServicesNLS){StandaloneServicesNLS.bulkEditServiceSummary=_nls_js__WEBPACK_IMPORTED_MODULE_0__/* .localize */ .N('bulkEditServiceSummary',"Made {0} edits in {1} files");})(StandaloneServicesNLS||(StandaloneServicesNLS={}));

/***/ }),

/***/ 33190:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "M$": () => (/* binding */ BracketInfo),
/* harmony export */   "YA": () => (/* binding */ BracketPairWithMinIndentationInfo)
/* harmony export */ });
/* unused harmony export BracketPairInfo */
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var BracketInfo=function BracketInfo(range,/** 0-based level */nestingLevel,isInvalid){_classCallCheck(this,BracketInfo);this.range=range;this.nestingLevel=nestingLevel;this.isInvalid=isInvalid;};var BracketPairInfo=function BracketPairInfo(range,openingBracketRange,closingBracketRange,/**
     * 0-based
    */nestingLevel){_classCallCheck(this,BracketPairInfo);this.range=range;this.openingBracketRange=openingBracketRange;this.closingBracketRange=closingBracketRange;this.nestingLevel=nestingLevel;};var BracketPairWithMinIndentationInfo=/*#__PURE__*/function(_BracketPairInfo){_inherits(BracketPairWithMinIndentationInfo,_BracketPairInfo);var _super=_createSuper(BracketPairWithMinIndentationInfo);function BracketPairWithMinIndentationInfo(range,openingBracketRange,closingBracketRange,/**
     * 0-based
    */nestingLevel,/**
     * -1 if not requested, otherwise the size of the minimum indentation in the bracket pair in terms of visible columns.
    */minVisibleColumnIndentation){var _this;_classCallCheck(this,BracketPairWithMinIndentationInfo);_this=_super.call(this,range,openingBracketRange,closingBracketRange,nestingLevel);_this.minVisibleColumnIndentation=minVisibleColumnIndentation;return _this;}return BracketPairWithMinIndentationInfo;}(BracketPairInfo);

/***/ }),

/***/ 59311:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CZ": () => (/* binding */ ModelRawEOLChanged),
/* harmony export */   "D8": () => (/* binding */ ModelInjectedTextChangedEvent),
/* harmony export */   "Jx": () => (/* binding */ ModelRawFlush),
/* harmony export */   "Tx": () => (/* binding */ ModelRawLinesInserted),
/* harmony export */   "dQ": () => (/* binding */ ModelRawContentChangedEvent),
/* harmony export */   "fV": () => (/* binding */ InternalModelContentChangeEvent),
/* harmony export */   "gk": () => (/* binding */ LineInjectedText),
/* harmony export */   "lN": () => (/* binding */ ModelRawLinesDeleted),
/* harmony export */   "rU": () => (/* binding */ ModelRawLineChanged)
/* harmony export */ });
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/ /**
 * An event describing that a model has been reset to a new value.
 * @internal
 */var ModelRawFlush=function ModelRawFlush(){_classCallCheck(this,ModelRawFlush);this.changeType=1/* Flush */;};/**
 * Represents text injected on a line
 * @internal
 */var LineInjectedText=/*#__PURE__*/function(){function LineInjectedText(ownerId,lineNumber,column,options,order){_classCallCheck(this,LineInjectedText);this.ownerId=ownerId;this.lineNumber=lineNumber;this.column=column;this.options=options;this.order=order;}_createClass(LineInjectedText,null,[{key:"applyInjectedText",value:function applyInjectedText(lineText,injectedTexts){if(!injectedTexts||injectedTexts.length===0){return lineText;}var result='';var lastOriginalOffset=0;var _iterator=_createForOfIteratorHelper(injectedTexts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var injectedText=_step.value;result+=lineText.substring(lastOriginalOffset,injectedText.column-1);lastOriginalOffset=injectedText.column-1;result+=injectedText.options.content;}}catch(err){_iterator.e(err);}finally{_iterator.f();}result+=lineText.substring(lastOriginalOffset);return result;}},{key:"fromDecorations",value:function fromDecorations(decorations){var result=[];var _iterator2=_createForOfIteratorHelper(decorations),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var decoration=_step2.value;if(decoration.options.before&&decoration.options.before.content.length>0){result.push(new LineInjectedText(decoration.ownerId,decoration.range.startLineNumber,decoration.range.startColumn,decoration.options.before,0));}if(decoration.options.after&&decoration.options.after.content.length>0){result.push(new LineInjectedText(decoration.ownerId,decoration.range.endLineNumber,decoration.range.endColumn,decoration.options.after,1));}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}result.sort(function(a,b){if(a.lineNumber===b.lineNumber){if(a.column===b.column){return a.order-b.order;}return a.column-b.column;}return a.lineNumber-b.lineNumber;});return result;}}]);return LineInjectedText;}();/**
 * An event describing that a line has changed in a model.
 * @internal
 */var ModelRawLineChanged=function ModelRawLineChanged(lineNumber,detail,injectedText){_classCallCheck(this,ModelRawLineChanged);this.changeType=2/* LineChanged */;this.lineNumber=lineNumber;this.detail=detail;this.injectedText=injectedText;};/**
 * An event describing that line(s) have been deleted in a model.
 * @internal
 */var ModelRawLinesDeleted=function ModelRawLinesDeleted(fromLineNumber,toLineNumber){_classCallCheck(this,ModelRawLinesDeleted);this.changeType=3/* LinesDeleted */;this.fromLineNumber=fromLineNumber;this.toLineNumber=toLineNumber;};/**
 * An event describing that line(s) have been inserted in a model.
 * @internal
 */var ModelRawLinesInserted=function ModelRawLinesInserted(fromLineNumber,toLineNumber,detail,injectedTexts){_classCallCheck(this,ModelRawLinesInserted);this.changeType=4/* LinesInserted */;this.injectedTexts=injectedTexts;this.fromLineNumber=fromLineNumber;this.toLineNumber=toLineNumber;this.detail=detail;};/**
 * An event describing that a model has had its EOL changed.
 * @internal
 */var ModelRawEOLChanged=function ModelRawEOLChanged(){_classCallCheck(this,ModelRawEOLChanged);this.changeType=5/* EOLChanged */;};/**
 * An event describing a change in the text of a model.
 * @internal
 */var ModelRawContentChangedEvent=/*#__PURE__*/function(){function ModelRawContentChangedEvent(changes,versionId,isUndoing,isRedoing){_classCallCheck(this,ModelRawContentChangedEvent);this.changes=changes;this.versionId=versionId;this.isUndoing=isUndoing;this.isRedoing=isRedoing;this.resultingSelection=null;}_createClass(ModelRawContentChangedEvent,[{key:"containsEvent",value:function containsEvent(type){for(var i=0,len=this.changes.length;i<len;i++){var change=this.changes[i];if(change.changeType===type){return true;}}return false;}}],[{key:"merge",value:function merge(a,b){var changes=[].concat(a.changes).concat(b.changes);var versionId=b.versionId;var isUndoing=a.isUndoing||b.isUndoing;var isRedoing=a.isRedoing||b.isRedoing;return new ModelRawContentChangedEvent(changes,versionId,isUndoing,isRedoing);}}]);return ModelRawContentChangedEvent;}();/**
 * An event describing a change in injected text.
 * @internal
 */var ModelInjectedTextChangedEvent=function ModelInjectedTextChangedEvent(changes){_classCallCheck(this,ModelInjectedTextChangedEvent);this.changes=changes;};/**
 * @internal
 */var InternalModelContentChangeEvent=/*#__PURE__*/function(){function InternalModelContentChangeEvent(rawContentChangedEvent,contentChangedEvent){_classCallCheck(this,InternalModelContentChangeEvent);this.rawContentChangedEvent=rawContentChangedEvent;this.contentChangedEvent=contentChangedEvent;}_createClass(InternalModelContentChangeEvent,[{key:"merge",value:function merge(other){var rawContentChangedEvent=ModelRawContentChangedEvent.merge(this.rawContentChangedEvent,other.rawContentChangedEvent);var contentChangedEvent=InternalModelContentChangeEvent._mergeChangeEvents(this.contentChangedEvent,other.contentChangedEvent);return new InternalModelContentChangeEvent(rawContentChangedEvent,contentChangedEvent);}}],[{key:"_mergeChangeEvents",value:function _mergeChangeEvents(a,b){var changes=[].concat(a.changes).concat(b.changes);var eol=b.eol;var versionId=b.versionId;var isUndoing=a.isUndoing||b.isUndoing;var isRedoing=a.isRedoing||b.isRedoing;var isFlush=a.isFlush||b.isFlush;return{changes:changes,eol:eol,versionId:versionId,isUndoing:isUndoing,isRedoing:isRedoing,isFlush:isFlush};}}]);return InternalModelContentChangeEvent;}();

/***/ }),

/***/ 35933:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UO": () => (/* binding */ IndentGuide),
/* harmony export */   "s6": () => (/* binding */ HorizontalGuidesState),
/* harmony export */   "vW": () => (/* binding */ IndentGuideHorizontalLine)
/* harmony export */ });
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var HorizontalGuidesState;(function(HorizontalGuidesState){HorizontalGuidesState[HorizontalGuidesState["Disabled"]=0]="Disabled";HorizontalGuidesState[HorizontalGuidesState["EnabledForActive"]=1]="EnabledForActive";HorizontalGuidesState[HorizontalGuidesState["Enabled"]=2]="Enabled";})(HorizontalGuidesState||(HorizontalGuidesState={}));var IndentGuide=function IndentGuide(visibleColumn,className,/**
     * If set, this indent guide is a horizontal guide (no vertical part).
     * It starts at visibleColumn and continues until endColumn.
    */horizontalLine){_classCallCheck(this,IndentGuide);this.visibleColumn=visibleColumn;this.className=className;this.horizontalLine=horizontalLine;};var IndentGuideHorizontalLine=function IndentGuideHorizontalLine(top,endColumn){_classCallCheck(this,IndentGuideHorizontalLine);this.top=top;this.endColumn=endColumn;};

/***/ }),

/***/ 25851:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "R": () => (/* binding */ TokenizationRegistry)
/* harmony export */ });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19860);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var TokenizationRegistry=/*#__PURE__*/function(){function TokenizationRegistry(){_classCallCheck(this,TokenizationRegistry);this._map=new Map();this._factories=new Map();this._onDidChange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_1__/* .Emitter */ .Q5();this.onDidChange=this._onDidChange.event;this._colorMap=null;}_createClass(TokenizationRegistry,[{key:"fire",value:function fire(languages){this._onDidChange.fire({changedLanguages:languages,changedColorMap:false});}},{key:"register",value:function register(language,support){var _this=this;this._map.set(language,support);this.fire([language]);return (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__/* .toDisposable */ .OF)(function(){if(_this._map.get(language)!==support){return;}_this._map.delete(language);_this.fire([language]);});}},{key:"registerFactory",value:function registerFactory(languageId,factory){var _this2=this;var _a;(_a=this._factories.get(languageId))===null||_a===void 0?void 0:_a.dispose();var myData=new TokenizationSupportFactoryData(this,languageId,factory);this._factories.set(languageId,myData);return (0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__/* .toDisposable */ .OF)(function(){var v=_this2._factories.get(languageId);if(!v||v!==myData){return;}_this2._factories.delete(languageId);v.dispose();});}},{key:"getOrCreate",value:function getOrCreate(languageId){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var tokenizationSupport,factory;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// check first if the support is already set
tokenizationSupport=this.get(languageId);if(!tokenizationSupport){_context.next=3;break;}return _context.abrupt("return",tokenizationSupport);case 3:factory=this._factories.get(languageId);if(!(!factory||factory.isResolved)){_context.next=6;break;}return _context.abrupt("return",null);case 6:_context.next=8;return factory.resolve();case 8:return _context.abrupt("return",this.get(languageId));case 9:case"end":return _context.stop();}}},_callee,this);}));}},{key:"get",value:function get(language){return this._map.get(language)||null;}},{key:"isResolved",value:function isResolved(languageId){var tokenizationSupport=this.get(languageId);if(tokenizationSupport){return true;}var factory=this._factories.get(languageId);if(!factory||factory.isResolved){return true;}return false;}},{key:"setColorMap",value:function setColorMap(colorMap){this._colorMap=colorMap;this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:true});}},{key:"getColorMap",value:function getColorMap(){return this._colorMap;}},{key:"getDefaultBackground",value:function getDefaultBackground(){if(this._colorMap&&this._colorMap.length>2/* DefaultBackground */){return this._colorMap[2/* DefaultBackground */];}return null;}}]);return TokenizationRegistry;}();var TokenizationSupportFactoryData=/*#__PURE__*/function(_Disposable){_inherits(TokenizationSupportFactoryData,_Disposable);var _super=_createSuper(TokenizationSupportFactoryData);function TokenizationSupportFactoryData(_registry,_languageId,_factory){var _this3;_classCallCheck(this,TokenizationSupportFactoryData);_this3=_super.call(this);_this3._registry=_registry;_this3._languageId=_languageId;_this3._factory=_factory;_this3._isDisposed=false;_this3._resolvePromise=null;_this3._isResolved=false;return _this3;}_createClass(TokenizationSupportFactoryData,[{key:"isResolved",get:function get(){return this._isResolved;}},{key:"dispose",value:function dispose(){this._isDisposed=true;_get(_getPrototypeOf(TokenizationSupportFactoryData.prototype),"dispose",this).call(this);}},{key:"resolve",value:function resolve(){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee2(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!this._resolvePromise){this._resolvePromise=this._create();}return _context2.abrupt("return",this._resolvePromise);case 2:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"_create",value:function _create(){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee3(){var value;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Promise.resolve(this._factory.createTokenizationSupport());case 2:value=_context3.sent;this._isResolved=true;if(value&&!this._isDisposed){this._register(this._registry.register(this._languageId,value));}case 5:case"end":return _context3.stop();}}},_callee3,this);}));}}]);return TokenizationSupportFactoryData;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_2__/* .Disposable */ .JT);

/***/ }),

/***/ 62770:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "N": () => (/* binding */ ContiguousMultilineTokensBuilder)
});

;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/contiguousMultilineTokens.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/**
 * Represents contiguous tokens over a contiguous range of lines.
 */var ContiguousMultilineTokens=/*#__PURE__*/function(){function ContiguousMultilineTokens(startLineNumber,tokens){_classCallCheck(this,ContiguousMultilineTokens);this._startLineNumber=startLineNumber;this._tokens=tokens;}/**
     * (Inclusive) start line number for these tokens.
     */_createClass(ContiguousMultilineTokens,[{key:"startLineNumber",get:function get(){return this._startLineNumber;}/**
     * (Inclusive) end line number for these tokens.
     */},{key:"endLineNumber",get:function get(){return this._startLineNumber+this._tokens.length-1;}/**
     * @see {@link _tokens}
     */},{key:"getLineTokens",value:function getLineTokens(lineNumber){return this._tokens[lineNumber-this._startLineNumber];}},{key:"appendLineTokens",value:function appendLineTokens(lineTokens){this._tokens.push(lineTokens);}}]);return ContiguousMultilineTokens;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/contiguousMultilineTokensBuilder.js
function contiguousMultilineTokensBuilder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function contiguousMultilineTokensBuilder_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function contiguousMultilineTokensBuilder_createClass(Constructor,protoProps,staticProps){if(protoProps)contiguousMultilineTokensBuilder_defineProperties(Constructor.prototype,protoProps);if(staticProps)contiguousMultilineTokensBuilder_defineProperties(Constructor,staticProps);return Constructor;}var ContiguousMultilineTokensBuilder=/*#__PURE__*/function(){function ContiguousMultilineTokensBuilder(){contiguousMultilineTokensBuilder_classCallCheck(this,ContiguousMultilineTokensBuilder);this._tokens=[];}contiguousMultilineTokensBuilder_createClass(ContiguousMultilineTokensBuilder,[{key:"add",value:function add(lineNumber,lineTokens){if(this._tokens.length>0){var last=this._tokens[this._tokens.length-1];if(last.endLineNumber+1===lineNumber){// append
last.appendLineTokens(lineTokens);return;}}this._tokens.push(new ContiguousMultilineTokens(lineNumber,[lineTokens]));}},{key:"finalize",value:function finalize(){return this._tokens;}}]);return ContiguousMultilineTokensBuilder;}();

/***/ }),

/***/ 9518:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "l": () => (/* binding */ ContiguousTokensStore)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/lineTokens.js
var tokens_lineTokens = __webpack_require__(83817);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/contiguousTokensEditing.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;var ContiguousTokensEditing=/*#__PURE__*/function(){function ContiguousTokensEditing(){_classCallCheck(this,ContiguousTokensEditing);}_createClass(ContiguousTokensEditing,null,[{key:"deleteBeginning",value:function deleteBeginning(lineTokens,toChIndex){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS){return lineTokens;}return ContiguousTokensEditing.delete(lineTokens,0,toChIndex);}},{key:"deleteEnding",value:function deleteEnding(lineTokens,fromChIndex){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS){return lineTokens;}var tokens=toUint32Array(lineTokens);var lineTextLength=tokens[tokens.length-2];return ContiguousTokensEditing.delete(lineTokens,fromChIndex,lineTextLength);}},{key:"delete",value:function _delete(lineTokens,fromChIndex,toChIndex){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS||fromChIndex===toChIndex){return lineTokens;}var tokens=toUint32Array(lineTokens);var tokensCount=tokens.length>>>1;// special case: deleting everything
if(fromChIndex===0&&tokens[tokens.length-2]===toChIndex){return EMPTY_LINE_TOKENS;}var fromTokenIndex=tokens_lineTokens/* LineTokens.findIndexInTokensArray */.A.findIndexInTokensArray(tokens,fromChIndex);var fromTokenStartOffset=fromTokenIndex>0?tokens[fromTokenIndex-1<<1]:0;var fromTokenEndOffset=tokens[fromTokenIndex<<1];if(toChIndex<fromTokenEndOffset){// the delete range is inside a single token
var _delta=toChIndex-fromChIndex;for(var i=fromTokenIndex;i<tokensCount;i++){tokens[i<<1]-=_delta;}return lineTokens;}var dest;var lastEnd;if(fromTokenStartOffset!==fromChIndex){tokens[fromTokenIndex<<1]=fromChIndex;dest=fromTokenIndex+1<<1;lastEnd=fromChIndex;}else{dest=fromTokenIndex<<1;lastEnd=fromTokenStartOffset;}var delta=toChIndex-fromChIndex;for(var tokenIndex=fromTokenIndex+1;tokenIndex<tokensCount;tokenIndex++){var tokenEndOffset=tokens[tokenIndex<<1]-delta;if(tokenEndOffset>lastEnd){tokens[dest++]=tokenEndOffset;tokens[dest++]=tokens[(tokenIndex<<1)+1];lastEnd=tokenEndOffset;}}if(dest===tokens.length){// nothing to trim
return lineTokens;}var tmp=new Uint32Array(dest);tmp.set(tokens.subarray(0,dest),0);return tmp.buffer;}},{key:"append",value:function append(lineTokens,_otherTokens){if(_otherTokens===EMPTY_LINE_TOKENS){return lineTokens;}if(lineTokens===EMPTY_LINE_TOKENS){return _otherTokens;}if(lineTokens===null){return lineTokens;}if(_otherTokens===null){// cannot determine combined line length...
return null;}var myTokens=toUint32Array(lineTokens);var otherTokens=toUint32Array(_otherTokens);var otherTokensCount=otherTokens.length>>>1;var result=new Uint32Array(myTokens.length+otherTokens.length);result.set(myTokens,0);var dest=myTokens.length;var delta=myTokens[myTokens.length-2];for(var i=0;i<otherTokensCount;i++){result[dest++]=otherTokens[i<<1]+delta;result[dest++]=otherTokens[(i<<1)+1];}return result.buffer;}},{key:"insert",value:function insert(lineTokens,chIndex,textLength){if(lineTokens===null||lineTokens===EMPTY_LINE_TOKENS){// nothing to do
return lineTokens;}var tokens=toUint32Array(lineTokens);var tokensCount=tokens.length>>>1;var fromTokenIndex=tokens_lineTokens/* LineTokens.findIndexInTokensArray */.A.findIndexInTokensArray(tokens,chIndex);if(fromTokenIndex>0){var fromTokenStartOffset=tokens[fromTokenIndex-1<<1];if(fromTokenStartOffset===chIndex){fromTokenIndex--;}}for(var tokenIndex=fromTokenIndex;tokenIndex<tokensCount;tokenIndex++){tokens[tokenIndex<<1]+=textLength;}return lineTokens;}}]);return ContiguousTokensEditing;}();function toUint32Array(arr){if(arr instanceof Uint32Array){return arr;}else{return new Uint32Array(arr);}}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/contiguousTokensStore.js
function contiguousTokensStore_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function contiguousTokensStore_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function contiguousTokensStore_createClass(Constructor,protoProps,staticProps){if(protoProps)contiguousTokensStore_defineProperties(Constructor.prototype,protoProps);if(staticProps)contiguousTokensStore_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Represents contiguous tokens in a text model.
 */var ContiguousTokensStore=/*#__PURE__*/function(){function ContiguousTokensStore(languageIdCodec){contiguousTokensStore_classCallCheck(this,ContiguousTokensStore);this._lineTokens=[];this._len=0;this._languageIdCodec=languageIdCodec;}contiguousTokensStore_createClass(ContiguousTokensStore,[{key:"flush",value:function flush(){this._lineTokens=[];this._len=0;}},{key:"getTokens",value:function getTokens(topLevelLanguageId,lineIndex,lineText){var rawLineTokens=null;if(lineIndex<this._len){rawLineTokens=this._lineTokens[lineIndex];}if(rawLineTokens!==null&&rawLineTokens!==EMPTY_LINE_TOKENS){return new tokens_lineTokens/* LineTokens */.A(toUint32Array(rawLineTokens),lineText,this._languageIdCodec);}var lineTokens=new Uint32Array(2);lineTokens[0]=lineText.length;lineTokens[1]=getDefaultMetadata(this._languageIdCodec.encodeLanguageId(topLevelLanguageId));return new tokens_lineTokens/* LineTokens */.A(lineTokens,lineText,this._languageIdCodec);}},{key:"_ensureLine",value:function _ensureLine(lineIndex){while(lineIndex>=this._len){this._lineTokens[this._len]=null;this._len++;}}},{key:"_deleteLines",value:function _deleteLines(start,deleteCount){if(deleteCount===0){return;}if(start+deleteCount>this._len){deleteCount=this._len-start;}this._lineTokens.splice(start,deleteCount);this._len-=deleteCount;}},{key:"_insertLines",value:function _insertLines(insertIndex,insertCount){if(insertCount===0){return;}var lineTokens=[];for(var i=0;i<insertCount;i++){lineTokens[i]=null;}this._lineTokens=arrays/* arrayInsert */.Zv(this._lineTokens,insertIndex,lineTokens);this._len+=insertCount;}},{key:"setTokens",value:function setTokens(topLevelLanguageId,lineIndex,lineTextLength,_tokens,checkEquality){var tokens=ContiguousTokensStore._massageTokens(this._languageIdCodec.encodeLanguageId(topLevelLanguageId),lineTextLength,_tokens);this._ensureLine(lineIndex);var oldTokens=this._lineTokens[lineIndex];this._lineTokens[lineIndex]=tokens;if(checkEquality){return!ContiguousTokensStore._equals(oldTokens,tokens);}return false;}},{key:"acceptEdit",value://#region Editing
function acceptEdit(range,eolCount,firstLineLength){this._acceptDeleteRange(range);this._acceptInsertText(new position/* Position */.L(range.startLineNumber,range.startColumn),eolCount,firstLineLength);}},{key:"_acceptDeleteRange",value:function _acceptDeleteRange(range){var firstLineIndex=range.startLineNumber-1;if(firstLineIndex>=this._len){return;}if(range.startLineNumber===range.endLineNumber){if(range.startColumn===range.endColumn){// Nothing to delete
return;}this._lineTokens[firstLineIndex]=ContiguousTokensEditing["delete"](this._lineTokens[firstLineIndex],range.startColumn-1,range.endColumn-1);return;}this._lineTokens[firstLineIndex]=ContiguousTokensEditing.deleteEnding(this._lineTokens[firstLineIndex],range.startColumn-1);var lastLineIndex=range.endLineNumber-1;var lastLineTokens=null;if(lastLineIndex<this._len){lastLineTokens=ContiguousTokensEditing.deleteBeginning(this._lineTokens[lastLineIndex],range.endColumn-1);}// Take remaining text on last line and append it to remaining text on first line
this._lineTokens[firstLineIndex]=ContiguousTokensEditing.append(this._lineTokens[firstLineIndex],lastLineTokens);// Delete middle lines
this._deleteLines(range.startLineNumber,range.endLineNumber-range.startLineNumber);}},{key:"_acceptInsertText",value:function _acceptInsertText(position,eolCount,firstLineLength){if(eolCount===0&&firstLineLength===0){// Nothing to insert
return;}var lineIndex=position.lineNumber-1;if(lineIndex>=this._len){return;}if(eolCount===0){// Inserting text on one line
this._lineTokens[lineIndex]=ContiguousTokensEditing.insert(this._lineTokens[lineIndex],position.column-1,firstLineLength);return;}this._lineTokens[lineIndex]=ContiguousTokensEditing.deleteEnding(this._lineTokens[lineIndex],position.column-1);this._lineTokens[lineIndex]=ContiguousTokensEditing.insert(this._lineTokens[lineIndex],position.column-1,firstLineLength);this._insertLines(position.lineNumber,eolCount);}}],[{key:"_massageTokens",value:function _massageTokens(topLevelLanguageId,lineTextLength,_tokens){var tokens=_tokens?toUint32Array(_tokens):null;if(lineTextLength===0){var hasDifferentLanguageId=false;if(tokens&&tokens.length>1){hasDifferentLanguageId=languages/* TokenMetadata.getLanguageId */.NX.getLanguageId(tokens[1])!==topLevelLanguageId;}if(!hasDifferentLanguageId){return EMPTY_LINE_TOKENS;}}if(!tokens||tokens.length===0){var _tokens2=new Uint32Array(2);_tokens2[0]=lineTextLength;_tokens2[1]=getDefaultMetadata(topLevelLanguageId);return _tokens2.buffer;}// Ensure the last token covers the end of the text
tokens[tokens.length-2]=lineTextLength;if(tokens.byteOffset===0&&tokens.byteLength===tokens.buffer.byteLength){// Store directly the ArrayBuffer pointer to save an object
return tokens.buffer;}return tokens;}},{key:"_equals",value:function _equals(_a,_b){if(!_a||!_b){return!_a&&!_b;}var a=toUint32Array(_a);var b=toUint32Array(_b);if(a.length!==b.length){return false;}for(var i=0,len=a.length;i<len;i++){if(a[i]!==b[i]){return false;}}return true;}}]);return ContiguousTokensStore;}();function getDefaultMetadata(topLevelLanguageId){return(topLevelLanguageId<<0/* LANGUAGEID_OFFSET */|0/* Other */<<8/* TOKEN_TYPE_OFFSET */|0/* None */<<10/* FONT_STYLE_OFFSET */|1/* DefaultForeground */<<14/* FOREGROUND_OFFSET */|2/* DefaultBackground */<<23/* BACKGROUND_OFFSET */)>>>0;}

/***/ }),

/***/ 83817:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ LineTokens)
/* harmony export */ });
/* harmony import */ var _languages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98480);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var LineTokens=/*#__PURE__*/function(){function LineTokens(tokens,text,decoder){_classCallCheck(this,LineTokens);this._lineTokensBrand=undefined;this._tokens=tokens;this._tokensCount=this._tokens.length>>>1;this._text=text;this._languageIdCodec=decoder;}_createClass(LineTokens,[{key:"equals",value:function equals(other){if(other instanceof LineTokens){return this.slicedEquals(other,0,this._tokensCount);}return false;}},{key:"slicedEquals",value:function slicedEquals(other,sliceFromTokenIndex,sliceTokenCount){if(this._text!==other._text){return false;}if(this._tokensCount!==other._tokensCount){return false;}var from=sliceFromTokenIndex<<1;var to=from+(sliceTokenCount<<1);for(var i=from;i<to;i++){if(this._tokens[i]!==other._tokens[i]){return false;}}return true;}},{key:"getLineContent",value:function getLineContent(){return this._text;}},{key:"getCount",value:function getCount(){return this._tokensCount;}},{key:"getStartOffset",value:function getStartOffset(tokenIndex){if(tokenIndex>0){return this._tokens[tokenIndex-1<<1];}return 0;}},{key:"getMetadata",value:function getMetadata(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return metadata;}},{key:"getLanguageId",value:function getLanguageId(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];var languageId=_languages_js__WEBPACK_IMPORTED_MODULE_0__/* .TokenMetadata.getLanguageId */ .NX.getLanguageId(metadata);return this._languageIdCodec.decodeLanguageId(languageId);}},{key:"getStandardTokenType",value:function getStandardTokenType(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _languages_js__WEBPACK_IMPORTED_MODULE_0__/* .TokenMetadata.getTokenType */ .NX.getTokenType(metadata);}},{key:"getForeground",value:function getForeground(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _languages_js__WEBPACK_IMPORTED_MODULE_0__/* .TokenMetadata.getForeground */ .NX.getForeground(metadata);}},{key:"getClassName",value:function getClassName(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _languages_js__WEBPACK_IMPORTED_MODULE_0__/* .TokenMetadata.getClassNameFromMetadata */ .NX.getClassNameFromMetadata(metadata);}},{key:"getInlineStyle",value:function getInlineStyle(tokenIndex,colorMap){var metadata=this._tokens[(tokenIndex<<1)+1];return _languages_js__WEBPACK_IMPORTED_MODULE_0__/* .TokenMetadata.getInlineStyleFromMetadata */ .NX.getInlineStyleFromMetadata(metadata,colorMap);}},{key:"getPresentation",value:function getPresentation(tokenIndex){var metadata=this._tokens[(tokenIndex<<1)+1];return _languages_js__WEBPACK_IMPORTED_MODULE_0__/* .TokenMetadata.getPresentationFromMetadata */ .NX.getPresentationFromMetadata(metadata);}},{key:"getEndOffset",value:function getEndOffset(tokenIndex){return this._tokens[tokenIndex<<1];}/**
     * Find the token containing offset `offset`.
     * @param offset The search offset
     * @return The index of the token containing the offset.
     */},{key:"findTokenIndexAtOffset",value:function findTokenIndexAtOffset(offset){return LineTokens.findIndexInTokensArray(this._tokens,offset);}},{key:"inflate",value:function inflate(){return this;}},{key:"sliceAndInflate",value:function sliceAndInflate(startOffset,endOffset,deltaOffset){return new SliceLineTokens(this,startOffset,endOffset,deltaOffset);}},{key:"withInserted",value:/**
     * @pure
     * @param insertTokens Must be sorted by offset.
    */function withInserted(insertTokens){if(insertTokens.length===0){return this;}var nextOriginalTokenIdx=0;var nextInsertTokenIdx=0;var text='';var newTokens=new Array();var originalEndOffset=0;while(true){var nextOriginalTokenEndOffset=nextOriginalTokenIdx<this._tokensCount?this._tokens[nextOriginalTokenIdx<<1]:-1;var nextInsertToken=nextInsertTokenIdx<insertTokens.length?insertTokens[nextInsertTokenIdx]:null;if(nextOriginalTokenEndOffset!==-1&&(nextInsertToken===null||nextOriginalTokenEndOffset<=nextInsertToken.offset)){// original token ends before next insert token
text+=this._text.substring(originalEndOffset,nextOriginalTokenEndOffset);var metadata=this._tokens[(nextOriginalTokenIdx<<1)+1];newTokens.push(text.length,metadata);nextOriginalTokenIdx++;originalEndOffset=nextOriginalTokenEndOffset;}else if(nextInsertToken){if(nextInsertToken.offset>originalEndOffset){// insert token is in the middle of the next token.
text+=this._text.substring(originalEndOffset,nextInsertToken.offset);var _metadata=this._tokens[(nextOriginalTokenIdx<<1)+1];newTokens.push(text.length,_metadata);originalEndOffset=nextInsertToken.offset;}text+=nextInsertToken.text;newTokens.push(text.length,nextInsertToken.tokenMetadata);nextInsertTokenIdx++;}else{break;}}return new LineTokens(new Uint32Array(newTokens),text,this._languageIdCodec);}}],[{key:"createEmpty",value:function createEmpty(lineContent,decoder){var defaultMetadata=LineTokens.defaultTokenMetadata;var tokens=new Uint32Array(2);tokens[0]=lineContent.length;tokens[1]=defaultMetadata;return new LineTokens(tokens,lineContent,decoder);}},{key:"convertToEndOffset",value:function convertToEndOffset(tokens,lineTextLength){var tokenCount=tokens.length>>>1;var lastTokenIndex=tokenCount-1;for(var tokenIndex=0;tokenIndex<lastTokenIndex;tokenIndex++){tokens[tokenIndex<<1]=tokens[tokenIndex+1<<1];}tokens[lastTokenIndex<<1]=lineTextLength;}},{key:"findIndexInTokensArray",value:function findIndexInTokensArray(tokens,desiredIndex){if(tokens.length<=2){return 0;}var low=0;var high=(tokens.length>>>1)-1;while(low<high){var mid=low+Math.floor((high-low)/2);var endOffset=tokens[mid<<1];if(endOffset===desiredIndex){return mid+1;}else if(endOffset<desiredIndex){low=mid+1;}else if(endOffset>desiredIndex){high=mid;}}return low;}}]);return LineTokens;}();LineTokens.defaultTokenMetadata=(0/* None */<<10/* FONT_STYLE_OFFSET */|1/* DefaultForeground */<<14/* FOREGROUND_OFFSET */|2/* DefaultBackground */<<23/* BACKGROUND_OFFSET */)>>>0;var SliceLineTokens=/*#__PURE__*/function(){function SliceLineTokens(source,startOffset,endOffset,deltaOffset){_classCallCheck(this,SliceLineTokens);this._source=source;this._startOffset=startOffset;this._endOffset=endOffset;this._deltaOffset=deltaOffset;this._firstTokenIndex=source.findTokenIndexAtOffset(startOffset);this._tokensCount=0;for(var i=this._firstTokenIndex,len=source.getCount();i<len;i++){var tokenStartOffset=source.getStartOffset(i);if(tokenStartOffset>=endOffset){break;}this._tokensCount++;}}_createClass(SliceLineTokens,[{key:"getMetadata",value:function getMetadata(tokenIndex){return this._source.getMetadata(this._firstTokenIndex+tokenIndex);}},{key:"getLanguageId",value:function getLanguageId(tokenIndex){return this._source.getLanguageId(this._firstTokenIndex+tokenIndex);}},{key:"getLineContent",value:function getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset);}},{key:"equals",value:function equals(other){if(other instanceof SliceLineTokens){return this._startOffset===other._startOffset&&this._endOffset===other._endOffset&&this._deltaOffset===other._deltaOffset&&this._source.slicedEquals(other._source,this._firstTokenIndex,this._tokensCount);}return false;}},{key:"getCount",value:function getCount(){return this._tokensCount;}},{key:"getForeground",value:function getForeground(tokenIndex){return this._source.getForeground(this._firstTokenIndex+tokenIndex);}},{key:"getEndOffset",value:function getEndOffset(tokenIndex){var tokenEndOffset=this._source.getEndOffset(this._firstTokenIndex+tokenIndex);return Math.min(this._endOffset,tokenEndOffset)-this._startOffset+this._deltaOffset;}},{key:"getClassName",value:function getClassName(tokenIndex){return this._source.getClassName(this._firstTokenIndex+tokenIndex);}},{key:"getInlineStyle",value:function getInlineStyle(tokenIndex,colorMap){return this._source.getInlineStyle(this._firstTokenIndex+tokenIndex,colorMap);}},{key:"getPresentation",value:function getPresentation(tokenIndex){return this._source.getPresentation(this._firstTokenIndex+tokenIndex);}},{key:"findTokenIndexAtOffset",value:function findTokenIndexAtOffset(offset){return this._source.findTokenIndexAtOffset(offset+this._startOffset-this._deltaOffset)-this._firstTokenIndex;}}]);return SliceLineTokens;}();

/***/ }),

/***/ 5122:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "u": () => (/* binding */ SparseTokensStore)
/* harmony export */ });
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92224);
/* harmony import */ var _lineTokens_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83817);
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Represents sparse tokens in a text model.
 */var SparseTokensStore=/*#__PURE__*/function(){function SparseTokensStore(languageIdCodec){_classCallCheck(this,SparseTokensStore);this._pieces=[];this._isComplete=false;this._languageIdCodec=languageIdCodec;}_createClass(SparseTokensStore,[{key:"flush",value:function flush(){this._pieces=[];this._isComplete=false;}},{key:"isEmpty",value:function isEmpty(){return this._pieces.length===0;}},{key:"set",value:function set(pieces,isComplete){this._pieces=pieces||[];this._isComplete=isComplete;}},{key:"setPartial",value:function setPartial(_range,pieces){// console.log(`setPartial ${_range} ${pieces.map(p => p.toString()).join(', ')}`);
var range=_range;if(pieces.length>0){var _firstRange=pieces[0].getRange();var _lastRange=pieces[pieces.length-1].getRange();if(!_firstRange||!_lastRange){return _range;}range=_range.plusRange(_firstRange).plusRange(_lastRange);}var insertPosition=null;for(var i=0,len=this._pieces.length;i<len;i++){var piece=this._pieces[i];if(piece.endLineNumber<range.startLineNumber){// this piece is before the range
continue;}if(piece.startLineNumber>range.endLineNumber){// this piece is after the range, so mark the spot before this piece
// as a good insertion position and stop looping
insertPosition=insertPosition||{index:i};break;}// this piece might intersect with the range
piece.removeTokens(range);if(piece.isEmpty()){// remove the piece if it became empty
this._pieces.splice(i,1);i--;len--;continue;}if(piece.endLineNumber<range.startLineNumber){// after removal, this piece is before the range
continue;}if(piece.startLineNumber>range.endLineNumber){// after removal, this piece is after the range
insertPosition=insertPosition||{index:i};continue;}// after removal, this piece contains the range
var _piece$split=piece.split(range),_piece$split2=_slicedToArray(_piece$split,2),a=_piece$split2[0],b=_piece$split2[1];if(a.isEmpty()){// this piece is actually after the range
insertPosition=insertPosition||{index:i};continue;}if(b.isEmpty()){// this piece is actually before the range
continue;}this._pieces.splice(i,1,a,b);i++;len++;insertPosition=insertPosition||{index:i};}insertPosition=insertPosition||{index:this._pieces.length};if(pieces.length>0){this._pieces=_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_1__/* .arrayInsert */ .Zv(this._pieces,insertPosition.index,pieces);}// console.log(`I HAVE ${this._pieces.length} pieces`);
// console.log(`${this._pieces.map(p => p.toString()).join('\n')}`);
return range;}},{key:"isComplete",value:function isComplete(){return this._isComplete;}},{key:"addSparseTokens",value:function addSparseTokens(lineNumber,aTokens){var pieces=this._pieces;if(pieces.length===0){return aTokens;}var pieceIndex=SparseTokensStore._findFirstPieceWithLine(pieces,lineNumber);var bTokens=pieces[pieceIndex].getLineTokens(lineNumber);if(!bTokens){return aTokens;}var aLen=aTokens.getCount();var bLen=bTokens.getCount();var aIndex=0;var result=[];var resultLen=0;var lastEndOffset=0;var emitToken=function emitToken(endOffset,metadata){if(endOffset===lastEndOffset){return;}lastEndOffset=endOffset;result[resultLen++]=endOffset;result[resultLen++]=metadata;};for(var bIndex=0;bIndex<bLen;bIndex++){var bStartCharacter=bTokens.getStartCharacter(bIndex);var bEndCharacter=bTokens.getEndCharacter(bIndex);var bMetadata=bTokens.getMetadata(bIndex);var bMask=((bMetadata&1/* SEMANTIC_USE_ITALIC */?1024/* ITALIC_MASK */:0)|(bMetadata&2/* SEMANTIC_USE_BOLD */?2048/* BOLD_MASK */:0)|(bMetadata&4/* SEMANTIC_USE_UNDERLINE */?4096/* UNDERLINE_MASK */:0)|(bMetadata&8/* SEMANTIC_USE_STRIKETHROUGH */?8192/* STRIKETHROUGH_MASK */:0)|(bMetadata&16/* SEMANTIC_USE_FOREGROUND */?8372224/* FOREGROUND_MASK */:0)|(bMetadata&32/* SEMANTIC_USE_BACKGROUND */?4286578688/* BACKGROUND_MASK */:0))>>>0;var aMask=~bMask>>>0;// push any token from `a` that is before `b`
while(aIndex<aLen&&aTokens.getEndOffset(aIndex)<=bStartCharacter){emitToken(aTokens.getEndOffset(aIndex),aTokens.getMetadata(aIndex));aIndex++;}// push the token from `a` if it intersects the token from `b`
if(aIndex<aLen&&aTokens.getStartOffset(aIndex)<bStartCharacter){emitToken(bStartCharacter,aTokens.getMetadata(aIndex));}// skip any tokens from `a` that are contained inside `b`
while(aIndex<aLen&&aTokens.getEndOffset(aIndex)<bEndCharacter){emitToken(aTokens.getEndOffset(aIndex),aTokens.getMetadata(aIndex)&aMask|bMetadata&bMask);aIndex++;}if(aIndex<aLen){emitToken(bEndCharacter,aTokens.getMetadata(aIndex)&aMask|bMetadata&bMask);if(aTokens.getEndOffset(aIndex)===bEndCharacter){// `a` ends exactly at the same spot as `b`!
aIndex++;}}else{var aMergeIndex=Math.min(Math.max(0,aIndex-1),aLen-1);// push the token from `b`
emitToken(bEndCharacter,aTokens.getMetadata(aMergeIndex)&aMask|bMetadata&bMask);}}// push the remaining tokens from `a`
while(aIndex<aLen){emitToken(aTokens.getEndOffset(aIndex),aTokens.getMetadata(aIndex));aIndex++;}return new _lineTokens_js__WEBPACK_IMPORTED_MODULE_0__/* .LineTokens */ .A(new Uint32Array(result),aTokens.getLineContent(),this._languageIdCodec);}},{key:"acceptEdit",value:function acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode){var _iterator=_createForOfIteratorHelper(this._pieces),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var piece=_step.value;piece.acceptEdit(range,eolCount,firstLineLength,lastLineLength,firstCharCode);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}],[{key:"_findFirstPieceWithLine",value:function _findFirstPieceWithLine(pieces,lineNumber){var low=0;var high=pieces.length-1;while(low<high){var mid=low+Math.floor((high-low)/2);if(pieces[mid].endLineNumber<lineNumber){low=mid+1;}else if(pieces[mid].startLineNumber>lineNumber){high=mid-1;}else{while(mid>low&&pieces[mid-1].startLineNumber<=lineNumber&&lineNumber<=pieces[mid-1].endLineNumber){mid--;}return mid;}}return low;}}]);return SparseTokensStore;}();

/***/ }),

/***/ 9098:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Kp": () => (/* binding */ LineDecoration),
/* harmony export */   "k": () => (/* binding */ LineDecorationsNormalizer)
/* harmony export */ });
/* unused harmony export DecorationSegment */
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41712);
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var LineDecoration=/*#__PURE__*/function(){function LineDecoration(startColumn,endColumn,className,type){_classCallCheck(this,LineDecoration);this.startColumn=startColumn;this.endColumn=endColumn;this.className=className;this.type=type;this._lineDecorationBrand=undefined;}_createClass(LineDecoration,null,[{key:"_equals",value:function _equals(a,b){return a.startColumn===b.startColumn&&a.endColumn===b.endColumn&&a.className===b.className&&a.type===b.type;}},{key:"equalsArr",value:function equalsArr(a,b){var aLen=a.length;var bLen=b.length;if(aLen!==bLen){return false;}for(var i=0;i<aLen;i++){if(!LineDecoration._equals(a[i],b[i])){return false;}}return true;}},{key:"extractWrapped",value:function extractWrapped(arr,startOffset,endOffset){if(arr.length===0){return arr;}var startColumn=startOffset+1;var endColumn=endOffset+1;var lineLength=endOffset-startOffset;var r=[];var rLength=0;var _iterator=_createForOfIteratorHelper(arr),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var dec=_step.value;if(dec.endColumn<=startColumn||dec.startColumn>=endColumn){continue;}r[rLength++]=new LineDecoration(Math.max(1,dec.startColumn-startColumn+1),Math.min(lineLength+1,dec.endColumn-startColumn+1),dec.className,dec.type);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return r;}},{key:"filter",value:function filter(lineDecorations,lineNumber,minLineColumn,maxLineColumn){if(lineDecorations.length===0){return[];}var result=[];var resultLen=0;for(var i=0,len=lineDecorations.length;i<len;i++){var d=lineDecorations[i];var range=d.range;if(range.endLineNumber<lineNumber||range.startLineNumber>lineNumber){// Ignore decorations that sit outside this line
continue;}if(range.isEmpty()&&(d.type===0/* Regular */||d.type===3/* RegularAffectingLetterSpacing */)){// Ignore empty range decorations
continue;}var startColumn=range.startLineNumber===lineNumber?range.startColumn:minLineColumn;var endColumn=range.endLineNumber===lineNumber?range.endColumn:maxLineColumn;result[resultLen++]=new LineDecoration(startColumn,endColumn,d.inlineClassName,d.type);}return result;}},{key:"_typeCompare",value:function _typeCompare(a,b){var ORDER=[2,0,1,3];return ORDER[a]-ORDER[b];}},{key:"compare",value:function compare(a,b){if(a.startColumn!==b.startColumn){return a.startColumn-b.startColumn;}if(a.endColumn!==b.endColumn){return a.endColumn-b.endColumn;}var typeCmp=LineDecoration._typeCompare(a.type,b.type);if(typeCmp!==0){return typeCmp;}if(a.className!==b.className){return a.className<b.className?-1:1;}return 0;}}]);return LineDecoration;}();var DecorationSegment=function DecorationSegment(startOffset,endOffset,className,metadata){_classCallCheck(this,DecorationSegment);this.startOffset=startOffset;this.endOffset=endOffset;this.className=className;this.metadata=metadata;};var Stack=/*#__PURE__*/function(){function Stack(){_classCallCheck(this,Stack);this.stopOffsets=[];this.classNames=[];this.metadata=[];this.count=0;}_createClass(Stack,[{key:"consumeLowerThan",value:function consumeLowerThan(maxStopOffset,nextStartOffset,result){while(this.count>0&&this.stopOffsets[0]<maxStopOffset){var i=0;// Take all equal stopping offsets
while(i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1]){i++;}// Basically we are consuming the first i + 1 elements of the stack
result.push(new DecorationSegment(nextStartOffset,this.stopOffsets[i],this.classNames.join(' '),Stack._metadata(this.metadata)));nextStartOffset=this.stopOffsets[i]+1;// Consume them
this.stopOffsets.splice(0,i+1);this.classNames.splice(0,i+1);this.metadata.splice(0,i+1);this.count-=i+1;}if(this.count>0&&nextStartOffset<maxStopOffset){result.push(new DecorationSegment(nextStartOffset,maxStopOffset-1,this.classNames.join(' '),Stack._metadata(this.metadata)));nextStartOffset=maxStopOffset;}return nextStartOffset;}},{key:"insert",value:function insert(stopOffset,className,metadata){if(this.count===0||this.stopOffsets[this.count-1]<=stopOffset){// Insert at the end
this.stopOffsets.push(stopOffset);this.classNames.push(className);this.metadata.push(metadata);}else{// Find the insertion position for `stopOffset`
for(var i=0;i<this.count;i++){if(this.stopOffsets[i]>=stopOffset){this.stopOffsets.splice(i,0,stopOffset);this.classNames.splice(i,0,className);this.metadata.splice(i,0,metadata);break;}}}this.count++;return;}}],[{key:"_metadata",value:function _metadata(metadata){var result=0;for(var i=0,len=metadata.length;i<len;i++){result|=metadata[i];}return result;}}]);return Stack;}();var LineDecorationsNormalizer=/*#__PURE__*/function(){function LineDecorationsNormalizer(){_classCallCheck(this,LineDecorationsNormalizer);}_createClass(LineDecorationsNormalizer,null,[{key:"normalize",value:/**
     * Normalize line decorations. Overlapping decorations will generate multiple segments
     */function normalize(lineContent,lineDecorations){if(lineDecorations.length===0){return[];}var result=[];var stack=new Stack();var nextStartOffset=0;for(var i=0,len=lineDecorations.length;i<len;i++){var d=lineDecorations[i];var startColumn=d.startColumn;var endColumn=d.endColumn;var className=d.className;var metadata=d.type===1/* Before */?2/* PSEUDO_BEFORE */:d.type===2/* After */?4/* PSEUDO_AFTER */:0;// If the position would end up in the middle of a high-low surrogate pair, we move it to before the pair
if(startColumn>1){var charCodeBefore=lineContent.charCodeAt(startColumn-2);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(charCodeBefore)){startColumn--;}}if(endColumn>1){var _charCodeBefore=lineContent.charCodeAt(endColumn-2);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(_charCodeBefore)){endColumn--;}}var currentStartOffset=startColumn-1;var currentEndOffset=endColumn-2;nextStartOffset=stack.consumeLowerThan(currentStartOffset,nextStartOffset,result);if(stack.count===0){nextStartOffset=currentStartOffset;}stack.insert(currentEndOffset,className,metadata);}stack.consumeLowerThan(1073741824/* MAX_SAFE_SMALL_INTEGER */,nextStartOffset,result);return result;}}]);return LineDecorationsNormalizer;}();

/***/ }),

/***/ 93140:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IJ": () => (/* binding */ RenderLineInput),
/* harmony export */   "Nd": () => (/* binding */ DomPosition),
/* harmony export */   "d1": () => (/* binding */ renderViewLine),
/* harmony export */   "tF": () => (/* binding */ renderViewLine2),
/* harmony export */   "zG": () => (/* binding */ LineRange)
/* harmony export */ });
/* unused harmony exports CharacterMapping, RenderLineOutput, RenderLineOutput2 */
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41712);
/* harmony import */ var _core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26644);
/* harmony import */ var _lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9098);
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var LinePart=/*#__PURE__*/function(){function LinePart(endIndex,type,metadata){_classCallCheck(this,LinePart);this._linePartBrand=undefined;this.endIndex=endIndex;this.type=type;this.metadata=metadata;}_createClass(LinePart,[{key:"isWhitespace",value:function isWhitespace(){return this.metadata&1/* IS_WHITESPACE_MASK */?true:false;}},{key:"isPseudoAfter",value:function isPseudoAfter(){return this.metadata&4/* PSEUDO_AFTER_MASK */?true:false;}}]);return LinePart;}();var LineRange=/*#__PURE__*/function(){function LineRange(startIndex,endIndex){_classCallCheck(this,LineRange);this.startOffset=startIndex;this.endOffset=endIndex;}_createClass(LineRange,[{key:"equals",value:function equals(otherLineRange){return this.startOffset===otherLineRange.startOffset&&this.endOffset===otherLineRange.endOffset;}}]);return LineRange;}();var RenderLineInput=/*#__PURE__*/function(){function RenderLineInput(useMonospaceOptimizations,canUseHalfwidthRightwardsArrow,lineContent,continuesWithWrappedLine,isBasicASCII,containsRTL,fauxIndentLength,lineTokens,lineDecorations,tabSize,startVisibleColumn,spaceWidth,middotWidth,wsmiddotWidth,stopRenderingLineAfter,renderWhitespace,renderControlCharacters,fontLigatures,selectionsOnLine){_classCallCheck(this,RenderLineInput);this.useMonospaceOptimizations=useMonospaceOptimizations;this.canUseHalfwidthRightwardsArrow=canUseHalfwidthRightwardsArrow;this.lineContent=lineContent;this.continuesWithWrappedLine=continuesWithWrappedLine;this.isBasicASCII=isBasicASCII;this.containsRTL=containsRTL;this.fauxIndentLength=fauxIndentLength;this.lineTokens=lineTokens;this.lineDecorations=lineDecorations.sort(_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__/* .LineDecoration.compare */ .Kp.compare);this.tabSize=tabSize;this.startVisibleColumn=startVisibleColumn;this.spaceWidth=spaceWidth;this.stopRenderingLineAfter=stopRenderingLineAfter;this.renderWhitespace=renderWhitespace==='all'?4/* All */:renderWhitespace==='boundary'?1/* Boundary */:renderWhitespace==='selection'?2/* Selection */:renderWhitespace==='trailing'?3/* Trailing */:0/* None */;this.renderControlCharacters=renderControlCharacters;this.fontLigatures=fontLigatures;this.selectionsOnLine=selectionsOnLine&&selectionsOnLine.sort(function(a,b){return a.startOffset<b.startOffset?-1:1;});var wsmiddotDiff=Math.abs(wsmiddotWidth-spaceWidth);var middotDiff=Math.abs(middotWidth-spaceWidth);if(wsmiddotDiff<middotDiff){this.renderSpaceWidth=wsmiddotWidth;this.renderSpaceCharCode=0x2E31;// U+2E31 - WORD SEPARATOR MIDDLE DOT
}else{this.renderSpaceWidth=middotWidth;this.renderSpaceCharCode=0xB7;// U+00B7 - MIDDLE DOT
}}_createClass(RenderLineInput,[{key:"sameSelection",value:function sameSelection(otherSelections){if(this.selectionsOnLine===null){return otherSelections===null;}if(otherSelections===null){return false;}if(otherSelections.length!==this.selectionsOnLine.length){return false;}for(var i=0;i<this.selectionsOnLine.length;i++){if(!this.selectionsOnLine[i].equals(otherSelections[i])){return false;}}return true;}},{key:"equals",value:function equals(other){return this.useMonospaceOptimizations===other.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===other.canUseHalfwidthRightwardsArrow&&this.lineContent===other.lineContent&&this.continuesWithWrappedLine===other.continuesWithWrappedLine&&this.isBasicASCII===other.isBasicASCII&&this.containsRTL===other.containsRTL&&this.fauxIndentLength===other.fauxIndentLength&&this.tabSize===other.tabSize&&this.startVisibleColumn===other.startVisibleColumn&&this.spaceWidth===other.spaceWidth&&this.renderSpaceWidth===other.renderSpaceWidth&&this.renderSpaceCharCode===other.renderSpaceCharCode&&this.stopRenderingLineAfter===other.stopRenderingLineAfter&&this.renderWhitespace===other.renderWhitespace&&this.renderControlCharacters===other.renderControlCharacters&&this.fontLigatures===other.fontLigatures&&_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__/* .LineDecoration.equalsArr */ .Kp.equalsArr(this.lineDecorations,other.lineDecorations)&&this.lineTokens.equals(other.lineTokens)&&this.sameSelection(other.selectionsOnLine);}}]);return RenderLineInput;}();var DomPosition=function DomPosition(partIndex,charIndex){_classCallCheck(this,DomPosition);this.partIndex=partIndex;this.charIndex=charIndex;};/**
 * Provides a both direction mapping between a line's character and its rendered position.
 */var CharacterMapping=/*#__PURE__*/function(){function CharacterMapping(length,partCount){_classCallCheck(this,CharacterMapping);this.length=length;this._data=new Uint32Array(this.length);this._absoluteOffsets=new Uint32Array(this.length);}_createClass(CharacterMapping,[{key:"setColumnInfo",value:function setColumnInfo(column,partIndex,charIndex,partAbsoluteOffset){var partData=(partIndex<<16/* PART_INDEX_OFFSET */|charIndex<<0/* CHAR_INDEX_OFFSET */)>>>0;this._data[column-1]=partData;this._absoluteOffsets[column-1]=partAbsoluteOffset+charIndex;}},{key:"getAbsoluteOffset",value:function getAbsoluteOffset(column){if(this._absoluteOffsets.length===0){// No characters on this line
return 0;}return this._absoluteOffsets[column-1];}},{key:"charOffsetToPartData",value:function charOffsetToPartData(charOffset){if(this.length===0){return 0;}if(charOffset<0){return this._data[0];}if(charOffset>=this.length){return this._data[this.length-1];}return this._data[charOffset];}},{key:"getDomPosition",value:function getDomPosition(column){var partData=this.charOffsetToPartData(column-1);var partIndex=CharacterMapping.getPartIndex(partData);var charIndex=CharacterMapping.getCharIndex(partData);return new DomPosition(partIndex,charIndex);}},{key:"getColumn",value:function getColumn(domPosition,partLength){var charOffset=this.partDataToCharOffset(domPosition.partIndex,partLength,domPosition.charIndex);return charOffset+1;}},{key:"partDataToCharOffset",value:function partDataToCharOffset(partIndex,partLength,charIndex){if(this.length===0){return 0;}var searchEntry=(partIndex<<16/* PART_INDEX_OFFSET */|charIndex<<0/* CHAR_INDEX_OFFSET */)>>>0;var min=0;var max=this.length-1;while(min+1<max){var mid=min+max>>>1;var midEntry=this._data[mid];if(midEntry===searchEntry){return mid;}else if(midEntry>searchEntry){max=mid;}else{min=mid;}}if(min===max){return min;}var minEntry=this._data[min];var maxEntry=this._data[max];if(minEntry===searchEntry){return min;}if(maxEntry===searchEntry){return max;}var minPartIndex=CharacterMapping.getPartIndex(minEntry);var minCharIndex=CharacterMapping.getCharIndex(minEntry);var maxPartIndex=CharacterMapping.getPartIndex(maxEntry);var maxCharIndex;if(minPartIndex!==maxPartIndex){// sitting between parts
maxCharIndex=partLength;}else{maxCharIndex=CharacterMapping.getCharIndex(maxEntry);}var minEntryDistance=charIndex-minCharIndex;var maxEntryDistance=maxCharIndex-charIndex;if(minEntryDistance<=maxEntryDistance){return min;}return max;}}],[{key:"getPartIndex",value:function getPartIndex(partData){return(partData&4294901760/* PART_INDEX_MASK */)>>>16/* PART_INDEX_OFFSET */;}},{key:"getCharIndex",value:function getCharIndex(partData){return(partData&65535/* CHAR_INDEX_MASK */)>>>0/* CHAR_INDEX_OFFSET */;}}]);return CharacterMapping;}();var RenderLineOutput=function RenderLineOutput(characterMapping,containsRTL,containsForeignElements){_classCallCheck(this,RenderLineOutput);this._renderLineOutputBrand=undefined;this.characterMapping=characterMapping;this.containsRTL=containsRTL;this.containsForeignElements=containsForeignElements;};function renderViewLine(input,sb){if(input.lineContent.length===0){if(input.lineDecorations.length>0){// This line is empty, but it contains inline decorations
sb.appendASCIIString("<span>");var beforeCount=0;var afterCount=0;var containsForeignElements=0/* None */;var _iterator=_createForOfIteratorHelper(input.lineDecorations),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var lineDecoration=_step.value;if(lineDecoration.type===1/* Before */||lineDecoration.type===2/* After */){sb.appendASCIIString("<span class=\"");sb.appendASCIIString(lineDecoration.className);sb.appendASCIIString("\"></span>");if(lineDecoration.type===1/* Before */){containsForeignElements|=1/* Before */;beforeCount++;}if(lineDecoration.type===2/* After */){containsForeignElements|=2/* After */;afterCount++;}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}sb.appendASCIIString("</span>");var characterMapping=new CharacterMapping(1,beforeCount+afterCount);characterMapping.setColumnInfo(1,beforeCount,0,0);return new RenderLineOutput(characterMapping,false,containsForeignElements);}// completely empty line
sb.appendASCIIString('<span><span></span></span>');return new RenderLineOutput(new CharacterMapping(0,0),false,0/* None */);}return _renderLine(resolveRenderLineInput(input),sb);}var RenderLineOutput2=function RenderLineOutput2(characterMapping,html,containsRTL,containsForeignElements){_classCallCheck(this,RenderLineOutput2);this.characterMapping=characterMapping;this.html=html;this.containsRTL=containsRTL;this.containsForeignElements=containsForeignElements;};function renderViewLine2(input){var sb=(0,_core_stringBuilder_js__WEBPACK_IMPORTED_MODULE_1__/* .createStringBuilder */ .l$)(10000);var out=renderViewLine(input,sb);return new RenderLineOutput2(out.characterMapping,sb.build(),out.containsRTL,out.containsForeignElements);}var ResolvedRenderLineInput=function ResolvedRenderLineInput(fontIsMonospace,canUseHalfwidthRightwardsArrow,lineContent,len,isOverflowing,parts,containsForeignElements,fauxIndentLength,tabSize,startVisibleColumn,containsRTL,spaceWidth,renderSpaceCharCode,renderWhitespace,renderControlCharacters){_classCallCheck(this,ResolvedRenderLineInput);this.fontIsMonospace=fontIsMonospace;this.canUseHalfwidthRightwardsArrow=canUseHalfwidthRightwardsArrow;this.lineContent=lineContent;this.len=len;this.isOverflowing=isOverflowing;this.parts=parts;this.containsForeignElements=containsForeignElements;this.fauxIndentLength=fauxIndentLength;this.tabSize=tabSize;this.startVisibleColumn=startVisibleColumn;this.containsRTL=containsRTL;this.spaceWidth=spaceWidth;this.renderSpaceCharCode=renderSpaceCharCode;this.renderWhitespace=renderWhitespace;this.renderControlCharacters=renderControlCharacters;//
};function resolveRenderLineInput(input){var lineContent=input.lineContent;var isOverflowing;var len;if(input.stopRenderingLineAfter!==-1&&input.stopRenderingLineAfter<lineContent.length){isOverflowing=true;len=input.stopRenderingLineAfter;}else{isOverflowing=false;len=lineContent.length;}var tokens=transformAndRemoveOverflowing(input.lineTokens,input.fauxIndentLength,len);if(input.renderControlCharacters&&!input.isBasicASCII){// Calling `extractControlCharacters` before adding (possibly empty) line parts
// for inline decorations. `extractControlCharacters` removes empty line parts.
tokens=extractControlCharacters(lineContent,tokens);}if(input.renderWhitespace===4/* All */||input.renderWhitespace===1/* Boundary */||input.renderWhitespace===2/* Selection */&&!!input.selectionsOnLine||input.renderWhitespace===3/* Trailing */){tokens=_applyRenderWhitespace(input,lineContent,len,tokens);}var containsForeignElements=0/* None */;if(input.lineDecorations.length>0){for(var i=0,_len=input.lineDecorations.length;i<_len;i++){var lineDecoration=input.lineDecorations[i];if(lineDecoration.type===3/* RegularAffectingLetterSpacing */){// Pretend there are foreign elements... although not 100% accurate.
containsForeignElements|=1/* Before */;}else if(lineDecoration.type===1/* Before */){containsForeignElements|=1/* Before */;}else if(lineDecoration.type===2/* After */){containsForeignElements|=2/* After */;}}tokens=_applyInlineDecorations(lineContent,len,tokens,input.lineDecorations);}if(!input.containsRTL){// We can never split RTL text, as it ruins the rendering
tokens=splitLargeTokens(lineContent,tokens,!input.isBasicASCII||input.fontLigatures);}return new ResolvedRenderLineInput(input.useMonospaceOptimizations,input.canUseHalfwidthRightwardsArrow,lineContent,len,isOverflowing,tokens,containsForeignElements,input.fauxIndentLength,input.tabSize,input.startVisibleColumn,input.containsRTL,input.spaceWidth,input.renderSpaceCharCode,input.renderWhitespace,input.renderControlCharacters);}/**
 * In the rendering phase, characters are always looped until token.endIndex.
 * Ensure that all tokens end before `len` and the last one ends precisely at `len`.
 */function transformAndRemoveOverflowing(tokens,fauxIndentLength,len){var result=[];var resultLen=0;// The faux indent part of the line should have no token type
if(fauxIndentLength>0){result[resultLen++]=new LinePart(fauxIndentLength,'',0);}for(var tokenIndex=0,tokensLen=tokens.getCount();tokenIndex<tokensLen;tokenIndex++){var endIndex=tokens.getEndOffset(tokenIndex);if(endIndex<=fauxIndentLength){// The faux indent part of the line should have no token type
continue;}var type=tokens.getClassName(tokenIndex);if(endIndex>=len){result[resultLen++]=new LinePart(len,type,0);break;}result[resultLen++]=new LinePart(endIndex,type,0);}return result;}/**
 * See https://github.com/microsoft/vscode/issues/6885.
 * It appears that having very large spans causes very slow reading of character positions.
 * So here we try to avoid that.
 */function splitLargeTokens(lineContent,tokens,onlyAtSpaces){var lastTokenEndIndex=0;var result=[];var resultLen=0;if(onlyAtSpaces){// Split only at spaces => we need to walk each character
for(var i=0,len=tokens.length;i<len;i++){var token=tokens[i];var tokenEndIndex=token.endIndex;if(lastTokenEndIndex+50/* LongToken */<tokenEndIndex){var tokenType=token.type;var tokenMetadata=token.metadata;var lastSpaceOffset=-1;var currTokenStart=lastTokenEndIndex;for(var j=lastTokenEndIndex;j<tokenEndIndex;j++){if(lineContent.charCodeAt(j)===32/* Space */){lastSpaceOffset=j;}if(lastSpaceOffset!==-1&&j-currTokenStart>=50/* LongToken */){// Split at `lastSpaceOffset` + 1
result[resultLen++]=new LinePart(lastSpaceOffset+1,tokenType,tokenMetadata);currTokenStart=lastSpaceOffset+1;lastSpaceOffset=-1;}}if(currTokenStart!==tokenEndIndex){result[resultLen++]=new LinePart(tokenEndIndex,tokenType,tokenMetadata);}}else{result[resultLen++]=token;}lastTokenEndIndex=tokenEndIndex;}}else{// Split anywhere => we don't need to walk each character
for(var _i=0,_len2=tokens.length;_i<_len2;_i++){var _token=tokens[_i];var _tokenEndIndex=_token.endIndex;var diff=_tokenEndIndex-lastTokenEndIndex;if(diff>50/* LongToken */){var _tokenType=_token.type;var _tokenMetadata=_token.metadata;var piecesCount=Math.ceil(diff/50/* LongToken */);for(var _j=1;_j<piecesCount;_j++){var pieceEndIndex=lastTokenEndIndex+_j*50/* LongToken */;result[resultLen++]=new LinePart(pieceEndIndex,_tokenType,_tokenMetadata);}result[resultLen++]=new LinePart(_tokenEndIndex,_tokenType,_tokenMetadata);}else{result[resultLen++]=_token;}lastTokenEndIndex=_tokenEndIndex;}}return result;}function isControlCharacter(charCode){if(charCode<32){return charCode!==9/* Tab */;}if(charCode===127){// DEL
return true;}if(charCode>=0x202A&&charCode<=0x202E||charCode>=0x2066&&charCode<=0x2069||charCode>=0x200E&&charCode<=0x200F||charCode===0x061C){// Unicode Directional Formatting Characters
// LRE	U+202A	LEFT-TO-RIGHT EMBEDDING
// RLE	U+202B	RIGHT-TO-LEFT EMBEDDING
// PDF	U+202C	POP DIRECTIONAL FORMATTING
// LRO	U+202D	LEFT-TO-RIGHT OVERRIDE
// RLO	U+202E	RIGHT-TO-LEFT OVERRIDE
// LRI	U+2066	LEFT-TO-RIGHT ISOLATE
// RLI	U+2067	RIGHT-TO-LEFT ISOLATE
// FSI	U+2068	FIRST STRONG ISOLATE
// PDI	U+2069	POP DIRECTIONAL ISOLATE
// LRM	U+200E	LEFT-TO-RIGHT MARK
// RLM	U+200F	RIGHT-TO-LEFT MARK
// ALM	U+061C	ARABIC LETTER MARK
return true;}return false;}function extractControlCharacters(lineContent,tokens){var result=[];var lastLinePart=new LinePart(0,'',0);var charOffset=0;var _iterator2=_createForOfIteratorHelper(tokens),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var token=_step2.value;var tokenEndIndex=token.endIndex;for(;charOffset<tokenEndIndex;charOffset++){var charCode=lineContent.charCodeAt(charOffset);if(isControlCharacter(charCode)){if(charOffset>lastLinePart.endIndex){// emit previous part if it has text
lastLinePart=new LinePart(charOffset,token.type,token.metadata);result.push(lastLinePart);}lastLinePart=new LinePart(charOffset+1,'mtkcontrol',token.metadata);result.push(lastLinePart);}}if(charOffset>lastLinePart.endIndex){// emit previous part if it has text
lastLinePart=new LinePart(tokenEndIndex,token.type,token.metadata);result.push(lastLinePart);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return result;}/**
 * Whitespace is rendered by "replacing" tokens with a special-purpose `mtkw` type that is later recognized in the rendering phase.
 * Moreover, a token is created for every visual indent because on some fonts the glyphs used for rendering whitespace (&rarr; or &middot;) do not have the same width as &nbsp;.
 * The rendering phase will generate `style="width:..."` for these tokens.
 */function _applyRenderWhitespace(input,lineContent,len,tokens){var continuesWithWrappedLine=input.continuesWithWrappedLine;var fauxIndentLength=input.fauxIndentLength;var tabSize=input.tabSize;var startVisibleColumn=input.startVisibleColumn;var useMonospaceOptimizations=input.useMonospaceOptimizations;var selections=input.selectionsOnLine;var onlyBoundary=input.renderWhitespace===1/* Boundary */;var onlyTrailing=input.renderWhitespace===3/* Trailing */;var generateLinePartForEachWhitespace=input.renderSpaceWidth!==input.spaceWidth;var result=[];var resultLen=0;var tokenIndex=0;var tokenType=tokens[tokenIndex].type;var tokenEndIndex=tokens[tokenIndex].endIndex;var tokensLength=tokens.length;var lineIsEmptyOrWhitespace=false;var firstNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .firstNonWhitespaceIndex */ .LC(lineContent);var lastNonWhitespaceIndex;if(firstNonWhitespaceIndex===-1){lineIsEmptyOrWhitespace=true;firstNonWhitespaceIndex=len;lastNonWhitespaceIndex=len;}else{lastNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .lastNonWhitespaceIndex */ .ow(lineContent);}var wasInWhitespace=false;var currentSelectionIndex=0;var currentSelection=selections&&selections[currentSelectionIndex];var tmpIndent=startVisibleColumn%tabSize;for(var charIndex=fauxIndentLength;charIndex<len;charIndex++){var chCode=lineContent.charCodeAt(charIndex);if(currentSelection&&charIndex>=currentSelection.endOffset){currentSelectionIndex++;currentSelection=selections&&selections[currentSelectionIndex];}var isInWhitespace=void 0;if(charIndex<firstNonWhitespaceIndex||charIndex>lastNonWhitespaceIndex){// in leading or trailing whitespace
isInWhitespace=true;}else if(chCode===9/* Tab */){// a tab character is rendered both in all and boundary cases
isInWhitespace=true;}else if(chCode===32/* Space */){// hit a space character
if(onlyBoundary){// rendering only boundary whitespace
if(wasInWhitespace){isInWhitespace=true;}else{var nextChCode=charIndex+1<len?lineContent.charCodeAt(charIndex+1):0/* Null */;isInWhitespace=nextChCode===32/* Space */||nextChCode===9/* Tab */;}}else{isInWhitespace=true;}}else{isInWhitespace=false;}// If rendering whitespace on selection, check that the charIndex falls within a selection
if(isInWhitespace&&selections){isInWhitespace=!!currentSelection&&currentSelection.startOffset<=charIndex&&currentSelection.endOffset>charIndex;}// If rendering only trailing whitespace, check that the charIndex points to trailing whitespace.
if(isInWhitespace&&onlyTrailing){isInWhitespace=lineIsEmptyOrWhitespace||charIndex>lastNonWhitespaceIndex;}if(wasInWhitespace){// was in whitespace token
if(!isInWhitespace||!useMonospaceOptimizations&&tmpIndent>=tabSize){// leaving whitespace token or entering a new indent
if(generateLinePartForEachWhitespace){var lastEndIndex=resultLen>0?result[resultLen-1].endIndex:fauxIndentLength;for(var i=lastEndIndex+1;i<=charIndex;i++){result[resultLen++]=new LinePart(i,'mtkw',1/* IS_WHITESPACE */);}}else{result[resultLen++]=new LinePart(charIndex,'mtkw',1/* IS_WHITESPACE */);}tmpIndent=tmpIndent%tabSize;}}else{// was in regular token
if(charIndex===tokenEndIndex||isInWhitespace&&charIndex>fauxIndentLength){result[resultLen++]=new LinePart(charIndex,tokenType,0);tmpIndent=tmpIndent%tabSize;}}if(chCode===9/* Tab */){tmpIndent=tabSize;}else if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isFullWidthCharacter */ .K7(chCode)){tmpIndent+=2;}else{tmpIndent++;}wasInWhitespace=isInWhitespace;while(charIndex===tokenEndIndex){tokenIndex++;if(tokenIndex<tokensLength){tokenType=tokens[tokenIndex].type;tokenEndIndex=tokens[tokenIndex].endIndex;}else{break;}}}var generateWhitespace=false;if(wasInWhitespace){// was in whitespace token
if(continuesWithWrappedLine&&onlyBoundary){var lastCharCode=len>0?lineContent.charCodeAt(len-1):0/* Null */;var prevCharCode=len>1?lineContent.charCodeAt(len-2):0/* Null */;var isSingleTrailingSpace=lastCharCode===32/* Space */&&prevCharCode!==32/* Space */&&prevCharCode!==9/* Tab */;if(!isSingleTrailingSpace){generateWhitespace=true;}}else{generateWhitespace=true;}}if(generateWhitespace){if(generateLinePartForEachWhitespace){var _lastEndIndex=resultLen>0?result[resultLen-1].endIndex:fauxIndentLength;for(var _i2=_lastEndIndex+1;_i2<=len;_i2++){result[resultLen++]=new LinePart(_i2,'mtkw',1/* IS_WHITESPACE */);}}else{result[resultLen++]=new LinePart(len,'mtkw',1/* IS_WHITESPACE */);}}else{result[resultLen++]=new LinePart(len,tokenType,0);}return result;}/**
 * Inline decorations are "merged" on top of tokens.
 * Special care must be taken when multiple inline decorations are at play and they overlap.
 */function _applyInlineDecorations(lineContent,len,tokens,_lineDecorations){_lineDecorations.sort(_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__/* .LineDecoration.compare */ .Kp.compare);var lineDecorations=_lineDecorations_js__WEBPACK_IMPORTED_MODULE_2__/* .LineDecorationsNormalizer.normalize */ .k.normalize(lineContent,_lineDecorations);var lineDecorationsLen=lineDecorations.length;var lineDecorationIndex=0;var result=[];var resultLen=0;var lastResultEndIndex=0;for(var tokenIndex=0,_len3=tokens.length;tokenIndex<_len3;tokenIndex++){var token=tokens[tokenIndex];var tokenEndIndex=token.endIndex;var tokenType=token.type;var tokenMetadata=token.metadata;while(lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset<tokenEndIndex){var lineDecoration=lineDecorations[lineDecorationIndex];if(lineDecoration.startOffset>lastResultEndIndex){lastResultEndIndex=lineDecoration.startOffset;result[resultLen++]=new LinePart(lastResultEndIndex,tokenType,tokenMetadata);}if(lineDecoration.endOffset+1<=tokenEndIndex){// This line decoration ends before this token ends
lastResultEndIndex=lineDecoration.endOffset+1;result[resultLen++]=new LinePart(lastResultEndIndex,tokenType+' '+lineDecoration.className,tokenMetadata|lineDecoration.metadata);lineDecorationIndex++;}else{// This line decoration continues on to the next token
lastResultEndIndex=tokenEndIndex;result[resultLen++]=new LinePart(lastResultEndIndex,tokenType+' '+lineDecoration.className,tokenMetadata|lineDecoration.metadata);break;}}if(tokenEndIndex>lastResultEndIndex){lastResultEndIndex=tokenEndIndex;result[resultLen++]=new LinePart(lastResultEndIndex,tokenType,tokenMetadata);}}var lastTokenEndIndex=tokens[tokens.length-1].endIndex;if(lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset===lastTokenEndIndex){while(lineDecorationIndex<lineDecorationsLen&&lineDecorations[lineDecorationIndex].startOffset===lastTokenEndIndex){var _lineDecoration=lineDecorations[lineDecorationIndex];result[resultLen++]=new LinePart(lastResultEndIndex,_lineDecoration.className,_lineDecoration.metadata);lineDecorationIndex++;}}return result;}/**
 * This function is on purpose not split up into multiple functions to allow runtime type inference (i.e. performance reasons).
 * Notice how all the needed data is fully resolved and passed in (i.e. no other calls).
 */function _renderLine(input,sb){var fontIsMonospace=input.fontIsMonospace;var canUseHalfwidthRightwardsArrow=input.canUseHalfwidthRightwardsArrow;var containsForeignElements=input.containsForeignElements;var lineContent=input.lineContent;var len=input.len;var isOverflowing=input.isOverflowing;var parts=input.parts;var fauxIndentLength=input.fauxIndentLength;var tabSize=input.tabSize;var startVisibleColumn=input.startVisibleColumn;var containsRTL=input.containsRTL;var spaceWidth=input.spaceWidth;var renderSpaceCharCode=input.renderSpaceCharCode;var renderWhitespace=input.renderWhitespace;var renderControlCharacters=input.renderControlCharacters;var characterMapping=new CharacterMapping(len+1,parts.length);var lastCharacterMappingDefined=false;var charIndex=0;var visibleColumn=startVisibleColumn;var charOffsetInPart=0;var partDisplacement=0;var prevPartContentCnt=0;var partAbsoluteOffset=0;if(containsRTL){sb.appendASCIIString('<span dir="ltr">');}else{sb.appendASCIIString('<span>');}for(var partIndex=0,tokensLen=parts.length;partIndex<tokensLen;partIndex++){partAbsoluteOffset+=prevPartContentCnt;var part=parts[partIndex];var partEndIndex=part.endIndex;var partType=part.type;var partRendersWhitespace=renderWhitespace!==0/* None */&&part.isWhitespace();var partRendersWhitespaceWithWidth=partRendersWhitespace&&!fontIsMonospace&&(partType==='mtkw'/*only whitespace*/||!containsForeignElements);var partIsEmptyAndHasPseudoAfter=charIndex===partEndIndex&&part.isPseudoAfter();charOffsetInPart=0;sb.appendASCIIString('<span class="');sb.appendASCIIString(partRendersWhitespaceWithWidth?'mtkz':partType);sb.appendASCII(34/* DoubleQuote */);if(partRendersWhitespace){var partContentCnt=0;{var _charIndex=charIndex;var _visibleColumn=visibleColumn;for(;_charIndex<partEndIndex;_charIndex++){var charCode=lineContent.charCodeAt(_charIndex);var charWidth=(charCode===9/* Tab */?tabSize-_visibleColumn%tabSize:1)|0;partContentCnt+=charWidth;if(_charIndex>=fauxIndentLength){_visibleColumn+=charWidth;}}}if(partRendersWhitespaceWithWidth){sb.appendASCIIString(' style="width:');sb.appendASCIIString(String(spaceWidth*partContentCnt));sb.appendASCIIString('px"');}sb.appendASCII(62/* GreaterThan */);for(;charIndex<partEndIndex;charIndex++){characterMapping.setColumnInfo(charIndex+1,partIndex-partDisplacement,charOffsetInPart,partAbsoluteOffset);partDisplacement=0;var _charCode=lineContent.charCodeAt(charIndex);var _charWidth=void 0;if(_charCode===9/* Tab */){_charWidth=tabSize-visibleColumn%tabSize|0;if(!canUseHalfwidthRightwardsArrow||_charWidth>1){sb.write1(0x2192);// RIGHTWARDS ARROW
}else{sb.write1(0xFFEB);// HALFWIDTH RIGHTWARDS ARROW
}for(var space=2;space<=_charWidth;space++){sb.write1(0xA0);// &nbsp;
}}else{// must be CharCode.Space
_charWidth=1;sb.write1(renderSpaceCharCode);// &middot; or word separator middle dot
}charOffsetInPart+=_charWidth;if(charIndex>=fauxIndentLength){visibleColumn+=_charWidth;}}prevPartContentCnt=partContentCnt;}else{var _partContentCnt=0;sb.appendASCII(62/* GreaterThan */);for(;charIndex<partEndIndex;charIndex++){characterMapping.setColumnInfo(charIndex+1,partIndex-partDisplacement,charOffsetInPart,partAbsoluteOffset);partDisplacement=0;var _charCode2=lineContent.charCodeAt(charIndex);var producedCharacters=1;var _charWidth2=1;switch(_charCode2){case 9/* Tab */:producedCharacters=tabSize-visibleColumn%tabSize;_charWidth2=producedCharacters;for(var _space=1;_space<=producedCharacters;_space++){sb.write1(0xA0);// &nbsp;
}break;case 32/* Space */:sb.write1(0xA0);// &nbsp;
break;case 60/* LessThan */:sb.appendASCIIString('&lt;');break;case 62/* GreaterThan */:sb.appendASCIIString('&gt;');break;case 38/* Ampersand */:sb.appendASCIIString('&amp;');break;case 0/* Null */:if(renderControlCharacters){// See https://unicode-table.com/en/blocks/control-pictures/
sb.write1(9216);}else{sb.appendASCIIString('&#00;');}break;case 65279/* UTF8_BOM */:case 8232/* LINE_SEPARATOR */:case 8233/* PARAGRAPH_SEPARATOR */:case 133/* NEXT_LINE */:sb.write1(0xFFFD);break;default:if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isFullWidthCharacter */ .K7(_charCode2)){_charWidth2++;}// See https://unicode-table.com/en/blocks/control-pictures/
if(renderControlCharacters&&_charCode2<32){sb.write1(9216+_charCode2);}else if(renderControlCharacters&&_charCode2===127){// DEL
sb.write1(9249);}else if(renderControlCharacters&&isControlCharacter(_charCode2)){sb.appendASCIIString('[U+');sb.appendASCIIString(to4CharHex(_charCode2));sb.appendASCIIString(']');producedCharacters=8;}else{sb.write1(_charCode2);}}charOffsetInPart+=producedCharacters;_partContentCnt+=producedCharacters;if(charIndex>=fauxIndentLength){visibleColumn+=_charWidth2;}}prevPartContentCnt=_partContentCnt;}if(partIsEmptyAndHasPseudoAfter){partDisplacement++;}else{partDisplacement=0;}if(charIndex>=len&&!lastCharacterMappingDefined&&part.isPseudoAfter()){lastCharacterMappingDefined=true;characterMapping.setColumnInfo(charIndex+1,partIndex,charOffsetInPart,partAbsoluteOffset);}sb.appendASCIIString('</span>');}if(!lastCharacterMappingDefined){// When getting client rects for the last character, we will position the
// text range at the end of the span, insteaf of at the beginning of next span
characterMapping.setColumnInfo(len+1,parts.length-1,charOffsetInPart,partAbsoluteOffset);}if(isOverflowing){sb.appendASCIIString('<span>&hellip;</span>');}sb.appendASCIIString('</span>');return new RenderLineOutput(characterMapping,containsRTL,containsForeignElements);}function to4CharHex(n){return n.toString(16).toUpperCase().padStart(4,'0');}

/***/ }),

/***/ 32177:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "x": () => (/* binding */ ViewportData)
/* harmony export */ });
/* harmony import */ var _core_range_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96844);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Contains all data needed to render at a specific viewport.
 */var ViewportData=/*#__PURE__*/function(){function ViewportData(selections,partialData,whitespaceViewportData,model){_classCallCheck(this,ViewportData);this.selections=selections;this.startLineNumber=partialData.startLineNumber|0;this.endLineNumber=partialData.endLineNumber|0;this.relativeVerticalOffset=partialData.relativeVerticalOffset;this.bigNumbersDelta=partialData.bigNumbersDelta|0;this.whitespaceViewportData=whitespaceViewportData;this._model=model;this.visibleRange=new _core_range_js__WEBPACK_IMPORTED_MODULE_0__/* .Range */ .e(partialData.startLineNumber,this._model.getLineMinColumn(partialData.startLineNumber),partialData.endLineNumber,this._model.getLineMaxColumn(partialData.endLineNumber));}_createClass(ViewportData,[{key:"getViewLineRenderingData",value:function getViewLineRenderingData(lineNumber){return this._model.getViewLineRenderingData(this.visibleRange,lineNumber);}},{key:"getDecorationsInViewport",value:function getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange);}}]);return ViewportData;}();

/***/ }),

/***/ 81108:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "E": () => (/* binding */ MinimapTokensColorTracker)
/* harmony export */ });
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19860);
/* harmony import */ var _core_rgba_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(97762);
/* harmony import */ var _languages_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(98480);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var MinimapTokensColorTracker=/*#__PURE__*/function(_Disposable){_inherits(MinimapTokensColorTracker,_Disposable);var _super=_createSuper(MinimapTokensColorTracker);function MinimapTokensColorTracker(){var _this;_classCallCheck(this,MinimapTokensColorTracker);_this=_super.call(this);_this._onDidChange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5();_this.onDidChange=_this._onDidChange.event;_this._updateColorMap();_this._register(_languages_js__WEBPACK_IMPORTED_MODULE_3__/* .TokenizationRegistry.onDidChange */ .RW.onDidChange(function(e){if(e.changedColorMap){_this._updateColorMap();}}));return _this;}_createClass(MinimapTokensColorTracker,[{key:"_updateColorMap",value:function _updateColorMap(){var colorMap=_languages_js__WEBPACK_IMPORTED_MODULE_3__/* .TokenizationRegistry.getColorMap */ .RW.getColorMap();if(!colorMap){this._colors=[_core_rgba_js__WEBPACK_IMPORTED_MODULE_2__/* .RGBA8.Empty */ .h.Empty];this._backgroundIsLight=true;return;}this._colors=[_core_rgba_js__WEBPACK_IMPORTED_MODULE_2__/* .RGBA8.Empty */ .h.Empty];for(var colorId=1;colorId<colorMap.length;colorId++){var source=colorMap[colorId].rgba;// Use a VM friendly data-type
this._colors[colorId]=new _core_rgba_js__WEBPACK_IMPORTED_MODULE_2__/* .RGBA8 */ .h(source.r,source.g,source.b,Math.round(source.a*255));}var backgroundLuminosity=colorMap[2/* DefaultBackground */].getRelativeLuminance();this._backgroundIsLight=backgroundLuminosity>=0.5;this._onDidChange.fire(undefined);}},{key:"getColor",value:function getColor(colorId){if(colorId<1||colorId>=this._colors.length){// background color (basically invisible)
colorId=2/* DefaultBackground */;}return this._colors[colorId];}},{key:"backgroundIsLight",value:function backgroundIsLight(){return this._backgroundIsLight;}}],[{key:"getInstance",value:function getInstance(){if(!this._INSTANCE){this._INSTANCE=(0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .markAsSingleton */ .dk)(new MinimapTokensColorTracker());}return this._INSTANCE;}}]);return MinimapTokensColorTracker;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);MinimapTokensColorTracker._INSTANCE=null;

/***/ }),

/***/ 24619:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "gD": () => (/* binding */ ModelLineProjectionData)
/* harmony export */ });
/* unused harmony exports InjectedText, OutputPosition */
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(918);
/* harmony import */ var _core_position_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60721);
/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16227);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * *input*:
 * ```
 * xxxxxxxxxxxxxxxxxxxxxxxxxxx
 * ```
 *
 * -> Applying injections `[i...i]`, *inputWithInjections*:
 * ```
 * xxxxxx[iiiiiiiiii]xxxxxxxxxxxxxxxxx[ii]xxxx
 * ```
 *
 * -> breaking at offsets `|` in `xxxxxx[iiiiiii|iii]xxxxxxxxxxx|xxxxxx[ii]xxxx|`:
 * ```
 * xxxxxx[iiiiiii
 * iii]xxxxxxxxxxx
 * xxxxxx[ii]xxxx
 * ```
 *
 * -> applying wrappedTextIndentLength, *output*:
 * ```
 * xxxxxx[iiiiiii
 *    iii]xxxxxxxxxxx
 *    xxxxxx[ii]xxxx
 * ```
 */var ModelLineProjectionData=/*#__PURE__*/function(){function ModelLineProjectionData(injectionOffsets,/**
     * `injectionOptions.length` must equal `injectionOffsets.length`
     */injectionOptions,/**
     * Refers to offsets after applying injections to the source.
     * The last break offset indicates the length of the source after applying injections.
     */breakOffsets,/**
     * Refers to offsets after applying injections
     */breakOffsetsVisibleColumn,wrappedTextIndentLength){_classCallCheck(this,ModelLineProjectionData);this.injectionOffsets=injectionOffsets;this.injectionOptions=injectionOptions;this.breakOffsets=breakOffsets;this.breakOffsetsVisibleColumn=breakOffsetsVisibleColumn;this.wrappedTextIndentLength=wrappedTextIndentLength;}_createClass(ModelLineProjectionData,[{key:"getOutputLineCount",value:function getOutputLineCount(){return this.breakOffsets.length;}},{key:"getMinOutputOffset",value:function getMinOutputOffset(outputLineIndex){if(outputLineIndex>0){return this.wrappedTextIndentLength;}return 0;}},{key:"getLineLength",value:function getLineLength(outputLineIndex){// These offsets refer to model text with injected text.
var startOffset=outputLineIndex>0?this.breakOffsets[outputLineIndex-1]:0;var endOffset=this.breakOffsets[outputLineIndex];var lineLength=endOffset-startOffset;if(outputLineIndex>0){lineLength+=this.wrappedTextIndentLength;}return lineLength;}},{key:"getMaxOutputOffset",value:function getMaxOutputOffset(outputLineIndex){return this.getLineLength(outputLineIndex);}},{key:"translateToInputOffset",value:function translateToInputOffset(outputLineIndex,outputOffset){if(outputLineIndex>0){outputOffset=Math.max(0,outputOffset-this.wrappedTextIndentLength);}var offsetInInputWithInjection=outputLineIndex===0?outputOffset:this.breakOffsets[outputLineIndex-1]+outputOffset;var offsetInInput=offsetInInputWithInjection;if(this.injectionOffsets!==null){for(var i=0;i<this.injectionOffsets.length;i++){if(offsetInInput>this.injectionOffsets[i]){if(offsetInInput<this.injectionOffsets[i]+this.injectionOptions[i].content.length){// `inputOffset` is within injected text
offsetInInput=this.injectionOffsets[i];}else{offsetInInput-=this.injectionOptions[i].content.length;}}else{break;}}}return offsetInInput;}},{key:"translateToOutputPosition",value:function translateToOutputPosition(inputOffset)/* None */{var affinity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var inputOffsetInInputWithInjection=inputOffset;if(this.injectionOffsets!==null){for(var i=0;i<this.injectionOffsets.length;i++){if(inputOffset<this.injectionOffsets[i]){break;}if(affinity!==1/* Right */&&inputOffset===this.injectionOffsets[i]){break;}inputOffsetInInputWithInjection+=this.injectionOptions[i].content.length;}}return this.offsetInInputWithInjectionsToOutputPosition(inputOffsetInInputWithInjection,affinity);}},{key:"offsetInInputWithInjectionsToOutputPosition",value:function offsetInInputWithInjectionsToOutputPosition(offsetInInputWithInjections)/* None */{var affinity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var low=0;var high=this.breakOffsets.length-1;var mid=0;var midStart=0;while(low<=high){mid=low+(high-low)/2|0;var midStop=this.breakOffsets[mid];midStart=mid>0?this.breakOffsets[mid-1]:0;if(affinity===0/* Left */){if(offsetInInputWithInjections<=midStart){high=mid-1;}else if(offsetInInputWithInjections>midStop){low=mid+1;}else{break;}}else{if(offsetInInputWithInjections<midStart){high=mid-1;}else if(offsetInInputWithInjections>=midStop){low=mid+1;}else{break;}}}var outputOffset=offsetInInputWithInjections-midStart;if(mid>0){outputOffset+=this.wrappedTextIndentLength;}return new OutputPosition(mid,outputOffset);}},{key:"normalizeOutputPosition",value:function normalizeOutputPosition(outputLineIndex,outputOffset,affinity){if(this.injectionOffsets!==null){var offsetInInputWithInjections=this.outputPositionToOffsetInInputWithInjections(outputLineIndex,outputOffset);var normalizedOffsetInUnwrappedLine=this.normalizeOffsetInInputWithInjectionsAroundInjections(offsetInInputWithInjections,affinity);if(normalizedOffsetInUnwrappedLine!==offsetInInputWithInjections){// injected text caused a change
return this.offsetInInputWithInjectionsToOutputPosition(normalizedOffsetInUnwrappedLine,affinity);}}if(affinity===0/* Left */){if(outputLineIndex>0&&outputOffset===this.getMinOutputOffset(outputLineIndex)){return new OutputPosition(outputLineIndex-1,this.getMaxOutputOffset(outputLineIndex-1));}}else if(affinity===1/* Right */){var maxOutputLineIndex=this.getOutputLineCount()-1;if(outputLineIndex<maxOutputLineIndex&&outputOffset===this.getMaxOutputOffset(outputLineIndex)){return new OutputPosition(outputLineIndex+1,this.getMinOutputOffset(outputLineIndex+1));}}return new OutputPosition(outputLineIndex,outputOffset);}},{key:"outputPositionToOffsetInInputWithInjections",value:function outputPositionToOffsetInInputWithInjections(outputLineIndex,outputOffset){if(outputLineIndex>0){outputOffset=Math.max(0,outputOffset-this.wrappedTextIndentLength);}var result=(outputLineIndex>0?this.breakOffsets[outputLineIndex-1]:0)+outputOffset;return result;}},{key:"normalizeOffsetInInputWithInjectionsAroundInjections",value:function normalizeOffsetInInputWithInjectionsAroundInjections(offsetInInputWithInjections,affinity){var injectedText=this.getInjectedTextAtOffset(offsetInInputWithInjections);if(!injectedText){return offsetInInputWithInjections;}if(affinity===2/* None */){if(offsetInInputWithInjections===injectedText.offsetInInputWithInjections+injectedText.length&&hasRightCursorStop(this.injectionOptions[injectedText.injectedTextIndex].cursorStops)){return injectedText.offsetInInputWithInjections+injectedText.length;}else{var result=injectedText.offsetInInputWithInjections;if(hasLeftCursorStop(this.injectionOptions[injectedText.injectedTextIndex].cursorStops)){return result;}var index=injectedText.injectedTextIndex-1;while(index>=0&&this.injectionOffsets[index]===this.injectionOffsets[injectedText.injectedTextIndex]){if(hasRightCursorStop(this.injectionOptions[index].cursorStops)){break;}result-=this.injectionOptions[index].content.length;if(hasLeftCursorStop(this.injectionOptions[index].cursorStops)){break;}index--;}return result;}}else if(affinity===1/* Right */){var _result=injectedText.offsetInInputWithInjections+injectedText.length;var _index=injectedText.injectedTextIndex;// traverse all injected text that touch each other
while(_index+1<this.injectionOffsets.length&&this.injectionOffsets[_index+1]===this.injectionOffsets[_index]){_result+=this.injectionOptions[_index+1].content.length;_index++;}return _result;}else if(affinity===0/* Left */){// affinity is left
var _result2=injectedText.offsetInInputWithInjections;var _index2=injectedText.injectedTextIndex;// traverse all injected text that touch each other
while(_index2-1>=0&&this.injectionOffsets[_index2-1]===this.injectionOffsets[_index2]){_result2-=this.injectionOptions[_index2-1].content.length;_index2--;}return _result2;}(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_1__/* .assertNever */ .vE)(affinity);}},{key:"getInjectedText",value:function getInjectedText(outputLineIndex,outputOffset){var offset=this.outputPositionToOffsetInInputWithInjections(outputLineIndex,outputOffset);var injectedText=this.getInjectedTextAtOffset(offset);if(!injectedText){return null;}return{options:this.injectionOptions[injectedText.injectedTextIndex]};}},{key:"getInjectedTextAtOffset",value:function getInjectedTextAtOffset(offsetInInputWithInjections){var injectionOffsets=this.injectionOffsets;var injectionOptions=this.injectionOptions;if(injectionOffsets!==null){var totalInjectedTextLengthBefore=0;for(var i=0;i<injectionOffsets.length;i++){var length=injectionOptions[i].content.length;var injectedTextStartOffsetInInputWithInjections=injectionOffsets[i]+totalInjectedTextLengthBefore;var injectedTextEndOffsetInInputWithInjections=injectionOffsets[i]+totalInjectedTextLengthBefore+length;if(injectedTextStartOffsetInInputWithInjections>offsetInInputWithInjections){// Injected text starts later.
break;// All later injected texts have an even larger offset.
}if(offsetInInputWithInjections<=injectedTextEndOffsetInInputWithInjections){// Injected text ends after or with the given position (but also starts with or before it).
return{injectedTextIndex:i,offsetInInputWithInjections:injectedTextStartOffsetInInputWithInjections,length:length};}totalInjectedTextLengthBefore+=length;}}return undefined;}}]);return ModelLineProjectionData;}();function hasRightCursorStop(cursorStop){if(cursorStop===null||cursorStop===undefined){return true;}return cursorStop===_model_js__WEBPACK_IMPORTED_MODULE_0__/* .InjectedTextCursorStops.Right */ .RM.Right||cursorStop===_model_js__WEBPACK_IMPORTED_MODULE_0__/* .InjectedTextCursorStops.Both */ .RM.Both;}function hasLeftCursorStop(cursorStop){if(cursorStop===null||cursorStop===undefined){return true;}return cursorStop===_model_js__WEBPACK_IMPORTED_MODULE_0__/* .InjectedTextCursorStops.Left */ .RM.Left||cursorStop===_model_js__WEBPACK_IMPORTED_MODULE_0__/* .InjectedTextCursorStops.Both */ .RM.Both;}var InjectedText=function InjectedText(options){_classCallCheck(this,InjectedText);this.options=options;};var OutputPosition=/*#__PURE__*/function(){function OutputPosition(outputLineIndex,outputOffset){_classCallCheck(this,OutputPosition);this.outputLineIndex=outputLineIndex;this.outputOffset=outputOffset;}_createClass(OutputPosition,[{key:"toString",value:function toString(){return"".concat(this.outputLineIndex,":").concat(this.outputOffset);}},{key:"toPosition",value:function toPosition(baseLineNumber){return new _core_position_js__WEBPACK_IMPORTED_MODULE_2__/* .Position */ .L(baseLineNumber+this.outputLineIndex,this.outputOffset+1);}}]);return OutputPosition;}();

/***/ }),

/***/ 58399:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "p": () => (/* binding */ MonospaceLineBreaksComputerFactory)
/* harmony export */ });
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41712);
/* harmony import */ var _core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(97573);
/* harmony import */ var _textModelEvents_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59311);
/* harmony import */ var _modelLineProjectionData_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24619);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var MonospaceLineBreaksComputerFactory=/*#__PURE__*/function(){function MonospaceLineBreaksComputerFactory(breakBeforeChars,breakAfterChars){_classCallCheck(this,MonospaceLineBreaksComputerFactory);this.classifier=new WrappingCharacterClassifier(breakBeforeChars,breakAfterChars);}_createClass(MonospaceLineBreaksComputerFactory,[{key:"createLineBreaksComputer",value:function createLineBreaksComputer(fontInfo,tabSize,wrappingColumn,wrappingIndent){var _this=this;var requests=[];var injectedTexts=[];var previousBreakingData=[];return{addRequest:function addRequest(lineText,injectedText,previousLineBreakData){requests.push(lineText);injectedTexts.push(injectedText);previousBreakingData.push(previousLineBreakData);},finalize:function finalize(){var columnsForFullWidthChar=fontInfo.typicalFullwidthCharacterWidth/fontInfo.typicalHalfwidthCharacterWidth;var result=[];for(var i=0,len=requests.length;i<len;i++){var injectedText=injectedTexts[i];var previousLineBreakData=previousBreakingData[i];if(previousLineBreakData&&!previousLineBreakData.injectionOptions&&!injectedText){result[i]=createLineBreaksFromPreviousLineBreaks(_this.classifier,previousLineBreakData,requests[i],tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent);}else{result[i]=createLineBreaks(_this.classifier,requests[i],injectedText,tabSize,wrappingColumn,columnsForFullWidthChar,wrappingIndent);}}arrPool1.length=0;arrPool2.length=0;return result;}};}}],[{key:"create",value:function create(options){return new MonospaceLineBreaksComputerFactory(options.get(120/* wordWrapBreakBeforeCharacters */),options.get(119/* wordWrapBreakAfterCharacters */));}}]);return MonospaceLineBreaksComputerFactory;}();var WrappingCharacterClassifier=/*#__PURE__*/function(_CharacterClassifier){_inherits(WrappingCharacterClassifier,_CharacterClassifier);var _super=_createSuper(WrappingCharacterClassifier);function WrappingCharacterClassifier(BREAK_BEFORE,BREAK_AFTER){var _this2;_classCallCheck(this,WrappingCharacterClassifier);_this2=_super.call(this,0/* NONE */);for(var i=0;i<BREAK_BEFORE.length;i++){_this2.set(BREAK_BEFORE.charCodeAt(i),1/* BREAK_BEFORE */);}for(var _i=0;_i<BREAK_AFTER.length;_i++){_this2.set(BREAK_AFTER.charCodeAt(_i),2/* BREAK_AFTER */);}return _this2;}_createClass(WrappingCharacterClassifier,[{key:"get",value:function get(charCode){if(charCode>=0&&charCode<256){return this._asciiMap[charCode];}else{// Initialize CharacterClass.BREAK_IDEOGRAPHIC for these Unicode ranges:
// 1. CJK Unified Ideographs (0x4E00 -- 0x9FFF)
// 2. CJK Unified Ideographs Extension A (0x3400 -- 0x4DBF)
// 3. Hiragana and Katakana (0x3040 -- 0x30FF)
if(charCode>=0x3040&&charCode<=0x30FF||charCode>=0x3400&&charCode<=0x4DBF||charCode>=0x4E00&&charCode<=0x9FFF){return 3/* BREAK_IDEOGRAPHIC */;}return this._map.get(charCode)||this._defaultValue;}}}]);return WrappingCharacterClassifier;}(_core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_2__/* .CharacterClassifier */ .N);var arrPool1=[];var arrPool2=[];function createLineBreaksFromPreviousLineBreaks(classifier,previousBreakingData,lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent){if(firstLineBreakColumn===-1){return null;}var len=lineText.length;if(len<=1){return null;}var prevBreakingOffsets=previousBreakingData.breakOffsets;var prevBreakingOffsetsVisibleColumn=previousBreakingData.breakOffsetsVisibleColumn;var wrappedTextIndentLength=computeWrappedTextIndentLength(lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent);var wrappedLineBreakColumn=firstLineBreakColumn-wrappedTextIndentLength;var breakingOffsets=arrPool1;var breakingOffsetsVisibleColumn=arrPool2;var breakingOffsetsCount=0;var lastBreakingOffset=0;var lastBreakingOffsetVisibleColumn=0;var breakingColumn=firstLineBreakColumn;var prevLen=prevBreakingOffsets.length;var prevIndex=0;if(prevIndex>=0){var bestDistance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex]-breakingColumn);while(prevIndex+1<prevLen){var distance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex+1]-breakingColumn);if(distance>=bestDistance){break;}bestDistance=distance;prevIndex++;}}while(prevIndex<prevLen){// Allow for prevIndex to be -1 (for the case where we hit a tab when walking backwards from the first break)
var prevBreakOffset=prevIndex<0?0:prevBreakingOffsets[prevIndex];var prevBreakOffsetVisibleColumn=prevIndex<0?0:prevBreakingOffsetsVisibleColumn[prevIndex];if(lastBreakingOffset>prevBreakOffset){prevBreakOffset=lastBreakingOffset;prevBreakOffsetVisibleColumn=lastBreakingOffsetVisibleColumn;}var breakOffset=0;var breakOffsetVisibleColumn=0;var forcedBreakOffset=0;var forcedBreakOffsetVisibleColumn=0;// initially, we search as much as possible to the right (if it fits)
if(prevBreakOffsetVisibleColumn<=breakingColumn){var visibleColumn=prevBreakOffsetVisibleColumn;var prevCharCode=prevBreakOffset===0?0/* Null */:lineText.charCodeAt(prevBreakOffset-1);var prevCharCodeClass=prevBreakOffset===0?0/* NONE */:classifier.get(prevCharCode);var entireLineFits=true;for(var i=prevBreakOffset;i<len;i++){var charStartOffset=i;var charCode=lineText.charCodeAt(i);var charCodeClass=void 0;var charWidth=void 0;if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(charCode)){// A surrogate pair must always be considered as a single unit, so it is never to be broken
i++;charCodeClass=0/* NONE */;charWidth=2;}else{charCodeClass=classifier.get(charCode);charWidth=computeCharWidth(charCode,visibleColumn,tabSize,columnsForFullWidthChar);}if(charStartOffset>lastBreakingOffset&&canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass)){breakOffset=charStartOffset;breakOffsetVisibleColumn=visibleColumn;}visibleColumn+=charWidth;// check if adding character at `i` will go over the breaking column
if(visibleColumn>breakingColumn){// We need to break at least before character at `i`:
if(charStartOffset>lastBreakingOffset){forcedBreakOffset=charStartOffset;forcedBreakOffsetVisibleColumn=visibleColumn-charWidth;}else{// we need to advance at least by one character
forcedBreakOffset=i+1;forcedBreakOffsetVisibleColumn=visibleColumn;}if(visibleColumn-breakOffsetVisibleColumn>wrappedLineBreakColumn){// Cannot break at `breakOffset` => reset it if it was set
breakOffset=0;}entireLineFits=false;break;}prevCharCode=charCode;prevCharCodeClass=charCodeClass;}if(entireLineFits){// there is no more need to break => stop the outer loop!
if(breakingOffsetsCount>0){// Add last segment, no need to assign to `lastBreakingOffset` and `lastBreakingOffsetVisibleColumn`
breakingOffsets[breakingOffsetsCount]=prevBreakingOffsets[prevBreakingOffsets.length-1];breakingOffsetsVisibleColumn[breakingOffsetsCount]=prevBreakingOffsetsVisibleColumn[prevBreakingOffsets.length-1];breakingOffsetsCount++;}break;}}if(breakOffset===0){// must search left
var _visibleColumn=prevBreakOffsetVisibleColumn;var _charCode=lineText.charCodeAt(prevBreakOffset);var _charCodeClass=classifier.get(_charCode);var hitATabCharacter=false;for(var _i2=prevBreakOffset-1;_i2>=lastBreakingOffset;_i2--){var _charStartOffset=_i2+1;var _prevCharCode=lineText.charCodeAt(_i2);if(_prevCharCode===9/* Tab */){// cannot determine the width of a tab when going backwards, so we must go forwards
hitATabCharacter=true;break;}var _prevCharCodeClass=void 0;var prevCharWidth=void 0;if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isLowSurrogate */ .YK(_prevCharCode)){// A surrogate pair must always be considered as a single unit, so it is never to be broken
_i2--;_prevCharCodeClass=0/* NONE */;prevCharWidth=2;}else{_prevCharCodeClass=classifier.get(_prevCharCode);prevCharWidth=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isFullWidthCharacter */ .K7(_prevCharCode)?columnsForFullWidthChar:1;}if(_visibleColumn<=breakingColumn){if(forcedBreakOffset===0){forcedBreakOffset=_charStartOffset;forcedBreakOffsetVisibleColumn=_visibleColumn;}if(_visibleColumn<=breakingColumn-wrappedLineBreakColumn){// went too far!
break;}if(canBreak(_prevCharCode,_prevCharCodeClass,_charCode,_charCodeClass)){breakOffset=_charStartOffset;breakOffsetVisibleColumn=_visibleColumn;break;}}_visibleColumn-=prevCharWidth;_charCode=_prevCharCode;_charCodeClass=_prevCharCodeClass;}if(breakOffset!==0){var remainingWidthOfNextLine=wrappedLineBreakColumn-(forcedBreakOffsetVisibleColumn-breakOffsetVisibleColumn);if(remainingWidthOfNextLine<=tabSize){var charCodeAtForcedBreakOffset=lineText.charCodeAt(forcedBreakOffset);var _charWidth=void 0;if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(charCodeAtForcedBreakOffset)){// A surrogate pair must always be considered as a single unit, so it is never to be broken
_charWidth=2;}else{_charWidth=computeCharWidth(charCodeAtForcedBreakOffset,forcedBreakOffsetVisibleColumn,tabSize,columnsForFullWidthChar);}if(remainingWidthOfNextLine-_charWidth<0){// it is not worth it to break at breakOffset, it just introduces an extra needless line!
breakOffset=0;}}}if(hitATabCharacter){// cannot determine the width of a tab when going backwards, so we must go forwards from the previous break
prevIndex--;continue;}}if(breakOffset===0){// Could not find a good breaking point
breakOffset=forcedBreakOffset;breakOffsetVisibleColumn=forcedBreakOffsetVisibleColumn;}if(breakOffset<=lastBreakingOffset){// Make sure that we are advancing (at least one character)
var _charCode2=lineText.charCodeAt(lastBreakingOffset);if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(_charCode2)){// A surrogate pair must always be considered as a single unit, so it is never to be broken
breakOffset=lastBreakingOffset+2;breakOffsetVisibleColumn=lastBreakingOffsetVisibleColumn+2;}else{breakOffset=lastBreakingOffset+1;breakOffsetVisibleColumn=lastBreakingOffsetVisibleColumn+computeCharWidth(_charCode2,lastBreakingOffsetVisibleColumn,tabSize,columnsForFullWidthChar);}}lastBreakingOffset=breakOffset;breakingOffsets[breakingOffsetsCount]=breakOffset;lastBreakingOffsetVisibleColumn=breakOffsetVisibleColumn;breakingOffsetsVisibleColumn[breakingOffsetsCount]=breakOffsetVisibleColumn;breakingOffsetsCount++;breakingColumn=breakOffsetVisibleColumn+wrappedLineBreakColumn;while(prevIndex<0||prevIndex<prevLen&&prevBreakingOffsetsVisibleColumn[prevIndex]<breakOffsetVisibleColumn){prevIndex++;}var _bestDistance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex]-breakingColumn);while(prevIndex+1<prevLen){var _distance=Math.abs(prevBreakingOffsetsVisibleColumn[prevIndex+1]-breakingColumn);if(_distance>=_bestDistance){break;}_bestDistance=_distance;prevIndex++;}}if(breakingOffsetsCount===0){return null;}// Doing here some object reuse which ends up helping a huge deal with GC pauses!
breakingOffsets.length=breakingOffsetsCount;breakingOffsetsVisibleColumn.length=breakingOffsetsCount;arrPool1=previousBreakingData.breakOffsets;arrPool2=previousBreakingData.breakOffsetsVisibleColumn;previousBreakingData.breakOffsets=breakingOffsets;previousBreakingData.breakOffsetsVisibleColumn=breakingOffsetsVisibleColumn;previousBreakingData.wrappedTextIndentLength=wrappedTextIndentLength;return previousBreakingData;}function createLineBreaks(classifier,_lineText,injectedTexts,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent){var lineText=_textModelEvents_js__WEBPACK_IMPORTED_MODULE_3__/* .LineInjectedText.applyInjectedText */ .gk.applyInjectedText(_lineText,injectedTexts);var injectionOptions;var injectionOffsets;if(injectedTexts&&injectedTexts.length>0){injectionOptions=injectedTexts.map(function(t){return t.options;});injectionOffsets=injectedTexts.map(function(text){return text.column-1;});}else{injectionOptions=null;injectionOffsets=null;}if(firstLineBreakColumn===-1){if(!injectionOptions){return null;}// creating a `LineBreakData` with an invalid `breakOffsetsVisibleColumn` is OK
// because `breakOffsetsVisibleColumn` will never be used because it contains injected text
return new _modelLineProjectionData_js__WEBPACK_IMPORTED_MODULE_1__/* .ModelLineProjectionData */ .gD(injectionOffsets,injectionOptions,[lineText.length],[],0);}var len=lineText.length;if(len<=1){if(!injectionOptions){return null;}// creating a `LineBreakData` with an invalid `breakOffsetsVisibleColumn` is OK
// because `breakOffsetsVisibleColumn` will never be used because it contains injected text
return new _modelLineProjectionData_js__WEBPACK_IMPORTED_MODULE_1__/* .ModelLineProjectionData */ .gD(injectionOffsets,injectionOptions,[lineText.length],[],0);}var wrappedTextIndentLength=computeWrappedTextIndentLength(lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent);var wrappedLineBreakColumn=firstLineBreakColumn-wrappedTextIndentLength;var breakingOffsets=[];var breakingOffsetsVisibleColumn=[];var breakingOffsetsCount=0;var breakOffset=0;var breakOffsetVisibleColumn=0;var breakingColumn=firstLineBreakColumn;var prevCharCode=lineText.charCodeAt(0);var prevCharCodeClass=classifier.get(prevCharCode);var visibleColumn=computeCharWidth(prevCharCode,0,tabSize,columnsForFullWidthChar);var startOffset=1;if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(prevCharCode)){// A surrogate pair must always be considered as a single unit, so it is never to be broken
visibleColumn+=1;prevCharCode=lineText.charCodeAt(1);prevCharCodeClass=classifier.get(prevCharCode);startOffset++;}for(var i=startOffset;i<len;i++){var charStartOffset=i;var charCode=lineText.charCodeAt(i);var charCodeClass=void 0;var charWidth=void 0;if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isHighSurrogate */ .ZG(charCode)){// A surrogate pair must always be considered as a single unit, so it is never to be broken
i++;charCodeClass=0/* NONE */;charWidth=2;}else{charCodeClass=classifier.get(charCode);charWidth=computeCharWidth(charCode,visibleColumn,tabSize,columnsForFullWidthChar);}if(canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass)){breakOffset=charStartOffset;breakOffsetVisibleColumn=visibleColumn;}visibleColumn+=charWidth;// check if adding character at `i` will go over the breaking column
if(visibleColumn>breakingColumn){// We need to break at least before character at `i`:
if(breakOffset===0||visibleColumn-breakOffsetVisibleColumn>wrappedLineBreakColumn){// Cannot break at `breakOffset`, must break at `i`
breakOffset=charStartOffset;breakOffsetVisibleColumn=visibleColumn-charWidth;}breakingOffsets[breakingOffsetsCount]=breakOffset;breakingOffsetsVisibleColumn[breakingOffsetsCount]=breakOffsetVisibleColumn;breakingOffsetsCount++;breakingColumn=breakOffsetVisibleColumn+wrappedLineBreakColumn;breakOffset=0;}prevCharCode=charCode;prevCharCodeClass=charCodeClass;}if(breakingOffsetsCount===0&&(!injectedTexts||injectedTexts.length===0)){return null;}// Add last segment
breakingOffsets[breakingOffsetsCount]=len;breakingOffsetsVisibleColumn[breakingOffsetsCount]=visibleColumn;return new _modelLineProjectionData_js__WEBPACK_IMPORTED_MODULE_1__/* .ModelLineProjectionData */ .gD(injectionOffsets,injectionOptions,breakingOffsets,breakingOffsetsVisibleColumn,wrappedTextIndentLength);}function computeCharWidth(charCode,visibleColumn,tabSize,columnsForFullWidthChar){if(charCode===9/* Tab */){return tabSize-visibleColumn%tabSize;}if(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isFullWidthCharacter */ .K7(charCode)){return columnsForFullWidthChar;}if(charCode<32){// when using `editor.renderControlCharacters`, the substitutions are often wide
return columnsForFullWidthChar;}return 1;}function tabCharacterWidth(visibleColumn,tabSize){return tabSize-visibleColumn%tabSize;}/**
 * Kinsoku Shori : Don't break after a leading character, like an open bracket
 * Kinsoku Shori : Don't break before a trailing character, like a period
 */function canBreak(prevCharCode,prevCharCodeClass,charCode,charCodeClass){return charCode!==32/* Space */&&(prevCharCodeClass===2/* BREAK_AFTER */||prevCharCodeClass===3/* BREAK_IDEOGRAPHIC */&&charCodeClass!==2/* BREAK_AFTER */||charCodeClass===1/* BREAK_BEFORE */||charCodeClass===3/* BREAK_IDEOGRAPHIC */&&prevCharCodeClass!==1/* BREAK_BEFORE */);}function computeWrappedTextIndentLength(lineText,tabSize,firstLineBreakColumn,columnsForFullWidthChar,wrappingIndent){var wrappedTextIndentLength=0;if(wrappingIndent!==0/* None */){var firstNonWhitespaceIndex=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .firstNonWhitespaceIndex */ .LC(lineText);if(firstNonWhitespaceIndex!==-1){// Track existing indent
for(var i=0;i<firstNonWhitespaceIndex;i++){var charWidth=lineText.charCodeAt(i)===9/* Tab */?tabCharacterWidth(wrappedTextIndentLength,tabSize):1;wrappedTextIndentLength+=charWidth;}// Increase indent of continuation lines, if desired
var numberOfAdditionalTabs=wrappingIndent===3/* DeepIndent */?2:wrappingIndent===2/* Indent */?1:0;for(var _i3=0;_i3<numberOfAdditionalTabs;_i3++){var _charWidth2=tabCharacterWidth(wrappedTextIndentLength,tabSize);wrappedTextIndentLength+=_charWidth2;}// Force sticking to beginning of line if no character would fit except for the indentation
if(wrappedTextIndentLength+columnsForFullWidthChar>firstLineBreakColumn){wrappedTextIndentLength=0;}}}return wrappedTextIndentLength;}

/***/ }),

/***/ 56745:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EY": () => (/* binding */ OverviewRulerZone),
/* harmony export */   "Tj": () => (/* binding */ OverviewZoneManager)
/* harmony export */ });
/* unused harmony export ColorZone */
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ColorZone=/*#__PURE__*/function(){function ColorZone(from,to,colorId){_classCallCheck(this,ColorZone);this._colorZoneBrand=undefined;this.from=from|0;this.to=to|0;this.colorId=colorId|0;}_createClass(ColorZone,null,[{key:"compare",value:function compare(a,b){if(a.colorId===b.colorId){if(a.from===b.from){return a.to-b.to;}return a.from-b.from;}return a.colorId-b.colorId;}}]);return ColorZone;}();/**
 * A zone in the overview ruler
 */var OverviewRulerZone=/*#__PURE__*/function(){function OverviewRulerZone(startLineNumber,endLineNumber,color){_classCallCheck(this,OverviewRulerZone);this._overviewRulerZoneBrand=undefined;this.startLineNumber=startLineNumber;this.endLineNumber=endLineNumber;this.color=color;this._colorZone=null;}_createClass(OverviewRulerZone,[{key:"setColorZone",value:function setColorZone(colorZone){this._colorZone=colorZone;}},{key:"getColorZones",value:function getColorZones(){return this._colorZone;}}],[{key:"compare",value:function compare(a,b){if(a.color===b.color){if(a.startLineNumber===b.startLineNumber){return a.endLineNumber-b.endLineNumber;}return a.startLineNumber-b.startLineNumber;}return a.color<b.color?-1:1;}}]);return OverviewRulerZone;}();var OverviewZoneManager=/*#__PURE__*/function(){function OverviewZoneManager(getVerticalOffsetForLine){_classCallCheck(this,OverviewZoneManager);this._getVerticalOffsetForLine=getVerticalOffsetForLine;this._zones=[];this._colorZonesInvalid=false;this._lineHeight=0;this._domWidth=0;this._domHeight=0;this._outerHeight=0;this._pixelRatio=1;this._lastAssignedId=0;this._color2Id=Object.create(null);this._id2Color=[];}_createClass(OverviewZoneManager,[{key:"getId2Color",value:function getId2Color(){return this._id2Color;}},{key:"setZones",value:function setZones(newZones){this._zones=newZones;this._zones.sort(OverviewRulerZone.compare);}},{key:"setLineHeight",value:function setLineHeight(lineHeight){if(this._lineHeight===lineHeight){return false;}this._lineHeight=lineHeight;this._colorZonesInvalid=true;return true;}},{key:"setPixelRatio",value:function setPixelRatio(pixelRatio){this._pixelRatio=pixelRatio;this._colorZonesInvalid=true;}},{key:"getDOMWidth",value:function getDOMWidth(){return this._domWidth;}},{key:"getCanvasWidth",value:function getCanvasWidth(){return this._domWidth*this._pixelRatio;}},{key:"setDOMWidth",value:function setDOMWidth(width){if(this._domWidth===width){return false;}this._domWidth=width;this._colorZonesInvalid=true;return true;}},{key:"getDOMHeight",value:function getDOMHeight(){return this._domHeight;}},{key:"getCanvasHeight",value:function getCanvasHeight(){return this._domHeight*this._pixelRatio;}},{key:"setDOMHeight",value:function setDOMHeight(height){if(this._domHeight===height){return false;}this._domHeight=height;this._colorZonesInvalid=true;return true;}},{key:"getOuterHeight",value:function getOuterHeight(){return this._outerHeight;}},{key:"setOuterHeight",value:function setOuterHeight(outerHeight){if(this._outerHeight===outerHeight){return false;}this._outerHeight=outerHeight;this._colorZonesInvalid=true;return true;}},{key:"resolveColorZones",value:function resolveColorZones(){var colorZonesInvalid=this._colorZonesInvalid;var lineHeight=Math.floor(this._lineHeight);var totalHeight=Math.floor(this.getCanvasHeight());var outerHeight=Math.floor(this._outerHeight);var heightRatio=totalHeight/outerHeight;var halfMinimumHeight=Math.floor(4/* MINIMUM_HEIGHT */*this._pixelRatio/2);var allColorZones=[];for(var i=0,len=this._zones.length;i<len;i++){var zone=this._zones[i];if(!colorZonesInvalid){var _colorZone=zone.getColorZones();if(_colorZone){allColorZones.push(_colorZone);continue;}}var y1=Math.floor(heightRatio*this._getVerticalOffsetForLine(zone.startLineNumber));var y2=Math.floor(heightRatio*(this._getVerticalOffsetForLine(zone.endLineNumber)+lineHeight));var ycenter=Math.floor((y1+y2)/2);var halfHeight=y2-ycenter;if(halfHeight<halfMinimumHeight){halfHeight=halfMinimumHeight;}if(ycenter-halfHeight<0){ycenter=halfHeight;}if(ycenter+halfHeight>totalHeight){ycenter=totalHeight-halfHeight;}var color=zone.color;var colorId=this._color2Id[color];if(!colorId){colorId=++this._lastAssignedId;this._color2Id[color]=colorId;this._id2Color[colorId]=color;}var colorZone=new ColorZone(ycenter-halfHeight,ycenter+halfHeight,colorId);zone.setColorZone(colorZone);allColorZones.push(colorZone);}this._colorZonesInvalid=false;allColorZones.sort(ColorZone.compare);return allColorZones;}}]);return OverviewZoneManager;}();

/***/ }),

/***/ 71574:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ ViewContext)
/* harmony export */ });
/* unused harmony export EditorTheme */
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var EditorTheme=/*#__PURE__*/function(){function EditorTheme(theme){_classCallCheck(this,EditorTheme);this._theme=theme;}_createClass(EditorTheme,[{key:"type",get:function get(){return this._theme.type;}},{key:"value",get:function get(){return this._theme;}},{key:"update",value:function update(theme){this._theme=theme;}},{key:"getColor",value:function getColor(color){return this._theme.getColor(color);}}]);return EditorTheme;}();var ViewContext=/*#__PURE__*/function(){function ViewContext(configuration,theme,model){_classCallCheck(this,ViewContext);this.configuration=configuration;this.theme=new EditorTheme(theme);this.model=model;this.viewLayout=model.viewLayout;}_createClass(ViewContext,[{key:"addEventHandler",value:function addEventHandler(eventHandler){this.model.addViewEventHandler(eventHandler);}},{key:"removeEventHandler",value:function removeEventHandler(eventHandler){this.model.removeViewEventHandler(eventHandler);}}]);return ViewContext;}();

/***/ }),

/***/ 61952:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ ViewEventHandler)
/* harmony export */ });
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19860);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ViewEventHandler=/*#__PURE__*/function(_Disposable){_inherits(ViewEventHandler,_Disposable);var _super=_createSuper(ViewEventHandler);function ViewEventHandler(){var _this;_classCallCheck(this,ViewEventHandler);_this=_super.call(this);_this._shouldRender=true;return _this;}_createClass(ViewEventHandler,[{key:"shouldRender",value:function shouldRender(){return this._shouldRender;}},{key:"forceShouldRender",value:function forceShouldRender(){this._shouldRender=true;}},{key:"setShouldRender",value:function setShouldRender(){this._shouldRender=true;}},{key:"onDidRender",value:function onDidRender(){this._shouldRender=false;}// --- begin event handlers
},{key:"onCompositionStart",value:function onCompositionStart(e){return false;}},{key:"onCompositionEnd",value:function onCompositionEnd(e){return false;}},{key:"onConfigurationChanged",value:function onConfigurationChanged(e){return false;}},{key:"onCursorStateChanged",value:function onCursorStateChanged(e){return false;}},{key:"onDecorationsChanged",value:function onDecorationsChanged(e){return false;}},{key:"onFlushed",value:function onFlushed(e){return false;}},{key:"onFocusChanged",value:function onFocusChanged(e){return false;}},{key:"onLanguageConfigurationChanged",value:function onLanguageConfigurationChanged(e){return false;}},{key:"onLineMappingChanged",value:function onLineMappingChanged(e){return false;}},{key:"onLinesChanged",value:function onLinesChanged(e){return false;}},{key:"onLinesDeleted",value:function onLinesDeleted(e){return false;}},{key:"onLinesInserted",value:function onLinesInserted(e){return false;}},{key:"onRevealRangeRequest",value:function onRevealRangeRequest(e){return false;}},{key:"onScrollChanged",value:function onScrollChanged(e){return false;}},{key:"onThemeChanged",value:function onThemeChanged(e){return false;}},{key:"onTokensChanged",value:function onTokensChanged(e){return false;}},{key:"onTokensColorsChanged",value:function onTokensColorsChanged(e){return false;}},{key:"onZonesChanged",value:function onZonesChanged(e){return false;}// --- end event handlers
},{key:"handleEvents",value:function handleEvents(events){var shouldRender=false;for(var i=0,len=events.length;i<len;i++){var e=events[i];switch(e.type){case 0/* ViewCompositionStart */:if(this.onCompositionStart(e)){shouldRender=true;}break;case 1/* ViewCompositionEnd */:if(this.onCompositionEnd(e)){shouldRender=true;}break;case 2/* ViewConfigurationChanged */:if(this.onConfigurationChanged(e)){shouldRender=true;}break;case 3/* ViewCursorStateChanged */:if(this.onCursorStateChanged(e)){shouldRender=true;}break;case 4/* ViewDecorationsChanged */:if(this.onDecorationsChanged(e)){shouldRender=true;}break;case 5/* ViewFlushed */:if(this.onFlushed(e)){shouldRender=true;}break;case 6/* ViewFocusChanged */:if(this.onFocusChanged(e)){shouldRender=true;}break;case 7/* ViewLanguageConfigurationChanged */:if(this.onLanguageConfigurationChanged(e)){shouldRender=true;}break;case 8/* ViewLineMappingChanged */:if(this.onLineMappingChanged(e)){shouldRender=true;}break;case 9/* ViewLinesChanged */:if(this.onLinesChanged(e)){shouldRender=true;}break;case 10/* ViewLinesDeleted */:if(this.onLinesDeleted(e)){shouldRender=true;}break;case 11/* ViewLinesInserted */:if(this.onLinesInserted(e)){shouldRender=true;}break;case 12/* ViewRevealRangeRequest */:if(this.onRevealRangeRequest(e)){shouldRender=true;}break;case 13/* ViewScrollChanged */:if(this.onScrollChanged(e)){shouldRender=true;}break;case 15/* ViewTokensChanged */:if(this.onTokensChanged(e)){shouldRender=true;}break;case 14/* ViewThemeChanged */:if(this.onThemeChanged(e)){shouldRender=true;}break;case 16/* ViewTokensColorsChanged */:if(this.onTokensColorsChanged(e)){shouldRender=true;}break;case 17/* ViewZonesChanged */:if(this.onZonesChanged(e)){shouldRender=true;}break;default:console.info('View received unknown event: ');console.info(e);}}if(shouldRender){this._shouldRender=true;}}}]);return ViewEventHandler;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__/* .Disposable */ .JT);

/***/ }),

/***/ 67153:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Ay": () => (/* binding */ ViewScrollChangedEvent),
/* harmony export */   "CL": () => (/* binding */ ViewFlushedEvent),
/* harmony export */   "H9": () => (/* binding */ ViewTokensChangedEvent),
/* harmony export */   "Hf": () => (/* binding */ ViewThemeChangedEvent),
/* harmony export */   "IN": () => (/* binding */ ViewCompositionEndEvent),
/* harmony export */   "Ic": () => (/* binding */ ViewZonesChangedEvent),
/* harmony export */   "JP": () => (/* binding */ ViewCompositionStartEvent),
/* harmony export */   "K9": () => (/* binding */ ViewLinesInsertedEvent),
/* harmony export */   "Qb": () => (/* binding */ ViewRevealRangeRequestEvent),
/* harmony export */   "SJ": () => (/* binding */ ViewFocusChangedEvent),
/* harmony export */   "_0": () => (/* binding */ ViewLanguageConfigurationEvent),
/* harmony export */   "d8": () => (/* binding */ ViewLineMappingChangedEvent),
/* harmony export */   "e$": () => (/* binding */ ViewCursorStateChangedEvent),
/* harmony export */   "il": () => (/* binding */ ViewLinesChangedEvent),
/* harmony export */   "uc": () => (/* binding */ ViewTokensColorsChangedEvent),
/* harmony export */   "vA": () => (/* binding */ ViewDecorationsChangedEvent),
/* harmony export */   "vk": () => (/* binding */ ViewLinesDeletedEvent),
/* harmony export */   "x4": () => (/* binding */ ViewConfigurationChangedEvent)
/* harmony export */ });
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ViewCompositionStartEvent=function ViewCompositionStartEvent(){_classCallCheck(this,ViewCompositionStartEvent);this.type=0/* ViewCompositionStart */;};var ViewCompositionEndEvent=function ViewCompositionEndEvent(){_classCallCheck(this,ViewCompositionEndEvent);this.type=1/* ViewCompositionEnd */;};var ViewConfigurationChangedEvent=/*#__PURE__*/function(){function ViewConfigurationChangedEvent(source){_classCallCheck(this,ViewConfigurationChangedEvent);this.type=2/* ViewConfigurationChanged */;this._source=source;}_createClass(ViewConfigurationChangedEvent,[{key:"hasChanged",value:function hasChanged(id){return this._source.hasChanged(id);}}]);return ViewConfigurationChangedEvent;}();var ViewCursorStateChangedEvent=function ViewCursorStateChangedEvent(selections,modelSelections){_classCallCheck(this,ViewCursorStateChangedEvent);this.type=3/* ViewCursorStateChanged */;this.selections=selections;this.modelSelections=modelSelections;};var ViewDecorationsChangedEvent=function ViewDecorationsChangedEvent(source){_classCallCheck(this,ViewDecorationsChangedEvent);this.type=4/* ViewDecorationsChanged */;if(source){this.affectsMinimap=source.affectsMinimap;this.affectsOverviewRuler=source.affectsOverviewRuler;}else{this.affectsMinimap=true;this.affectsOverviewRuler=true;}};var ViewFlushedEvent=function ViewFlushedEvent(){_classCallCheck(this,ViewFlushedEvent);this.type=5/* ViewFlushed */;// Nothing to do
};var ViewFocusChangedEvent=function ViewFocusChangedEvent(isFocused){_classCallCheck(this,ViewFocusChangedEvent);this.type=6/* ViewFocusChanged */;this.isFocused=isFocused;};var ViewLanguageConfigurationEvent=function ViewLanguageConfigurationEvent(){_classCallCheck(this,ViewLanguageConfigurationEvent);this.type=7/* ViewLanguageConfigurationChanged */;};var ViewLineMappingChangedEvent=function ViewLineMappingChangedEvent(){_classCallCheck(this,ViewLineMappingChangedEvent);this.type=8/* ViewLineMappingChanged */;// Nothing to do
};var ViewLinesChangedEvent=function ViewLinesChangedEvent(fromLineNumber,toLineNumber){_classCallCheck(this,ViewLinesChangedEvent);this.type=9/* ViewLinesChanged */;this.fromLineNumber=fromLineNumber;this.toLineNumber=toLineNumber;};var ViewLinesDeletedEvent=function ViewLinesDeletedEvent(fromLineNumber,toLineNumber){_classCallCheck(this,ViewLinesDeletedEvent);this.type=10/* ViewLinesDeleted */;this.fromLineNumber=fromLineNumber;this.toLineNumber=toLineNumber;};var ViewLinesInsertedEvent=function ViewLinesInsertedEvent(fromLineNumber,toLineNumber){_classCallCheck(this,ViewLinesInsertedEvent);this.type=11/* ViewLinesInserted */;this.fromLineNumber=fromLineNumber;this.toLineNumber=toLineNumber;};var ViewRevealRangeRequestEvent=function ViewRevealRangeRequestEvent(/**
     * Source of the call that caused the event.
     */source,/**
     * Reduce the revealing to a minimum (e.g. avoid scrolling if the bounding box is visible and near the viewport edge).
     */minimalReveal,/**
     * Range to be reavealed.
     */range,/**
     * Selections to be revealed.
     */selections,/**
     * The vertical reveal strategy.
     */verticalType,/**
     * If true: there should be a horizontal & vertical revealing.
     * If false: there should be just a vertical revealing.
     */revealHorizontal,/**
     * The scroll type.
     */scrollType){_classCallCheck(this,ViewRevealRangeRequestEvent);this.source=source;this.minimalReveal=minimalReveal;this.range=range;this.selections=selections;this.verticalType=verticalType;this.revealHorizontal=revealHorizontal;this.scrollType=scrollType;this.type=12/* ViewRevealRangeRequest */;};var ViewScrollChangedEvent=function ViewScrollChangedEvent(source){_classCallCheck(this,ViewScrollChangedEvent);this.type=13/* ViewScrollChanged */;this.scrollWidth=source.scrollWidth;this.scrollLeft=source.scrollLeft;this.scrollHeight=source.scrollHeight;this.scrollTop=source.scrollTop;this.scrollWidthChanged=source.scrollWidthChanged;this.scrollLeftChanged=source.scrollLeftChanged;this.scrollHeightChanged=source.scrollHeightChanged;this.scrollTopChanged=source.scrollTopChanged;};var ViewThemeChangedEvent=function ViewThemeChangedEvent(){_classCallCheck(this,ViewThemeChangedEvent);this.type=14/* ViewThemeChanged */;};var ViewTokensChangedEvent=function ViewTokensChangedEvent(ranges){_classCallCheck(this,ViewTokensChangedEvent);this.type=15/* ViewTokensChanged */;this.ranges=ranges;};var ViewTokensColorsChangedEvent=function ViewTokensColorsChangedEvent(){_classCallCheck(this,ViewTokensColorsChangedEvent);this.type=16/* ViewTokensColorsChanged */;// Nothing to do
};var ViewZonesChangedEvent=function ViewZonesChangedEvent(){_classCallCheck(this,ViewZonesChangedEvent);this.type=17/* ViewZonesChanged */;// Nothing to do
};

/***/ }),

/***/ 38258:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$l": () => (/* binding */ ViewModelDecoration),
/* harmony export */   "$t": () => (/* binding */ InlineDecoration),
/* harmony export */   "IP": () => (/* binding */ ViewLineData),
/* harmony export */   "SQ": () => (/* binding */ OverviewRulerDecorationsGroup),
/* harmony export */   "Wx": () => (/* binding */ SingleLineInlineDecoration),
/* harmony export */   "l_": () => (/* binding */ Viewport),
/* harmony export */   "ud": () => (/* binding */ MinimapLinesRenderingData),
/* harmony export */   "wA": () => (/* binding */ ViewLineRenderingData)
/* harmony export */ });
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41712);
/* harmony import */ var _core_range_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96844);
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var Viewport=function Viewport(top,left,width,height){_classCallCheck(this,Viewport);this._viewportBrand=undefined;this.top=top|0;this.left=left|0;this.width=width|0;this.height=height|0;};var MinimapLinesRenderingData=function MinimapLinesRenderingData(tabSize,data){_classCallCheck(this,MinimapLinesRenderingData);this.tabSize=tabSize;this.data=data;};var ViewLineData=function ViewLineData(content,continuesWithWrappedLine,minColumn,maxColumn,startVisibleColumn,tokens,inlineDecorations){_classCallCheck(this,ViewLineData);this._viewLineDataBrand=undefined;this.content=content;this.continuesWithWrappedLine=continuesWithWrappedLine;this.minColumn=minColumn;this.maxColumn=maxColumn;this.startVisibleColumn=startVisibleColumn;this.tokens=tokens;this.inlineDecorations=inlineDecorations;};var ViewLineRenderingData=/*#__PURE__*/function(){function ViewLineRenderingData(minColumn,maxColumn,content,continuesWithWrappedLine,mightContainRTL,mightContainNonBasicASCII,tokens,inlineDecorations,tabSize,startVisibleColumn){_classCallCheck(this,ViewLineRenderingData);this.minColumn=minColumn;this.maxColumn=maxColumn;this.content=content;this.continuesWithWrappedLine=continuesWithWrappedLine;this.isBasicASCII=ViewLineRenderingData.isBasicASCII(content,mightContainNonBasicASCII);this.containsRTL=ViewLineRenderingData.containsRTL(content,this.isBasicASCII,mightContainRTL);this.tokens=tokens;this.inlineDecorations=inlineDecorations;this.tabSize=tabSize;this.startVisibleColumn=startVisibleColumn;}_createClass(ViewLineRenderingData,null,[{key:"isBasicASCII",value:function isBasicASCII(lineContent,mightContainNonBasicASCII){if(mightContainNonBasicASCII){return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .isBasicASCII */ .$i(lineContent);}return true;}},{key:"containsRTL",value:function containsRTL(lineContent,isBasicASCII,mightContainRTL){if(!isBasicASCII&&mightContainRTL){return _base_common_strings_js__WEBPACK_IMPORTED_MODULE_0__/* .containsRTL */ .Ut(lineContent);}return false;}}]);return ViewLineRenderingData;}();var InlineDecoration=function InlineDecoration(range,inlineClassName,type){_classCallCheck(this,InlineDecoration);this.range=range;this.inlineClassName=inlineClassName;this.type=type;};var SingleLineInlineDecoration=/*#__PURE__*/function(){function SingleLineInlineDecoration(startOffset,endOffset,inlineClassName,inlineClassNameAffectsLetterSpacing){_classCallCheck(this,SingleLineInlineDecoration);this.startOffset=startOffset;this.endOffset=endOffset;this.inlineClassName=inlineClassName;this.inlineClassNameAffectsLetterSpacing=inlineClassNameAffectsLetterSpacing;}_createClass(SingleLineInlineDecoration,[{key:"toInlineDecoration",value:function toInlineDecoration(lineNumber){return new InlineDecoration(new _core_range_js__WEBPACK_IMPORTED_MODULE_1__/* .Range */ .e(lineNumber,this.startOffset+1,lineNumber,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3/* RegularAffectingLetterSpacing */:0/* Regular */);}}]);return SingleLineInlineDecoration;}();var ViewModelDecoration=function ViewModelDecoration(range,options){_classCallCheck(this,ViewModelDecoration);this._viewModelDecorationBrand=undefined;this.range=range;this.options=options;};var OverviewRulerDecorationsGroup=/*#__PURE__*/function(){function OverviewRulerDecorationsGroup(color,zIndex,/**
     * Decorations are encoded in a number array using the following scheme:
     *  - 3*i = lane
     *  - 3*i+1 = startLineNumber
     *  - 3*i+2 = endLineNumber
     */data){_classCallCheck(this,OverviewRulerDecorationsGroup);this.color=color;this.zIndex=zIndex;this.data=data;}_createClass(OverviewRulerDecorationsGroup,null,[{key:"cmp",value:function cmp(a,b){if(a.zIndex===b.zIndex){if(a.color<b.color){return-1;}if(a.color>b.color){return 1;}return 0;}return a.zIndex-b.zIndex;}}]);return OverviewRulerDecorationsGroup;}();

/***/ }),

/***/ 56843:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$t": () => (/* binding */ isModelDecorationInComment),
/* harmony export */   "CU": () => (/* binding */ ViewModelDecorations),
/* harmony export */   "Fd": () => (/* binding */ isModelDecorationVisible),
/* harmony export */   "zg": () => (/* binding */ isModelDecorationInString)
/* harmony export */ });
/* harmony import */ var _core_position_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60721);
/* harmony import */ var _core_range_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(96844);
/* harmony import */ var _viewModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(38258);
/* harmony import */ var _config_editorOptions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(72530);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ViewModelDecorations=/*#__PURE__*/function(){function ViewModelDecorations(editorId,model,configuration,linesCollection,coordinatesConverter){_classCallCheck(this,ViewModelDecorations);this.editorId=editorId;this.model=model;this.configuration=configuration;this._linesCollection=linesCollection;this._coordinatesConverter=coordinatesConverter;this._decorationsCache=Object.create(null);this._cachedModelDecorationsResolver=null;this._cachedModelDecorationsResolverViewRange=null;}_createClass(ViewModelDecorations,[{key:"_clearCachedModelDecorationsResolver",value:function _clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null;this._cachedModelDecorationsResolverViewRange=null;}},{key:"dispose",value:function dispose(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver();}},{key:"reset",value:function reset(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver();}},{key:"onModelDecorationsChanged",value:function onModelDecorationsChanged(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver();}},{key:"onLineMappingChanged",value:function onLineMappingChanged(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver();}},{key:"_getOrCreateViewModelDecoration",value:function _getOrCreateViewModelDecoration(modelDecoration){var id=modelDecoration.id;var r=this._decorationsCache[id];if(!r){var modelRange=modelDecoration.range;var options=modelDecoration.options;var viewRange;if(options.isWholeLine){var start=this._coordinatesConverter.convertModelPositionToViewPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__/* .Position */ .L(modelRange.startLineNumber,1),0/* Left */);var end=this._coordinatesConverter.convertModelPositionToViewPosition(new _core_position_js__WEBPACK_IMPORTED_MODULE_2__/* .Position */ .L(modelRange.endLineNumber,this.model.getLineMaxColumn(modelRange.endLineNumber)),1/* Right */);viewRange=new _core_range_js__WEBPACK_IMPORTED_MODULE_3__/* .Range */ .e(start.lineNumber,start.column,end.lineNumber,end.column);}else{// For backwards compatibility reasons, we want injected text before any decoration.
// Thus, move decorations to the right.
viewRange=this._coordinatesConverter.convertModelRangeToViewRange(modelRange,1/* Right */);}r=new _viewModel_js__WEBPACK_IMPORTED_MODULE_0__/* .ViewModelDecoration */ .$l(viewRange,options);this._decorationsCache[id]=r;}return r;}},{key:"getDecorationsViewportData",value:function getDecorationsViewportData(viewRange){var cacheIsValid=this._cachedModelDecorationsResolver!==null;cacheIsValid=cacheIsValid&&viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange);if(!cacheIsValid){this._cachedModelDecorationsResolver=this._getDecorationsViewportData(viewRange);this._cachedModelDecorationsResolverViewRange=viewRange;}return this._cachedModelDecorationsResolver;}},{key:"_getDecorationsViewportData",value:function _getDecorationsViewportData(viewportRange){var modelDecorations=this._linesCollection.getDecorationsInRange(viewportRange,this.editorId,(0,_config_editorOptions_js__WEBPACK_IMPORTED_MODULE_1__/* .filterValidationDecorations */ .$J)(this.configuration.options));var startLineNumber=viewportRange.startLineNumber;var endLineNumber=viewportRange.endLineNumber;var decorationsInViewport=[];var decorationsInViewportLen=0;var inlineDecorations=[];for(var j=startLineNumber;j<=endLineNumber;j++){inlineDecorations[j-startLineNumber]=[];}for(var i=0,len=modelDecorations.length;i<len;i++){var modelDecoration=modelDecorations[i];var decorationOptions=modelDecoration.options;if(!isModelDecorationVisible(this.model,modelDecoration)){continue;}var viewModelDecoration=this._getOrCreateViewModelDecoration(modelDecoration);var viewRange=viewModelDecoration.range;decorationsInViewport[decorationsInViewportLen++]=viewModelDecoration;if(decorationOptions.inlineClassName){var inlineDecoration=new _viewModel_js__WEBPACK_IMPORTED_MODULE_0__/* .InlineDecoration */ .$t(viewRange,decorationOptions.inlineClassName,decorationOptions.inlineClassNameAffectsLetterSpacing?3/* RegularAffectingLetterSpacing */:0/* Regular */);var intersectedStartLineNumber=Math.max(startLineNumber,viewRange.startLineNumber);var intersectedEndLineNumber=Math.min(endLineNumber,viewRange.endLineNumber);for(var _j=intersectedStartLineNumber;_j<=intersectedEndLineNumber;_j++){inlineDecorations[_j-startLineNumber].push(inlineDecoration);}}if(decorationOptions.beforeContentClassName){if(startLineNumber<=viewRange.startLineNumber&&viewRange.startLineNumber<=endLineNumber){var _inlineDecoration=new _viewModel_js__WEBPACK_IMPORTED_MODULE_0__/* .InlineDecoration */ .$t(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__/* .Range */ .e(viewRange.startLineNumber,viewRange.startColumn,viewRange.startLineNumber,viewRange.startColumn),decorationOptions.beforeContentClassName,1/* Before */);inlineDecorations[viewRange.startLineNumber-startLineNumber].push(_inlineDecoration);}}if(decorationOptions.afterContentClassName){if(startLineNumber<=viewRange.endLineNumber&&viewRange.endLineNumber<=endLineNumber){var _inlineDecoration2=new _viewModel_js__WEBPACK_IMPORTED_MODULE_0__/* .InlineDecoration */ .$t(new _core_range_js__WEBPACK_IMPORTED_MODULE_3__/* .Range */ .e(viewRange.endLineNumber,viewRange.endColumn,viewRange.endLineNumber,viewRange.endColumn),decorationOptions.afterContentClassName,2/* After */);inlineDecorations[viewRange.endLineNumber-startLineNumber].push(_inlineDecoration2);}}}return{decorations:decorationsInViewport,inlineDecorations:inlineDecorations};}}]);return ViewModelDecorations;}();function isModelDecorationVisible(model,decoration){if(decoration.options.hideInCommentTokens&&isModelDecorationInComment(model,decoration)){return false;}if(decoration.options.hideInStringTokens&&isModelDecorationInString(model,decoration)){return false;}return true;}function isModelDecorationInComment(model,decoration){return testTokensInRange(model,decoration.range,function(tokenType){return tokenType===1;}/* Comment */);}function isModelDecorationInString(model,decoration){return testTokensInRange(model,decoration.range,function(tokenType){return tokenType===2;}/* String */);}/**
 * Calls the callback for every token that intersects the range.
 * If the callback returns `false`, iteration stops and `false` is returned.
 * Otherwise, `true` is returned.
 */function testTokensInRange(model,range,callback){for(var lineNumber=range.startLineNumber;lineNumber<=range.endLineNumber;lineNumber++){var lineTokens=model.getLineTokens(lineNumber);var isFirstLine=lineNumber===range.startLineNumber;var isEndLine=lineNumber===range.endLineNumber;var tokenIdx=isFirstLine?lineTokens.findTokenIndexAtOffset(range.startColumn-1):0;while(tokenIdx<lineTokens.getCount()){if(isEndLine){var startOffset=lineTokens.getStartOffset(tokenIdx);if(startOffset>range.endColumn-1){break;}}var callbackResult=callback(lineTokens.getStandardTokenType(tokenIdx));if(!callbackResult){return false;}tokenIdx++;}}return true;}

/***/ }),

/***/ 51751:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "H6": () => (/* binding */ CursorStateChangedEvent),
/* harmony export */   "Ic": () => (/* binding */ ViewZonesChangedEvent),
/* harmony export */   "Ki": () => (/* binding */ ReadOnlyEditAttemptEvent),
/* harmony export */   "Pt": () => (/* binding */ ScrollChangedEvent),
/* harmony export */   "Zw": () => (/* binding */ FocusChangedEvent),
/* harmony export */   "nu": () => (/* binding */ ViewModelEventDispatcher),
/* harmony export */   "zf": () => (/* binding */ ContentSizeChangedEvent)
/* harmony export */ });
/* unused harmony exports ViewModelEventsCollector, HiddenAreasChangedEvent */
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19860);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ViewModelEventDispatcher=/*#__PURE__*/function(_Disposable){_inherits(ViewModelEventDispatcher,_Disposable);var _super=_createSuper(ViewModelEventDispatcher);function ViewModelEventDispatcher(){var _this;_classCallCheck(this,ViewModelEventDispatcher);_this=_super.call(this);_this._onEvent=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this.onEvent=_this._onEvent.event;_this._eventHandlers=[];_this._viewEventQueue=null;_this._isConsumingViewEventQueue=false;_this._collector=null;_this._collectorCnt=0;_this._outgoingEvents=[];return _this;}_createClass(ViewModelEventDispatcher,[{key:"emitOutgoingEvent",value:function emitOutgoingEvent(e){this._addOutgoingEvent(e);this._emitOutgoingEvents();}},{key:"_addOutgoingEvent",value:function _addOutgoingEvent(e){for(var i=0,len=this._outgoingEvents.length;i<len;i++){if(this._outgoingEvents[i].kind===e.kind){this._outgoingEvents[i]=this._outgoingEvents[i].merge(e);return;}}// not merged
this._outgoingEvents.push(e);}},{key:"_emitOutgoingEvents",value:function _emitOutgoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue){// right now collecting or emitting view events, so let's postpone emitting
return;}var event=this._outgoingEvents.shift();if(event.isNoOp()){continue;}this._onEvent.fire(event);}}},{key:"addViewEventHandler",value:function addViewEventHandler(eventHandler){for(var i=0,len=this._eventHandlers.length;i<len;i++){if(this._eventHandlers[i]===eventHandler){console.warn('Detected duplicate listener in ViewEventDispatcher',eventHandler);}}this._eventHandlers.push(eventHandler);}},{key:"removeViewEventHandler",value:function removeViewEventHandler(eventHandler){for(var i=0;i<this._eventHandlers.length;i++){if(this._eventHandlers[i]===eventHandler){this._eventHandlers.splice(i,1);break;}}}},{key:"beginEmitViewEvents",value:function beginEmitViewEvents(){this._collectorCnt++;if(this._collectorCnt===1){this._collector=new ViewModelEventsCollector();}return this._collector;}},{key:"endEmitViewEvents",value:function endEmitViewEvents(){this._collectorCnt--;if(this._collectorCnt===0){var outgoingEvents=this._collector.outgoingEvents;var viewEvents=this._collector.viewEvents;this._collector=null;var _iterator=_createForOfIteratorHelper(outgoingEvents),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var outgoingEvent=_step.value;this._addOutgoingEvent(outgoingEvent);}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(viewEvents.length>0){this._emitMany(viewEvents);}}this._emitOutgoingEvents();}},{key:"emitSingleViewEvent",value:function emitSingleViewEvent(event){try{var eventsCollector=this.beginEmitViewEvents();eventsCollector.emitViewEvent(event);}finally{this.endEmitViewEvents();}}},{key:"_emitMany",value:function _emitMany(events){if(this._viewEventQueue){this._viewEventQueue=this._viewEventQueue.concat(events);}else{this._viewEventQueue=events;}if(!this._isConsumingViewEventQueue){this._consumeViewEventQueue();}}},{key:"_consumeViewEventQueue",value:function _consumeViewEventQueue(){try{this._isConsumingViewEventQueue=true;this._doConsumeQueue();}finally{this._isConsumingViewEventQueue=false;}}},{key:"_doConsumeQueue",value:function _doConsumeQueue(){while(this._viewEventQueue){// Empty event queue, as events might come in while sending these off
var events=this._viewEventQueue;this._viewEventQueue=null;// Use a clone of the event handlers list, as they might remove themselves
var eventHandlers=this._eventHandlers.slice(0);var _iterator2=_createForOfIteratorHelper(eventHandlers),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var eventHandler=_step2.value;eventHandler.handleEvents(events);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}}]);return ViewModelEventDispatcher;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);var ViewModelEventsCollector=/*#__PURE__*/function(){function ViewModelEventsCollector(){_classCallCheck(this,ViewModelEventsCollector);this.viewEvents=[];this.outgoingEvents=[];}_createClass(ViewModelEventsCollector,[{key:"emitViewEvent",value:function emitViewEvent(event){this.viewEvents.push(event);}},{key:"emitOutgoingEvent",value:function emitOutgoingEvent(e){this.outgoingEvents.push(e);}}]);return ViewModelEventsCollector;}();var ContentSizeChangedEvent=/*#__PURE__*/function(){function ContentSizeChangedEvent(oldContentWidth,oldContentHeight,contentWidth,contentHeight){_classCallCheck(this,ContentSizeChangedEvent);this.kind=0/* ContentSizeChanged */;this._oldContentWidth=oldContentWidth;this._oldContentHeight=oldContentHeight;this.contentWidth=contentWidth;this.contentHeight=contentHeight;this.contentWidthChanged=this._oldContentWidth!==this.contentWidth;this.contentHeightChanged=this._oldContentHeight!==this.contentHeight;}_createClass(ContentSizeChangedEvent,[{key:"isNoOp",value:function isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged;}},{key:"merge",value:function merge(other){if(other.kind!==0/* ContentSizeChanged */){return this;}return new ContentSizeChangedEvent(this._oldContentWidth,this._oldContentHeight,other.contentWidth,other.contentHeight);}}]);return ContentSizeChangedEvent;}();var FocusChangedEvent=/*#__PURE__*/function(){function FocusChangedEvent(oldHasFocus,hasFocus){_classCallCheck(this,FocusChangedEvent);this.kind=1/* FocusChanged */;this.oldHasFocus=oldHasFocus;this.hasFocus=hasFocus;}_createClass(FocusChangedEvent,[{key:"isNoOp",value:function isNoOp(){return this.oldHasFocus===this.hasFocus;}},{key:"merge",value:function merge(other){if(other.kind!==1/* FocusChanged */){return this;}return new FocusChangedEvent(this.oldHasFocus,other.hasFocus);}}]);return FocusChangedEvent;}();var ScrollChangedEvent=/*#__PURE__*/function(){function ScrollChangedEvent(oldScrollWidth,oldScrollLeft,oldScrollHeight,oldScrollTop,scrollWidth,scrollLeft,scrollHeight,scrollTop){_classCallCheck(this,ScrollChangedEvent);this.kind=2/* ScrollChanged */;this._oldScrollWidth=oldScrollWidth;this._oldScrollLeft=oldScrollLeft;this._oldScrollHeight=oldScrollHeight;this._oldScrollTop=oldScrollTop;this.scrollWidth=scrollWidth;this.scrollLeft=scrollLeft;this.scrollHeight=scrollHeight;this.scrollTop=scrollTop;this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth;this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft;this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight;this.scrollTopChanged=this._oldScrollTop!==this.scrollTop;}_createClass(ScrollChangedEvent,[{key:"isNoOp",value:function isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged;}},{key:"merge",value:function merge(other){if(other.kind!==2/* ScrollChanged */){return this;}return new ScrollChangedEvent(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,other.scrollWidth,other.scrollLeft,other.scrollHeight,other.scrollTop);}}]);return ScrollChangedEvent;}();var ViewZonesChangedEvent=/*#__PURE__*/function(){function ViewZonesChangedEvent(){_classCallCheck(this,ViewZonesChangedEvent);this.kind=3/* ViewZonesChanged */;}_createClass(ViewZonesChangedEvent,[{key:"isNoOp",value:function isNoOp(){return false;}},{key:"merge",value:function merge(other){return this;}}]);return ViewZonesChangedEvent;}();var HiddenAreasChangedEvent=/*#__PURE__*/(/* unused pure expression or super */ null && (function(){function HiddenAreasChangedEvent(){_classCallCheck(this,HiddenAreasChangedEvent);this.kind=4/* HiddenAreasChanged */;}_createClass(HiddenAreasChangedEvent,[{key:"isNoOp",value:function isNoOp(){return false;}},{key:"merge",value:function merge(other){return this;}}]);return HiddenAreasChangedEvent;}()));var CursorStateChangedEvent=/*#__PURE__*/function(){function CursorStateChangedEvent(oldSelections,selections,oldModelVersionId,modelVersionId,source,reason,reachedMaxCursorCount){_classCallCheck(this,CursorStateChangedEvent);this.kind=6/* CursorStateChanged */;this.oldSelections=oldSelections;this.selections=selections;this.oldModelVersionId=oldModelVersionId;this.modelVersionId=modelVersionId;this.source=source;this.reason=reason;this.reachedMaxCursorCount=reachedMaxCursorCount;}_createClass(CursorStateChangedEvent,[{key:"isNoOp",value:function isNoOp(){return CursorStateChangedEvent._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId;}},{key:"merge",value:function merge(other){if(other.kind!==6/* CursorStateChanged */){return this;}return new CursorStateChangedEvent(this.oldSelections,other.selections,this.oldModelVersionId,other.modelVersionId,other.source,other.reason,this.reachedMaxCursorCount||other.reachedMaxCursorCount);}}],[{key:"_selectionsAreEqual",value:function _selectionsAreEqual(a,b){if(!a&&!b){return true;}if(!a||!b){return false;}var aLen=a.length;var bLen=b.length;if(aLen!==bLen){return false;}for(var i=0;i<aLen;i++){if(!a[i].equalsSelection(b[i])){return false;}}return true;}}]);return CursorStateChangedEvent;}();var ReadOnlyEditAttemptEvent=/*#__PURE__*/function(){function ReadOnlyEditAttemptEvent(){_classCallCheck(this,ReadOnlyEditAttemptEvent);this.kind=5/* ReadOnlyEditAttempt */;}_createClass(ReadOnlyEditAttemptEvent,[{key:"isNoOp",value:function isNoOp(){return false;}},{key:"merge",value:function merge(other){return this;}}]);return ReadOnlyEditAttemptEvent;}();

/***/ }),

/***/ 73693:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "j": () => (/* binding */ ViewModel)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/color.js
var color = __webpack_require__(65142);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js
var editorOptions = __webpack_require__(72530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/cursor/cursor.js + 2 modules
var cursor = __webpack_require__(43828);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/cursor/cursorCommon.js
var cursorCommon = __webpack_require__(84002);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var core_position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/textModelEvents.js
var textModelEvents = __webpack_require__(59311);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/modesRegistry.js
var modesRegistry = __webpack_require__(55403);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/textToHtmlTokenizer.js
var textToHtmlTokenizer = __webpack_require__(24251);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewEvents.js
var viewEvents = __webpack_require__(67153);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/scrollable.js
var scrollable = __webpack_require__(6672);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/linesLayout.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var PendingChanges=/*#__PURE__*/function(){function PendingChanges(){_classCallCheck(this,PendingChanges);this._hasPending=false;this._inserts=[];this._changes=[];this._removes=[];}_createClass(PendingChanges,[{key:"insert",value:function insert(x){this._hasPending=true;this._inserts.push(x);}},{key:"change",value:function change(x){this._hasPending=true;this._changes.push(x);}},{key:"remove",value:function remove(x){this._hasPending=true;this._removes.push(x);}},{key:"mustCommit",value:function mustCommit(){return this._hasPending;}},{key:"commit",value:function commit(linesLayout){if(!this._hasPending){return;}var inserts=this._inserts;var changes=this._changes;var removes=this._removes;this._hasPending=false;this._inserts=[];this._changes=[];this._removes=[];linesLayout._commitPendingChanges(inserts,changes,removes);}}]);return PendingChanges;}();var EditorWhitespace=function EditorWhitespace(id,afterLineNumber,ordinal,height,minWidth){_classCallCheck(this,EditorWhitespace);this.id=id;this.afterLineNumber=afterLineNumber;this.ordinal=ordinal;this.height=height;this.minWidth=minWidth;this.prefixSum=0;};/**
 * Layouting of objects that take vertical space (by having a height) and push down other objects.
 *
 * These objects are basically either text (lines) or spaces between those lines (whitespaces).
 * This provides commodity operations for working with lines that contain whitespace that pushes lines lower (vertically).
 */var LinesLayout=/*#__PURE__*/function(){function LinesLayout(lineCount,lineHeight,paddingTop,paddingBottom){_classCallCheck(this,LinesLayout);this._instanceId=strings/* singleLetterHash */.PJ(++LinesLayout.INSTANCE_COUNT);this._pendingChanges=new PendingChanges();this._lastWhitespaceId=0;this._arr=[];this._prefixSumValidIndex=-1;this._minWidth=-1;/* marker for not being computed */this._lineCount=lineCount;this._lineHeight=lineHeight;this._paddingTop=paddingTop;this._paddingBottom=paddingBottom;}/**
     * Find the insertion index for a new value inside a sorted array of values.
     * If the value is already present in the sorted array, the insertion index will be after the already existing value.
     */_createClass(LinesLayout,[{key:"setLineHeight",value:/**
     * Change the height of a line in pixels.
     */function setLineHeight(lineHeight){this._checkPendingChanges();this._lineHeight=lineHeight;}/**
     * Changes the padding used to calculate vertical offsets.
     */},{key:"setPadding",value:function setPadding(paddingTop,paddingBottom){this._paddingTop=paddingTop;this._paddingBottom=paddingBottom;}/**
     * Set the number of lines.
     *
     * @param lineCount New number of lines.
     */},{key:"onFlushed",value:function onFlushed(lineCount){this._checkPendingChanges();this._lineCount=lineCount;}},{key:"changeWhitespace",value:function changeWhitespace(callback){var _this=this;var hadAChange=false;try{var accessor={insertWhitespace:function insertWhitespace(afterLineNumber,ordinal,heightInPx,minWidth){hadAChange=true;afterLineNumber=afterLineNumber|0;ordinal=ordinal|0;heightInPx=heightInPx|0;minWidth=minWidth|0;var id=_this._instanceId+ ++_this._lastWhitespaceId;_this._pendingChanges.insert(new EditorWhitespace(id,afterLineNumber,ordinal,heightInPx,minWidth));return id;},changeOneWhitespace:function changeOneWhitespace(id,newAfterLineNumber,newHeight){hadAChange=true;newAfterLineNumber=newAfterLineNumber|0;newHeight=newHeight|0;_this._pendingChanges.change({id:id,newAfterLineNumber:newAfterLineNumber,newHeight:newHeight});},removeWhitespace:function removeWhitespace(id){hadAChange=true;_this._pendingChanges.remove({id:id});}};callback(accessor);}finally{this._pendingChanges.commit(this);}return hadAChange;}},{key:"_commitPendingChanges",value:function _commitPendingChanges(inserts,changes,removes){if(inserts.length>0||removes.length>0){this._minWidth=-1;/* marker for not being computed */}if(inserts.length+changes.length+removes.length<=1){// when only one thing happened, handle it "delicately"
var _iterator=_createForOfIteratorHelper(inserts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var insert=_step.value;this._insertWhitespace(insert);}}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=_createForOfIteratorHelper(changes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value;this._changeOneWhitespace(change.id,change.newAfterLineNumber,change.newHeight);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var _iterator3=_createForOfIteratorHelper(removes),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var remove=_step3.value;var index=this._findWhitespaceIndex(remove.id);if(index===-1){continue;}this._removeWhitespace(index);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return;}// simply rebuild the entire datastructure
var toRemove=new Set();var _iterator4=_createForOfIteratorHelper(removes),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _remove=_step4.value;toRemove.add(_remove.id);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}var toChange=new Map();var _iterator5=_createForOfIteratorHelper(changes),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _change2=_step5.value;toChange.set(_change2.id,_change2);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}var applyRemoveAndChange=function applyRemoveAndChange(whitespaces){var result=[];var _iterator6=_createForOfIteratorHelper(whitespaces),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var whitespace=_step6.value;if(toRemove.has(whitespace.id)){continue;}if(toChange.has(whitespace.id)){var _change=toChange.get(whitespace.id);whitespace.afterLineNumber=_change.newAfterLineNumber;whitespace.height=_change.newHeight;}result.push(whitespace);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return result;};var result=applyRemoveAndChange(this._arr).concat(applyRemoveAndChange(inserts));result.sort(function(a,b){if(a.afterLineNumber===b.afterLineNumber){return a.ordinal-b.ordinal;}return a.afterLineNumber-b.afterLineNumber;});this._arr=result;this._prefixSumValidIndex=-1;}},{key:"_checkPendingChanges",value:function _checkPendingChanges(){if(this._pendingChanges.mustCommit()){this._pendingChanges.commit(this);}}},{key:"_insertWhitespace",value:function _insertWhitespace(whitespace){var insertIndex=LinesLayout.findInsertionIndex(this._arr,whitespace.afterLineNumber,whitespace.ordinal);this._arr.splice(insertIndex,0,whitespace);this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,insertIndex-1);}},{key:"_findWhitespaceIndex",value:function _findWhitespaceIndex(id){var arr=this._arr;for(var i=0,len=arr.length;i<len;i++){if(arr[i].id===id){return i;}}return-1;}},{key:"_changeOneWhitespace",value:function _changeOneWhitespace(id,newAfterLineNumber,newHeight){var index=this._findWhitespaceIndex(id);if(index===-1){return;}if(this._arr[index].height!==newHeight){this._arr[index].height=newHeight;this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,index-1);}if(this._arr[index].afterLineNumber!==newAfterLineNumber){// `afterLineNumber` changed for this whitespace
// Record old whitespace
var whitespace=this._arr[index];// Since changing `afterLineNumber` can trigger a reordering, we're gonna remove this whitespace
this._removeWhitespace(index);whitespace.afterLineNumber=newAfterLineNumber;// And add it again
this._insertWhitespace(whitespace);}}},{key:"_removeWhitespace",value:function _removeWhitespace(removeIndex){this._arr.splice(removeIndex,1);this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,removeIndex-1);}/**
     * Notify the layouter that lines have been deleted (a continuous zone of lines).
     *
     * @param fromLineNumber The line number at which the deletion started, inclusive
     * @param toLineNumber The line number at which the deletion ended, inclusive
     */},{key:"onLinesDeleted",value:function onLinesDeleted(fromLineNumber,toLineNumber){this._checkPendingChanges();fromLineNumber=fromLineNumber|0;toLineNumber=toLineNumber|0;this._lineCount-=toLineNumber-fromLineNumber+1;for(var i=0,len=this._arr.length;i<len;i++){var afterLineNumber=this._arr[i].afterLineNumber;if(fromLineNumber<=afterLineNumber&&afterLineNumber<=toLineNumber){// The line this whitespace was after has been deleted
//  => move whitespace to before first deleted line
this._arr[i].afterLineNumber=fromLineNumber-1;}else if(afterLineNumber>toLineNumber){// The line this whitespace was after has been moved up
//  => move whitespace up
this._arr[i].afterLineNumber-=toLineNumber-fromLineNumber+1;}}}/**
     * Notify the layouter that lines have been inserted (a continuous zone of lines).
     *
     * @param fromLineNumber The line number at which the insertion started, inclusive
     * @param toLineNumber The line number at which the insertion ended, inclusive.
     */},{key:"onLinesInserted",value:function onLinesInserted(fromLineNumber,toLineNumber){this._checkPendingChanges();fromLineNumber=fromLineNumber|0;toLineNumber=toLineNumber|0;this._lineCount+=toLineNumber-fromLineNumber+1;for(var i=0,len=this._arr.length;i<len;i++){var afterLineNumber=this._arr[i].afterLineNumber;if(fromLineNumber<=afterLineNumber){this._arr[i].afterLineNumber+=toLineNumber-fromLineNumber+1;}}}/**
     * Get the sum of all the whitespaces.
     */},{key:"getWhitespacesTotalHeight",value:function getWhitespacesTotalHeight(){this._checkPendingChanges();if(this._arr.length===0){return 0;}return this.getWhitespacesAccumulatedHeight(this._arr.length-1);}/**
     * Return the sum of the heights of the whitespaces at [0..index].
     * This includes the whitespace at `index`.
     *
     * @param index The index of the whitespace.
     * @return The sum of the heights of all whitespaces before the one at `index`, including the one at `index`.
     */},{key:"getWhitespacesAccumulatedHeight",value:function getWhitespacesAccumulatedHeight(index){this._checkPendingChanges();index=index|0;var startIndex=Math.max(0,this._prefixSumValidIndex+1);if(startIndex===0){this._arr[0].prefixSum=this._arr[0].height;startIndex++;}for(var i=startIndex;i<=index;i++){this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;}this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,index);return this._arr[index].prefixSum;}/**
     * Get the sum of heights for all objects.
     *
     * @return The sum of heights for all objects.
     */},{key:"getLinesTotalHeight",value:function getLinesTotalHeight(){this._checkPendingChanges();var linesHeight=this._lineHeight*this._lineCount;var whitespacesHeight=this.getWhitespacesTotalHeight();return linesHeight+whitespacesHeight+this._paddingTop+this._paddingBottom;}/**
     * Returns the accumulated height of whitespaces before the given line number.
     *
     * @param lineNumber The line number
     */},{key:"getWhitespaceAccumulatedHeightBeforeLineNumber",value:function getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber){this._checkPendingChanges();lineNumber=lineNumber|0;var lastWhitespaceBeforeLineNumber=this._findLastWhitespaceBeforeLineNumber(lineNumber);if(lastWhitespaceBeforeLineNumber===-1){return 0;}return this.getWhitespacesAccumulatedHeight(lastWhitespaceBeforeLineNumber);}},{key:"_findLastWhitespaceBeforeLineNumber",value:function _findLastWhitespaceBeforeLineNumber(lineNumber){lineNumber=lineNumber|0;// Find the whitespace before line number
var arr=this._arr;var low=0;var high=arr.length-1;while(low<=high){var delta=high-low|0;var halfDelta=delta/2|0;var mid=low+halfDelta|0;if(arr[mid].afterLineNumber<lineNumber){if(mid+1>=arr.length||arr[mid+1].afterLineNumber>=lineNumber){return mid;}else{low=mid+1|0;}}else{high=mid-1|0;}}return-1;}},{key:"_findFirstWhitespaceAfterLineNumber",value:function _findFirstWhitespaceAfterLineNumber(lineNumber){lineNumber=lineNumber|0;var lastWhitespaceBeforeLineNumber=this._findLastWhitespaceBeforeLineNumber(lineNumber);var firstWhitespaceAfterLineNumber=lastWhitespaceBeforeLineNumber+1;if(firstWhitespaceAfterLineNumber<this._arr.length){return firstWhitespaceAfterLineNumber;}return-1;}/**
     * Find the index of the first whitespace which has `afterLineNumber` >= `lineNumber`.
     * @return The index of the first whitespace with `afterLineNumber` >= `lineNumber` or -1 if no whitespace is found.
     */},{key:"getFirstWhitespaceIndexAfterLineNumber",value:function getFirstWhitespaceIndexAfterLineNumber(lineNumber){this._checkPendingChanges();lineNumber=lineNumber|0;return this._findFirstWhitespaceAfterLineNumber(lineNumber);}/**
     * Get the vertical offset (the sum of heights for all objects above) a certain line number.
     *
     * @param lineNumber The line number
     * @return The sum of heights for all objects above `lineNumber`.
     */},{key:"getVerticalOffsetForLineNumber",value:function getVerticalOffsetForLineNumber(lineNumber){this._checkPendingChanges();lineNumber=lineNumber|0;var previousLinesHeight;if(lineNumber>1){previousLinesHeight=this._lineHeight*(lineNumber-1);}else{previousLinesHeight=0;}var previousWhitespacesHeight=this.getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber);return previousLinesHeight+previousWhitespacesHeight+this._paddingTop;}/**
     * The maximum min width for all whitespaces.
     */},{key:"getWhitespaceMinWidth",value:function getWhitespaceMinWidth(){this._checkPendingChanges();if(this._minWidth===-1){var minWidth=0;for(var i=0,len=this._arr.length;i<len;i++){minWidth=Math.max(minWidth,this._arr[i].minWidth);}this._minWidth=minWidth;}return this._minWidth;}/**
     * Check if `verticalOffset` is below all lines.
     */},{key:"isAfterLines",value:function isAfterLines(verticalOffset){this._checkPendingChanges();var totalHeight=this.getLinesTotalHeight();return verticalOffset>totalHeight;}},{key:"isInTopPadding",value:function isInTopPadding(verticalOffset){if(this._paddingTop===0){return false;}this._checkPendingChanges();return verticalOffset<this._paddingTop;}},{key:"isInBottomPadding",value:function isInBottomPadding(verticalOffset){if(this._paddingBottom===0){return false;}this._checkPendingChanges();var totalHeight=this.getLinesTotalHeight();return verticalOffset>=totalHeight-this._paddingBottom;}/**
     * Find the first line number that is at or after vertical offset `verticalOffset`.
     * i.e. if getVerticalOffsetForLine(line) is x and getVerticalOffsetForLine(line + 1) is y, then
     * getLineNumberAtOrAfterVerticalOffset(i) = line, x <= i < y.
     *
     * @param verticalOffset The vertical offset to search at.
     * @return The line number at or after vertical offset `verticalOffset`.
     */},{key:"getLineNumberAtOrAfterVerticalOffset",value:function getLineNumberAtOrAfterVerticalOffset(verticalOffset){this._checkPendingChanges();verticalOffset=verticalOffset|0;if(verticalOffset<0){return 1;}var linesCount=this._lineCount|0;var lineHeight=this._lineHeight;var minLineNumber=1;var maxLineNumber=linesCount;while(minLineNumber<maxLineNumber){var midLineNumber=(minLineNumber+maxLineNumber)/2|0;var midLineNumberVerticalOffset=this.getVerticalOffsetForLineNumber(midLineNumber)|0;if(verticalOffset>=midLineNumberVerticalOffset+lineHeight){// vertical offset is after mid line number
minLineNumber=midLineNumber+1;}else if(verticalOffset>=midLineNumberVerticalOffset){// Hit
return midLineNumber;}else{// vertical offset is before mid line number, but mid line number could still be what we're searching for
maxLineNumber=midLineNumber;}}if(minLineNumber>linesCount){return linesCount;}return minLineNumber;}/**
     * Get all the lines and their relative vertical offsets that are positioned between `verticalOffset1` and `verticalOffset2`.
     *
     * @param verticalOffset1 The beginning of the viewport.
     * @param verticalOffset2 The end of the viewport.
     * @return A structure describing the lines positioned between `verticalOffset1` and `verticalOffset2`.
     */},{key:"getLinesViewportData",value:function getLinesViewportData(verticalOffset1,verticalOffset2){this._checkPendingChanges();verticalOffset1=verticalOffset1|0;verticalOffset2=verticalOffset2|0;var lineHeight=this._lineHeight;// Find first line number
// We don't live in a perfect world, so the line number might start before or after verticalOffset1
var startLineNumber=this.getLineNumberAtOrAfterVerticalOffset(verticalOffset1)|0;var startLineNumberVerticalOffset=this.getVerticalOffsetForLineNumber(startLineNumber)|0;var endLineNumber=this._lineCount|0;// Also keep track of what whitespace we've got
var whitespaceIndex=this.getFirstWhitespaceIndexAfterLineNumber(startLineNumber)|0;var whitespaceCount=this.getWhitespacesCount()|0;var currentWhitespaceHeight;var currentWhitespaceAfterLineNumber;if(whitespaceIndex===-1){whitespaceIndex=whitespaceCount;currentWhitespaceAfterLineNumber=endLineNumber+1;currentWhitespaceHeight=0;}else{currentWhitespaceAfterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex)|0;currentWhitespaceHeight=this.getHeightForWhitespaceIndex(whitespaceIndex)|0;}var currentVerticalOffset=startLineNumberVerticalOffset;var currentLineRelativeOffset=currentVerticalOffset;// IE (all versions) cannot handle units above about 1,533,908 px, so every 500k pixels bring numbers down
var STEP_SIZE=500000;var bigNumbersDelta=0;if(startLineNumberVerticalOffset>=STEP_SIZE){// Compute a delta that guarantees that lines are positioned at `lineHeight` increments
bigNumbersDelta=Math.floor(startLineNumberVerticalOffset/STEP_SIZE)*STEP_SIZE;bigNumbersDelta=Math.floor(bigNumbersDelta/lineHeight)*lineHeight;currentLineRelativeOffset-=bigNumbersDelta;}var linesOffsets=[];var verticalCenter=verticalOffset1+(verticalOffset2-verticalOffset1)/2;var centeredLineNumber=-1;// Figure out how far the lines go
for(var lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){if(centeredLineNumber===-1){var currentLineTop=currentVerticalOffset;var currentLineBottom=currentVerticalOffset+lineHeight;if(currentLineTop<=verticalCenter&&verticalCenter<currentLineBottom||currentLineTop>verticalCenter){centeredLineNumber=lineNumber;}}// Count current line height in the vertical offsets
currentVerticalOffset+=lineHeight;linesOffsets[lineNumber-startLineNumber]=currentLineRelativeOffset;// Next line starts immediately after this one
currentLineRelativeOffset+=lineHeight;while(currentWhitespaceAfterLineNumber===lineNumber){// Push down next line with the height of the current whitespace
currentLineRelativeOffset+=currentWhitespaceHeight;// Count current whitespace in the vertical offsets
currentVerticalOffset+=currentWhitespaceHeight;whitespaceIndex++;if(whitespaceIndex>=whitespaceCount){currentWhitespaceAfterLineNumber=endLineNumber+1;}else{currentWhitespaceAfterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex)|0;currentWhitespaceHeight=this.getHeightForWhitespaceIndex(whitespaceIndex)|0;}}if(currentVerticalOffset>=verticalOffset2){// We have covered the entire viewport area, time to stop
endLineNumber=lineNumber;break;}}if(centeredLineNumber===-1){centeredLineNumber=endLineNumber;}var endLineNumberVerticalOffset=this.getVerticalOffsetForLineNumber(endLineNumber)|0;var completelyVisibleStartLineNumber=startLineNumber;var completelyVisibleEndLineNumber=endLineNumber;if(completelyVisibleStartLineNumber<completelyVisibleEndLineNumber){if(startLineNumberVerticalOffset<verticalOffset1){completelyVisibleStartLineNumber++;}}if(completelyVisibleStartLineNumber<completelyVisibleEndLineNumber){if(endLineNumberVerticalOffset+lineHeight>verticalOffset2){completelyVisibleEndLineNumber--;}}return{bigNumbersDelta:bigNumbersDelta,startLineNumber:startLineNumber,endLineNumber:endLineNumber,relativeVerticalOffset:linesOffsets,centeredLineNumber:centeredLineNumber,completelyVisibleStartLineNumber:completelyVisibleStartLineNumber,completelyVisibleEndLineNumber:completelyVisibleEndLineNumber};}},{key:"getVerticalOffsetForWhitespaceIndex",value:function getVerticalOffsetForWhitespaceIndex(whitespaceIndex){this._checkPendingChanges();whitespaceIndex=whitespaceIndex|0;var afterLineNumber=this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex);var previousLinesHeight;if(afterLineNumber>=1){previousLinesHeight=this._lineHeight*afterLineNumber;}else{previousLinesHeight=0;}var previousWhitespacesHeight;if(whitespaceIndex>0){previousWhitespacesHeight=this.getWhitespacesAccumulatedHeight(whitespaceIndex-1);}else{previousWhitespacesHeight=0;}return previousLinesHeight+previousWhitespacesHeight+this._paddingTop;}},{key:"getWhitespaceIndexAtOrAfterVerticallOffset",value:function getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset){this._checkPendingChanges();verticalOffset=verticalOffset|0;var minWhitespaceIndex=0;var maxWhitespaceIndex=this.getWhitespacesCount()-1;if(maxWhitespaceIndex<0){return-1;}// Special case: nothing to be found
var maxWhitespaceVerticalOffset=this.getVerticalOffsetForWhitespaceIndex(maxWhitespaceIndex);var maxWhitespaceHeight=this.getHeightForWhitespaceIndex(maxWhitespaceIndex);if(verticalOffset>=maxWhitespaceVerticalOffset+maxWhitespaceHeight){return-1;}while(minWhitespaceIndex<maxWhitespaceIndex){var midWhitespaceIndex=Math.floor((minWhitespaceIndex+maxWhitespaceIndex)/2);var midWhitespaceVerticalOffset=this.getVerticalOffsetForWhitespaceIndex(midWhitespaceIndex);var midWhitespaceHeight=this.getHeightForWhitespaceIndex(midWhitespaceIndex);if(verticalOffset>=midWhitespaceVerticalOffset+midWhitespaceHeight){// vertical offset is after whitespace
minWhitespaceIndex=midWhitespaceIndex+1;}else if(verticalOffset>=midWhitespaceVerticalOffset){// Hit
return midWhitespaceIndex;}else{// vertical offset is before whitespace, but midWhitespaceIndex might still be what we're searching for
maxWhitespaceIndex=midWhitespaceIndex;}}return minWhitespaceIndex;}/**
     * Get exactly the whitespace that is layouted at `verticalOffset`.
     *
     * @param verticalOffset The vertical offset.
     * @return Precisely the whitespace that is layouted at `verticaloffset` or null.
     */},{key:"getWhitespaceAtVerticalOffset",value:function getWhitespaceAtVerticalOffset(verticalOffset){this._checkPendingChanges();verticalOffset=verticalOffset|0;var candidateIndex=this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset);if(candidateIndex<0){return null;}if(candidateIndex>=this.getWhitespacesCount()){return null;}var candidateTop=this.getVerticalOffsetForWhitespaceIndex(candidateIndex);if(candidateTop>verticalOffset){return null;}var candidateHeight=this.getHeightForWhitespaceIndex(candidateIndex);var candidateId=this.getIdForWhitespaceIndex(candidateIndex);var candidateAfterLineNumber=this.getAfterLineNumberForWhitespaceIndex(candidateIndex);return{id:candidateId,afterLineNumber:candidateAfterLineNumber,verticalOffset:candidateTop,height:candidateHeight};}/**
     * Get a list of whitespaces that are positioned between `verticalOffset1` and `verticalOffset2`.
     *
     * @param verticalOffset1 The beginning of the viewport.
     * @param verticalOffset2 The end of the viewport.
     * @return An array with all the whitespaces in the viewport. If no whitespace is in viewport, the array is empty.
     */},{key:"getWhitespaceViewportData",value:function getWhitespaceViewportData(verticalOffset1,verticalOffset2){this._checkPendingChanges();verticalOffset1=verticalOffset1|0;verticalOffset2=verticalOffset2|0;var startIndex=this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset1);var endIndex=this.getWhitespacesCount()-1;if(startIndex<0){return[];}var result=[];for(var i=startIndex;i<=endIndex;i++){var top=this.getVerticalOffsetForWhitespaceIndex(i);var height=this.getHeightForWhitespaceIndex(i);if(top>=verticalOffset2){break;}result.push({id:this.getIdForWhitespaceIndex(i),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i),verticalOffset:top,height:height});}return result;}/**
     * Get all whitespaces.
     */},{key:"getWhitespaces",value:function getWhitespaces(){this._checkPendingChanges();return this._arr.slice(0);}/**
     * The number of whitespaces.
     */},{key:"getWhitespacesCount",value:function getWhitespacesCount(){this._checkPendingChanges();return this._arr.length;}/**
     * Get the `id` for whitespace at index `index`.
     *
     * @param index The index of the whitespace.
     * @return `id` of whitespace at `index`.
     */},{key:"getIdForWhitespaceIndex",value:function getIdForWhitespaceIndex(index){this._checkPendingChanges();index=index|0;return this._arr[index].id;}/**
     * Get the `afterLineNumber` for whitespace at index `index`.
     *
     * @param index The index of the whitespace.
     * @return `afterLineNumber` of whitespace at `index`.
     */},{key:"getAfterLineNumberForWhitespaceIndex",value:function getAfterLineNumberForWhitespaceIndex(index){this._checkPendingChanges();index=index|0;return this._arr[index].afterLineNumber;}/**
     * Get the `height` for whitespace at index `index`.
     *
     * @param index The index of the whitespace.
     * @return `height` of whitespace at `index`.
     */},{key:"getHeightForWhitespaceIndex",value:function getHeightForWhitespaceIndex(index){this._checkPendingChanges();index=index|0;return this._arr[index].height;}}],[{key:"findInsertionIndex",value:function findInsertionIndex(arr,afterLineNumber,ordinal){var low=0;var high=arr.length;while(low<high){var mid=low+high>>>1;if(afterLineNumber===arr[mid].afterLineNumber){if(ordinal<arr[mid].ordinal){high=mid;}else{low=mid+1;}}else if(afterLineNumber<arr[mid].afterLineNumber){high=mid;}else{low=mid+1;}}return low;}}]);return LinesLayout;}();LinesLayout.INSTANCE_COUNT=0;
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModel.js
var viewModel = __webpack_require__(38258);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelEventDispatcher.js
var viewModelEventDispatcher = __webpack_require__(51751);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLayout.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function viewLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function viewLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function viewLayout_createClass(Constructor,protoProps,staticProps){if(protoProps)viewLayout_defineProperties(Constructor.prototype,protoProps);if(staticProps)viewLayout_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var SMOOTH_SCROLLING_TIME=125;var EditorScrollDimensions=/*#__PURE__*/function(){function EditorScrollDimensions(width,contentWidth,height,contentHeight){viewLayout_classCallCheck(this,EditorScrollDimensions);width=width|0;contentWidth=contentWidth|0;height=height|0;contentHeight=contentHeight|0;if(width<0){width=0;}if(contentWidth<0){contentWidth=0;}if(height<0){height=0;}if(contentHeight<0){contentHeight=0;}this.width=width;this.contentWidth=contentWidth;this.scrollWidth=Math.max(width,contentWidth);this.height=height;this.contentHeight=contentHeight;this.scrollHeight=Math.max(height,contentHeight);}viewLayout_createClass(EditorScrollDimensions,[{key:"equals",value:function equals(other){return this.width===other.width&&this.contentWidth===other.contentWidth&&this.height===other.height&&this.contentHeight===other.contentHeight;}}]);return EditorScrollDimensions;}();var EditorScrollable=/*#__PURE__*/function(_Disposable){_inherits(EditorScrollable,_Disposable);var _super=_createSuper(EditorScrollable);function EditorScrollable(smoothScrollDuration,scheduleAtNextAnimationFrame){var _this;viewLayout_classCallCheck(this,EditorScrollable);_this=_super.call(this);_this._onDidContentSizeChange=_this._register(new common_event/* Emitter */.Q5());_this.onDidContentSizeChange=_this._onDidContentSizeChange.event;_this._dimensions=new EditorScrollDimensions(0,0,0,0);_this._scrollable=_this._register(new scrollable/* Scrollable */.Rm({forceIntegerValues:true,smoothScrollDuration:smoothScrollDuration,scheduleAtNextAnimationFrame:scheduleAtNextAnimationFrame}));_this.onDidScroll=_this._scrollable.onScroll;return _this;}viewLayout_createClass(EditorScrollable,[{key:"getScrollable",value:function getScrollable(){return this._scrollable;}},{key:"setSmoothScrollDuration",value:function setSmoothScrollDuration(smoothScrollDuration){this._scrollable.setSmoothScrollDuration(smoothScrollDuration);}},{key:"validateScrollPosition",value:function validateScrollPosition(scrollPosition){return this._scrollable.validateScrollPosition(scrollPosition);}},{key:"getScrollDimensions",value:function getScrollDimensions(){return this._dimensions;}},{key:"setScrollDimensions",value:function setScrollDimensions(dimensions){if(this._dimensions.equals(dimensions)){return;}var oldDimensions=this._dimensions;this._dimensions=dimensions;this._scrollable.setScrollDimensions({width:dimensions.width,scrollWidth:dimensions.scrollWidth,height:dimensions.height,scrollHeight:dimensions.scrollHeight},true);var contentWidthChanged=oldDimensions.contentWidth!==dimensions.contentWidth;var contentHeightChanged=oldDimensions.contentHeight!==dimensions.contentHeight;if(contentWidthChanged||contentHeightChanged){this._onDidContentSizeChange.fire(new viewModelEventDispatcher/* ContentSizeChangedEvent */.zf(oldDimensions.contentWidth,oldDimensions.contentHeight,dimensions.contentWidth,dimensions.contentHeight));}}},{key:"getFutureScrollPosition",value:function getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition();}},{key:"getCurrentScrollPosition",value:function getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition();}},{key:"setScrollPositionNow",value:function setScrollPositionNow(update){this._scrollable.setScrollPositionNow(update);}},{key:"setScrollPositionSmooth",value:function setScrollPositionSmooth(update){this._scrollable.setScrollPositionSmooth(update);}}]);return EditorScrollable;}(lifecycle/* Disposable */.JT);var ViewLayout=/*#__PURE__*/function(_Disposable2){_inherits(ViewLayout,_Disposable2);var _super2=_createSuper(ViewLayout);function ViewLayout(configuration,lineCount,scheduleAtNextAnimationFrame){var _this2;viewLayout_classCallCheck(this,ViewLayout);_this2=_super2.call(this);_this2._configuration=configuration;var options=_this2._configuration.options;var layoutInfo=options.get(131/* layoutInfo */);var padding=options.get(75/* padding */);_this2._linesLayout=new LinesLayout(lineCount,options.get(59/* lineHeight */),padding.top,padding.bottom);_this2._scrollable=_this2._register(new EditorScrollable(0,scheduleAtNextAnimationFrame));_this2._configureSmoothScrollDuration();_this2._scrollable.setScrollDimensions(new EditorScrollDimensions(layoutInfo.contentWidth,0,layoutInfo.height,0));_this2.onDidScroll=_this2._scrollable.onDidScroll;_this2.onDidContentSizeChange=_this2._scrollable.onDidContentSizeChange;_this2._updateHeight();return _this2;}viewLayout_createClass(ViewLayout,[{key:"dispose",value:function dispose(){_get(_getPrototypeOf(ViewLayout.prototype),"dispose",this).call(this);}},{key:"getScrollable",value:function getScrollable(){return this._scrollable.getScrollable();}},{key:"onHeightMaybeChanged",value:function onHeightMaybeChanged(){this._updateHeight();}},{key:"_configureSmoothScrollDuration",value:function _configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103/* smoothScrolling */)?SMOOTH_SCROLLING_TIME:0);}// ---- begin view event handlers
},{key:"onConfigurationChanged",value:function onConfigurationChanged(e){var options=this._configuration.options;if(e.hasChanged(59/* lineHeight */)){this._linesLayout.setLineHeight(options.get(59/* lineHeight */));}if(e.hasChanged(75/* padding */)){var padding=options.get(75/* padding */);this._linesLayout.setPadding(padding.top,padding.bottom);}if(e.hasChanged(131/* layoutInfo */)){var layoutInfo=options.get(131/* layoutInfo */);var width=layoutInfo.contentWidth;var height=layoutInfo.height;var scrollDimensions=this._scrollable.getScrollDimensions();var contentWidth=scrollDimensions.contentWidth;this._scrollable.setScrollDimensions(new EditorScrollDimensions(width,scrollDimensions.contentWidth,height,this._getContentHeight(width,height,contentWidth)));}else{this._updateHeight();}if(e.hasChanged(103/* smoothScrolling */)){this._configureSmoothScrollDuration();}}},{key:"onFlushed",value:function onFlushed(lineCount){this._linesLayout.onFlushed(lineCount);}},{key:"onLinesDeleted",value:function onLinesDeleted(fromLineNumber,toLineNumber){this._linesLayout.onLinesDeleted(fromLineNumber,toLineNumber);}},{key:"onLinesInserted",value:function onLinesInserted(fromLineNumber,toLineNumber){this._linesLayout.onLinesInserted(fromLineNumber,toLineNumber);}// ---- end view event handlers
},{key:"_getHorizontalScrollbarHeight",value:function _getHorizontalScrollbarHeight(width,scrollWidth){var options=this._configuration.options;var scrollbar=options.get(92/* scrollbar */);if(scrollbar.horizontal===2/* Hidden */){// horizontal scrollbar not visible
return 0;}if(width>=scrollWidth){// horizontal scrollbar not visible
return 0;}return scrollbar.horizontalScrollbarSize;}},{key:"_getContentHeight",value:function _getContentHeight(width,height,contentWidth){var options=this._configuration.options;var result=this._linesLayout.getLinesTotalHeight();if(options.get(94/* scrollBeyondLastLine */)){result+=Math.max(0,height-options.get(59/* lineHeight */)-options.get(75/* padding */).bottom);}else{result+=this._getHorizontalScrollbarHeight(width,contentWidth);}return result;}},{key:"_updateHeight",value:function _updateHeight(){var scrollDimensions=this._scrollable.getScrollDimensions();var width=scrollDimensions.width;var height=scrollDimensions.height;var contentWidth=scrollDimensions.contentWidth;this._scrollable.setScrollDimensions(new EditorScrollDimensions(width,scrollDimensions.contentWidth,height,this._getContentHeight(width,height,contentWidth)));}// ---- Layouting logic
},{key:"getCurrentViewport",value:function getCurrentViewport(){var scrollDimensions=this._scrollable.getScrollDimensions();var currentScrollPosition=this._scrollable.getCurrentScrollPosition();return new viewModel/* Viewport */.l_(currentScrollPosition.scrollTop,currentScrollPosition.scrollLeft,scrollDimensions.width,scrollDimensions.height);}},{key:"getFutureViewport",value:function getFutureViewport(){var scrollDimensions=this._scrollable.getScrollDimensions();var currentScrollPosition=this._scrollable.getFutureScrollPosition();return new viewModel/* Viewport */.l_(currentScrollPosition.scrollTop,currentScrollPosition.scrollLeft,scrollDimensions.width,scrollDimensions.height);}},{key:"_computeContentWidth",value:function _computeContentWidth(maxLineWidth){var options=this._configuration.options;var wrappingInfo=options.get(132/* wrappingInfo */);var fontInfo=options.get(44/* fontInfo */);if(wrappingInfo.isViewportWrapping){var layoutInfo=options.get(131/* layoutInfo */);var minimap=options.get(65/* minimap */);if(maxLineWidth>layoutInfo.contentWidth+fontInfo.typicalHalfwidthCharacterWidth){// This is a case where viewport wrapping is on, but the line extends above the viewport
if(minimap.enabled&&minimap.side==='right'){// We need to accomodate the scrollbar width
return maxLineWidth+layoutInfo.verticalScrollbarWidth;}}return maxLineWidth;}else{var extraHorizontalSpace=options.get(93/* scrollBeyondLastColumn */)*fontInfo.typicalHalfwidthCharacterWidth;var whitespaceMinWidth=this._linesLayout.getWhitespaceMinWidth();return Math.max(maxLineWidth+extraHorizontalSpace,whitespaceMinWidth);}}},{key:"setMaxLineWidth",value:function setMaxLineWidth(maxLineWidth){var scrollDimensions=this._scrollable.getScrollDimensions();// const newScrollWidth = ;
this._scrollable.setScrollDimensions(new EditorScrollDimensions(scrollDimensions.width,this._computeContentWidth(maxLineWidth),scrollDimensions.height,scrollDimensions.contentHeight));// The height might depend on the fact that there is a horizontal scrollbar or not
this._updateHeight();}// ---- view state
},{key:"saveState",value:function saveState(){var currentScrollPosition=this._scrollable.getFutureScrollPosition();var scrollTop=currentScrollPosition.scrollTop;var firstLineNumberInViewport=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(scrollTop);var whitespaceAboveFirstLine=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(firstLineNumberInViewport);return{scrollTop:scrollTop,scrollTopWithoutViewZones:scrollTop-whitespaceAboveFirstLine,scrollLeft:currentScrollPosition.scrollLeft};}// ---- IVerticalLayoutProvider
},{key:"changeWhitespace",value:function changeWhitespace(callback){var hadAChange=this._linesLayout.changeWhitespace(callback);if(hadAChange){this.onHeightMaybeChanged();}return hadAChange;}},{key:"getVerticalOffsetForLineNumber",value:function getVerticalOffsetForLineNumber(lineNumber){return this._linesLayout.getVerticalOffsetForLineNumber(lineNumber);}},{key:"isAfterLines",value:function isAfterLines(verticalOffset){return this._linesLayout.isAfterLines(verticalOffset);}},{key:"isInTopPadding",value:function isInTopPadding(verticalOffset){return this._linesLayout.isInTopPadding(verticalOffset);}},{key:"isInBottomPadding",value:function isInBottomPadding(verticalOffset){return this._linesLayout.isInBottomPadding(verticalOffset);}},{key:"getLineNumberAtVerticalOffset",value:function getLineNumberAtVerticalOffset(verticalOffset){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(verticalOffset);}},{key:"getWhitespaceAtVerticalOffset",value:function getWhitespaceAtVerticalOffset(verticalOffset){return this._linesLayout.getWhitespaceAtVerticalOffset(verticalOffset);}},{key:"getLinesViewportData",value:function getLinesViewportData(){var visibleBox=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(visibleBox.top,visibleBox.top+visibleBox.height);}},{key:"getLinesViewportDataAtScrollTop",value:function getLinesViewportDataAtScrollTop(scrollTop){// do some minimal validations on scrollTop
var scrollDimensions=this._scrollable.getScrollDimensions();if(scrollTop+scrollDimensions.height>scrollDimensions.scrollHeight){scrollTop=scrollDimensions.scrollHeight-scrollDimensions.height;}if(scrollTop<0){scrollTop=0;}return this._linesLayout.getLinesViewportData(scrollTop,scrollTop+scrollDimensions.height);}},{key:"getWhitespaceViewportData",value:function getWhitespaceViewportData(){var visibleBox=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(visibleBox.top,visibleBox.top+visibleBox.height);}},{key:"getWhitespaces",value:function getWhitespaces(){return this._linesLayout.getWhitespaces();}// ---- IScrollingProvider
},{key:"getContentWidth",value:function getContentWidth(){var scrollDimensions=this._scrollable.getScrollDimensions();return scrollDimensions.contentWidth;}},{key:"getScrollWidth",value:function getScrollWidth(){var scrollDimensions=this._scrollable.getScrollDimensions();return scrollDimensions.scrollWidth;}},{key:"getContentHeight",value:function getContentHeight(){var scrollDimensions=this._scrollable.getScrollDimensions();return scrollDimensions.contentHeight;}},{key:"getScrollHeight",value:function getScrollHeight(){var scrollDimensions=this._scrollable.getScrollDimensions();return scrollDimensions.scrollHeight;}},{key:"getCurrentScrollLeft",value:function getCurrentScrollLeft(){var currentScrollPosition=this._scrollable.getCurrentScrollPosition();return currentScrollPosition.scrollLeft;}},{key:"getCurrentScrollTop",value:function getCurrentScrollTop(){var currentScrollPosition=this._scrollable.getCurrentScrollPosition();return currentScrollPosition.scrollTop;}},{key:"validateScrollPosition",value:function validateScrollPosition(scrollPosition){return this._scrollable.validateScrollPosition(scrollPosition);}},{key:"setScrollPosition",value:function setScrollPosition(position,type){if(type===1/* Immediate */){this._scrollable.setScrollPositionNow(position);}else{this._scrollable.setScrollPositionSmooth(position);}}},{key:"deltaScrollNow",value:function deltaScrollNow(deltaScrollLeft,deltaScrollTop){var currentScrollPosition=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:currentScrollPosition.scrollLeft+deltaScrollLeft,scrollTop:currentScrollPosition.scrollTop+deltaScrollTop});}}]);return ViewLayout;}(lifecycle/* Disposable */.JT);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/minimapTokensColorTracker.js
var minimapTokensColorTracker = __webpack_require__(81108);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelDecorations.js
var viewModelDecorations = __webpack_require__(56843);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/textModelGuides.js
var textModelGuides = __webpack_require__(35933);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/lineTokens.js
var lineTokens = __webpack_require__(83817);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/modelLineProjection.js
function modelLineProjection_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function modelLineProjection_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function modelLineProjection_createClass(Constructor,protoProps,staticProps){if(protoProps)modelLineProjection_defineProperties(Constructor.prototype,protoProps);if(staticProps)modelLineProjection_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function createModelLineProjection(lineBreakData,isVisible){if(lineBreakData===null){// No mapping needed
if(isVisible){return IdentityModelLineProjection.INSTANCE;}return HiddenModelLineProjection.INSTANCE;}else{return new ModelLineProjection(lineBreakData,isVisible);}}/**
 * This projection is used to
 * * wrap model lines
 * * inject text
 */var ModelLineProjection=/*#__PURE__*/function(){function ModelLineProjection(lineBreakData,isVisible){modelLineProjection_classCallCheck(this,ModelLineProjection);this._projectionData=lineBreakData;this._isVisible=isVisible;}modelLineProjection_createClass(ModelLineProjection,[{key:"isVisible",value:function isVisible(){return this._isVisible;}},{key:"setVisible",value:function setVisible(isVisible){this._isVisible=isVisible;return this;}},{key:"getProjectionData",value:function getProjectionData(){return this._projectionData;}},{key:"getViewLineCount",value:function getViewLineCount(){if(!this._isVisible){return 0;}return this._projectionData.getOutputLineCount();}},{key:"getViewLineContent",value:function getViewLineContent(model,modelLineNumber,outputLineIndex){var _this=this;this._assertVisible();var startOffsetInInputWithInjections=outputLineIndex>0?this._projectionData.breakOffsets[outputLineIndex-1]:0;var endOffsetInInputWithInjections=this._projectionData.breakOffsets[outputLineIndex];var r;if(this._projectionData.injectionOffsets!==null){var injectedTexts=this._projectionData.injectionOffsets.map(function(offset,idx){return new textModelEvents/* LineInjectedText */.gk(0,0,offset+1,_this._projectionData.injectionOptions[idx],0);});var lineWithInjections=textModelEvents/* LineInjectedText.applyInjectedText */.gk.applyInjectedText(model.getLineContent(modelLineNumber),injectedTexts);r=lineWithInjections.substring(startOffsetInInputWithInjections,endOffsetInInputWithInjections);}else{r=model.getValueInRange({startLineNumber:modelLineNumber,startColumn:startOffsetInInputWithInjections+1,endLineNumber:modelLineNumber,endColumn:endOffsetInInputWithInjections+1});}if(outputLineIndex>0){r=spaces(this._projectionData.wrappedTextIndentLength)+r;}return r;}},{key:"getViewLineLength",value:function getViewLineLength(model,modelLineNumber,outputLineIndex){this._assertVisible();return this._projectionData.getLineLength(outputLineIndex);}},{key:"getViewLineMinColumn",value:function getViewLineMinColumn(_model,_modelLineNumber,outputLineIndex){this._assertVisible();return this._projectionData.getMinOutputOffset(outputLineIndex)+1;}},{key:"getViewLineMaxColumn",value:function getViewLineMaxColumn(model,modelLineNumber,outputLineIndex){this._assertVisible();return this._projectionData.getMaxOutputOffset(outputLineIndex)+1;}/**
     * Try using {@link getViewLinesData} instead.
    */},{key:"getViewLineData",value:function getViewLineData(model,modelLineNumber,outputLineIndex){var arr=new Array();this.getViewLinesData(model,modelLineNumber,outputLineIndex,1,0,[true],arr);return arr[0];}},{key:"getViewLinesData",value:function getViewLinesData(model,modelLineNumber,outputLineIdx,lineCount,globalStartIndex,needed,result){this._assertVisible();var lineBreakData=this._projectionData;var injectionOffsets=lineBreakData.injectionOffsets;var injectionOptions=lineBreakData.injectionOptions;var inlineDecorationsPerOutputLine=null;if(injectionOffsets){inlineDecorationsPerOutputLine=[];var totalInjectedTextLengthBefore=0;var currentInjectedOffset=0;for(var outputLineIndex=0;outputLineIndex<lineBreakData.getOutputLineCount();outputLineIndex++){var inlineDecorations=new Array();inlineDecorationsPerOutputLine[outputLineIndex]=inlineDecorations;var lineStartOffsetInInputWithInjections=outputLineIndex>0?lineBreakData.breakOffsets[outputLineIndex-1]:0;var lineEndOffsetInInputWithInjections=lineBreakData.breakOffsets[outputLineIndex];while(currentInjectedOffset<injectionOffsets.length){var length=injectionOptions[currentInjectedOffset].content.length;var injectedTextStartOffsetInInputWithInjections=injectionOffsets[currentInjectedOffset]+totalInjectedTextLengthBefore;var injectedTextEndOffsetInInputWithInjections=injectedTextStartOffsetInInputWithInjections+length;if(injectedTextStartOffsetInInputWithInjections>lineEndOffsetInInputWithInjections){// Injected text only starts in later wrapped lines.
break;}if(lineStartOffsetInInputWithInjections<injectedTextEndOffsetInInputWithInjections){// Injected text ends after or in this line (but also starts in or before this line).
var options=injectionOptions[currentInjectedOffset];if(options.inlineClassName){var offset=outputLineIndex>0?lineBreakData.wrappedTextIndentLength:0;var start=offset+Math.max(injectedTextStartOffsetInInputWithInjections-lineStartOffsetInInputWithInjections,0);var end=offset+Math.min(injectedTextEndOffsetInInputWithInjections-lineStartOffsetInInputWithInjections,lineEndOffsetInInputWithInjections);if(start!==end){inlineDecorations.push(new viewModel/* SingleLineInlineDecoration */.Wx(start,end,options.inlineClassName,options.inlineClassNameAffectsLetterSpacing));}}}if(injectedTextEndOffsetInInputWithInjections<=lineEndOffsetInInputWithInjections){totalInjectedTextLengthBefore+=length;currentInjectedOffset++;}else{// injected text breaks into next line, process it again
break;}}}}var lineWithInjections;if(injectionOffsets){lineWithInjections=model.getLineTokens(modelLineNumber).withInserted(injectionOffsets.map(function(offset,idx){return{offset:offset,text:injectionOptions[idx].content,tokenMetadata:lineTokens/* LineTokens.defaultTokenMetadata */.A.defaultTokenMetadata};}));}else{lineWithInjections=model.getLineTokens(modelLineNumber);}for(var _outputLineIndex2=outputLineIdx;_outputLineIndex2<outputLineIdx+lineCount;_outputLineIndex2++){var globalIndex=globalStartIndex+_outputLineIndex2-outputLineIdx;if(!needed[globalIndex]){result[globalIndex]=null;continue;}result[globalIndex]=this._getViewLineData(lineWithInjections,inlineDecorationsPerOutputLine?inlineDecorationsPerOutputLine[_outputLineIndex2]:null,_outputLineIndex2);}}},{key:"_getViewLineData",value:function _getViewLineData(lineWithInjections,inlineDecorations,outputLineIndex){this._assertVisible();var lineBreakData=this._projectionData;var deltaStartIndex=outputLineIndex>0?lineBreakData.wrappedTextIndentLength:0;var lineStartOffsetInInputWithInjections=outputLineIndex>0?lineBreakData.breakOffsets[outputLineIndex-1]:0;var lineEndOffsetInInputWithInjections=lineBreakData.breakOffsets[outputLineIndex];var tokens=lineWithInjections.sliceAndInflate(lineStartOffsetInInputWithInjections,lineEndOffsetInInputWithInjections,deltaStartIndex);var lineContent=tokens.getLineContent();if(outputLineIndex>0){lineContent=spaces(lineBreakData.wrappedTextIndentLength)+lineContent;}var minColumn=this._projectionData.getMinOutputOffset(outputLineIndex)+1;var maxColumn=lineContent.length+1;var continuesWithWrappedLine=outputLineIndex+1<this.getViewLineCount();var startVisibleColumn=outputLineIndex===0?0:lineBreakData.breakOffsetsVisibleColumn[outputLineIndex-1];return new viewModel/* ViewLineData */.IP(lineContent,continuesWithWrappedLine,minColumn,maxColumn,startVisibleColumn,tokens,inlineDecorations);}},{key:"getModelColumnOfViewPosition",value:function getModelColumnOfViewPosition(outputLineIndex,outputColumn){this._assertVisible();return this._projectionData.translateToInputOffset(outputLineIndex,outputColumn-1)+1;}},{key:"getViewPositionOfModelPosition",value:function getViewPositionOfModelPosition(deltaLineNumber,inputColumn)/* None */{var affinity=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;this._assertVisible();var r=this._projectionData.translateToOutputPosition(inputColumn-1,affinity);return r.toPosition(deltaLineNumber);}},{key:"getViewLineNumberOfModelPosition",value:function getViewLineNumberOfModelPosition(deltaLineNumber,inputColumn){this._assertVisible();var r=this._projectionData.translateToOutputPosition(inputColumn-1);return deltaLineNumber+r.outputLineIndex;}},{key:"normalizePosition",value:function normalizePosition(outputLineIndex,outputPosition,affinity){var baseViewLineNumber=outputPosition.lineNumber-outputLineIndex;var normalizedOutputPosition=this._projectionData.normalizeOutputPosition(outputLineIndex,outputPosition.column-1,affinity);var result=normalizedOutputPosition.toPosition(baseViewLineNumber);return result;}},{key:"getInjectedTextAt",value:function getInjectedTextAt(outputLineIndex,outputColumn){return this._projectionData.getInjectedText(outputLineIndex,outputColumn-1);}},{key:"_assertVisible",value:function _assertVisible(){if(!this._isVisible){throw new Error('Not supported');}}}]);return ModelLineProjection;}();/**
 * This projection does not change the model line.
*/var IdentityModelLineProjection=/*#__PURE__*/function(){function IdentityModelLineProjection(){modelLineProjection_classCallCheck(this,IdentityModelLineProjection);}modelLineProjection_createClass(IdentityModelLineProjection,[{key:"isVisible",value:function isVisible(){return true;}},{key:"setVisible",value:function setVisible(isVisible){if(isVisible){return this;}return HiddenModelLineProjection.INSTANCE;}},{key:"getProjectionData",value:function getProjectionData(){return null;}},{key:"getViewLineCount",value:function getViewLineCount(){return 1;}},{key:"getViewLineContent",value:function getViewLineContent(model,modelLineNumber,_outputLineIndex){return model.getLineContent(modelLineNumber);}},{key:"getViewLineLength",value:function getViewLineLength(model,modelLineNumber,_outputLineIndex){return model.getLineLength(modelLineNumber);}},{key:"getViewLineMinColumn",value:function getViewLineMinColumn(model,modelLineNumber,_outputLineIndex){return model.getLineMinColumn(modelLineNumber);}},{key:"getViewLineMaxColumn",value:function getViewLineMaxColumn(model,modelLineNumber,_outputLineIndex){return model.getLineMaxColumn(modelLineNumber);}},{key:"getViewLineData",value:function getViewLineData(model,modelLineNumber,_outputLineIndex){var lineTokens=model.getLineTokens(modelLineNumber);var lineContent=lineTokens.getLineContent();return new viewModel/* ViewLineData */.IP(lineContent,false,1,lineContent.length+1,0,lineTokens.inflate(),null);}},{key:"getViewLinesData",value:function getViewLinesData(model,modelLineNumber,_fromOuputLineIndex,_toOutputLineIndex,globalStartIndex,needed,result){if(!needed[globalStartIndex]){result[globalStartIndex]=null;return;}result[globalStartIndex]=this.getViewLineData(model,modelLineNumber,0);}},{key:"getModelColumnOfViewPosition",value:function getModelColumnOfViewPosition(_outputLineIndex,outputColumn){return outputColumn;}},{key:"getViewPositionOfModelPosition",value:function getViewPositionOfModelPosition(deltaLineNumber,inputColumn){return new core_position/* Position */.L(deltaLineNumber,inputColumn);}},{key:"getViewLineNumberOfModelPosition",value:function getViewLineNumberOfModelPosition(deltaLineNumber,_inputColumn){return deltaLineNumber;}},{key:"normalizePosition",value:function normalizePosition(outputLineIndex,outputPosition,affinity){return outputPosition;}},{key:"getInjectedTextAt",value:function getInjectedTextAt(_outputLineIndex,_outputColumn){return null;}}]);return IdentityModelLineProjection;}();IdentityModelLineProjection.INSTANCE=new IdentityModelLineProjection();/**
 * This projection hides the model line.
 */var HiddenModelLineProjection=/*#__PURE__*/function(){function HiddenModelLineProjection(){modelLineProjection_classCallCheck(this,HiddenModelLineProjection);}modelLineProjection_createClass(HiddenModelLineProjection,[{key:"isVisible",value:function isVisible(){return false;}},{key:"setVisible",value:function setVisible(isVisible){if(!isVisible){return this;}return IdentityModelLineProjection.INSTANCE;}},{key:"getProjectionData",value:function getProjectionData(){return null;}},{key:"getViewLineCount",value:function getViewLineCount(){return 0;}},{key:"getViewLineContent",value:function getViewLineContent(_model,_modelLineNumber,_outputLineIndex){throw new Error('Not supported');}},{key:"getViewLineLength",value:function getViewLineLength(_model,_modelLineNumber,_outputLineIndex){throw new Error('Not supported');}},{key:"getViewLineMinColumn",value:function getViewLineMinColumn(_model,_modelLineNumber,_outputLineIndex){throw new Error('Not supported');}},{key:"getViewLineMaxColumn",value:function getViewLineMaxColumn(_model,_modelLineNumber,_outputLineIndex){throw new Error('Not supported');}},{key:"getViewLineData",value:function getViewLineData(_model,_modelLineNumber,_outputLineIndex){throw new Error('Not supported');}},{key:"getViewLinesData",value:function getViewLinesData(_model,_modelLineNumber,_fromOuputLineIndex,_toOutputLineIndex,_globalStartIndex,_needed,_result){throw new Error('Not supported');}},{key:"getModelColumnOfViewPosition",value:function getModelColumnOfViewPosition(_outputLineIndex,_outputColumn){throw new Error('Not supported');}},{key:"getViewPositionOfModelPosition",value:function getViewPositionOfModelPosition(_deltaLineNumber,_inputColumn){throw new Error('Not supported');}},{key:"getViewLineNumberOfModelPosition",value:function getViewLineNumberOfModelPosition(_deltaLineNumber,_inputColumn){throw new Error('Not supported');}},{key:"normalizePosition",value:function normalizePosition(outputLineIndex,outputPosition,affinity){throw new Error('Not supported');}},{key:"getInjectedTextAt",value:function getInjectedTextAt(_outputLineIndex,_outputColumn){throw new Error('Not supported');}}]);return HiddenModelLineProjection;}();HiddenModelLineProjection.INSTANCE=new HiddenModelLineProjection();var _spaces=[''];function spaces(count){if(count>=_spaces.length){for(var i=1;i<=count;i++){_spaces[i]=_makeSpaces(i);}}return _spaces[count];}function _makeSpaces(count){return new Array(count+1).join(' ');}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/prefixSumComputer.js
var prefixSumComputer = __webpack_require__(25498);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelLines.js
function viewModelLines_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=viewModelLines_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function viewModelLines_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return viewModelLines_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return viewModelLines_arrayLikeToArray(o,minLen);}function viewModelLines_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function viewModelLines_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function viewModelLines_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function viewModelLines_createClass(Constructor,protoProps,staticProps){if(protoProps)viewModelLines_defineProperties(Constructor.prototype,protoProps);if(staticProps)viewModelLines_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ViewModelLinesFromProjectedModel=/*#__PURE__*/function(){function ViewModelLinesFromProjectedModel(editorId,model,domLineBreaksComputerFactory,monospaceLineBreaksComputerFactory,fontInfo,tabSize,wrappingStrategy,wrappingColumn,wrappingIndent){viewModelLines_classCallCheck(this,ViewModelLinesFromProjectedModel);this._editorId=editorId;this.model=model;this._validModelVersionId=-1;this._domLineBreaksComputerFactory=domLineBreaksComputerFactory;this._monospaceLineBreaksComputerFactory=monospaceLineBreaksComputerFactory;this.fontInfo=fontInfo;this.tabSize=tabSize;this.wrappingStrategy=wrappingStrategy;this.wrappingColumn=wrappingColumn;this.wrappingIndent=wrappingIndent;this._constructLines(/*resetHiddenAreas*/true,null);}viewModelLines_createClass(ViewModelLinesFromProjectedModel,[{key:"dispose",value:function dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]);}},{key:"createCoordinatesConverter",value:function createCoordinatesConverter(){return new CoordinatesConverter(this);}},{key:"_constructLines",value:function _constructLines(resetHiddenAreas,previousLineBreaks){var _this=this;this.modelLineProjections=[];if(resetHiddenAreas){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]);}var linesContent=this.model.getLinesContent();var injectedTextDecorations=this.model.getInjectedTextDecorations(this._editorId);var lineCount=linesContent.length;var lineBreaksComputer=this.createLineBreaksComputer();var injectedTextQueue=new arrays/* ArrayQueue */.H9(textModelEvents/* LineInjectedText.fromDecorations */.gk.fromDecorations(injectedTextDecorations));var _loop=function _loop(i){var lineInjectedText=injectedTextQueue.takeWhile(function(t){return t.lineNumber===i+1;});lineBreaksComputer.addRequest(linesContent[i],lineInjectedText,previousLineBreaks?previousLineBreaks[i]:null);};for(var i=0;i<lineCount;i++){_loop(i);}var linesBreaks=lineBreaksComputer.finalize();var values=[];var hiddenAreas=this.hiddenAreasDecorationIds.map(function(areaId){return _this.model.getDecorationRange(areaId);}).sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);var hiddenAreaStart=1,hiddenAreaEnd=0;var hiddenAreaIdx=-1;var nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:lineCount+2;for(var _i=0;_i<lineCount;_i++){var lineNumber=_i+1;if(lineNumber===nextLineNumberToUpdateHiddenArea){hiddenAreaIdx++;hiddenAreaStart=hiddenAreas[hiddenAreaIdx].startLineNumber;hiddenAreaEnd=hiddenAreas[hiddenAreaIdx].endLineNumber;nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:lineCount+2;}var isInHiddenArea=lineNumber>=hiddenAreaStart&&lineNumber<=hiddenAreaEnd;var line=createModelLineProjection(linesBreaks[_i],!isInHiddenArea);values[_i]=line.getViewLineCount();this.modelLineProjections[_i]=line;}this._validModelVersionId=this.model.getVersionId();this.projectedModelLineLineCounts=new prefixSumComputer/* ConstantTimePrefixSumComputer */.Ck(values);}},{key:"getHiddenAreas",value:function getHiddenAreas(){var _this2=this;return this.hiddenAreasDecorationIds.map(function(decId){return _this2.model.getDecorationRange(decId);});}},{key:"setHiddenAreas",value:function setHiddenAreas(_ranges){var _this3=this;var validatedRanges=_ranges.map(function(r){return _this3.model.validateRange(r);});var newRanges=normalizeLineRanges(validatedRanges);// TODO@Martin: Please stop calling this method on each model change!
// This checks if there really was a change
var oldRanges=this.hiddenAreasDecorationIds.map(function(areaId){return _this3.model.getDecorationRange(areaId);}).sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);if(newRanges.length===oldRanges.length){var hasDifference=false;for(var i=0;i<newRanges.length;i++){if(!newRanges[i].equalsRange(oldRanges[i])){hasDifference=true;break;}}if(!hasDifference){return false;}}var newDecorations=newRanges.map(function(r){return{range:r,options:textModel/* ModelDecorationOptions.EMPTY */.qx.EMPTY};});this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,newDecorations);var hiddenAreas=newRanges;var hiddenAreaStart=1,hiddenAreaEnd=0;var hiddenAreaIdx=-1;var nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:this.modelLineProjections.length+2;var hasVisibleLine=false;for(var _i2=0;_i2<this.modelLineProjections.length;_i2++){var lineNumber=_i2+1;if(lineNumber===nextLineNumberToUpdateHiddenArea){hiddenAreaIdx++;hiddenAreaStart=hiddenAreas[hiddenAreaIdx].startLineNumber;hiddenAreaEnd=hiddenAreas[hiddenAreaIdx].endLineNumber;nextLineNumberToUpdateHiddenArea=hiddenAreaIdx+1<hiddenAreas.length?hiddenAreaEnd+1:this.modelLineProjections.length+2;}var lineChanged=false;if(lineNumber>=hiddenAreaStart&&lineNumber<=hiddenAreaEnd){// Line should be hidden
if(this.modelLineProjections[_i2].isVisible()){this.modelLineProjections[_i2]=this.modelLineProjections[_i2].setVisible(false);lineChanged=true;}}else{hasVisibleLine=true;// Line should be visible
if(!this.modelLineProjections[_i2].isVisible()){this.modelLineProjections[_i2]=this.modelLineProjections[_i2].setVisible(true);lineChanged=true;}}if(lineChanged){var newOutputLineCount=this.modelLineProjections[_i2].getViewLineCount();this.projectedModelLineLineCounts.setValue(_i2,newOutputLineCount);}}if(!hasVisibleLine){// Cannot have everything be hidden => reveal everything!
this.setHiddenAreas([]);}return true;}},{key:"modelPositionIsVisible",value:function modelPositionIsVisible(modelLineNumber,_modelColumn){if(modelLineNumber<1||modelLineNumber>this.modelLineProjections.length){// invalid arguments
return false;}return this.modelLineProjections[modelLineNumber-1].isVisible();}},{key:"getModelLineViewLineCount",value:function getModelLineViewLineCount(modelLineNumber){if(modelLineNumber<1||modelLineNumber>this.modelLineProjections.length){// invalid arguments
return 1;}return this.modelLineProjections[modelLineNumber-1].getViewLineCount();}},{key:"setTabSize",value:function setTabSize(newTabSize){if(this.tabSize===newTabSize){return false;}this.tabSize=newTabSize;this._constructLines(/*resetHiddenAreas*/false,null);return true;}},{key:"setWrappingSettings",value:function setWrappingSettings(fontInfo,wrappingStrategy,wrappingColumn,wrappingIndent){var equalFontInfo=this.fontInfo.equals(fontInfo);var equalWrappingStrategy=this.wrappingStrategy===wrappingStrategy;var equalWrappingColumn=this.wrappingColumn===wrappingColumn;var equalWrappingIndent=this.wrappingIndent===wrappingIndent;if(equalFontInfo&&equalWrappingStrategy&&equalWrappingColumn&&equalWrappingIndent){return false;}var onlyWrappingColumnChanged=equalFontInfo&&equalWrappingStrategy&&!equalWrappingColumn&&equalWrappingIndent;this.fontInfo=fontInfo;this.wrappingStrategy=wrappingStrategy;this.wrappingColumn=wrappingColumn;this.wrappingIndent=wrappingIndent;var previousLineBreaks=null;if(onlyWrappingColumnChanged){previousLineBreaks=[];for(var i=0,len=this.modelLineProjections.length;i<len;i++){previousLineBreaks[i]=this.modelLineProjections[i].getProjectionData();}}this._constructLines(/*resetHiddenAreas*/false,previousLineBreaks);return true;}},{key:"createLineBreaksComputer",value:function createLineBreaksComputer(){var lineBreaksComputerFactory=this.wrappingStrategy==='advanced'?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return lineBreaksComputerFactory.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent);}},{key:"onModelFlushed",value:function onModelFlushed(){this._constructLines(/*resetHiddenAreas*/true,null);}},{key:"onModelLinesDeleted",value:function onModelLinesDeleted(versionId,fromLineNumber,toLineNumber){if(!versionId||versionId<=this._validModelVersionId){// Here we check for versionId in case the lines were reconstructed in the meantime.
// We don't want to apply stale change events on top of a newer read model state.
return null;}var outputFromLineNumber=fromLineNumber===1?1:this.projectedModelLineLineCounts.getPrefixSum(fromLineNumber-1)+1;var outputToLineNumber=this.projectedModelLineLineCounts.getPrefixSum(toLineNumber);this.modelLineProjections.splice(fromLineNumber-1,toLineNumber-fromLineNumber+1);this.projectedModelLineLineCounts.removeValues(fromLineNumber-1,toLineNumber-fromLineNumber+1);return new viewEvents/* ViewLinesDeletedEvent */.vk(outputFromLineNumber,outputToLineNumber);}},{key:"onModelLinesInserted",value:function onModelLinesInserted(versionId,fromLineNumber,_toLineNumber,lineBreaks){if(!versionId||versionId<=this._validModelVersionId){// Here we check for versionId in case the lines were reconstructed in the meantime.
// We don't want to apply stale change events on top of a newer read model state.
return null;}// cannot use this.getHiddenAreas() because those decorations have already seen the effect of this model change
var isInHiddenArea=fromLineNumber>2&&!this.modelLineProjections[fromLineNumber-2].isVisible();var outputFromLineNumber=fromLineNumber===1?1:this.projectedModelLineLineCounts.getPrefixSum(fromLineNumber-1)+1;var totalOutputLineCount=0;var insertLines=[];var insertPrefixSumValues=[];for(var i=0,len=lineBreaks.length;i<len;i++){var line=createModelLineProjection(lineBreaks[i],!isInHiddenArea);insertLines.push(line);var outputLineCount=line.getViewLineCount();totalOutputLineCount+=outputLineCount;insertPrefixSumValues[i]=outputLineCount;}// TODO@Alex: use arrays.arrayInsert
this.modelLineProjections=this.modelLineProjections.slice(0,fromLineNumber-1).concat(insertLines).concat(this.modelLineProjections.slice(fromLineNumber-1));this.projectedModelLineLineCounts.insertValues(fromLineNumber-1,insertPrefixSumValues);return new viewEvents/* ViewLinesInsertedEvent */.K9(outputFromLineNumber,outputFromLineNumber+totalOutputLineCount-1);}},{key:"onModelLineChanged",value:function onModelLineChanged(versionId,lineNumber,lineBreakData){if(versionId!==null&&versionId<=this._validModelVersionId){// Here we check for versionId in case the lines were reconstructed in the meantime.
// We don't want to apply stale change events on top of a newer read model state.
return[false,null,null,null];}var lineIndex=lineNumber-1;var oldOutputLineCount=this.modelLineProjections[lineIndex].getViewLineCount();var isVisible=this.modelLineProjections[lineIndex].isVisible();var line=createModelLineProjection(lineBreakData,isVisible);this.modelLineProjections[lineIndex]=line;var newOutputLineCount=this.modelLineProjections[lineIndex].getViewLineCount();var lineMappingChanged=false;var changeFrom=0;var changeTo=-1;var insertFrom=0;var insertTo=-1;var deleteFrom=0;var deleteTo=-1;if(oldOutputLineCount>newOutputLineCount){changeFrom=this.projectedModelLineLineCounts.getPrefixSum(lineNumber-1)+1;changeTo=changeFrom+newOutputLineCount-1;deleteFrom=changeTo+1;deleteTo=deleteFrom+(oldOutputLineCount-newOutputLineCount)-1;lineMappingChanged=true;}else if(oldOutputLineCount<newOutputLineCount){changeFrom=this.projectedModelLineLineCounts.getPrefixSum(lineNumber-1)+1;changeTo=changeFrom+oldOutputLineCount-1;insertFrom=changeTo+1;insertTo=insertFrom+(newOutputLineCount-oldOutputLineCount)-1;lineMappingChanged=true;}else{changeFrom=this.projectedModelLineLineCounts.getPrefixSum(lineNumber-1)+1;changeTo=changeFrom+newOutputLineCount-1;}this.projectedModelLineLineCounts.setValue(lineIndex,newOutputLineCount);var viewLinesChangedEvent=changeFrom<=changeTo?new viewEvents/* ViewLinesChangedEvent */.il(changeFrom,changeTo):null;var viewLinesInsertedEvent=insertFrom<=insertTo?new viewEvents/* ViewLinesInsertedEvent */.K9(insertFrom,insertTo):null;var viewLinesDeletedEvent=deleteFrom<=deleteTo?new viewEvents/* ViewLinesDeletedEvent */.vk(deleteFrom,deleteTo):null;return[lineMappingChanged,viewLinesChangedEvent,viewLinesInsertedEvent,viewLinesDeletedEvent];}},{key:"acceptVersionId",value:function acceptVersionId(versionId){this._validModelVersionId=versionId;if(this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()){// At least one line must be visible => reset hidden areas
this.setHiddenAreas([]);}}},{key:"getViewLineCount",value:function getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum();}},{key:"_toValidViewLineNumber",value:function _toValidViewLineNumber(viewLineNumber){if(viewLineNumber<1){return 1;}var viewLineCount=this.getViewLineCount();if(viewLineNumber>viewLineCount){return viewLineCount;}return viewLineNumber|0;}},{key:"getActiveIndentGuide",value:function getActiveIndentGuide(viewLineNumber,minLineNumber,maxLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);minLineNumber=this._toValidViewLineNumber(minLineNumber);maxLineNumber=this._toValidViewLineNumber(maxLineNumber);var modelPosition=this.convertViewPositionToModelPosition(viewLineNumber,this.getViewLineMinColumn(viewLineNumber));var modelMinPosition=this.convertViewPositionToModelPosition(minLineNumber,this.getViewLineMinColumn(minLineNumber));var modelMaxPosition=this.convertViewPositionToModelPosition(maxLineNumber,this.getViewLineMinColumn(maxLineNumber));var result=this.model.guides.getActiveIndentGuide(modelPosition.lineNumber,modelMinPosition.lineNumber,modelMaxPosition.lineNumber);var viewStartPosition=this.convertModelPositionToViewPosition(result.startLineNumber,1);var viewEndPosition=this.convertModelPositionToViewPosition(result.endLineNumber,this.model.getLineMaxColumn(result.endLineNumber));return{startLineNumber:viewStartPosition.lineNumber,endLineNumber:viewEndPosition.lineNumber,indent:result.indent};}// #region ViewLineInfo
},{key:"getViewLineInfo",value:function getViewLineInfo(viewLineNumber){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.projectedModelLineLineCounts.getIndexOf(viewLineNumber-1);var lineIndex=r.index;var remainder=r.remainder;return new ViewLineInfo(lineIndex+1,remainder);}},{key:"getMinColumnOfViewLine",value:function getMinColumnOfViewLine(viewLineInfo){return this.modelLineProjections[viewLineInfo.modelLineNumber-1].getViewLineMinColumn(this.model,viewLineInfo.modelLineNumber,viewLineInfo.modelLineWrappedLineIdx);}},{key:"getModelStartPositionOfViewLine",value:function getModelStartPositionOfViewLine(viewLineInfo){var line=this.modelLineProjections[viewLineInfo.modelLineNumber-1];var minViewColumn=line.getViewLineMinColumn(this.model,viewLineInfo.modelLineNumber,viewLineInfo.modelLineWrappedLineIdx);var column=line.getModelColumnOfViewPosition(viewLineInfo.modelLineWrappedLineIdx,minViewColumn);return new core_position/* Position */.L(viewLineInfo.modelLineNumber,column);}},{key:"getModelEndPositionOfViewLine",value:function getModelEndPositionOfViewLine(viewLineInfo){var line=this.modelLineProjections[viewLineInfo.modelLineNumber-1];var maxViewColumn=line.getViewLineMaxColumn(this.model,viewLineInfo.modelLineNumber,viewLineInfo.modelLineWrappedLineIdx);var column=line.getModelColumnOfViewPosition(viewLineInfo.modelLineWrappedLineIdx,maxViewColumn);return new core_position/* Position */.L(viewLineInfo.modelLineNumber,column);}},{key:"getViewLineInfosGroupedByModelRanges",value:function getViewLineInfosGroupedByModelRanges(viewStartLineNumber,viewEndLineNumber){var startViewLine=this.getViewLineInfo(viewStartLineNumber);var endViewLine=this.getViewLineInfo(viewEndLineNumber);var result=new Array();var lastVisibleModelPos=this.getModelStartPositionOfViewLine(startViewLine);var viewLines=new Array();for(var curModelLine=startViewLine.modelLineNumber;curModelLine<=endViewLine.modelLineNumber;curModelLine++){var line=this.modelLineProjections[curModelLine-1];if(line.isVisible()){var startOffset=curModelLine===startViewLine.modelLineNumber?startViewLine.modelLineWrappedLineIdx:0;var endOffset=curModelLine===endViewLine.modelLineNumber?endViewLine.modelLineWrappedLineIdx+1:line.getViewLineCount();for(var i=startOffset;i<endOffset;i++){viewLines.push(new ViewLineInfo(curModelLine,i));}}if(!line.isVisible()&&lastVisibleModelPos){var lastVisibleModelPos2=new core_position/* Position */.L(curModelLine-1,this.model.getLineMaxColumn(curModelLine-1)+1);var modelRange=core_range/* Range.fromPositions */.e.fromPositions(lastVisibleModelPos,lastVisibleModelPos2);result.push(new ViewLineInfoGroupedByModelRange(modelRange,viewLines));viewLines=[];lastVisibleModelPos=null;}else if(line.isVisible()&&!lastVisibleModelPos){lastVisibleModelPos=new core_position/* Position */.L(curModelLine,1);}}if(lastVisibleModelPos){var _modelRange=core_range/* Range.fromPositions */.e.fromPositions(lastVisibleModelPos,this.getModelEndPositionOfViewLine(endViewLine));result.push(new ViewLineInfoGroupedByModelRange(_modelRange,viewLines));}return result;}// #endregion
},{key:"getViewLinesBracketGuides",value:function getViewLinesBracketGuides(viewStartLineNumber,viewEndLineNumber,activeViewPosition,options){var _this4=this;var modelActivePosition=activeViewPosition?this.convertViewPositionToModelPosition(activeViewPosition.lineNumber,activeViewPosition.column):null;var resultPerViewLine=[];var _iterator=viewModelLines_createForOfIteratorHelper(this.getViewLineInfosGroupedByModelRanges(viewStartLineNumber,viewEndLineNumber)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var group=_step.value;var modelRangeStartLineNumber=group.modelRange.startLineNumber;var bracketGuidesPerModelLine=this.model.guides.getLinesBracketGuides(modelRangeStartLineNumber,group.modelRange.endLineNumber,modelActivePosition,options);var _iterator2=viewModelLines_createForOfIteratorHelper(group.viewLines),_step2;try{var _loop2=function _loop2(){var viewLineInfo=_step2.value;if(viewLineInfo.isWrappedLineContinuation&&_this4.getMinColumnOfViewLine(viewLineInfo)===1){// Don't add indent guides when the wrapped line continuation has no wrapping-indentation.
resultPerViewLine.push([]);}else{var bracketGuides=bracketGuidesPerModelLine[viewLineInfo.modelLineNumber-modelRangeStartLineNumber];// visibleColumns stay as they are (this is a bug and needs to be fixed, but it is not a regression)
// model-columns must be converted to view-model columns.
bracketGuides=bracketGuides.map(function(g){return g.horizontalLine?new textModelGuides/* IndentGuide */.UO(g.visibleColumn,g.className,new textModelGuides/* IndentGuideHorizontalLine */.vW(g.horizontalLine.top,_this4.convertModelPositionToViewPosition(viewLineInfo.modelLineNumber,g.horizontalLine.endColumn).column)):g;});resultPerViewLine.push(bracketGuides);}};for(_iterator2.s();!(_step2=_iterator2.n()).done;){_loop2();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return resultPerViewLine;}},{key:"getViewLinesIndentGuides",value:function getViewLinesIndentGuides(viewStartLineNumber,viewEndLineNumber){// TODO: Use the same code as in `getViewLinesBracketGuides`.
// Future TODO: Merge with `getViewLinesBracketGuides`.
// However, this requires more refactoring of indent guides.
viewStartLineNumber=this._toValidViewLineNumber(viewStartLineNumber);viewEndLineNumber=this._toValidViewLineNumber(viewEndLineNumber);var modelStart=this.convertViewPositionToModelPosition(viewStartLineNumber,this.getViewLineMinColumn(viewStartLineNumber));var modelEnd=this.convertViewPositionToModelPosition(viewEndLineNumber,this.getViewLineMaxColumn(viewEndLineNumber));var result=[];var resultRepeatCount=[];var resultRepeatOption=[];var modelStartLineIndex=modelStart.lineNumber-1;var modelEndLineIndex=modelEnd.lineNumber-1;var reqStart=null;for(var modelLineIndex=modelStartLineIndex;modelLineIndex<=modelEndLineIndex;modelLineIndex++){var line=this.modelLineProjections[modelLineIndex];if(line.isVisible()){var viewLineStartIndex=line.getViewLineNumberOfModelPosition(0,modelLineIndex===modelStartLineIndex?modelStart.column:1);var viewLineEndIndex=line.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(modelLineIndex+1));var count=viewLineEndIndex-viewLineStartIndex+1;var option=0/* BlockNone */;if(count>1&&line.getViewLineMinColumn(this.model,modelLineIndex+1,viewLineEndIndex)===1){// wrapped lines should block indent guides
option=viewLineStartIndex===0?1/* BlockSubsequent */:2/* BlockAll */;}resultRepeatCount.push(count);resultRepeatOption.push(option);// merge into previous request
if(reqStart===null){reqStart=new core_position/* Position */.L(modelLineIndex+1,0);}}else{// hit invisible line => flush request
if(reqStart!==null){result=result.concat(this.model.guides.getLinesIndentGuides(reqStart.lineNumber,modelLineIndex));reqStart=null;}}}if(reqStart!==null){result=result.concat(this.model.guides.getLinesIndentGuides(reqStart.lineNumber,modelEnd.lineNumber));reqStart=null;}var viewLineCount=viewEndLineNumber-viewStartLineNumber+1;var viewIndents=new Array(viewLineCount);var currIndex=0;for(var i=0,len=result.length;i<len;i++){var value=result[i];var _count=Math.min(viewLineCount-currIndex,resultRepeatCount[i]);var _option=resultRepeatOption[i];var blockAtIndex=void 0;if(_option===2/* BlockAll */){blockAtIndex=0;}else if(_option===1/* BlockSubsequent */){blockAtIndex=1;}else{blockAtIndex=_count;}for(var j=0;j<_count;j++){if(j===blockAtIndex){value=0;}viewIndents[currIndex++]=value;}}return viewIndents;}},{key:"getViewLineContent",value:function getViewLineContent(viewLineNumber){var info=this.getViewLineInfo(viewLineNumber);return this.modelLineProjections[info.modelLineNumber-1].getViewLineContent(this.model,info.modelLineNumber,info.modelLineWrappedLineIdx);}},{key:"getViewLineLength",value:function getViewLineLength(viewLineNumber){var info=this.getViewLineInfo(viewLineNumber);return this.modelLineProjections[info.modelLineNumber-1].getViewLineLength(this.model,info.modelLineNumber,info.modelLineWrappedLineIdx);}},{key:"getViewLineMinColumn",value:function getViewLineMinColumn(viewLineNumber){var info=this.getViewLineInfo(viewLineNumber);return this.modelLineProjections[info.modelLineNumber-1].getViewLineMinColumn(this.model,info.modelLineNumber,info.modelLineWrappedLineIdx);}},{key:"getViewLineMaxColumn",value:function getViewLineMaxColumn(viewLineNumber){var info=this.getViewLineInfo(viewLineNumber);return this.modelLineProjections[info.modelLineNumber-1].getViewLineMaxColumn(this.model,info.modelLineNumber,info.modelLineWrappedLineIdx);}},{key:"getViewLineData",value:function getViewLineData(viewLineNumber){var info=this.getViewLineInfo(viewLineNumber);return this.modelLineProjections[info.modelLineNumber-1].getViewLineData(this.model,info.modelLineNumber,info.modelLineWrappedLineIdx);}},{key:"getViewLinesData",value:function getViewLinesData(viewStartLineNumber,viewEndLineNumber,needed){viewStartLineNumber=this._toValidViewLineNumber(viewStartLineNumber);viewEndLineNumber=this._toValidViewLineNumber(viewEndLineNumber);var start=this.projectedModelLineLineCounts.getIndexOf(viewStartLineNumber-1);var viewLineNumber=viewStartLineNumber;var startModelLineIndex=start.index;var startRemainder=start.remainder;var result=[];for(var modelLineIndex=startModelLineIndex,len=this.model.getLineCount();modelLineIndex<len;modelLineIndex++){var line=this.modelLineProjections[modelLineIndex];if(!line.isVisible()){continue;}var fromViewLineIndex=modelLineIndex===startModelLineIndex?startRemainder:0;var remainingViewLineCount=line.getViewLineCount()-fromViewLineIndex;var lastLine=false;if(viewLineNumber+remainingViewLineCount>viewEndLineNumber){lastLine=true;remainingViewLineCount=viewEndLineNumber-viewLineNumber+1;}line.getViewLinesData(this.model,modelLineIndex+1,fromViewLineIndex,remainingViewLineCount,viewLineNumber-viewStartLineNumber,needed,result);viewLineNumber+=remainingViewLineCount;if(lastLine){break;}}return result;}},{key:"validateViewPosition",value:function validateViewPosition(viewLineNumber,viewColumn,expectedModelPosition){viewLineNumber=this._toValidViewLineNumber(viewLineNumber);var r=this.projectedModelLineLineCounts.getIndexOf(viewLineNumber-1);var lineIndex=r.index;var remainder=r.remainder;var line=this.modelLineProjections[lineIndex];var minColumn=line.getViewLineMinColumn(this.model,lineIndex+1,remainder);var maxColumn=line.getViewLineMaxColumn(this.model,lineIndex+1,remainder);if(viewColumn<minColumn){viewColumn=minColumn;}if(viewColumn>maxColumn){viewColumn=maxColumn;}var computedModelColumn=line.getModelColumnOfViewPosition(remainder,viewColumn);var computedModelPosition=this.model.validatePosition(new core_position/* Position */.L(lineIndex+1,computedModelColumn));if(computedModelPosition.equals(expectedModelPosition)){return new core_position/* Position */.L(viewLineNumber,viewColumn);}return this.convertModelPositionToViewPosition(expectedModelPosition.lineNumber,expectedModelPosition.column);}},{key:"validateViewRange",value:function validateViewRange(viewRange,expectedModelRange){var validViewStart=this.validateViewPosition(viewRange.startLineNumber,viewRange.startColumn,expectedModelRange.getStartPosition());var validViewEnd=this.validateViewPosition(viewRange.endLineNumber,viewRange.endColumn,expectedModelRange.getEndPosition());return new core_range/* Range */.e(validViewStart.lineNumber,validViewStart.column,validViewEnd.lineNumber,validViewEnd.column);}},{key:"convertViewPositionToModelPosition",value:function convertViewPositionToModelPosition(viewLineNumber,viewColumn){var info=this.getViewLineInfo(viewLineNumber);var inputColumn=this.modelLineProjections[info.modelLineNumber-1].getModelColumnOfViewPosition(info.modelLineWrappedLineIdx,viewColumn);// console.log('out -> in ' + viewLineNumber + ',' + viewColumn + ' ===> ' + (lineIndex+1) + ',' + inputColumn);
return this.model.validatePosition(new core_position/* Position */.L(info.modelLineNumber,inputColumn));}},{key:"convertViewRangeToModelRange",value:function convertViewRangeToModelRange(viewRange){var start=this.convertViewPositionToModelPosition(viewRange.startLineNumber,viewRange.startColumn);var end=this.convertViewPositionToModelPosition(viewRange.endLineNumber,viewRange.endColumn);return new core_range/* Range */.e(start.lineNumber,start.column,end.lineNumber,end.column);}},{key:"convertModelPositionToViewPosition",value:function convertModelPositionToViewPosition(_modelLineNumber,_modelColumn)/* None */{var affinity=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var validPosition=this.model.validatePosition(new core_position/* Position */.L(_modelLineNumber,_modelColumn));var inputLineNumber=validPosition.lineNumber;var inputColumn=validPosition.column;var lineIndex=inputLineNumber-1,lineIndexChanged=false;while(lineIndex>0&&!this.modelLineProjections[lineIndex].isVisible()){lineIndex--;lineIndexChanged=true;}if(lineIndex===0&&!this.modelLineProjections[lineIndex].isVisible()){// Could not reach a real line
// console.log('in -> out ' + inputLineNumber + ',' + inputColumn + ' ===> ' + 1 + ',' + 1);
return new core_position/* Position */.L(1,1);}var deltaLineNumber=1+this.projectedModelLineLineCounts.getPrefixSum(lineIndex);var r;if(lineIndexChanged){r=this.modelLineProjections[lineIndex].getViewPositionOfModelPosition(deltaLineNumber,this.model.getLineMaxColumn(lineIndex+1),affinity);}else{r=this.modelLineProjections[inputLineNumber-1].getViewPositionOfModelPosition(deltaLineNumber,inputColumn,affinity);}// console.log('in -> out ' + inputLineNumber + ',' + inputColumn + ' ===> ' + r.lineNumber + ',' + r);
return r;}/**
     * @param affinity The affinity in case of an empty range. Has no effect for non-empty ranges.
    */},{key:"convertModelRangeToViewRange",value:function convertModelRangeToViewRange(modelRange)/* Left */{var affinity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(modelRange.isEmpty()){var start=this.convertModelPositionToViewPosition(modelRange.startLineNumber,modelRange.startColumn,affinity);return core_range/* Range.fromPositions */.e.fromPositions(start);}else{var _start=this.convertModelPositionToViewPosition(modelRange.startLineNumber,modelRange.startColumn,1/* Right */);var end=this.convertModelPositionToViewPosition(modelRange.endLineNumber,modelRange.endColumn,0/* Left */);return new core_range/* Range */.e(_start.lineNumber,_start.column,end.lineNumber,end.column);}}},{key:"getViewLineNumberOfModelPosition",value:function getViewLineNumberOfModelPosition(modelLineNumber,modelColumn){var lineIndex=modelLineNumber-1;if(this.modelLineProjections[lineIndex].isVisible()){// this model line is visible
var _deltaLineNumber=1+this.projectedModelLineLineCounts.getPrefixSum(lineIndex);return this.modelLineProjections[lineIndex].getViewLineNumberOfModelPosition(_deltaLineNumber,modelColumn);}// this model line is not visible
while(lineIndex>0&&!this.modelLineProjections[lineIndex].isVisible()){lineIndex--;}if(lineIndex===0&&!this.modelLineProjections[lineIndex].isVisible()){// Could not reach a real line
return 1;}var deltaLineNumber=1+this.projectedModelLineLineCounts.getPrefixSum(lineIndex);return this.modelLineProjections[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber,this.model.getLineMaxColumn(lineIndex+1));}},{key:"getDecorationsInRange",value:function getDecorationsInRange(range,ownerId,filterOutValidation){var modelStart=this.convertViewPositionToModelPosition(range.startLineNumber,range.startColumn);var modelEnd=this.convertViewPositionToModelPosition(range.endLineNumber,range.endColumn);if(modelEnd.lineNumber-modelStart.lineNumber<=range.endLineNumber-range.startLineNumber){// most likely there are no hidden lines => fast path
// fetch decorations from column 1 to cover the case of wrapped lines that have whole line decorations at column 1
return this.model.getDecorationsInRange(new core_range/* Range */.e(modelStart.lineNumber,1,modelEnd.lineNumber,modelEnd.column),ownerId,filterOutValidation);}var result=[];var modelStartLineIndex=modelStart.lineNumber-1;var modelEndLineIndex=modelEnd.lineNumber-1;var reqStart=null;for(var modelLineIndex=modelStartLineIndex;modelLineIndex<=modelEndLineIndex;modelLineIndex++){var line=this.modelLineProjections[modelLineIndex];if(line.isVisible()){// merge into previous request
if(reqStart===null){reqStart=new core_position/* Position */.L(modelLineIndex+1,modelLineIndex===modelStartLineIndex?modelStart.column:1);}}else{// hit invisible line => flush request
if(reqStart!==null){var maxLineColumn=this.model.getLineMaxColumn(modelLineIndex);result=result.concat(this.model.getDecorationsInRange(new core_range/* Range */.e(reqStart.lineNumber,reqStart.column,modelLineIndex,maxLineColumn),ownerId,filterOutValidation));reqStart=null;}}}if(reqStart!==null){result=result.concat(this.model.getDecorationsInRange(new core_range/* Range */.e(reqStart.lineNumber,reqStart.column,modelEnd.lineNumber,modelEnd.column),ownerId,filterOutValidation));reqStart=null;}result.sort(function(a,b){var res=core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(a.range,b.range);if(res===0){if(a.id<b.id){return-1;}if(a.id>b.id){return 1;}return 0;}return res;});// Eliminate duplicate decorations that might have intersected our visible ranges multiple times
var finalResult=[],finalResultLen=0;var prevDecId=null;var _iterator3=viewModelLines_createForOfIteratorHelper(result),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var dec=_step3.value;var decId=dec.id;if(prevDecId===decId){// skip
continue;}prevDecId=decId;finalResult[finalResultLen++]=dec;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return finalResult;}},{key:"getInjectedTextAt",value:function getInjectedTextAt(position){var info=this.getViewLineInfo(position.lineNumber);return this.modelLineProjections[info.modelLineNumber-1].getInjectedTextAt(info.modelLineWrappedLineIdx,position.column);}},{key:"normalizePosition",value:function normalizePosition(position,affinity){var info=this.getViewLineInfo(position.lineNumber);return this.modelLineProjections[info.modelLineNumber-1].normalizePosition(info.modelLineWrappedLineIdx,position,affinity);}},{key:"getLineIndentColumn",value:function getLineIndentColumn(lineNumber){var info=this.getViewLineInfo(lineNumber);if(info.modelLineWrappedLineIdx===0){return this.model.getLineIndentColumn(info.modelLineNumber);}// wrapped lines have no indentation.
// We deliberately don't handle the case that indentation is wrapped
// to avoid two view lines reporting indentation for the very same model line.
return 0;}}]);return ViewModelLinesFromProjectedModel;}();/**
 * Overlapping unsorted ranges:
 * [   )      [ )       [  )
 *    [    )      [       )
 * ->
 * Non overlapping sorted ranges:
 * [       )  [ ) [        )
 *
 * Note: This function only considers line information! Columns are ignored.
*/function normalizeLineRanges(ranges){if(ranges.length===0){return[];}var sortedRanges=ranges.slice();sortedRanges.sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);var result=[];var currentRangeStart=sortedRanges[0].startLineNumber;var currentRangeEnd=sortedRanges[0].endLineNumber;for(var i=1,len=sortedRanges.length;i<len;i++){var range=sortedRanges[i];if(range.startLineNumber>currentRangeEnd+1){result.push(new core_range/* Range */.e(currentRangeStart,1,currentRangeEnd,1));currentRangeStart=range.startLineNumber;currentRangeEnd=range.endLineNumber;}else if(range.endLineNumber>currentRangeEnd){currentRangeEnd=range.endLineNumber;}}result.push(new core_range/* Range */.e(currentRangeStart,1,currentRangeEnd,1));return result;}/**
 * Represents a view line. Can be used to efficiently query more information about it.
 */var ViewLineInfo=/*#__PURE__*/function(){function ViewLineInfo(modelLineNumber,modelLineWrappedLineIdx){viewModelLines_classCallCheck(this,ViewLineInfo);this.modelLineNumber=modelLineNumber;this.modelLineWrappedLineIdx=modelLineWrappedLineIdx;}viewModelLines_createClass(ViewLineInfo,[{key:"isWrappedLineContinuation",get:function get(){return this.modelLineWrappedLineIdx>0;}}]);return ViewLineInfo;}();/**
 * A list of view lines that have a contiguous span in the model.
*/var ViewLineInfoGroupedByModelRange=function ViewLineInfoGroupedByModelRange(modelRange,viewLines){viewModelLines_classCallCheck(this,ViewLineInfoGroupedByModelRange);this.modelRange=modelRange;this.viewLines=viewLines;};var CoordinatesConverter=/*#__PURE__*/function(){function CoordinatesConverter(lines){viewModelLines_classCallCheck(this,CoordinatesConverter);this._lines=lines;}// View -> Model conversion and related methods
viewModelLines_createClass(CoordinatesConverter,[{key:"convertViewPositionToModelPosition",value:function convertViewPositionToModelPosition(viewPosition){return this._lines.convertViewPositionToModelPosition(viewPosition.lineNumber,viewPosition.column);}},{key:"convertViewRangeToModelRange",value:function convertViewRangeToModelRange(viewRange){return this._lines.convertViewRangeToModelRange(viewRange);}},{key:"validateViewPosition",value:function validateViewPosition(viewPosition,expectedModelPosition){return this._lines.validateViewPosition(viewPosition.lineNumber,viewPosition.column,expectedModelPosition);}},{key:"validateViewRange",value:function validateViewRange(viewRange,expectedModelRange){return this._lines.validateViewRange(viewRange,expectedModelRange);}// Model -> View conversion and related methods
},{key:"convertModelPositionToViewPosition",value:function convertModelPositionToViewPosition(modelPosition,affinity){return this._lines.convertModelPositionToViewPosition(modelPosition.lineNumber,modelPosition.column,affinity);}},{key:"convertModelRangeToViewRange",value:function convertModelRangeToViewRange(modelRange,affinity){return this._lines.convertModelRangeToViewRange(modelRange,affinity);}},{key:"modelPositionIsVisible",value:function modelPositionIsVisible(modelPosition){return this._lines.modelPositionIsVisible(modelPosition.lineNumber,modelPosition.column);}},{key:"getModelLineViewLineCount",value:function getModelLineViewLineCount(modelLineNumber){return this._lines.getModelLineViewLineCount(modelLineNumber);}},{key:"getViewLineNumberOfModelPosition",value:function getViewLineNumberOfModelPosition(modelLineNumber,modelColumn){return this._lines.getViewLineNumberOfModelPosition(modelLineNumber,modelColumn);}}]);return CoordinatesConverter;}();var ViewModelLinesFromModelAsIs=/*#__PURE__*/function(){function ViewModelLinesFromModelAsIs(model){viewModelLines_classCallCheck(this,ViewModelLinesFromModelAsIs);this.model=model;}viewModelLines_createClass(ViewModelLinesFromModelAsIs,[{key:"dispose",value:function dispose(){}},{key:"createCoordinatesConverter",value:function createCoordinatesConverter(){return new IdentityCoordinatesConverter(this);}},{key:"getHiddenAreas",value:function getHiddenAreas(){return[];}},{key:"setHiddenAreas",value:function setHiddenAreas(_ranges){return false;}},{key:"setTabSize",value:function setTabSize(_newTabSize){return false;}},{key:"setWrappingSettings",value:function setWrappingSettings(_fontInfo,_wrappingStrategy,_wrappingColumn,_wrappingIndent){return false;}},{key:"createLineBreaksComputer",value:function createLineBreaksComputer(){var result=[];return{addRequest:function addRequest(lineText,injectedText,previousLineBreakData){result.push(null);},finalize:function finalize(){return result;}};}},{key:"onModelFlushed",value:function onModelFlushed(){}},{key:"onModelLinesDeleted",value:function onModelLinesDeleted(_versionId,fromLineNumber,toLineNumber){return new viewEvents/* ViewLinesDeletedEvent */.vk(fromLineNumber,toLineNumber);}},{key:"onModelLinesInserted",value:function onModelLinesInserted(_versionId,fromLineNumber,toLineNumber,lineBreaks){return new viewEvents/* ViewLinesInsertedEvent */.K9(fromLineNumber,toLineNumber);}},{key:"onModelLineChanged",value:function onModelLineChanged(_versionId,lineNumber,lineBreakData){return[false,new viewEvents/* ViewLinesChangedEvent */.il(lineNumber,lineNumber),null,null];}},{key:"acceptVersionId",value:function acceptVersionId(_versionId){}},{key:"getViewLineCount",value:function getViewLineCount(){return this.model.getLineCount();}},{key:"getActiveIndentGuide",value:function getActiveIndentGuide(viewLineNumber,_minLineNumber,_maxLineNumber){return{startLineNumber:viewLineNumber,endLineNumber:viewLineNumber,indent:0};}},{key:"getViewLinesBracketGuides",value:function getViewLinesBracketGuides(startLineNumber,endLineNumber,activePosition){return new Array(endLineNumber-startLineNumber+1).fill([]);}},{key:"getViewLinesIndentGuides",value:function getViewLinesIndentGuides(viewStartLineNumber,viewEndLineNumber){var viewLineCount=viewEndLineNumber-viewStartLineNumber+1;var result=new Array(viewLineCount);for(var i=0;i<viewLineCount;i++){result[i]=0;}return result;}},{key:"getViewLineContent",value:function getViewLineContent(viewLineNumber){return this.model.getLineContent(viewLineNumber);}},{key:"getViewLineLength",value:function getViewLineLength(viewLineNumber){return this.model.getLineLength(viewLineNumber);}},{key:"getViewLineMinColumn",value:function getViewLineMinColumn(viewLineNumber){return this.model.getLineMinColumn(viewLineNumber);}},{key:"getViewLineMaxColumn",value:function getViewLineMaxColumn(viewLineNumber){return this.model.getLineMaxColumn(viewLineNumber);}},{key:"getViewLineData",value:function getViewLineData(viewLineNumber){var lineTokens=this.model.getLineTokens(viewLineNumber);var lineContent=lineTokens.getLineContent();return new viewModel/* ViewLineData */.IP(lineContent,false,1,lineContent.length+1,0,lineTokens.inflate(),null);}},{key:"getViewLinesData",value:function getViewLinesData(viewStartLineNumber,viewEndLineNumber,needed){var lineCount=this.model.getLineCount();viewStartLineNumber=Math.min(Math.max(1,viewStartLineNumber),lineCount);viewEndLineNumber=Math.min(Math.max(1,viewEndLineNumber),lineCount);var result=[];for(var lineNumber=viewStartLineNumber;lineNumber<=viewEndLineNumber;lineNumber++){var idx=lineNumber-viewStartLineNumber;result[idx]=needed[idx]?this.getViewLineData(lineNumber):null;}return result;}},{key:"getDecorationsInRange",value:function getDecorationsInRange(range,ownerId,filterOutValidation){return this.model.getDecorationsInRange(range,ownerId,filterOutValidation);}},{key:"normalizePosition",value:function normalizePosition(position,affinity){return this.model.normalizePosition(position,affinity);}},{key:"getLineIndentColumn",value:function getLineIndentColumn(lineNumber){return this.model.getLineIndentColumn(lineNumber);}},{key:"getInjectedTextAt",value:function getInjectedTextAt(position){// Identity lines collection does not support injected text.
return null;}}]);return ViewModelLinesFromModelAsIs;}();var IdentityCoordinatesConverter=/*#__PURE__*/function(){function IdentityCoordinatesConverter(lines){viewModelLines_classCallCheck(this,IdentityCoordinatesConverter);this._lines=lines;}viewModelLines_createClass(IdentityCoordinatesConverter,[{key:"_validPosition",value:function _validPosition(pos){return this._lines.model.validatePosition(pos);}},{key:"_validRange",value:function _validRange(range){return this._lines.model.validateRange(range);}// View -> Model conversion and related methods
},{key:"convertViewPositionToModelPosition",value:function convertViewPositionToModelPosition(viewPosition){return this._validPosition(viewPosition);}},{key:"convertViewRangeToModelRange",value:function convertViewRangeToModelRange(viewRange){return this._validRange(viewRange);}},{key:"validateViewPosition",value:function validateViewPosition(_viewPosition,expectedModelPosition){return this._validPosition(expectedModelPosition);}},{key:"validateViewRange",value:function validateViewRange(_viewRange,expectedModelRange){return this._validRange(expectedModelRange);}// Model -> View conversion and related methods
},{key:"convertModelPositionToViewPosition",value:function convertModelPositionToViewPosition(modelPosition){return this._validPosition(modelPosition);}},{key:"convertModelRangeToViewRange",value:function convertModelRangeToViewRange(modelRange){return this._validRange(modelRange);}},{key:"modelPositionIsVisible",value:function modelPositionIsVisible(modelPosition){var lineCount=this._lines.model.getLineCount();if(modelPosition.lineNumber<1||modelPosition.lineNumber>lineCount){// invalid arguments
return false;}return true;}},{key:"getModelLineViewLineCount",value:function getModelLineViewLineCount(modelLineNumber){return 1;}},{key:"getViewLineNumberOfModelPosition",value:function getViewLineNumberOfModelPosition(modelLineNumber,modelColumn){return modelLineNumber;}}]);return IdentityCoordinatesConverter;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelImpl.js
function viewModelImpl_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){viewModelImpl_typeof=function _typeof(obj){return typeof obj;};}else{viewModelImpl_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return viewModelImpl_typeof(obj);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||viewModelImpl_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return viewModelImpl_arrayLikeToArray(arr);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||viewModelImpl_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function viewModelImpl_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=viewModelImpl_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function viewModelImpl_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return viewModelImpl_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return viewModelImpl_arrayLikeToArray(o,minLen);}function viewModelImpl_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function viewModelImpl_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function viewModelImpl_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function viewModelImpl_createClass(Constructor,protoProps,staticProps){if(protoProps)viewModelImpl_defineProperties(Constructor.prototype,protoProps);if(staticProps)viewModelImpl_defineProperties(Constructor,staticProps);return Constructor;}function viewModelImpl_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){viewModelImpl_get=Reflect.get;}else{viewModelImpl_get=function _get(target,property,receiver){var base=viewModelImpl_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return viewModelImpl_get(target,property,receiver||target);}function viewModelImpl_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=viewModelImpl_getPrototypeOf(object);if(object===null)break;}return object;}function viewModelImpl_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)viewModelImpl_setPrototypeOf(subClass,superClass);}function viewModelImpl_setPrototypeOf(o,p){viewModelImpl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return viewModelImpl_setPrototypeOf(o,p);}function viewModelImpl_createSuper(Derived){var hasNativeReflectConstruct=viewModelImpl_isNativeReflectConstruct();return function _createSuperInternal(){var Super=viewModelImpl_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=viewModelImpl_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return viewModelImpl_possibleConstructorReturn(this,result);};}function viewModelImpl_possibleConstructorReturn(self,call){if(call&&(viewModelImpl_typeof(call)==="object"||typeof call==="function")){return call;}return viewModelImpl_assertThisInitialized(self);}function viewModelImpl_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function viewModelImpl_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function viewModelImpl_getPrototypeOf(o){viewModelImpl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return viewModelImpl_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var USE_IDENTITY_LINES_COLLECTION=true;var ViewModel=/*#__PURE__*/function(_Disposable){viewModelImpl_inherits(ViewModel,_Disposable);var _super=viewModelImpl_createSuper(ViewModel);function ViewModel(editorId,configuration,model,domLineBreaksComputerFactory,monospaceLineBreaksComputerFactory,scheduleAtNextAnimationFrame,languageConfigurationService){var _this;viewModelImpl_classCallCheck(this,ViewModel);_this=_super.call(this);_this.languageConfigurationService=languageConfigurationService;_this._editorId=editorId;_this._configuration=configuration;_this.model=model;_this._eventDispatcher=new viewModelEventDispatcher/* ViewModelEventDispatcher */.nu();_this.onEvent=_this._eventDispatcher.onEvent;_this.cursorConfig=new cursorCommon/* CursorConfiguration */.LM(_this.model.getLanguageId(),_this.model.getOptions(),_this._configuration,_this.languageConfigurationService);_this._tokenizeViewportSoon=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this.tokenizeViewport();},50));_this._updateConfigurationViewLineCount=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this._updateConfigurationViewLineCountNow();},0));_this._hasFocus=false;_this._viewportStartLine=-1;_this._viewportStartLineTrackedRange=null;_this._viewportStartLineDelta=0;if(USE_IDENTITY_LINES_COLLECTION&&_this.model.isTooLargeForTokenization()){_this._lines=new ViewModelLinesFromModelAsIs(_this.model);}else{var options=_this._configuration.options;var fontInfo=options.get(44/* fontInfo */);var wrappingStrategy=options.get(125/* wrappingStrategy */);var wrappingInfo=options.get(132/* wrappingInfo */);var wrappingIndent=options.get(124/* wrappingIndent */);_this._lines=new ViewModelLinesFromProjectedModel(_this._editorId,_this.model,domLineBreaksComputerFactory,monospaceLineBreaksComputerFactory,fontInfo,_this.model.getOptions().tabSize,wrappingStrategy,wrappingInfo.wrappingColumn,wrappingIndent);}_this.coordinatesConverter=_this._lines.createCoordinatesConverter();_this._cursor=_this._register(new cursor/* CursorsController */.U(model,viewModelImpl_assertThisInitialized(_this),_this.coordinatesConverter,_this.cursorConfig));_this.viewLayout=_this._register(new ViewLayout(_this._configuration,_this.getLineCount(),scheduleAtNextAnimationFrame));_this._register(_this.viewLayout.onDidScroll(function(e){if(e.scrollTopChanged){_this._tokenizeViewportSoon.schedule();}_this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewScrollChangedEvent */.Ay(e));_this._eventDispatcher.emitOutgoingEvent(new viewModelEventDispatcher/* ScrollChangedEvent */.Pt(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop));}));_this._register(_this.viewLayout.onDidContentSizeChange(function(e){_this._eventDispatcher.emitOutgoingEvent(e);}));_this._decorations=new viewModelDecorations/* ViewModelDecorations */.CU(_this._editorId,_this.model,_this._configuration,_this._lines,_this.coordinatesConverter);_this._registerModelEvents();_this._register(_this._configuration.onDidChangeFast(function(e){try{var eventsCollector=_this._eventDispatcher.beginEmitViewEvents();_this._onConfigurationChanged(eventsCollector,e);}finally{_this._eventDispatcher.endEmitViewEvents();}}));_this._register(minimapTokensColorTracker/* MinimapTokensColorTracker.getInstance */.E.getInstance().onDidChange(function(){_this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewTokensColorsChangedEvent */.uc());}));_this._updateConfigurationViewLineCountNow();return _this;}viewModelImpl_createClass(ViewModel,[{key:"dispose",value:function dispose(){// First remove listeners, as disposing the lines might end up sending
// model decoration changed events ... and we no longer care about them ...
viewModelImpl_get(viewModelImpl_getPrototypeOf(ViewModel.prototype),"dispose",this).call(this);this._decorations.dispose();this._lines.dispose();this.invalidateMinimapColorCache();this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1/* NeverGrowsWhenTypingAtEdges */);this._eventDispatcher.dispose();}},{key:"createLineBreaksComputer",value:function createLineBreaksComputer(){return this._lines.createLineBreaksComputer();}},{key:"addViewEventHandler",value:function addViewEventHandler(eventHandler){this._eventDispatcher.addViewEventHandler(eventHandler);}},{key:"removeViewEventHandler",value:function removeViewEventHandler(eventHandler){this._eventDispatcher.removeViewEventHandler(eventHandler);}},{key:"_updateConfigurationViewLineCountNow",value:function _updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount());}},{key:"tokenizeViewport",value:function tokenizeViewport(){var linesViewportData=this.viewLayout.getLinesViewportData();var viewVisibleRange=new core_range/* Range */.e(linesViewportData.startLineNumber,this.getLineMinColumn(linesViewportData.startLineNumber),linesViewportData.endLineNumber,this.getLineMaxColumn(linesViewportData.endLineNumber));var modelVisibleRanges=this._toModelVisibleRanges(viewVisibleRange);var _iterator=viewModelImpl_createForOfIteratorHelper(modelVisibleRanges),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var modelVisibleRange=_step.value;this.model.tokenizeViewport(modelVisibleRange.startLineNumber,modelVisibleRange.endLineNumber);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:"setHasFocus",value:function setHasFocus(hasFocus){this._hasFocus=hasFocus;this._cursor.setHasFocus(hasFocus);this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewFocusChangedEvent */.SJ(hasFocus));this._eventDispatcher.emitOutgoingEvent(new viewModelEventDispatcher/* FocusChangedEvent */.Zw(!hasFocus,hasFocus));}},{key:"onCompositionStart",value:function onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewCompositionStartEvent */.JP());}},{key:"onCompositionEnd",value:function onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewCompositionEndEvent */.IN());}},{key:"onDidColorThemeChange",value:function onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewThemeChangedEvent */.Hf());}},{key:"_onConfigurationChanged",value:function _onConfigurationChanged(eventsCollector,e){// We might need to restore the current centered view range, so save it (if available)
var previousViewportStartModelPosition=null;if(this._viewportStartLine!==-1){var previousViewportStartViewPosition=new core_position/* Position */.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));previousViewportStartModelPosition=this.coordinatesConverter.convertViewPositionToModelPosition(previousViewportStartViewPosition);}var restorePreviousViewportStart=false;var options=this._configuration.options;var fontInfo=options.get(44/* fontInfo */);var wrappingStrategy=options.get(125/* wrappingStrategy */);var wrappingInfo=options.get(132/* wrappingInfo */);var wrappingIndent=options.get(124/* wrappingIndent */);if(this._lines.setWrappingSettings(fontInfo,wrappingStrategy,wrappingInfo.wrappingColumn,wrappingIndent)){eventsCollector.emitViewEvent(new viewEvents/* ViewFlushedEvent */.CL());eventsCollector.emitViewEvent(new viewEvents/* ViewLineMappingChangedEvent */.d8());eventsCollector.emitViewEvent(new viewEvents/* ViewDecorationsChangedEvent */.vA(null));this._cursor.onLineMappingChanged(eventsCollector);this._decorations.onLineMappingChanged();this.viewLayout.onFlushed(this.getLineCount());if(this.viewLayout.getCurrentScrollTop()!==0){// Never change the scroll position from 0 to something else...
restorePreviousViewportStart=true;}this._updateConfigurationViewLineCount.schedule();}if(e.hasChanged(81/* readOnly */)){// Must read again all decorations due to readOnly filtering
this._decorations.reset();eventsCollector.emitViewEvent(new viewEvents/* ViewDecorationsChangedEvent */.vA(null));}eventsCollector.emitViewEvent(new viewEvents/* ViewConfigurationChangedEvent */.x4(e));this.viewLayout.onConfigurationChanged(e);if(restorePreviousViewportStart&&previousViewportStartModelPosition){var viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(previousViewportStartModelPosition);var viewPositionTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);this.viewLayout.setScrollPosition({scrollTop:viewPositionTop+this._viewportStartLineDelta},1/* Immediate */);}if(cursorCommon/* CursorConfiguration.shouldRecreate */.LM.shouldRecreate(e)){this.cursorConfig=new cursorCommon/* CursorConfiguration */.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService);this._cursor.updateConfiguration(this.cursorConfig);}}},{key:"_registerModelEvents",value:function _registerModelEvents(){var _this2=this;this._register(this.model.onDidChangeContentOrInjectedText(function(e){try{var eventsCollector=_this2._eventDispatcher.beginEmitViewEvents();var hadOtherModelChange=false;var hadModelLineChangeThatChangedLineMapping=false;var changes=e.changes;var versionId=e instanceof textModelEvents/* ModelRawContentChangedEvent */.dQ?e.versionId:null;// Do a first pass to compute line mappings, and a second pass to actually interpret them
var lineBreaksComputer=_this2._lines.createLineBreaksComputer();var _iterator2=viewModelImpl_createForOfIteratorHelper(changes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var change=_step2.value;switch(change.changeType){case 4/* LinesInserted */:{for(var lineIdx=0;lineIdx<change.detail.length;lineIdx++){var line=change.detail[lineIdx];var injectedText=change.injectedTexts[lineIdx];if(injectedText){injectedText=injectedText.filter(function(element){return!element.ownerId||element.ownerId===_this2._editorId;});}lineBreaksComputer.addRequest(line,injectedText,null);}break;}case 2/* LineChanged */:{var _injectedText=null;if(change.injectedText){_injectedText=change.injectedText.filter(function(element){return!element.ownerId||element.ownerId===_this2._editorId;});}lineBreaksComputer.addRequest(change.detail,_injectedText,null);break;}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var lineBreaks=lineBreaksComputer.finalize();var lineBreakQueue=new arrays/* ArrayQueue */.H9(lineBreaks);var _iterator3=viewModelImpl_createForOfIteratorHelper(changes),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _change=_step3.value;switch(_change.changeType){case 1/* Flush */:{_this2._lines.onModelFlushed();eventsCollector.emitViewEvent(new viewEvents/* ViewFlushedEvent */.CL());_this2._decorations.reset();_this2.viewLayout.onFlushed(_this2.getLineCount());hadOtherModelChange=true;break;}case 3/* LinesDeleted */:{var linesDeletedEvent=_this2._lines.onModelLinesDeleted(versionId,_change.fromLineNumber,_change.toLineNumber);if(linesDeletedEvent!==null){eventsCollector.emitViewEvent(linesDeletedEvent);_this2.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber,linesDeletedEvent.toLineNumber);}hadOtherModelChange=true;break;}case 4/* LinesInserted */:{var insertedLineBreaks=lineBreakQueue.takeCount(_change.detail.length);var linesInsertedEvent=_this2._lines.onModelLinesInserted(versionId,_change.fromLineNumber,_change.toLineNumber,insertedLineBreaks);if(linesInsertedEvent!==null){eventsCollector.emitViewEvent(linesInsertedEvent);_this2.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber,linesInsertedEvent.toLineNumber);}hadOtherModelChange=true;break;}case 2/* LineChanged */:{var changedLineBreakData=lineBreakQueue.dequeue();var _this2$_lines$onModel=_this2._lines.onModelLineChanged(versionId,_change.lineNumber,changedLineBreakData),_this2$_lines$onModel2=_slicedToArray(_this2$_lines$onModel,4),lineMappingChanged=_this2$_lines$onModel2[0],linesChangedEvent=_this2$_lines$onModel2[1],_linesInsertedEvent=_this2$_lines$onModel2[2],_linesDeletedEvent=_this2$_lines$onModel2[3];hadModelLineChangeThatChangedLineMapping=lineMappingChanged;if(linesChangedEvent){eventsCollector.emitViewEvent(linesChangedEvent);}if(_linesInsertedEvent){eventsCollector.emitViewEvent(_linesInsertedEvent);_this2.viewLayout.onLinesInserted(_linesInsertedEvent.fromLineNumber,_linesInsertedEvent.toLineNumber);}if(_linesDeletedEvent){eventsCollector.emitViewEvent(_linesDeletedEvent);_this2.viewLayout.onLinesDeleted(_linesDeletedEvent.fromLineNumber,_linesDeletedEvent.toLineNumber);}break;}case 5/* EOLChanged */:{// Nothing to do. The new version will be accepted below
break;}}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}if(versionId!==null){_this2._lines.acceptVersionId(versionId);}_this2.viewLayout.onHeightMaybeChanged();if(!hadOtherModelChange&&hadModelLineChangeThatChangedLineMapping){eventsCollector.emitViewEvent(new viewEvents/* ViewLineMappingChangedEvent */.d8());eventsCollector.emitViewEvent(new viewEvents/* ViewDecorationsChangedEvent */.vA(null));_this2._cursor.onLineMappingChanged(eventsCollector);_this2._decorations.onLineMappingChanged();}}finally{_this2._eventDispatcher.endEmitViewEvents();}// Update the configuration and reset the centered view line
_this2._viewportStartLine=-1;_this2._configuration.setModelLineCount(_this2.model.getLineCount());_this2._updateConfigurationViewLineCountNow();// Recover viewport
if(!_this2._hasFocus&&_this2.model.getAttachedEditorCount()>=2&&_this2._viewportStartLineTrackedRange){var modelRange=_this2.model._getTrackedRange(_this2._viewportStartLineTrackedRange);if(modelRange){var viewPosition=_this2.coordinatesConverter.convertModelPositionToViewPosition(modelRange.getStartPosition());var viewPositionTop=_this2.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);_this2.viewLayout.setScrollPosition({scrollTop:viewPositionTop+_this2._viewportStartLineDelta},1/* Immediate */);}}try{var _eventsCollector=_this2._eventDispatcher.beginEmitViewEvents();_this2._cursor.onModelContentChanged(_eventsCollector,e);}finally{_this2._eventDispatcher.endEmitViewEvents();}_this2._tokenizeViewportSoon.schedule();}));this._register(this.model.onDidChangeTokens(function(e){var viewRanges=[];for(var j=0,lenJ=e.ranges.length;j<lenJ;j++){var modelRange=e.ranges[j];var viewStartLineNumber=_this2.coordinatesConverter.convertModelPositionToViewPosition(new core_position/* Position */.L(modelRange.fromLineNumber,1)).lineNumber;var viewEndLineNumber=_this2.coordinatesConverter.convertModelPositionToViewPosition(new core_position/* Position */.L(modelRange.toLineNumber,_this2.model.getLineMaxColumn(modelRange.toLineNumber))).lineNumber;viewRanges[j]={fromLineNumber:viewStartLineNumber,toLineNumber:viewEndLineNumber};}_this2._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewTokensChangedEvent */.H9(viewRanges));if(e.tokenizationSupportChanged){_this2._tokenizeViewportSoon.schedule();}}));this._register(this.model.onDidChangeLanguageConfiguration(function(e){_this2._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewLanguageConfigurationEvent */._0());_this2.cursorConfig=new cursorCommon/* CursorConfiguration */.LM(_this2.model.getLanguageId(),_this2.model.getOptions(),_this2._configuration,_this2.languageConfigurationService);_this2._cursor.updateConfiguration(_this2.cursorConfig);}));this._register(this.model.onDidChangeLanguage(function(e){_this2.cursorConfig=new cursorCommon/* CursorConfiguration */.LM(_this2.model.getLanguageId(),_this2.model.getOptions(),_this2._configuration,_this2.languageConfigurationService);_this2._cursor.updateConfiguration(_this2.cursorConfig);}));this._register(this.model.onDidChangeOptions(function(e){// A tab size change causes a line mapping changed event => all view parts will repaint OK, no further event needed here
if(_this2._lines.setTabSize(_this2.model.getOptions().tabSize)){try{var eventsCollector=_this2._eventDispatcher.beginEmitViewEvents();eventsCollector.emitViewEvent(new viewEvents/* ViewFlushedEvent */.CL());eventsCollector.emitViewEvent(new viewEvents/* ViewLineMappingChangedEvent */.d8());eventsCollector.emitViewEvent(new viewEvents/* ViewDecorationsChangedEvent */.vA(null));_this2._cursor.onLineMappingChanged(eventsCollector);_this2._decorations.onLineMappingChanged();_this2.viewLayout.onFlushed(_this2.getLineCount());}finally{_this2._eventDispatcher.endEmitViewEvents();}_this2._updateConfigurationViewLineCount.schedule();}_this2.cursorConfig=new cursorCommon/* CursorConfiguration */.LM(_this2.model.getLanguageId(),_this2.model.getOptions(),_this2._configuration,_this2.languageConfigurationService);_this2._cursor.updateConfiguration(_this2.cursorConfig);}));this._register(this.model.onDidChangeDecorations(function(e){_this2._decorations.onModelDecorationsChanged();_this2._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewDecorationsChangedEvent */.vA(e));}));}},{key:"setHiddenAreas",value:function setHiddenAreas(ranges){var lineMappingChanged=false;try{var eventsCollector=this._eventDispatcher.beginEmitViewEvents();lineMappingChanged=this._lines.setHiddenAreas(ranges);if(lineMappingChanged){eventsCollector.emitViewEvent(new viewEvents/* ViewFlushedEvent */.CL());eventsCollector.emitViewEvent(new viewEvents/* ViewLineMappingChangedEvent */.d8());eventsCollector.emitViewEvent(new viewEvents/* ViewDecorationsChangedEvent */.vA(null));this._cursor.onLineMappingChanged(eventsCollector);this._decorations.onLineMappingChanged();this.viewLayout.onFlushed(this.getLineCount());this.viewLayout.onHeightMaybeChanged();}}finally{this._eventDispatcher.endEmitViewEvents();}this._updateConfigurationViewLineCount.schedule();if(lineMappingChanged){this._eventDispatcher.emitOutgoingEvent(new viewModelEventDispatcher/* ViewZonesChangedEvent */.Ic());}}},{key:"getVisibleRangesPlusViewportAboveBelow",value:function getVisibleRangesPlusViewportAboveBelow(){var layoutInfo=this._configuration.options.get(131/* layoutInfo */);var lineHeight=this._configuration.options.get(59/* lineHeight */);var linesAround=Math.max(20,Math.round(layoutInfo.height/lineHeight));var partialData=this.viewLayout.getLinesViewportData();var startViewLineNumber=Math.max(1,partialData.completelyVisibleStartLineNumber-linesAround);var endViewLineNumber=Math.min(this.getLineCount(),partialData.completelyVisibleEndLineNumber+linesAround);return this._toModelVisibleRanges(new core_range/* Range */.e(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber)));}},{key:"getVisibleRanges",value:function getVisibleRanges(){var visibleViewRange=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(visibleViewRange);}},{key:"_toModelVisibleRanges",value:function _toModelVisibleRanges(visibleViewRange){var visibleRange=this.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange);var hiddenAreas=this._lines.getHiddenAreas();if(hiddenAreas.length===0){return[visibleRange];}var result=[];var resultLen=0;var startLineNumber=visibleRange.startLineNumber;var startColumn=visibleRange.startColumn;var endLineNumber=visibleRange.endLineNumber;var endColumn=visibleRange.endColumn;for(var i=0,len=hiddenAreas.length;i<len;i++){var hiddenStartLineNumber=hiddenAreas[i].startLineNumber;var hiddenEndLineNumber=hiddenAreas[i].endLineNumber;if(hiddenEndLineNumber<startLineNumber){continue;}if(hiddenStartLineNumber>endLineNumber){continue;}if(startLineNumber<hiddenStartLineNumber){result[resultLen++]=new core_range/* Range */.e(startLineNumber,startColumn,hiddenStartLineNumber-1,this.model.getLineMaxColumn(hiddenStartLineNumber-1));}startLineNumber=hiddenEndLineNumber+1;startColumn=1;}if(startLineNumber<endLineNumber||startLineNumber===endLineNumber&&startColumn<endColumn){result[resultLen++]=new core_range/* Range */.e(startLineNumber,startColumn,endLineNumber,endColumn);}return result;}},{key:"getCompletelyVisibleViewRange",value:function getCompletelyVisibleViewRange(){var partialData=this.viewLayout.getLinesViewportData();var startViewLineNumber=partialData.completelyVisibleStartLineNumber;var endViewLineNumber=partialData.completelyVisibleEndLineNumber;return new core_range/* Range */.e(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber));}},{key:"getCompletelyVisibleViewRangeAtScrollTop",value:function getCompletelyVisibleViewRangeAtScrollTop(scrollTop){var partialData=this.viewLayout.getLinesViewportDataAtScrollTop(scrollTop);var startViewLineNumber=partialData.completelyVisibleStartLineNumber;var endViewLineNumber=partialData.completelyVisibleEndLineNumber;return new core_range/* Range */.e(startViewLineNumber,this.getLineMinColumn(startViewLineNumber),endViewLineNumber,this.getLineMaxColumn(endViewLineNumber));}},{key:"saveState",value:function saveState(){var compatViewState=this.viewLayout.saveState();var scrollTop=compatViewState.scrollTop;var firstViewLineNumber=this.viewLayout.getLineNumberAtVerticalOffset(scrollTop);var firstPosition=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position/* Position */.L(firstViewLineNumber,this.getLineMinColumn(firstViewLineNumber)));var firstPositionDeltaTop=this.viewLayout.getVerticalOffsetForLineNumber(firstViewLineNumber)-scrollTop;return{scrollLeft:compatViewState.scrollLeft,firstPosition:firstPosition,firstPositionDeltaTop:firstPositionDeltaTop};}},{key:"reduceRestoreState",value:function reduceRestoreState(state){if(typeof state.firstPosition==='undefined'){// This is a view state serialized by an older version
return this._reduceRestoreStateCompatibility(state);}var modelPosition=this.model.validatePosition(state.firstPosition);var viewPosition=this.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);var scrollTop=this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber)-state.firstPositionDeltaTop;return{scrollLeft:state.scrollLeft,scrollTop:scrollTop};}},{key:"_reduceRestoreStateCompatibility",value:function _reduceRestoreStateCompatibility(state){return{scrollLeft:state.scrollLeft,scrollTop:state.scrollTopWithoutViewZones};}},{key:"getTabSize",value:function getTabSize(){return this.model.getOptions().tabSize;}},{key:"getTextModelOptions",value:function getTextModelOptions(){return this.model.getOptions();}},{key:"getLineCount",value:function getLineCount(){return this._lines.getViewLineCount();}/**
     * Gives a hint that a lot of requests are about to come in for these line numbers.
     */},{key:"setViewport",value:function setViewport(startLineNumber,endLineNumber,centeredLineNumber){this._viewportStartLine=startLineNumber;var position=this.coordinatesConverter.convertViewPositionToModelPosition(new core_position/* Position */.L(startLineNumber,this.getLineMinColumn(startLineNumber)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new core_range/* Range */.e(position.lineNumber,position.column,position.lineNumber,position.column),1/* NeverGrowsWhenTypingAtEdges */);var viewportStartLineTop=this.viewLayout.getVerticalOffsetForLineNumber(startLineNumber);var scrollTop=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=scrollTop-viewportStartLineTop;}},{key:"getActiveIndentGuide",value:function getActiveIndentGuide(lineNumber,minLineNumber,maxLineNumber){return this._lines.getActiveIndentGuide(lineNumber,minLineNumber,maxLineNumber);}},{key:"getLinesIndentGuides",value:function getLinesIndentGuides(startLineNumber,endLineNumber){return this._lines.getViewLinesIndentGuides(startLineNumber,endLineNumber);}},{key:"getBracketGuidesInRangeByLine",value:function getBracketGuidesInRangeByLine(startLineNumber,endLineNumber,activePosition,options){return this._lines.getViewLinesBracketGuides(startLineNumber,endLineNumber,activePosition,options);}},{key:"getLineContent",value:function getLineContent(lineNumber){return this._lines.getViewLineContent(lineNumber);}},{key:"getLineLength",value:function getLineLength(lineNumber){return this._lines.getViewLineLength(lineNumber);}},{key:"getLineMinColumn",value:function getLineMinColumn(lineNumber){return this._lines.getViewLineMinColumn(lineNumber);}},{key:"getLineMaxColumn",value:function getLineMaxColumn(lineNumber){return this._lines.getViewLineMaxColumn(lineNumber);}},{key:"getLineFirstNonWhitespaceColumn",value:function getLineFirstNonWhitespaceColumn(lineNumber){var result=strings/* firstNonWhitespaceIndex */.LC(this.getLineContent(lineNumber));if(result===-1){return 0;}return result+1;}},{key:"getLineLastNonWhitespaceColumn",value:function getLineLastNonWhitespaceColumn(lineNumber){var result=strings/* lastNonWhitespaceIndex */.ow(this.getLineContent(lineNumber));if(result===-1){return 0;}return result+2;}},{key:"getDecorationsInViewport",value:function getDecorationsInViewport(visibleRange){return this._decorations.getDecorationsViewportData(visibleRange).decorations;}},{key:"getInjectedTextAt",value:function getInjectedTextAt(viewPosition){return this._lines.getInjectedTextAt(viewPosition);}},{key:"getViewLineRenderingData",value:function getViewLineRenderingData(visibleRange,lineNumber){var mightContainRTL=this.model.mightContainRTL();var mightContainNonBasicASCII=this.model.mightContainNonBasicASCII();var tabSize=this.getTabSize();var lineData=this._lines.getViewLineData(lineNumber);var allInlineDecorations=this._decorations.getDecorationsViewportData(visibleRange).inlineDecorations;var inlineDecorations=allInlineDecorations[lineNumber-visibleRange.startLineNumber];if(lineData.inlineDecorations){inlineDecorations=[].concat(_toConsumableArray(inlineDecorations),_toConsumableArray(lineData.inlineDecorations.map(function(d){return d.toInlineDecoration(lineNumber);})));}return new viewModel/* ViewLineRenderingData */.wA(lineData.minColumn,lineData.maxColumn,lineData.content,lineData.continuesWithWrappedLine,mightContainRTL,mightContainNonBasicASCII,lineData.tokens,inlineDecorations,tabSize,lineData.startVisibleColumn);}},{key:"getViewLineData",value:function getViewLineData(lineNumber){return this._lines.getViewLineData(lineNumber);}},{key:"getMinimapLinesRenderingData",value:function getMinimapLinesRenderingData(startLineNumber,endLineNumber,needed){var result=this._lines.getViewLinesData(startLineNumber,endLineNumber,needed);return new viewModel/* MinimapLinesRenderingData */.ud(this.getTabSize(),result);}},{key:"getAllOverviewRulerDecorations",value:function getAllOverviewRulerDecorations(theme){var decorations=this.model.getOverviewRulerDecorations(this._editorId,(0,editorOptions/* filterValidationDecorations */.$J)(this._configuration.options));var result=new OverviewRulerDecorations();var _iterator4=viewModelImpl_createForOfIteratorHelper(decorations),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var decoration=_step4.value;var decorationOptions=decoration.options;var opts=decorationOptions.overviewRuler;if(!opts){continue;}var lane=opts.position;if(lane===0){continue;}var color=opts.getColor(theme.value);var viewStartLineNumber=this.coordinatesConverter.getViewLineNumberOfModelPosition(decoration.range.startLineNumber,decoration.range.startColumn);var viewEndLineNumber=this.coordinatesConverter.getViewLineNumberOfModelPosition(decoration.range.endLineNumber,decoration.range.endColumn);result.accept(color,decorationOptions.zIndex,viewStartLineNumber,viewEndLineNumber,lane);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return result.asArray;}},{key:"invalidateOverviewRulerColorCache",value:function invalidateOverviewRulerColorCache(){var decorations=this.model.getOverviewRulerDecorations();var _iterator5=viewModelImpl_createForOfIteratorHelper(decorations),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var decoration=_step5.value;var opts=decoration.options.overviewRuler;if(opts){opts.invalidateCachedColor();}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}},{key:"invalidateMinimapColorCache",value:function invalidateMinimapColorCache(){var decorations=this.model.getAllDecorations();var _iterator6=viewModelImpl_createForOfIteratorHelper(decorations),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var decoration=_step6.value;var opts=decoration.options.minimap;if(opts){opts.invalidateCachedColor();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}},{key:"getValueInRange",value:function getValueInRange(range,eol){var modelRange=this.coordinatesConverter.convertViewRangeToModelRange(range);return this.model.getValueInRange(modelRange,eol);}},{key:"getModelLineMaxColumn",value:function getModelLineMaxColumn(modelLineNumber){return this.model.getLineMaxColumn(modelLineNumber);}},{key:"validateModelPosition",value:function validateModelPosition(position){return this.model.validatePosition(position);}},{key:"validateModelRange",value:function validateModelRange(range){return this.model.validateRange(range);}},{key:"deduceModelPositionRelativeToViewPosition",value:function deduceModelPositionRelativeToViewPosition(viewAnchorPosition,deltaOffset,lineFeedCnt){var modelAnchor=this.coordinatesConverter.convertViewPositionToModelPosition(viewAnchorPosition);if(this.model.getEOL().length===2){// This model uses CRLF, so the delta must take that into account
if(deltaOffset<0){deltaOffset-=lineFeedCnt;}else{deltaOffset+=lineFeedCnt;}}var modelAnchorOffset=this.model.getOffsetAt(modelAnchor);var resultOffset=modelAnchorOffset+deltaOffset;return this.model.getPositionAt(resultOffset);}},{key:"getEOL",value:function getEOL(){return this.model.getEOL();}},{key:"getPlainTextToCopy",value:function getPlainTextToCopy(modelRanges,emptySelectionClipboard,forceCRLF){var newLineCharacter=forceCRLF?'\r\n':this.model.getEOL();modelRanges=modelRanges.slice(0);modelRanges.sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);var hasEmptyRange=false;var hasNonEmptyRange=false;var _iterator7=viewModelImpl_createForOfIteratorHelper(modelRanges),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var range=_step7.value;if(range.isEmpty()){hasEmptyRange=true;}else{hasNonEmptyRange=true;}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}if(!hasNonEmptyRange){// all ranges are empty
if(!emptySelectionClipboard){return'';}var modelLineNumbers=modelRanges.map(function(r){return r.startLineNumber;});var _result='';for(var i=0;i<modelLineNumbers.length;i++){if(i>0&&modelLineNumbers[i-1]===modelLineNumbers[i]){continue;}_result+=this.model.getLineContent(modelLineNumbers[i])+newLineCharacter;}return _result;}if(hasEmptyRange&&emptySelectionClipboard){// mixed empty selections and non-empty selections
var _result2=[];var prevModelLineNumber=0;var _iterator8=viewModelImpl_createForOfIteratorHelper(modelRanges),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var modelRange=_step8.value;var modelLineNumber=modelRange.startLineNumber;if(modelRange.isEmpty()){if(modelLineNumber!==prevModelLineNumber){_result2.push(this.model.getLineContent(modelLineNumber));}}else{_result2.push(this.model.getValueInRange(modelRange,forceCRLF?2/* CRLF */:0/* TextDefined */));}prevModelLineNumber=modelLineNumber;}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}return _result2.length===1?_result2[0]:_result2;}var result=[];var _iterator9=viewModelImpl_createForOfIteratorHelper(modelRanges),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _modelRange=_step9.value;if(!_modelRange.isEmpty()){result.push(this.model.getValueInRange(_modelRange,forceCRLF?2/* CRLF */:0/* TextDefined */));}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}return result.length===1?result[0]:result;}},{key:"getRichTextToCopy",value:function getRichTextToCopy(modelRanges,emptySelectionClipboard){var languageId=this.model.getLanguageId();if(languageId===modesRegistry/* PLAINTEXT_LANGUAGE_ID */.bd){return null;}if(modelRanges.length!==1){// no multiple selection support at this time
return null;}var range=modelRanges[0];if(range.isEmpty()){if(!emptySelectionClipboard){// nothing to copy
return null;}var lineNumber=range.startLineNumber;range=new core_range/* Range */.e(lineNumber,this.model.getLineMinColumn(lineNumber),lineNumber,this.model.getLineMaxColumn(lineNumber));}var fontInfo=this._configuration.options.get(44/* fontInfo */);var colorMap=this._getColorMap();var hasBadChars=/[:;\\\/<>]/.test(fontInfo.fontFamily);var useDefaultFontFamily=hasBadChars||fontInfo.fontFamily===editorOptions/* EDITOR_FONT_DEFAULTS.fontFamily */.hL.fontFamily;var fontFamily;if(useDefaultFontFamily){fontFamily=editorOptions/* EDITOR_FONT_DEFAULTS.fontFamily */.hL.fontFamily;}else{fontFamily=fontInfo.fontFamily;fontFamily=fontFamily.replace(/"/g,'\'');var hasQuotesOrIsList=/[,']/.test(fontFamily);if(!hasQuotesOrIsList){var needsQuotes=/[+ ]/.test(fontFamily);if(needsQuotes){fontFamily="'".concat(fontFamily,"'");}}fontFamily="".concat(fontFamily,", ").concat(editorOptions/* EDITOR_FONT_DEFAULTS.fontFamily */.hL.fontFamily);}return{mode:languageId,html:"<div style=\""+"color: ".concat(colorMap[1/* DefaultForeground */],";")+"background-color: ".concat(colorMap[2/* DefaultBackground */],";")+"font-family: ".concat(fontFamily,";")+"font-weight: ".concat(fontInfo.fontWeight,";")+"font-size: ".concat(fontInfo.fontSize,"px;")+"line-height: ".concat(fontInfo.lineHeight,"px;")+"white-space: pre;"+"\">"+this._getHTMLToCopy(range,colorMap)+'</div>'};}},{key:"_getHTMLToCopy",value:function _getHTMLToCopy(modelRange,colorMap){var startLineNumber=modelRange.startLineNumber;var startColumn=modelRange.startColumn;var endLineNumber=modelRange.endLineNumber;var endColumn=modelRange.endColumn;var tabSize=this.getTabSize();var result='';for(var lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var lineTokens=this.model.getLineTokens(lineNumber);var lineContent=lineTokens.getLineContent();var startOffset=lineNumber===startLineNumber?startColumn-1:0;var endOffset=lineNumber===endLineNumber?endColumn-1:lineContent.length;if(lineContent===''){result+='<br>';}else{result+=(0,textToHtmlTokenizer/* tokenizeLineToHTML */.Fq)(lineContent,lineTokens.inflate(),colorMap,startOffset,endOffset,tabSize,platform/* isWindows */.ED);}}return result;}},{key:"_getColorMap",value:function _getColorMap(){var colorMap=languages/* TokenizationRegistry.getColorMap */.RW.getColorMap();var result=['#000000'];if(colorMap){for(var i=1,len=colorMap.length;i<len;i++){result[i]=color/* Color.Format.CSS.formatHex */.Il.Format.CSS.formatHex(colorMap[i]);}}return result;}//#region model
},{key:"pushStackElement",value:function pushStackElement(){this.model.pushStackElement();}//#endregion
//#region cursor operations
},{key:"getPrimaryCursorState",value:function getPrimaryCursorState(){return this._cursor.getPrimaryCursorState();}},{key:"getLastAddedCursorIndex",value:function getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex();}},{key:"getCursorStates",value:function getCursorStates(){return this._cursor.getCursorStates();}},{key:"setCursorStates",value:function setCursorStates(source,reason,states){var _this3=this;return this._withViewEventsCollector(function(eventsCollector){return _this3._cursor.setStates(eventsCollector,source,reason,states);});}},{key:"getCursorColumnSelectData",value:function getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData();}},{key:"getCursorAutoClosedCharacters",value:function getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters();}},{key:"setCursorColumnSelectData",value:function setCursorColumnSelectData(columnSelectData){this._cursor.setCursorColumnSelectData(columnSelectData);}},{key:"getPrevEditOperationType",value:function getPrevEditOperationType(){return this._cursor.getPrevEditOperationType();}},{key:"setPrevEditOperationType",value:function setPrevEditOperationType(type){this._cursor.setPrevEditOperationType(type);}},{key:"getSelection",value:function getSelection(){return this._cursor.getSelection();}},{key:"getSelections",value:function getSelections(){return this._cursor.getSelections();}},{key:"getPosition",value:function getPosition(){return this._cursor.getPrimaryCursorState().modelState.position;}},{key:"setSelections",value:function setSelections(source,selections)/* NotSet */{var _this4=this;var reason=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this._withViewEventsCollector(function(eventsCollector){return _this4._cursor.setSelections(eventsCollector,source,selections,reason);});}},{key:"saveCursorState",value:function saveCursorState(){return this._cursor.saveState();}},{key:"restoreCursorState",value:function restoreCursorState(states){var _this5=this;this._withViewEventsCollector(function(eventsCollector){return _this5._cursor.restoreState(eventsCollector,states);});}},{key:"_executeCursorEdit",value:function _executeCursorEdit(callback){if(this._cursor.context.cursorConfig.readOnly){// we cannot edit when read only...
this._eventDispatcher.emitOutgoingEvent(new viewModelEventDispatcher/* ReadOnlyEditAttemptEvent */.Ki());return;}this._withViewEventsCollector(callback);}},{key:"executeEdits",value:function executeEdits(source,edits,cursorStateComputer){var _this6=this;this._executeCursorEdit(function(eventsCollector){return _this6._cursor.executeEdits(eventsCollector,source,edits,cursorStateComputer);});}},{key:"startComposition",value:function startComposition(){var _this7=this;this._cursor.setIsDoingComposition(true);this._executeCursorEdit(function(eventsCollector){return _this7._cursor.startComposition(eventsCollector);});}},{key:"endComposition",value:function endComposition(source){var _this8=this;this._cursor.setIsDoingComposition(false);this._executeCursorEdit(function(eventsCollector){return _this8._cursor.endComposition(eventsCollector,source);});}},{key:"type",value:function type(text,source){var _this9=this;this._executeCursorEdit(function(eventsCollector){return _this9._cursor.type(eventsCollector,text,source);});}},{key:"compositionType",value:function compositionType(text,replacePrevCharCnt,replaceNextCharCnt,positionDelta,source){var _this10=this;this._executeCursorEdit(function(eventsCollector){return _this10._cursor.compositionType(eventsCollector,text,replacePrevCharCnt,replaceNextCharCnt,positionDelta,source);});}},{key:"paste",value:function paste(text,pasteOnNewLine,multicursorText,source){var _this11=this;this._executeCursorEdit(function(eventsCollector){return _this11._cursor.paste(eventsCollector,text,pasteOnNewLine,multicursorText,source);});}},{key:"cut",value:function cut(source){var _this12=this;this._executeCursorEdit(function(eventsCollector){return _this12._cursor.cut(eventsCollector,source);});}},{key:"executeCommand",value:function executeCommand(command,source){var _this13=this;this._executeCursorEdit(function(eventsCollector){return _this13._cursor.executeCommand(eventsCollector,command,source);});}},{key:"executeCommands",value:function executeCommands(commands,source){var _this14=this;this._executeCursorEdit(function(eventsCollector){return _this14._cursor.executeCommands(eventsCollector,commands,source);});}},{key:"revealPrimaryCursor",value:function revealPrimaryCursor(source,revealHorizontal){var _this15=this;var minimalReveal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._withViewEventsCollector(function(eventsCollector){return _this15._cursor.revealPrimary(eventsCollector,source,minimalReveal,0/* Simple */,revealHorizontal,0/* Smooth */);});}},{key:"revealTopMostCursor",value:function revealTopMostCursor(source){var viewPosition=this._cursor.getTopMostViewPosition();var viewRange=new core_range/* Range */.e(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this._withViewEventsCollector(function(eventsCollector){return eventsCollector.emitViewEvent(new viewEvents/* ViewRevealRangeRequestEvent */.Qb(source,false,viewRange,null,0/* Simple */,true,0/* Smooth */));});}},{key:"revealBottomMostCursor",value:function revealBottomMostCursor(source){var viewPosition=this._cursor.getBottomMostViewPosition();var viewRange=new core_range/* Range */.e(viewPosition.lineNumber,viewPosition.column,viewPosition.lineNumber,viewPosition.column);this._withViewEventsCollector(function(eventsCollector){return eventsCollector.emitViewEvent(new viewEvents/* ViewRevealRangeRequestEvent */.Qb(source,false,viewRange,null,0/* Simple */,true,0/* Smooth */));});}},{key:"revealRange",value:function revealRange(source,revealHorizontal,viewRange,verticalType,scrollType){this._withViewEventsCollector(function(eventsCollector){return eventsCollector.emitViewEvent(new viewEvents/* ViewRevealRangeRequestEvent */.Qb(source,false,viewRange,null,verticalType,revealHorizontal,scrollType));});}//#endregion
//#region viewLayout
},{key:"getVerticalOffsetForLineNumber",value:function getVerticalOffsetForLineNumber(viewLineNumber){return this.viewLayout.getVerticalOffsetForLineNumber(viewLineNumber);}},{key:"getScrollTop",value:function getScrollTop(){return this.viewLayout.getCurrentScrollTop();}},{key:"setScrollTop",value:function setScrollTop(newScrollTop,scrollType){this.viewLayout.setScrollPosition({scrollTop:newScrollTop},scrollType);}},{key:"setScrollPosition",value:function setScrollPosition(position,type){this.viewLayout.setScrollPosition(position,type);}},{key:"deltaScrollNow",value:function deltaScrollNow(deltaScrollLeft,deltaScrollTop){this.viewLayout.deltaScrollNow(deltaScrollLeft,deltaScrollTop);}},{key:"changeWhitespace",value:function changeWhitespace(callback){var hadAChange=this.viewLayout.changeWhitespace(callback);if(hadAChange){this._eventDispatcher.emitSingleViewEvent(new viewEvents/* ViewZonesChangedEvent */.Ic());this._eventDispatcher.emitOutgoingEvent(new viewModelEventDispatcher/* ViewZonesChangedEvent */.Ic());}}},{key:"setMaxLineWidth",value:function setMaxLineWidth(maxLineWidth){this.viewLayout.setMaxLineWidth(maxLineWidth);}//#endregion
},{key:"_withViewEventsCollector",value:function _withViewEventsCollector(callback){try{var eventsCollector=this._eventDispatcher.beginEmitViewEvents();return callback(eventsCollector);}finally{this._eventDispatcher.endEmitViewEvents();}}},{key:"normalizePosition",value:function normalizePosition(position,affinity){return this._lines.normalizePosition(position,affinity);}/**
     * Gets the column at which indentation stops at a given line.
     * @internal
    */},{key:"getLineIndentColumn",value:function getLineIndentColumn(lineNumber){return this._lines.getLineIndentColumn(lineNumber);}}]);return ViewModel;}(lifecycle/* Disposable */.JT);var OverviewRulerDecorations=/*#__PURE__*/function(){function OverviewRulerDecorations(){viewModelImpl_classCallCheck(this,OverviewRulerDecorations);this._asMap=Object.create(null);this.asArray=[];}viewModelImpl_createClass(OverviewRulerDecorations,[{key:"accept",value:function accept(color,zIndex,startLineNumber,endLineNumber,lane){var prevGroup=this._asMap[color];if(prevGroup){var prevData=prevGroup.data;var prevLane=prevData[prevData.length-3];var prevEndLineNumber=prevData[prevData.length-1];if(prevLane===lane&&prevEndLineNumber+1>=startLineNumber){// merge into prev
if(endLineNumber>prevEndLineNumber){prevData[prevData.length-1]=endLineNumber;}return;}// push
prevData.push(lane,startLineNumber,endLineNumber);}else{var group=new viewModel/* OverviewRulerDecorationsGroup */.SQ(color,zIndex,[lane,startLineNumber,endLineNumber]);this._asMap[color]=group;this.asArray.push(group);}}}]);return OverviewRulerDecorations;}();

/***/ })

}]);