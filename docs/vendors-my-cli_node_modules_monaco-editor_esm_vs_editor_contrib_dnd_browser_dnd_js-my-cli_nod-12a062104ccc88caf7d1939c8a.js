"use strict";
(self["webpackChunkicode_run"] = self["webpackChunkicode_run"] || []).push([["vendors-my-cli_node_modules_monaco-editor_esm_vs_editor_contrib_dnd_browser_dnd_js-my-cli_nod-12a062"],{

/***/ 80373:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "DragAndDropController": () => (/* binding */ DragAndDropController)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js
var core_selection = __webpack_require__(33199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dragAndDropCommand.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var DragAndDropCommand=/*#__PURE__*/function(){function DragAndDropCommand(selection,targetPosition,copy){_classCallCheck(this,DragAndDropCommand);this.selection=selection;this.targetPosition=targetPosition;this.copy=copy;this.targetSelection=null;}_createClass(DragAndDropCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){var text=model.getValueInRange(this.selection);if(!this.copy){builder.addEditOperation(this.selection,null);}builder.addEditOperation(new range/* Range */.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),text);if(this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))// we allow users to paste content beside the selection
)){this.targetSelection=this.selection;return;}if(this.copy){this.targetSelection=new core_selection/* Selection */.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return;}if(this.targetPosition.lineNumber>this.selection.endLineNumber){// Drag the selection downwards
this.targetSelection=new core_selection/* Selection */.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return;}if(this.targetPosition.lineNumber<this.selection.endLineNumber){// Drag the selection upwards
this.targetSelection=new core_selection/* Selection */.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return;}// The target position is at the same line as the selection's end position.
if(this.selection.endColumn<=this.targetPosition.column){// The target position is after the selection's end position
this.targetSelection=new core_selection/* Selection */.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn);}else{// The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.
this.targetSelection=new core_selection/* Selection */.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn);}}},{key:"computeCursorState",value:function computeCursorState(model,helper){return this.targetSelection;}}]);return DragAndDropCommand;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dnd.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function dnd_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function dnd_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function dnd_createClass(Constructor,protoProps,staticProps){if(protoProps)dnd_defineProperties(Constructor.prototype,protoProps);if(staticProps)dnd_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function hasTriggerModifier(e){if(platform/* isMacintosh */.dz){return e.altKey;}else{return e.ctrlKey;}}var DragAndDropController=/*#__PURE__*/function(_Disposable){_inherits(DragAndDropController,_Disposable);var _super=_createSuper(DragAndDropController);function DragAndDropController(editor){var _this;dnd_classCallCheck(this,DragAndDropController);_this=_super.call(this);_this._editor=editor;_this._register(_this._editor.onMouseDown(function(e){return _this._onEditorMouseDown(e);}));_this._register(_this._editor.onMouseUp(function(e){return _this._onEditorMouseUp(e);}));_this._register(_this._editor.onMouseDrag(function(e){return _this._onEditorMouseDrag(e);}));_this._register(_this._editor.onMouseDrop(function(e){return _this._onEditorMouseDrop(e);}));_this._register(_this._editor.onMouseDropCanceled(function(){return _this._onEditorMouseDropCanceled();}));_this._register(_this._editor.onKeyDown(function(e){return _this.onEditorKeyDown(e);}));_this._register(_this._editor.onKeyUp(function(e){return _this.onEditorKeyUp(e);}));_this._register(_this._editor.onDidBlurEditorWidget(function(){return _this.onEditorBlur();}));_this._register(_this._editor.onDidBlurEditorText(function(){return _this.onEditorBlur();}));_this._dndDecorationIds=[];_this._mouseDown=false;_this._modifierPressed=false;_this._dragSelection=null;return _this;}dnd_createClass(DragAndDropController,[{key:"onEditorBlur",value:function onEditorBlur(){this._removeDecoration();this._dragSelection=null;this._mouseDown=false;this._modifierPressed=false;}},{key:"onEditorKeyDown",value:function onEditorKeyDown(e){if(!this._editor.getOption(31/* dragAndDrop */)||this._editor.getOption(18/* columnSelection */)){return;}if(hasTriggerModifier(e)){this._modifierPressed=true;}if(this._mouseDown&&hasTriggerModifier(e)){this._editor.updateOptions({mouseStyle:'copy'});}}},{key:"onEditorKeyUp",value:function onEditorKeyUp(e){if(!this._editor.getOption(31/* dragAndDrop */)||this._editor.getOption(18/* columnSelection */)){return;}if(hasTriggerModifier(e)){this._modifierPressed=false;}if(this._mouseDown&&e.keyCode===DragAndDropController.TRIGGER_KEY_VALUE){this._editor.updateOptions({mouseStyle:'default'});}}},{key:"_onEditorMouseDown",value:function _onEditorMouseDown(mouseEvent){this._mouseDown=true;}},{key:"_onEditorMouseUp",value:function _onEditorMouseUp(mouseEvent){this._mouseDown=false;// Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.
this._editor.updateOptions({mouseStyle:'text'});}},{key:"_onEditorMouseDrag",value:function _onEditorMouseDrag(mouseEvent){var target=mouseEvent.target;if(this._dragSelection===null){var selections=this._editor.getSelections()||[];var possibleSelections=selections.filter(function(selection){return target.position&&selection.containsPosition(target.position);});if(possibleSelections.length===1){this._dragSelection=possibleSelections[0];}else{return;}}if(hasTriggerModifier(mouseEvent.event)){this._editor.updateOptions({mouseStyle:'copy'});}else{this._editor.updateOptions({mouseStyle:'default'});}if(target.position){if(this._dragSelection.containsPosition(target.position)){this._removeDecoration();}else{this.showAt(target.position);}}}},{key:"_onEditorMouseDropCanceled",value:function _onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:'text'});this._removeDecoration();this._dragSelection=null;this._mouseDown=false;}},{key:"_onEditorMouseDrop",value:function _onEditorMouseDrop(mouseEvent){if(mouseEvent.target&&(this._hitContent(mouseEvent.target)||this._hitMargin(mouseEvent.target))&&mouseEvent.target.position){var newCursorPosition=new position/* Position */.L(mouseEvent.target.position.lineNumber,mouseEvent.target.position.column);if(this._dragSelection===null){var newSelections=null;if(mouseEvent.event.shiftKey){var primarySelection=this._editor.getSelection();if(primarySelection){var selectionStartLineNumber=primarySelection.selectionStartLineNumber,selectionStartColumn=primarySelection.selectionStartColumn;newSelections=[new core_selection/* Selection */.Y(selectionStartLineNumber,selectionStartColumn,newCursorPosition.lineNumber,newCursorPosition.column)];}}else{newSelections=(this._editor.getSelections()||[]).map(function(selection){if(selection.containsPosition(newCursorPosition)){return new core_selection/* Selection */.Y(newCursorPosition.lineNumber,newCursorPosition.column,newCursorPosition.lineNumber,newCursorPosition.column);}else{return selection;}});}// Use `mouse` as the source instead of `api` and setting the reason to explicit (to behave like any other mouse operation).
this._editor.setSelections(newSelections||[],'mouse',3/* Explicit */);}else if(!this._dragSelection.containsPosition(newCursorPosition)||(hasTriggerModifier(mouseEvent.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(newCursorPosition)||this._dragSelection.getStartPosition().equals(newCursorPosition))// we allow users to paste content beside the selection
){this._editor.pushUndoStop();this._editor.executeCommand(DragAndDropController.ID,new DragAndDropCommand(this._dragSelection,newCursorPosition,hasTriggerModifier(mouseEvent.event)||this._modifierPressed));this._editor.pushUndoStop();}}this._editor.updateOptions({mouseStyle:'text'});this._removeDecoration();this._dragSelection=null;this._mouseDown=false;}},{key:"showAt",value:function showAt(position){var newDecorations=[{range:new range/* Range */.e(position.lineNumber,position.column,position.lineNumber,position.column),options:DragAndDropController._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,newDecorations);this._editor.revealPosition(position,1/* Immediate */);}},{key:"_removeDecoration",value:function _removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[]);}},{key:"_hitContent",value:function _hitContent(target){return target.type===6/* CONTENT_TEXT */||target.type===7/* CONTENT_EMPTY */;}},{key:"_hitMargin",value:function _hitMargin(target){return target.type===2/* GUTTER_GLYPH_MARGIN */||target.type===3/* GUTTER_LINE_NUMBERS */||target.type===4/* GUTTER_LINE_DECORATIONS */;}},{key:"dispose",value:function dispose(){this._removeDecoration();this._dragSelection=null;this._mouseDown=false;this._modifierPressed=false;_get(_getPrototypeOf(DragAndDropController.prototype),"dispose",this).call(this);}}]);return DragAndDropController;}(lifecycle/* Disposable */.JT);DragAndDropController.ID='editor.contrib.dragAndDrop';DragAndDropController.TRIGGER_KEY_VALUE=platform/* isMacintosh */.dz?6/* Alt */:5/* Ctrl */;DragAndDropController._DECORATION_OPTIONS=textModel/* ModelDecorationOptions.register */.qx.register({description:'dnd-target',className:'dnd-target'});(0,editorExtensions/* registerEditorContribution */._K)(DragAndDropController.ID,DragAndDropController);

/***/ }),

/***/ 29069:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82643);
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(918);
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(91134);
/* harmony import */ var _common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(90270);
/* harmony import */ var _outlineModel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(89185);
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47937);
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_5__/* .CommandsRegistry.registerCommand */ .P0.registerCommand('_executeDocumentSymbolProvider',function(accessor){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var resource,outlineService,modelService,reference;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:resource=args[0];(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_6__/* .assertType */ .p_)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_2__/* .URI.isUri */ .o.isUri(resource));outlineService=accessor.get(_outlineModel_js__WEBPACK_IMPORTED_MODULE_4__/* .IOutlineModelService */ .Je);modelService=accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_3__/* .ITextModelService */ .S);_context.next=6;return modelService.createModelReference(resource);case 6:reference=_context.sent;_context.prev=7;_context.next=10;return outlineService.getOrCreate(reference.object.textEditorModel,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None);case 10:return _context.abrupt("return",_context.sent.getTopLevelSymbols());case 11:_context.prev=11;reference.dispose();return _context.finish(11);case 14:case"end":return _context.stop();}}},_callee,null,[[7,,11,14]]);}));});

/***/ }),

/***/ 89185:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Je": () => (/* binding */ IOutlineModelService)
/* harmony export */ });
/* unused harmony exports TreeElement, OutlineElement, OutlineGroup, OutlineModel, OutlineModelService */
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(92224);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82643);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32314);
/* harmony import */ var _base_common_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52532);
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(46081);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(96844);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(98480);
/* harmony import */ var _common_services_languageFeatureDebounce_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9585);
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(71896);
/* harmony import */ var _platform_instantiation_common_extensions_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(74822);
/* harmony import */ var _common_services_model_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(81431);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(19860);
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var TreeElement=/*#__PURE__*/function(){function TreeElement(){_classCallCheck(this,TreeElement);}_createClass(TreeElement,[{key:"remove",value:function remove(){if(this.parent){this.parent.children.delete(this.id);}}}],[{key:"findId",value:function findId(candidate,container){// complex id-computation which contains the origin/extension,
// the parent path, and some dedupe logic when names collide
var candidateId;if(typeof candidate==='string'){candidateId="".concat(container.id,"/").concat(candidate);}else{candidateId="".concat(container.id,"/").concat(candidate.name);if(container.children.get(candidateId)!==undefined){candidateId="".concat(container.id,"/").concat(candidate.name,"_").concat(candidate.range.startLineNumber,"_").concat(candidate.range.startColumn);}}var id=candidateId;for(var i=0;container.children.get(id)!==undefined;i++){id="".concat(candidateId,"_").concat(i);}return id;}},{key:"empty",value:function empty(element){return element.children.size===0;}}]);return TreeElement;}();var OutlineElement=/*#__PURE__*/function(_TreeElement){_inherits(OutlineElement,_TreeElement);var _super=_createSuper(OutlineElement);function OutlineElement(id,parent,symbol){var _this;_classCallCheck(this,OutlineElement);_this=_super.call(this);_this.id=id;_this.parent=parent;_this.symbol=symbol;_this.children=new Map();return _this;}return OutlineElement;}(TreeElement);var OutlineGroup=/*#__PURE__*/function(_TreeElement2){_inherits(OutlineGroup,_TreeElement2);var _super2=_createSuper(OutlineGroup);function OutlineGroup(id,parent,label,order){var _this2;_classCallCheck(this,OutlineGroup);_this2=_super2.call(this);_this2.id=id;_this2.parent=parent;_this2.label=label;_this2.order=order;_this2.children=new Map();return _this2;}return OutlineGroup;}(TreeElement);var OutlineModel=/*#__PURE__*/function(_TreeElement3){_inherits(OutlineModel,_TreeElement3);var _super3=_createSuper(OutlineModel);function OutlineModel(uri){var _this3;_classCallCheck(this,OutlineModel);_this3=_super3.call(this);_this3.uri=uri;_this3.id='root';_this3.parent=undefined;_this3._groups=new Map();_this3.children=new Map();_this3.id='root';_this3.parent=undefined;return _this3;}_createClass(OutlineModel,[{key:"_compact",value:function _compact(){var count=0;var _iterator=_createForOfIteratorHelper(this._groups),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],_group=_step$value[1];if(_group.children.size===0){// empty
this._groups.delete(key);}else{count+=1;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(count!==1){//
this.children=this._groups;}else{// adopt all elements of the first group
var group=_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_3__/* .Iterable.first */ .$.first(this._groups.values());var _iterator2=_createForOfIteratorHelper(group.children),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_slicedToArray(_step2.value,2),child=_step2$value[1];child.parent=this;this.children.set(child.id,child);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return this;}},{key:"getTopLevelSymbols",value:function getTopLevelSymbols(){var roots=[];var _iterator3=_createForOfIteratorHelper(this.children.values()),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var child=_step3.value;if(child instanceof OutlineElement){roots.push(child.symbol);}else{roots.push.apply(roots,_toConsumableArray(_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_3__/* .Iterable.map */ .$.map(child.children.values(),function(child){return child.symbol;})));}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return roots.sort(function(a,b){return _common_core_range_js__WEBPACK_IMPORTED_MODULE_10__/* .Range.compareRangesUsingStarts */ .e.compareRangesUsingStarts(a.range,b.range);});}},{key:"asListOfDocumentSymbols",value:function asListOfDocumentSymbols(){var roots=this.getTopLevelSymbols();var bucket=[];OutlineModel._flattenDocumentSymbols(bucket,roots,'');return bucket.sort(function(a,b){return _common_core_position_js__WEBPACK_IMPORTED_MODULE_11__/* .Position.compare */ .L.compare(_common_core_range_js__WEBPACK_IMPORTED_MODULE_10__/* .Range.getStartPosition */ .e.getStartPosition(a.range),_common_core_range_js__WEBPACK_IMPORTED_MODULE_10__/* .Range.getStartPosition */ .e.getStartPosition(b.range))||_common_core_position_js__WEBPACK_IMPORTED_MODULE_11__/* .Position.compare */ .L.compare(_common_core_range_js__WEBPACK_IMPORTED_MODULE_10__/* .Range.getEndPosition */ .e.getEndPosition(b.range),_common_core_range_js__WEBPACK_IMPORTED_MODULE_10__/* .Range.getEndPosition */ .e.getEndPosition(a.range));});}}],[{key:"create",value:function create(textModel,token){var cts=new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationTokenSource */ .A(token);var result=new OutlineModel(textModel.uri);var provider=_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .DocumentSymbolProviderRegistry.ordered */ .vJ.ordered(textModel);var promises=provider.map(function(provider,index){var _a;var id=TreeElement.findId("provider_".concat(index),result);var group=new OutlineGroup(id,result,(_a=provider.displayName)!==null&&_a!==void 0?_a:'Unknown Outline Provider',index);return Promise.resolve(provider.provideDocumentSymbols(textModel,cts.token)).then(function(result){var _iterator4=_createForOfIteratorHelper(result||[]),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var info=_step4.value;OutlineModel._makeOutlineElement(info,group);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return group;},function(err){(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__/* .onUnexpectedExternalError */ .Cp)(err);return group;}).then(function(group){if(!TreeElement.empty(group)){result._groups.set(id,group);}else{group.remove();}});});var listener=_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .DocumentSymbolProviderRegistry.onDidChange */ .vJ.onDidChange(function(){var newProvider=_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .DocumentSymbolProviderRegistry.ordered */ .vJ.ordered(textModel);if(!(0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_12__/* .equals */ .fS)(newProvider,provider)){cts.cancel();}});return Promise.all(promises).then(function(){if(cts.token.isCancellationRequested&&!token.isCancellationRequested){return OutlineModel.create(textModel,token);}else{return result._compact();}}).finally(function(){listener.dispose();});}},{key:"_makeOutlineElement",value:function _makeOutlineElement(info,container){var id=TreeElement.findId(info,container);var res=new OutlineElement(id,container,info);if(info.children){var _iterator5=_createForOfIteratorHelper(info.children),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var childInfo=_step5.value;OutlineModel._makeOutlineElement(childInfo,res);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}container.children.set(res.id,res);}},{key:"_flattenDocumentSymbols",value:function _flattenDocumentSymbols(bucket,entries,overrideContainerLabel){var _iterator6=_createForOfIteratorHelper(entries),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var entry=_step6.value;bucket.push({kind:entry.kind,tags:entry.tags,name:entry.name,detail:entry.detail,containerName:entry.containerName||overrideContainerLabel,range:entry.range,selectionRange:entry.selectionRange,children:undefined// we flatten it...
});// Recurse over children
if(entry.children){OutlineModel._flattenDocumentSymbols(bucket,entry.children,entry.name);}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}}}]);return OutlineModel;}(TreeElement);var IOutlineModelService=(0,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_7__/* .createDecorator */ .yh)('IOutlineModelService');var OutlineModelService=/*#__PURE__*/function(){function OutlineModelService(debounces,modelService){var _this4=this;_classCallCheck(this,OutlineModelService);this._disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_9__/* .DisposableStore */ .SL();this._cache=new _base_common_map_js__WEBPACK_IMPORTED_MODULE_4__/* .LRUCache */ .z6(10,0.7);this._debounceInformation=debounces.for(_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .DocumentSymbolProviderRegistry */ .vJ,'DocumentSymbols',{min:350});// don't cache outline models longer than their text model
this._disposables.add(modelService.onModelRemoved(function(textModel){_this4._cache.delete(textModel.id);}));}_createClass(OutlineModelService,[{key:"dispose",value:function dispose(){this._disposables.dispose();}},{key:"getOrCreate",value:function getOrCreate(textModel,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var _this5=this;var provider,data,source,now,listener;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:provider=_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .DocumentSymbolProviderRegistry.ordered */ .vJ.ordered(textModel);data=this._cache.get(textModel.id);if(!data||data.versionId!==textModel.getVersionId()||!(0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_12__/* .equals */ .fS)(data.provider,provider)){source=new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationTokenSource */ .A();data={versionId:textModel.getVersionId(),provider:provider,promiseCnt:0,source:source,promise:OutlineModel.create(textModel,source.token),model:undefined};this._cache.set(textModel.id,data);now=Date.now();data.promise.then(function(outlineModel){data.model=outlineModel;_this5._debounceInformation.update(textModel,Date.now()-now);}).catch(function(_err){_this5._cache.delete(textModel.id);});}if(!data.model){_context.next=5;break;}return _context.abrupt("return",data.model);case 5:// increase usage counter
data.promiseCnt+=1;listener=token.onCancellationRequested(function(){// last -> cancel provider request, remove cached promise
if(--data.promiseCnt===0){data.source.cancel();_this5._cache.delete(textModel.id);}});_context.prev=7;_context.next=10;return data.promise;case 10:return _context.abrupt("return",_context.sent);case 11:_context.prev=11;listener.dispose();return _context.finish(11);case 14:case"end":return _context.stop();}}},_callee,this,[[7,,11,14]]);}));}}]);return OutlineModelService;}();OutlineModelService=__decorate([__param(0,_common_services_languageFeatureDebounce_js__WEBPACK_IMPORTED_MODULE_6__/* .ILanguageFeatureDebounceService */ .A),__param(1,_common_services_model_js__WEBPACK_IMPORTED_MODULE_8__/* .IModelService */ .q)],OutlineModelService);(0,_platform_instantiation_common_extensions_js__WEBPACK_IMPORTED_MODULE_13__/* .registerSingleton */ .z)(IOutlineModelService,OutlineModelService,true);

/***/ }),

/***/ 76141:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "yy": () => (/* binding */ EditorState),
  "Dl": () => (/* binding */ EditorStateCancellationTokenSource),
  "YQ": () => (/* binding */ TextModelCancellationTokenSource)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/cancellation.js
var cancellation = __webpack_require__(82643);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/linkedList.js
var linkedList = __webpack_require__(86164);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js
var extensions = __webpack_require__(74822);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/keybindingCancellation.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var IEditorCancellationTokens=(0,instantiation/* createDecorator */.yh)('IEditorCancelService');var ctxCancellableOperation=new contextkey/* RawContextKey */.uy('cancellableOperation',false,(0,nls/* localize */.N)('cancellableOperation','Whether the editor runs a cancellable operation, e.g. like \'Peek References\''));(0,extensions/* registerSingleton */.z)(IEditorCancellationTokens,/*#__PURE__*/function(){function _class(){_classCallCheck(this,_class);this._tokens=new WeakMap();}_createClass(_class,[{key:"add",value:function add(editor,cts){var data=this._tokens.get(editor);if(!data){data=editor.invokeWithinContext(function(accessor){var key=ctxCancellableOperation.bindTo(accessor.get(contextkey/* IContextKeyService */.i6));var tokens=new linkedList/* LinkedList */.S();return{key:key,tokens:tokens};});this._tokens.set(editor,data);}var removeFn;data.key.set(true);removeFn=data.tokens.push(cts);return function(){// remove w/o cancellation
if(removeFn){removeFn();data.key.set(!data.tokens.isEmpty());removeFn=undefined;}};}},{key:"cancel",value:function cancel(editor){var data=this._tokens.get(editor);if(!data){return;}// remove with cancellation
var cts=data.tokens.pop();if(cts){cts.cancel();data.key.set(!data.tokens.isEmpty());}}}]);return _class;}(),true);var EditorKeybindingCancellationTokenSource=/*#__PURE__*/function(_CancellationTokenSou){_inherits(EditorKeybindingCancellationTokenSource,_CancellationTokenSou);var _super=_createSuper(EditorKeybindingCancellationTokenSource);function EditorKeybindingCancellationTokenSource(editor,parent){var _this;_classCallCheck(this,EditorKeybindingCancellationTokenSource);_this=_super.call(this,parent);_this.editor=editor;_this._unregister=editor.invokeWithinContext(function(accessor){return accessor.get(IEditorCancellationTokens).add(editor,_assertThisInitialized(_this));});return _this;}_createClass(EditorKeybindingCancellationTokenSource,[{key:"dispose",value:function dispose(){this._unregister();_get(_getPrototypeOf(EditorKeybindingCancellationTokenSource.prototype),"dispose",this).call(this);}}]);return EditorKeybindingCancellationTokenSource;}(cancellation/* CancellationTokenSource */.A);(0,editorExtensions/* registerEditorCommand */.fK)(new(/*#__PURE__*/function(_EditorCommand){_inherits(_class2,_EditorCommand);var _super2=_createSuper(_class2);function _class2(){_classCallCheck(this,_class2);return _super2.call(this,{id:'editor.cancelOperation',kbOpts:{weight:100/* EditorContrib */,primary:9/* Escape */},precondition:ctxCancellableOperation});}_createClass(_class2,[{key:"runEditorCommand",value:function runEditorCommand(accessor,editor){accessor.get(IEditorCancellationTokens).cancel(editor);}}]);return _class2;}(editorExtensions/* EditorCommand */._l))());
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/editorState.js
function editorState_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){editorState_typeof=function _typeof(obj){return typeof obj;};}else{editorState_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return editorState_typeof(obj);}function editorState_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){editorState_get=Reflect.get;}else{editorState_get=function _get(target,property,receiver){var base=editorState_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return editorState_get(target,property,receiver||target);}function editorState_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=editorState_getPrototypeOf(object);if(object===null)break;}return object;}function editorState_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)editorState_setPrototypeOf(subClass,superClass);}function editorState_setPrototypeOf(o,p){editorState_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return editorState_setPrototypeOf(o,p);}function editorState_createSuper(Derived){var hasNativeReflectConstruct=editorState_isNativeReflectConstruct();return function _createSuperInternal(){var Super=editorState_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=editorState_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return editorState_possibleConstructorReturn(this,result);};}function editorState_possibleConstructorReturn(self,call){if(call&&(editorState_typeof(call)==="object"||typeof call==="function")){return call;}return editorState_assertThisInitialized(self);}function editorState_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function editorState_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function editorState_getPrototypeOf(o){editorState_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return editorState_getPrototypeOf(o);}function editorState_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function editorState_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function editorState_createClass(Constructor,protoProps,staticProps){if(protoProps)editorState_defineProperties(Constructor.prototype,protoProps);if(staticProps)editorState_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var EditorState=/*#__PURE__*/function(){function EditorState(editor,flags){editorState_classCallCheck(this,EditorState);this.flags=flags;if((this.flags&1/* Value */)!==0){var model=editor.getModel();this.modelVersionId=model?strings/* format */.WU('{0}#{1}',model.uri.toString(),model.getVersionId()):null;}else{this.modelVersionId=null;}if((this.flags&4/* Position */)!==0){this.position=editor.getPosition();}else{this.position=null;}if((this.flags&2/* Selection */)!==0){this.selection=editor.getSelection();}else{this.selection=null;}if((this.flags&8/* Scroll */)!==0){this.scrollLeft=editor.getScrollLeft();this.scrollTop=editor.getScrollTop();}else{this.scrollLeft=-1;this.scrollTop=-1;}}editorState_createClass(EditorState,[{key:"_equals",value:function _equals(other){if(!(other instanceof EditorState)){return false;}var state=other;if(this.modelVersionId!==state.modelVersionId){return false;}if(this.scrollLeft!==state.scrollLeft||this.scrollTop!==state.scrollTop){return false;}if(!this.position&&state.position||this.position&&!state.position||this.position&&state.position&&!this.position.equals(state.position)){return false;}if(!this.selection&&state.selection||this.selection&&!state.selection||this.selection&&state.selection&&!this.selection.equalsRange(state.selection)){return false;}return true;}},{key:"validate",value:function validate(editor){return this._equals(new EditorState(editor,this.flags));}}]);return EditorState;}();/**
 * A cancellation token source that cancels when the editor changes as expressed
 * by the provided flags
 * @param range If provided, changes in position and selection within this range will not trigger cancellation
 */var EditorStateCancellationTokenSource=/*#__PURE__*/function(_EditorKeybindingCanc){editorState_inherits(EditorStateCancellationTokenSource,_EditorKeybindingCanc);var _super=editorState_createSuper(EditorStateCancellationTokenSource);function EditorStateCancellationTokenSource(editor,flags,range,parent){var _this;editorState_classCallCheck(this,EditorStateCancellationTokenSource);_this=_super.call(this,editor,parent);_this._listener=new lifecycle/* DisposableStore */.SL();if(flags&4/* Position */){_this._listener.add(editor.onDidChangeCursorPosition(function(e){if(!range||!core_range/* Range.containsPosition */.e.containsPosition(range,e.position)){_this.cancel();}}));}if(flags&2/* Selection */){_this._listener.add(editor.onDidChangeCursorSelection(function(e){if(!range||!core_range/* Range.containsRange */.e.containsRange(range,e.selection)){_this.cancel();}}));}if(flags&8/* Scroll */){_this._listener.add(editor.onDidScrollChange(function(_){return _this.cancel();}));}if(flags&1/* Value */){_this._listener.add(editor.onDidChangeModel(function(_){return _this.cancel();}));_this._listener.add(editor.onDidChangeModelContent(function(_){return _this.cancel();}));}return _this;}editorState_createClass(EditorStateCancellationTokenSource,[{key:"dispose",value:function dispose(){this._listener.dispose();editorState_get(editorState_getPrototypeOf(EditorStateCancellationTokenSource.prototype),"dispose",this).call(this);}}]);return EditorStateCancellationTokenSource;}(EditorKeybindingCancellationTokenSource);/**
 * A cancellation token source that cancels when the provided model changes
 */var TextModelCancellationTokenSource=/*#__PURE__*/function(_CancellationTokenSou){editorState_inherits(TextModelCancellationTokenSource,_CancellationTokenSou);var _super2=editorState_createSuper(TextModelCancellationTokenSource);function TextModelCancellationTokenSource(model,parent){var _this2;editorState_classCallCheck(this,TextModelCancellationTokenSource);_this2=_super2.call(this,parent);_this2._listener=model.onDidChangeContent(function(){return _this2.cancel();});return _this2;}editorState_createClass(TextModelCancellationTokenSource,[{key:"dispose",value:function dispose(){this._listener.dispose();editorState_get(editorState_getPrototypeOf(TextModelCancellationTokenSource.prototype),"dispose",this).call(this);}}]);return TextModelCancellationTokenSource;}(cancellation/* CancellationTokenSource */.A);

/***/ }),

/***/ 56909:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "CommonFindController": () => (/* binding */ CommonFindController),
  "FindController": () => (/* binding */ FindController),
  "MatchFindAction": () => (/* binding */ MatchFindAction),
  "NextMatchFindAction": () => (/* binding */ NextMatchFindAction),
  "NextSelectionMatchFindAction": () => (/* binding */ NextSelectionMatchFindAction),
  "PreviousMatchFindAction": () => (/* binding */ PreviousMatchFindAction),
  "PreviousSelectionMatchFindAction": () => (/* binding */ PreviousSelectionMatchFindAction),
  "SelectionMatchFindAction": () => (/* binding */ SelectionMatchFindAction),
  "StartFindAction": () => (/* binding */ StartFindAction),
  "StartFindReplaceAction": () => (/* binding */ StartFindReplaceAction),
  "StartFindWithArgsAction": () => (/* binding */ StartFindWithArgsAction),
  "StartFindWithSelectionAction": () => (/* binding */ StartFindWithSelectionAction),
  "getSelectionSearchString": () => (/* binding */ getSelectionSearchString)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/commands/replaceCommand.js
var replaceCommand = __webpack_require__(70523);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var core_position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js
var selection = __webpack_require__(33199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModelSearch.js
var textModelSearch = __webpack_require__(97886);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model.js
var model = __webpack_require__(16227);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js
var colorRegistry = __webpack_require__(25530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findDecorations.js
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var FindDecorations=/*#__PURE__*/function(){function FindDecorations(editor){_classCallCheck(this,FindDecorations);this._editor=editor;this._decorations=[];this._overviewRulerApproximateDecorations=[];this._findScopeDecorationIds=[];this._rangeHighlightDecorationId=null;this._highlightedDecorationId=null;this._startPosition=this._editor.getPosition();}_createClass(FindDecorations,[{key:"dispose",value:function dispose(){this._editor.deltaDecorations(this._allDecorations(),[]);this._decorations=[];this._overviewRulerApproximateDecorations=[];this._findScopeDecorationIds=[];this._rangeHighlightDecorationId=null;this._highlightedDecorationId=null;}},{key:"reset",value:function reset(){this._decorations=[];this._overviewRulerApproximateDecorations=[];this._findScopeDecorationIds=[];this._rangeHighlightDecorationId=null;this._highlightedDecorationId=null;}},{key:"getCount",value:function getCount(){return this._decorations.length;}/** @deprecated use getFindScopes to support multiple selections */},{key:"getFindScope",value:function getFindScope(){if(this._findScopeDecorationIds[0]){return this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]);}return null;}},{key:"getFindScopes",value:function getFindScopes(){var _this=this;if(this._findScopeDecorationIds.length){var scopes=this._findScopeDecorationIds.map(function(findScopeDecorationId){return _this._editor.getModel().getDecorationRange(findScopeDecorationId);}).filter(function(element){return!!element;});if(scopes.length){return scopes;}}return null;}},{key:"getStartPosition",value:function getStartPosition(){return this._startPosition;}},{key:"setStartPosition",value:function setStartPosition(newStartPosition){this._startPosition=newStartPosition;this.setCurrentFindMatch(null);}},{key:"_getDecorationIndex",value:function _getDecorationIndex(decorationId){var index=this._decorations.indexOf(decorationId);if(index>=0){return index+1;}return 1;}},{key:"getCurrentMatchesPosition",value:function getCurrentMatchesPosition(desiredRange){var candidates=this._editor.getModel().getDecorationsInRange(desiredRange);var _iterator=_createForOfIteratorHelper(candidates),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var candidate=_step.value;var candidateOpts=candidate.options;if(candidateOpts===FindDecorations._FIND_MATCH_DECORATION||candidateOpts===FindDecorations._CURRENT_FIND_MATCH_DECORATION){return this._getDecorationIndex(candidate.id);}}// We don't know the current match position, so returns zero to show '?' in find widget
}catch(err){_iterator.e(err);}finally{_iterator.f();}return 0;}},{key:"setCurrentFindMatch",value:function setCurrentFindMatch(nextMatch){var _this2=this;var newCurrentDecorationId=null;var matchPosition=0;if(nextMatch){for(var i=0,len=this._decorations.length;i<len;i++){var range=this._editor.getModel().getDecorationRange(this._decorations[i]);if(nextMatch.equalsRange(range)){newCurrentDecorationId=this._decorations[i];matchPosition=i+1;break;}}}if(this._highlightedDecorationId!==null||newCurrentDecorationId!==null){this._editor.changeDecorations(function(changeAccessor){if(_this2._highlightedDecorationId!==null){changeAccessor.changeDecorationOptions(_this2._highlightedDecorationId,FindDecorations._FIND_MATCH_DECORATION);_this2._highlightedDecorationId=null;}if(newCurrentDecorationId!==null){_this2._highlightedDecorationId=newCurrentDecorationId;changeAccessor.changeDecorationOptions(_this2._highlightedDecorationId,FindDecorations._CURRENT_FIND_MATCH_DECORATION);}if(_this2._rangeHighlightDecorationId!==null){changeAccessor.removeDecoration(_this2._rangeHighlightDecorationId);_this2._rangeHighlightDecorationId=null;}if(newCurrentDecorationId!==null){var rng=_this2._editor.getModel().getDecorationRange(newCurrentDecorationId);if(rng.startLineNumber!==rng.endLineNumber&&rng.endColumn===1){var lineBeforeEnd=rng.endLineNumber-1;var lineBeforeEndMaxColumn=_this2._editor.getModel().getLineMaxColumn(lineBeforeEnd);rng=new core_range/* Range */.e(rng.startLineNumber,rng.startColumn,lineBeforeEnd,lineBeforeEndMaxColumn);}_this2._rangeHighlightDecorationId=changeAccessor.addDecoration(rng,FindDecorations._RANGE_HIGHLIGHT_DECORATION);}});}return matchPosition;}},{key:"set",value:function set(findMatches,findScopes){var _this3=this;this._editor.changeDecorations(function(accessor){var findMatchesOptions=FindDecorations._FIND_MATCH_DECORATION;var newOverviewRulerApproximateDecorations=[];if(findMatches.length>1000){// we go into a mode where the overview ruler gets "approximate" decorations
// the reason is that the overview ruler paints all the decorations in the file and we don't want to cause freezes
findMatchesOptions=FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;// approximate a distance in lines where matches should be merged
var lineCount=_this3._editor.getModel().getLineCount();var height=_this3._editor.getLayoutInfo().height;var approxPixelsPerLine=height/lineCount;var mergeLinesDelta=Math.max(2,Math.ceil(3/approxPixelsPerLine));// merge decorations as much as possible
var prevStartLineNumber=findMatches[0].range.startLineNumber;var prevEndLineNumber=findMatches[0].range.endLineNumber;for(var i=1,len=findMatches.length;i<len;i++){var range=findMatches[i].range;if(prevEndLineNumber+mergeLinesDelta>=range.startLineNumber){if(range.endLineNumber>prevEndLineNumber){prevEndLineNumber=range.endLineNumber;}}else{newOverviewRulerApproximateDecorations.push({range:new core_range/* Range */.e(prevStartLineNumber,1,prevEndLineNumber,1),options:FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION});prevStartLineNumber=range.startLineNumber;prevEndLineNumber=range.endLineNumber;}}newOverviewRulerApproximateDecorations.push({range:new core_range/* Range */.e(prevStartLineNumber,1,prevEndLineNumber,1),options:FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION});}// Find matches
var newFindMatchesDecorations=new Array(findMatches.length);for(var _i=0,_len=findMatches.length;_i<_len;_i++){newFindMatchesDecorations[_i]={range:findMatches[_i].range,options:findMatchesOptions};}_this3._decorations=accessor.deltaDecorations(_this3._decorations,newFindMatchesDecorations);// Overview ruler approximate decorations
_this3._overviewRulerApproximateDecorations=accessor.deltaDecorations(_this3._overviewRulerApproximateDecorations,newOverviewRulerApproximateDecorations);// Range highlight
if(_this3._rangeHighlightDecorationId){accessor.removeDecoration(_this3._rangeHighlightDecorationId);_this3._rangeHighlightDecorationId=null;}// Find scope
if(_this3._findScopeDecorationIds.length){_this3._findScopeDecorationIds.forEach(function(findScopeDecorationId){return accessor.removeDecoration(findScopeDecorationId);});_this3._findScopeDecorationIds=[];}if(findScopes===null||findScopes===void 0?void 0:findScopes.length){_this3._findScopeDecorationIds=findScopes.map(function(findScope){return accessor.addDecoration(findScope,FindDecorations._FIND_SCOPE_DECORATION);});}});}},{key:"matchBeforePosition",value:function matchBeforePosition(position){if(this._decorations.length===0){return null;}for(var i=this._decorations.length-1;i>=0;i--){var decorationId=this._decorations[i];var r=this._editor.getModel().getDecorationRange(decorationId);if(!r||r.endLineNumber>position.lineNumber){continue;}if(r.endLineNumber<position.lineNumber){return r;}if(r.endColumn>position.column){continue;}return r;}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1]);}},{key:"matchAfterPosition",value:function matchAfterPosition(position){if(this._decorations.length===0){return null;}for(var i=0,len=this._decorations.length;i<len;i++){var decorationId=this._decorations[i];var r=this._editor.getModel().getDecorationRange(decorationId);if(!r||r.startLineNumber<position.lineNumber){continue;}if(r.startLineNumber>position.lineNumber){return r;}if(r.startColumn<position.column){continue;}return r;}return this._editor.getModel().getDecorationRange(this._decorations[0]);}},{key:"_allDecorations",value:function _allDecorations(){var result=[];result=result.concat(this._decorations);result=result.concat(this._overviewRulerApproximateDecorations);if(this._findScopeDecorationIds.length){var _result;(_result=result).push.apply(_result,_toConsumableArray(this._findScopeDecorationIds));}if(this._rangeHighlightDecorationId){result.push(this._rangeHighlightDecorationId);}return result;}}]);return FindDecorations;}();FindDecorations._CURRENT_FIND_MATCH_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'current-find-match',stickiness:1/* NeverGrowsWhenTypingAtEdges */,zIndex:13,className:'currentFindMatch',showIfCollapsed:true,overviewRuler:{color:(0,themeService/* themeColorFromId */.EN)(colorRegistry/* overviewRulerFindMatchForeground */.Fm_),position:model/* OverviewRulerLane.Center */.sh.Center},minimap:{color:(0,themeService/* themeColorFromId */.EN)(colorRegistry/* minimapFindMatch */.SUY),position:model/* MinimapPosition.Inline */.F5.Inline}});FindDecorations._FIND_MATCH_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'find-match',stickiness:1/* NeverGrowsWhenTypingAtEdges */,zIndex:10,className:'findMatch',showIfCollapsed:true,overviewRuler:{color:(0,themeService/* themeColorFromId */.EN)(colorRegistry/* overviewRulerFindMatchForeground */.Fm_),position:model/* OverviewRulerLane.Center */.sh.Center},minimap:{color:(0,themeService/* themeColorFromId */.EN)(colorRegistry/* minimapFindMatch */.SUY),position:model/* MinimapPosition.Inline */.F5.Inline}});FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'find-match-no-overview',stickiness:1/* NeverGrowsWhenTypingAtEdges */,className:'findMatch',showIfCollapsed:true});FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'find-match-only-overview',stickiness:1/* NeverGrowsWhenTypingAtEdges */,overviewRuler:{color:(0,themeService/* themeColorFromId */.EN)(colorRegistry/* overviewRulerFindMatchForeground */.Fm_),position:model/* OverviewRulerLane.Center */.sh.Center}});FindDecorations._RANGE_HIGHLIGHT_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'find-range-highlight',stickiness:1/* NeverGrowsWhenTypingAtEdges */,className:'rangeHighlight',isWholeLine:true});FindDecorations._FIND_SCOPE_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'find-scope',className:'findScope',isWholeLine:true});
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/replaceAllCommand.js
function replaceAllCommand_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function replaceAllCommand_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function replaceAllCommand_createClass(Constructor,protoProps,staticProps){if(protoProps)replaceAllCommand_defineProperties(Constructor.prototype,protoProps);if(staticProps)replaceAllCommand_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ReplaceAllCommand=/*#__PURE__*/function(){function ReplaceAllCommand(editorSelection,ranges,replaceStrings){replaceAllCommand_classCallCheck(this,ReplaceAllCommand);this._editorSelection=editorSelection;this._ranges=ranges;this._replaceStrings=replaceStrings;this._trackedEditorSelectionId=null;}replaceAllCommand_createClass(ReplaceAllCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){if(this._ranges.length>0){// Collect all edit operations
var ops=[];for(var i=0;i<this._ranges.length;i++){ops.push({range:this._ranges[i],text:this._replaceStrings[i]});}// Sort them in ascending order by range starts
ops.sort(function(o1,o2){return core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(o1.range,o2.range);});// Merge operations that touch each other
var resultOps=[];var previousOp=ops[0];for(var _i=1;_i<ops.length;_i++){if(previousOp.range.endLineNumber===ops[_i].range.startLineNumber&&previousOp.range.endColumn===ops[_i].range.startColumn){// These operations are one after another and can be merged
previousOp.range=previousOp.range.plusRange(ops[_i].range);previousOp.text=previousOp.text+ops[_i].text;}else{resultOps.push(previousOp);previousOp=ops[_i];}}resultOps.push(previousOp);for(var _i2=0,_resultOps=resultOps;_i2<_resultOps.length;_i2++){var op=_resultOps[_i2];builder.addEditOperation(op.range,op.text);}}this._trackedEditorSelectionId=builder.trackSelection(this._editorSelection);}},{key:"computeCursorState",value:function computeCursorState(model,helper){return helper.getTrackedSelection(this._trackedEditorSelectionId);}}]);return ReplaceAllCommand;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/search.js
var search = __webpack_require__(54586);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/replacePattern.js
function replacePattern_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function replacePattern_createClass(Constructor,protoProps,staticProps){if(protoProps)replacePattern_defineProperties(Constructor.prototype,protoProps);if(staticProps)replacePattern_defineProperties(Constructor,staticProps);return Constructor;}function replacePattern_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*//**
 * Assigned when the replace pattern is entirely static.
 */var StaticValueReplacePattern=function StaticValueReplacePattern(staticValue){replacePattern_classCallCheck(this,StaticValueReplacePattern);this.staticValue=staticValue;this.kind=0/* StaticValue */;};/**
 * Assigned when the replace pattern has replacement patterns.
 */var DynamicPiecesReplacePattern=function DynamicPiecesReplacePattern(pieces){replacePattern_classCallCheck(this,DynamicPiecesReplacePattern);this.pieces=pieces;this.kind=1/* DynamicPieces */;};var ReplacePattern=/*#__PURE__*/function(){function ReplacePattern(pieces){replacePattern_classCallCheck(this,ReplacePattern);if(!pieces||pieces.length===0){this._state=new StaticValueReplacePattern('');}else if(pieces.length===1&&pieces[0].staticValue!==null){this._state=new StaticValueReplacePattern(pieces[0].staticValue);}else{this._state=new DynamicPiecesReplacePattern(pieces);}}replacePattern_createClass(ReplacePattern,[{key:"hasReplacementPatterns",get:function get(){return this._state.kind===1/* DynamicPieces */;}},{key:"buildReplaceString",value:function buildReplaceString(matches,preserveCase){if(this._state.kind===0/* StaticValue */){if(preserveCase){return (0,search/* buildReplaceStringWithCasePreserved */.o)(matches,this._state.staticValue);}else{return this._state.staticValue;}}var result='';for(var i=0,len=this._state.pieces.length;i<len;i++){var piece=this._state.pieces[i];if(piece.staticValue!==null){// static value ReplacePiece
result+=piece.staticValue;continue;}// match index ReplacePiece
var match=ReplacePattern._substitute(piece.matchIndex,matches);if(piece.caseOps!==null&&piece.caseOps.length>0){var repl=[];var lenOps=piece.caseOps.length;var opIdx=0;for(var idx=0,_len=match.length;idx<_len;idx++){if(opIdx>=lenOps){repl.push(match.slice(idx));break;}switch(piece.caseOps[opIdx]){case'U':repl.push(match[idx].toUpperCase());break;case'u':repl.push(match[idx].toUpperCase());opIdx++;break;case'L':repl.push(match[idx].toLowerCase());break;case'l':repl.push(match[idx].toLowerCase());opIdx++;break;default:repl.push(match[idx]);}}match=repl.join('');}result+=match;}return result;}}],[{key:"fromStaticValue",value:function fromStaticValue(value){return new ReplacePattern([ReplacePiece.staticValue(value)]);}},{key:"_substitute",value:function _substitute(matchIndex,matches){if(matches===null){return'';}if(matchIndex===0){return matches[0];}var remainder='';while(matchIndex>0){if(matchIndex<matches.length){// A match can be undefined
var match=matches[matchIndex]||'';return match+remainder;}remainder=String(matchIndex%10)+remainder;matchIndex=Math.floor(matchIndex/10);}return'$'+remainder;}}]);return ReplacePattern;}();/**
 * A replace piece can either be a static string or an index to a specific match.
 */var ReplacePiece=/*#__PURE__*/function(){function ReplacePiece(staticValue,matchIndex,caseOps){replacePattern_classCallCheck(this,ReplacePiece);this.staticValue=staticValue;this.matchIndex=matchIndex;if(!caseOps||caseOps.length===0){this.caseOps=null;}else{this.caseOps=caseOps.slice(0);}}replacePattern_createClass(ReplacePiece,null,[{key:"staticValue",value:function staticValue(value){return new ReplacePiece(value,-1,null);}},{key:"caseOps",value:function caseOps(index,_caseOps){return new ReplacePiece(null,index,_caseOps);}}]);return ReplacePiece;}();var ReplacePieceBuilder=/*#__PURE__*/function(){function ReplacePieceBuilder(source){replacePattern_classCallCheck(this,ReplacePieceBuilder);this._source=source;this._lastCharIndex=0;this._result=[];this._resultLen=0;this._currentStaticPiece='';}replacePattern_createClass(ReplacePieceBuilder,[{key:"emitUnchanged",value:function emitUnchanged(toCharIndex){this._emitStatic(this._source.substring(this._lastCharIndex,toCharIndex));this._lastCharIndex=toCharIndex;}},{key:"emitStatic",value:function emitStatic(value,toCharIndex){this._emitStatic(value);this._lastCharIndex=toCharIndex;}},{key:"_emitStatic",value:function _emitStatic(value){if(value.length===0){return;}this._currentStaticPiece+=value;}},{key:"emitMatchIndex",value:function emitMatchIndex(index,toCharIndex,caseOps){if(this._currentStaticPiece.length!==0){this._result[this._resultLen++]=ReplacePiece.staticValue(this._currentStaticPiece);this._currentStaticPiece='';}this._result[this._resultLen++]=ReplacePiece.caseOps(index,caseOps);this._lastCharIndex=toCharIndex;}},{key:"finalize",value:function finalize(){this.emitUnchanged(this._source.length);if(this._currentStaticPiece.length!==0){this._result[this._resultLen++]=ReplacePiece.staticValue(this._currentStaticPiece);this._currentStaticPiece='';}return new ReplacePattern(this._result);}}]);return ReplacePieceBuilder;}();/**
 * \n			=> inserts a LF
 * \t			=> inserts a TAB
 * \\			=> inserts a "\".
 * \u			=> upper-cases one character in a match.
 * \U			=> upper-cases ALL remaining characters in a match.
 * \l			=> lower-cases one character in a match.
 * \L			=> lower-cases ALL remaining characters in a match.
 * $$			=> inserts a "$".
 * $& and $0	=> inserts the matched substring.
 * $n			=> Where n is a non-negative integer lesser than 100, inserts the nth parenthesized submatch string
 * everything else stays untouched
 *
 * Also see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter
 */function parseReplaceString(replaceString){if(!replaceString||replaceString.length===0){return new ReplacePattern(null);}var caseOps=[];var result=new ReplacePieceBuilder(replaceString);for(var i=0,len=replaceString.length;i<len;i++){var chCode=replaceString.charCodeAt(i);if(chCode===92/* Backslash */){// move to next char
i++;if(i>=len){// string ends with a \
break;}var nextChCode=replaceString.charCodeAt(i);// let replaceWithCharacter: string | null = null;
switch(nextChCode){case 92/* Backslash */:// \\ => inserts a "\"
result.emitUnchanged(i-1);result.emitStatic('\\',i+1);break;case 110/* n */:// \n => inserts a LF
result.emitUnchanged(i-1);result.emitStatic('\n',i+1);break;case 116/* t */:// \t => inserts a TAB
result.emitUnchanged(i-1);result.emitStatic('\t',i+1);break;// Case modification of string replacements, patterned after Boost, but only applied
// to the replacement text, not subsequent content.
case 117/* u */:// \u => upper-cases one character.
case 85/* U */:// \U => upper-cases ALL following characters.
case 108/* l */:// \l => lower-cases one character.
case 76/* L */:// \L => lower-cases ALL following characters.
result.emitUnchanged(i-1);result.emitStatic('',i+1);caseOps.push(String.fromCharCode(nextChCode));break;}continue;}if(chCode===36/* DollarSign */){// move to next char
i++;if(i>=len){// string ends with a $
break;}var _nextChCode=replaceString.charCodeAt(i);if(_nextChCode===36/* DollarSign */){// $$ => inserts a "$"
result.emitUnchanged(i-1);result.emitStatic('$',i+1);continue;}if(_nextChCode===48/* Digit0 */||_nextChCode===38/* Ampersand */){// $& and $0 => inserts the matched substring.
result.emitUnchanged(i-1);result.emitMatchIndex(0,i+1,caseOps);caseOps.length=0;continue;}if(49/* Digit1 */<=_nextChCode&&_nextChCode<=57/* Digit9 */){// $n
var matchIndex=_nextChCode-48/* Digit0 */;// peek next char to probe for $nn
if(i+1<len){var nextNextChCode=replaceString.charCodeAt(i+1);if(48/* Digit0 */<=nextNextChCode&&nextNextChCode<=57/* Digit9 */){// $nn
// move to next char
i++;matchIndex=matchIndex*10+(nextNextChCode-48/* Digit0 */);result.emitUnchanged(i-2);result.emitMatchIndex(matchIndex,i+1,caseOps);caseOps.length=0;continue;}}result.emitUnchanged(i-1);result.emitMatchIndex(matchIndex,i+1,caseOps);caseOps.length=0;continue;}}}return result.finalize();}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findModel.js
function findModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function findModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function findModel_createClass(Constructor,protoProps,staticProps){if(protoProps)findModel_defineProperties(Constructor.prototype,protoProps);if(staticProps)findModel_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var CONTEXT_FIND_WIDGET_VISIBLE=new contextkey/* RawContextKey */.uy('findWidgetVisible',false);var CONTEXT_FIND_WIDGET_NOT_VISIBLE=CONTEXT_FIND_WIDGET_VISIBLE.toNegated();// Keep ContextKey use of 'Focussed' to not break when clauses
var CONTEXT_FIND_INPUT_FOCUSED=new contextkey/* RawContextKey */.uy('findInputFocussed',false);var CONTEXT_REPLACE_INPUT_FOCUSED=new contextkey/* RawContextKey */.uy('replaceInputFocussed',false);var ToggleCaseSensitiveKeybinding={primary:512/* Alt */|33/* KeyC */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|33/* KeyC */}};var ToggleWholeWordKeybinding={primary:512/* Alt */|53/* KeyW */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|53/* KeyW */}};var ToggleRegexKeybinding={primary:512/* Alt */|48/* KeyR */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|48/* KeyR */}};var ToggleSearchScopeKeybinding={primary:512/* Alt */|42/* KeyL */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|42/* KeyL */}};var TogglePreserveCaseKeybinding={primary:512/* Alt */|46/* KeyP */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|46/* KeyP */}};var FIND_IDS={StartFindAction:'actions.find',StartFindWithSelection:'actions.findWithSelection',StartFindWithArgs:'editor.actions.findWithArgs',NextMatchFindAction:'editor.action.nextMatchFindAction',PreviousMatchFindAction:'editor.action.previousMatchFindAction',NextSelectionMatchFindAction:'editor.action.nextSelectionMatchFindAction',PreviousSelectionMatchFindAction:'editor.action.previousSelectionMatchFindAction',StartFindReplaceAction:'editor.action.startFindReplaceAction',CloseFindWidgetCommand:'closeFindWidget',ToggleCaseSensitiveCommand:'toggleFindCaseSensitive',ToggleWholeWordCommand:'toggleFindWholeWord',ToggleRegexCommand:'toggleFindRegex',ToggleSearchScopeCommand:'toggleFindInSelection',TogglePreserveCaseCommand:'togglePreserveCase',ReplaceOneAction:'editor.action.replaceOne',ReplaceAllAction:'editor.action.replaceAll',SelectAllMatchesAction:'editor.action.selectAllMatches'};var MATCHES_LIMIT=19999;var RESEARCH_DELAY=240;var FindModelBoundToEditorModel=/*#__PURE__*/function(){function FindModelBoundToEditorModel(editor,state){var _this=this;findModel_classCallCheck(this,FindModelBoundToEditorModel);this._toDispose=new lifecycle/* DisposableStore */.SL();this._editor=editor;this._state=state;this._isDisposed=false;this._startSearchingTimer=new common_async/* TimeoutTimer */._F();this._decorations=new FindDecorations(editor);this._toDispose.add(this._decorations);this._updateDecorationsScheduler=new common_async/* RunOnceScheduler */.pY(function(){return _this.research(false);},100);this._toDispose.add(this._updateDecorationsScheduler);this._toDispose.add(this._editor.onDidChangeCursorPosition(function(e){if(e.reason===3/* Explicit */||e.reason===5/* Undo */||e.reason===6/* Redo */){_this._decorations.setStartPosition(_this._editor.getPosition());}}));this._ignoreModelContentChanged=false;this._toDispose.add(this._editor.onDidChangeModelContent(function(e){if(_this._ignoreModelContentChanged){return;}if(e.isFlush){// a model.setValue() was called
_this._decorations.reset();}_this._decorations.setStartPosition(_this._editor.getPosition());_this._updateDecorationsScheduler.schedule();}));this._toDispose.add(this._state.onFindReplaceStateChange(function(e){return _this._onStateChanged(e);}));this.research(false,this._state.searchScope);}findModel_createClass(FindModelBoundToEditorModel,[{key:"dispose",value:function dispose(){this._isDisposed=true;(0,lifecycle/* dispose */.B9)(this._startSearchingTimer);this._toDispose.dispose();}},{key:"_onStateChanged",value:function _onStateChanged(e){var _this2=this;if(this._isDisposed){// The find model is disposed during a find state changed event
return;}if(!this._editor.hasModel()){// The find model will be disposed momentarily
return;}if(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope){var model=this._editor.getModel();if(model.isTooLargeForSyncing()){this._startSearchingTimer.cancel();this._startSearchingTimer.setIfNotSet(function(){if(e.searchScope){_this2.research(e.moveCursor,_this2._state.searchScope);}else{_this2.research(e.moveCursor);}},RESEARCH_DELAY);}else{if(e.searchScope){this.research(e.moveCursor,this._state.searchScope);}else{this.research(e.moveCursor);}}}}},{key:"research",value:function research(moveCursor,newFindScope){var _this3=this;var findScopes=null;if(typeof newFindScope!=='undefined'){if(newFindScope!==null){if(!Array.isArray(newFindScope)){findScopes=[newFindScope];}else{findScopes=newFindScope;}}}else{findScopes=this._decorations.getFindScopes();}if(findScopes!==null){findScopes=findScopes.map(function(findScope){if(findScope.startLineNumber!==findScope.endLineNumber){var endLineNumber=findScope.endLineNumber;if(findScope.endColumn===1){endLineNumber=endLineNumber-1;}return new core_range/* Range */.e(findScope.startLineNumber,1,endLineNumber,_this3._editor.getModel().getLineMaxColumn(endLineNumber));}return findScope;});}var findMatches=this._findMatches(findScopes,false,MATCHES_LIMIT);this._decorations.set(findMatches,findScopes);var editorSelection=this._editor.getSelection();var currentMatchesPosition=this._decorations.getCurrentMatchesPosition(editorSelection);if(currentMatchesPosition===0&&findMatches.length>0){// current selection is not on top of a match
// try to find its nearest result from the top of the document
var matchAfterSelection=(0,arrays/* findFirstInSorted */.lG)(findMatches.map(function(match){return match.range;}),function(range){return core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(range,editorSelection)>=0;});currentMatchesPosition=matchAfterSelection>0?matchAfterSelection-1+1/** match position is one based */:currentMatchesPosition;}this._state.changeMatchInfo(currentMatchesPosition,this._decorations.getCount(),undefined);if(moveCursor&&this._editor.getOption(35/* find */).cursorMoveOnType){this._moveToNextMatch(this._decorations.getStartPosition());}}},{key:"_hasMatches",value:function _hasMatches(){return this._state.matchesCount>0;}},{key:"_cannotFind",value:function _cannotFind(){if(!this._hasMatches()){var findScope=this._decorations.getFindScope();if(findScope){// Reveal the selection so user is reminded that 'selection find' is on.
this._editor.revealRangeInCenterIfOutsideViewport(findScope,0/* Smooth */);}return true;}return false;}},{key:"_setCurrentFindMatch",value:function _setCurrentFindMatch(match){var matchesPosition=this._decorations.setCurrentFindMatch(match);this._state.changeMatchInfo(matchesPosition,this._decorations.getCount(),match);this._editor.setSelection(match);this._editor.revealRangeInCenterIfOutsideViewport(match,0/* Smooth */);}},{key:"_prevSearchPosition",value:function _prevSearchPosition(before){var isUsingLineStops=this._state.isRegex&&(this._state.searchString.indexOf('^')>=0||this._state.searchString.indexOf('$')>=0);var lineNumber=before.lineNumber,column=before.column;var model=this._editor.getModel();if(isUsingLineStops||column===1){if(lineNumber===1){lineNumber=model.getLineCount();}else{lineNumber--;}column=model.getLineMaxColumn(lineNumber);}else{column--;}return new core_position/* Position */.L(lineNumber,column);}},{key:"_moveToPrevMatch",value:function _moveToPrevMatch(before){var isRecursed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._state.canNavigateBack()){// we are beyond the first matched find result
// instead of doing nothing, we should refocus the first item
var nextMatchRange=this._decorations.matchAfterPosition(before);if(nextMatchRange){this._setCurrentFindMatch(nextMatchRange);}return;}if(this._decorations.getCount()<MATCHES_LIMIT){var prevMatchRange=this._decorations.matchBeforePosition(before);if(prevMatchRange&&prevMatchRange.isEmpty()&&prevMatchRange.getStartPosition().equals(before)){before=this._prevSearchPosition(before);prevMatchRange=this._decorations.matchBeforePosition(before);}if(prevMatchRange){this._setCurrentFindMatch(prevMatchRange);}return;}if(this._cannotFind()){return;}var findScope=this._decorations.getFindScope();var searchRange=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);// ...(----)...|...
if(searchRange.getEndPosition().isBefore(before)){before=searchRange.getEndPosition();}// ...|...(----)...
if(before.isBefore(searchRange.getStartPosition())){before=searchRange.getEndPosition();}var _before=before,lineNumber=_before.lineNumber,column=_before.column;var model=this._editor.getModel();var position=new core_position/* Position */.L(lineNumber,column);var prevMatch=model.findPreviousMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117/* wordSeparators */):null,false);if(prevMatch&&prevMatch.range.isEmpty()&&prevMatch.range.getStartPosition().equals(position)){// Looks like we're stuck at this position, unacceptable!
position=this._prevSearchPosition(position);prevMatch=model.findPreviousMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117/* wordSeparators */):null,false);}if(!prevMatch){// there is precisely one match and selection is on top of it
return;}if(!isRecursed&&!searchRange.containsRange(prevMatch.range)){return this._moveToPrevMatch(prevMatch.range.getStartPosition(),true);}this._setCurrentFindMatch(prevMatch.range);}},{key:"moveToPrevMatch",value:function moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition());}},{key:"_nextSearchPosition",value:function _nextSearchPosition(after){var isUsingLineStops=this._state.isRegex&&(this._state.searchString.indexOf('^')>=0||this._state.searchString.indexOf('$')>=0);var lineNumber=after.lineNumber,column=after.column;var model=this._editor.getModel();if(isUsingLineStops||column===model.getLineMaxColumn(lineNumber)){if(lineNumber===model.getLineCount()){lineNumber=1;}else{lineNumber++;}column=1;}else{column++;}return new core_position/* Position */.L(lineNumber,column);}},{key:"_moveToNextMatch",value:function _moveToNextMatch(after){if(!this._state.canNavigateForward()){// we are beyond the last matched find result
// instead of doing nothing, we should refocus the last item
var prevMatchRange=this._decorations.matchBeforePosition(after);if(prevMatchRange){this._setCurrentFindMatch(prevMatchRange);}return;}if(this._decorations.getCount()<MATCHES_LIMIT){var nextMatchRange=this._decorations.matchAfterPosition(after);if(nextMatchRange&&nextMatchRange.isEmpty()&&nextMatchRange.getStartPosition().equals(after)){// Looks like we're stuck at this position, unacceptable!
after=this._nextSearchPosition(after);nextMatchRange=this._decorations.matchAfterPosition(after);}if(nextMatchRange){this._setCurrentFindMatch(nextMatchRange);}return;}var nextMatch=this._getNextMatch(after,false,true);if(nextMatch){this._setCurrentFindMatch(nextMatch.range);}}},{key:"_getNextMatch",value:function _getNextMatch(after,captureMatches,forceMove){var isRecursed=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(this._cannotFind()){return null;}var findScope=this._decorations.getFindScope();var searchRange=FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(),findScope);// ...(----)...|...
if(searchRange.getEndPosition().isBefore(after)){after=searchRange.getStartPosition();}// ...|...(----)...
if(after.isBefore(searchRange.getStartPosition())){after=searchRange.getStartPosition();}var _after=after,lineNumber=_after.lineNumber,column=_after.column;var model=this._editor.getModel();var position=new core_position/* Position */.L(lineNumber,column);var nextMatch=model.findNextMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117/* wordSeparators */):null,captureMatches);if(forceMove&&nextMatch&&nextMatch.range.isEmpty()&&nextMatch.range.getStartPosition().equals(position)){// Looks like we're stuck at this position, unacceptable!
position=this._nextSearchPosition(position);nextMatch=model.findNextMatch(this._state.searchString,position,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117/* wordSeparators */):null,captureMatches);}if(!nextMatch){// there is precisely one match and selection is on top of it
return null;}if(!isRecursed&&!searchRange.containsRange(nextMatch.range)){return this._getNextMatch(nextMatch.range.getEndPosition(),captureMatches,forceMove,true);}return nextMatch;}},{key:"moveToNextMatch",value:function moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition());}},{key:"_getReplacePattern",value:function _getReplacePattern(){if(this._state.isRegex){return parseReplaceString(this._state.replaceString);}return ReplacePattern.fromStaticValue(this._state.replaceString);}},{key:"replace",value:function replace(){if(!this._hasMatches()){return;}var replacePattern=this._getReplacePattern();var selection=this._editor.getSelection();var nextMatch=this._getNextMatch(selection.getStartPosition(),true,false);if(nextMatch){if(selection.equalsRange(nextMatch.range)){// selection sits on a find match => replace it!
var replaceString=replacePattern.buildReplaceString(nextMatch.matches,this._state.preserveCase);var command=new replaceCommand/* ReplaceCommand */.T4(selection,replaceString);this._executeEditorCommand('replace',command);this._decorations.setStartPosition(new core_position/* Position */.L(selection.startLineNumber,selection.startColumn+replaceString.length));this.research(true);}else{this._decorations.setStartPosition(this._editor.getPosition());this._setCurrentFindMatch(nextMatch.range);}}}},{key:"_findMatches",value:function _findMatches(findScopes,captureMatches,limitResultCount){var _this4=this;var searchRanges=(findScopes||[null]).map(function(scope){return FindModelBoundToEditorModel._getSearchRange(_this4._editor.getModel(),scope);});return this._editor.getModel().findMatches(this._state.searchString,searchRanges,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117/* wordSeparators */):null,captureMatches,limitResultCount);}},{key:"replaceAll",value:function replaceAll(){if(!this._hasMatches()){return;}var findScopes=this._decorations.getFindScopes();if(findScopes===null&&this._state.matchesCount>=MATCHES_LIMIT){// Doing a replace on the entire file that is over ${MATCHES_LIMIT} matches
this._largeReplaceAll();}else{this._regularReplaceAll(findScopes);}this.research(false);}},{key:"_largeReplaceAll",value:function _largeReplaceAll(){var searchParams=new textModelSearch/* SearchParams */.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117/* wordSeparators */):null);var searchData=searchParams.parseSearchRequest();if(!searchData){return;}var searchRegex=searchData.regex;if(!searchRegex.multiline){var mod='mu';if(searchRegex.ignoreCase){mod+='i';}if(searchRegex.global){mod+='g';}searchRegex=new RegExp(searchRegex.source,mod);}var model=this._editor.getModel();var modelText=model.getValue(1/* LF */);var fullModelRange=model.getFullModelRange();var replacePattern=this._getReplacePattern();var resultText;var preserveCase=this._state.preserveCase;if(replacePattern.hasReplacementPatterns||preserveCase){resultText=modelText.replace(searchRegex,function(){return replacePattern.buildReplaceString(arguments,preserveCase);});}else{resultText=modelText.replace(searchRegex,replacePattern.buildReplaceString(null,preserveCase));}var command=new replaceCommand/* ReplaceCommandThatPreservesSelection */.hP(fullModelRange,resultText,this._editor.getSelection());this._executeEditorCommand('replaceAll',command);}},{key:"_regularReplaceAll",value:function _regularReplaceAll(findScopes){var replacePattern=this._getReplacePattern();// Get all the ranges (even more than the highlighted ones)
var matches=this._findMatches(findScopes,replacePattern.hasReplacementPatterns||this._state.preserveCase,1073741824/* MAX_SAFE_SMALL_INTEGER */);var replaceStrings=[];for(var i=0,len=matches.length;i<len;i++){replaceStrings[i]=replacePattern.buildReplaceString(matches[i].matches,this._state.preserveCase);}var command=new ReplaceAllCommand(this._editor.getSelection(),matches.map(function(m){return m.range;}),replaceStrings);this._executeEditorCommand('replaceAll',command);}},{key:"selectAllMatches",value:function selectAllMatches(){if(!this._hasMatches()){return;}var findScopes=this._decorations.getFindScopes();// Get all the ranges (even more than the highlighted ones)
var matches=this._findMatches(findScopes,false,1073741824/* MAX_SAFE_SMALL_INTEGER */);var selections=matches.map(function(m){return new selection/* Selection */.Y(m.range.startLineNumber,m.range.startColumn,m.range.endLineNumber,m.range.endColumn);});// If one of the ranges is the editor selection, then maintain it as primary
var editorSelection=this._editor.getSelection();for(var i=0,len=selections.length;i<len;i++){var sel=selections[i];if(sel.equalsRange(editorSelection)){selections=[editorSelection].concat(selections.slice(0,i)).concat(selections.slice(i+1));break;}}this._editor.setSelections(selections);}},{key:"_executeEditorCommand",value:function _executeEditorCommand(source,command){try{this._ignoreModelContentChanged=true;this._editor.pushUndoStop();this._editor.executeCommand(source,command);this._editor.pushUndoStop();}finally{this._ignoreModelContentChanged=false;}}}],[{key:"_getSearchRange",value:function _getSearchRange(model,findScope){// If we have set now or before a find scope, use it for computing the search range
if(findScope){return findScope;}return model.getFullModelRange();}}]);return FindModelBoundToEditorModel;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputCheckboxes.js
var findInputCheckboxes = __webpack_require__(46431);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/widget.js
var widget = __webpack_require__(78058);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findOptionsWidget.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function findOptionsWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function findOptionsWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function findOptionsWidget_createClass(Constructor,protoProps,staticProps){if(protoProps)findOptionsWidget_defineProperties(Constructor.prototype,protoProps);if(staticProps)findOptionsWidget_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var FindOptionsWidget=/*#__PURE__*/function(_Widget){_inherits(FindOptionsWidget,_Widget);var _super=_createSuper(FindOptionsWidget);function FindOptionsWidget(editor,state,keybindingService,themeService){var _this;findOptionsWidget_classCallCheck(this,FindOptionsWidget);_this=_super.call(this);_this._hideSoon=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this._hide();},2000));_this._isVisible=false;_this._editor=editor;_this._state=state;_this._keybindingService=keybindingService;_this._domNode=document.createElement('div');_this._domNode.className='findOptionsWidget';_this._domNode.style.display='none';_this._domNode.style.top='10px';_this._domNode.setAttribute('role','presentation');_this._domNode.setAttribute('aria-hidden','true');var inputActiveOptionBorderColor=themeService.getColorTheme().getColor(colorRegistry/* inputActiveOptionBorder */.PRb);var inputActiveOptionForegroundColor=themeService.getColorTheme().getColor(colorRegistry/* inputActiveOptionForeground */.Pvw);var inputActiveOptionBackgroundColor=themeService.getColorTheme().getColor(colorRegistry/* inputActiveOptionBackground */.XEs);_this.caseSensitive=_this._register(new findInputCheckboxes/* CaseSensitiveCheckbox */.vk({appendTitle:_this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),isChecked:_this._state.matchCase,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionForeground:inputActiveOptionForegroundColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor}));_this._domNode.appendChild(_this.caseSensitive.domNode);_this._register(_this.caseSensitive.onChange(function(){_this._state.change({matchCase:_this.caseSensitive.checked},false);}));_this.wholeWords=_this._register(new findInputCheckboxes/* WholeWordsCheckbox */.n3({appendTitle:_this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),isChecked:_this._state.wholeWord,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionForeground:inputActiveOptionForegroundColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor}));_this._domNode.appendChild(_this.wholeWords.domNode);_this._register(_this.wholeWords.onChange(function(){_this._state.change({wholeWord:_this.wholeWords.checked},false);}));_this.regex=_this._register(new findInputCheckboxes/* RegexCheckbox */.am({appendTitle:_this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),isChecked:_this._state.isRegex,inputActiveOptionBorder:inputActiveOptionBorderColor,inputActiveOptionForeground:inputActiveOptionForegroundColor,inputActiveOptionBackground:inputActiveOptionBackgroundColor}));_this._domNode.appendChild(_this.regex.domNode);_this._register(_this.regex.onChange(function(){_this._state.change({isRegex:_this.regex.checked},false);}));_this._editor.addOverlayWidget(_assertThisInitialized(_this));_this._register(_this._state.onFindReplaceStateChange(function(e){var somethingChanged=false;if(e.isRegex){_this.regex.checked=_this._state.isRegex;somethingChanged=true;}if(e.wholeWord){_this.wholeWords.checked=_this._state.wholeWord;somethingChanged=true;}if(e.matchCase){_this.caseSensitive.checked=_this._state.matchCase;somethingChanged=true;}if(!_this._state.isRevealed&&somethingChanged){_this._revealTemporarily();}}));_this._register(dom.addDisposableNonBubblingMouseOutListener(_this._domNode,function(e){return _this._onMouseOut();}));_this._register(dom.addDisposableListener(_this._domNode,'mouseover',function(e){return _this._onMouseOver();}));_this._applyTheme(themeService.getColorTheme());_this._register(themeService.onDidColorThemeChange(_this._applyTheme.bind(_assertThisInitialized(_this))));return _this;}findOptionsWidget_createClass(FindOptionsWidget,[{key:"_keybindingLabelFor",value:function _keybindingLabelFor(actionId){var kb=this._keybindingService.lookupKeybinding(actionId);if(!kb){return'';}return" (".concat(kb.getLabel(),")");}},{key:"dispose",value:function dispose(){this._editor.removeOverlayWidget(this);_get(_getPrototypeOf(FindOptionsWidget.prototype),"dispose",this).call(this);}// ----- IOverlayWidget API
},{key:"getId",value:function getId(){return FindOptionsWidget.ID;}},{key:"getDomNode",value:function getDomNode(){return this._domNode;}},{key:"getPosition",value:function getPosition(){return{preference:0/* TOP_RIGHT_CORNER */};}},{key:"highlightFindOptions",value:function highlightFindOptions(){this._revealTemporarily();}},{key:"_revealTemporarily",value:function _revealTemporarily(){this._show();this._hideSoon.schedule();}},{key:"_onMouseOut",value:function _onMouseOut(){this._hideSoon.schedule();}},{key:"_onMouseOver",value:function _onMouseOver(){this._hideSoon.cancel();}},{key:"_show",value:function _show(){if(this._isVisible){return;}this._isVisible=true;this._domNode.style.display='block';}},{key:"_hide",value:function _hide(){if(!this._isVisible){return;}this._isVisible=false;this._domNode.style.display='none';}},{key:"_applyTheme",value:function _applyTheme(theme){var inputStyles={inputActiveOptionBorder:theme.getColor(colorRegistry/* inputActiveOptionBorder */.PRb),inputActiveOptionForeground:theme.getColor(colorRegistry/* inputActiveOptionForeground */.Pvw),inputActiveOptionBackground:theme.getColor(colorRegistry/* inputActiveOptionBackground */.XEs)};this.caseSensitive.style(inputStyles);this.wholeWords.style(inputStyles);this.regex.style(inputStyles);}}]);return FindOptionsWidget;}(widget/* Widget */.$);FindOptionsWidget.ID='editor.contrib.findOptionsWidget';(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var widgetBackground=theme.getColor(colorRegistry/* editorWidgetBackground */.D0T);if(widgetBackground){collector.addRule(".monaco-editor .findOptionsWidget { background-color: ".concat(widgetBackground,"; }"));}var widgetForeground=theme.getColor(colorRegistry/* editorWidgetForeground */.Hfx);if(widgetForeground){collector.addRule(".monaco-editor .findOptionsWidget { color: ".concat(widgetForeground,"; }"));}var widgetShadowColor=theme.getColor(colorRegistry/* widgetShadow */.rh);if(widgetShadowColor){collector.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ".concat(widgetShadowColor,"; }"));}var hcBorder=theme.getColor(colorRegistry/* contrastBorder */.lRK);if(hcBorder){collector.addRule(".monaco-editor .findOptionsWidget { border: 2px solid ".concat(hcBorder,"; }"));}});
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findState.js
function findState_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){findState_typeof=function _typeof(obj){return typeof obj;};}else{findState_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return findState_typeof(obj);}function findState_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function findState_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function findState_createClass(Constructor,protoProps,staticProps){if(protoProps)findState_defineProperties(Constructor.prototype,protoProps);if(staticProps)findState_defineProperties(Constructor,staticProps);return Constructor;}function findState_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)findState_setPrototypeOf(subClass,superClass);}function findState_setPrototypeOf(o,p){findState_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return findState_setPrototypeOf(o,p);}function findState_createSuper(Derived){var hasNativeReflectConstruct=findState_isNativeReflectConstruct();return function _createSuperInternal(){var Super=findState_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=findState_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return findState_possibleConstructorReturn(this,result);};}function findState_possibleConstructorReturn(self,call){if(call&&(findState_typeof(call)==="object"||typeof call==="function")){return call;}return findState_assertThisInitialized(self);}function findState_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function findState_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function findState_getPrototypeOf(o){findState_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return findState_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function effectiveOptionValue(override,value){if(override===1/* True */){return true;}if(override===2/* False */){return false;}return value;}var FindReplaceState=/*#__PURE__*/function(_Disposable){findState_inherits(FindReplaceState,_Disposable);var _super=findState_createSuper(FindReplaceState);function FindReplaceState(){var _this;findState_classCallCheck(this,FindReplaceState);_this=_super.call(this);_this._onFindReplaceStateChange=_this._register(new common_event/* Emitter */.Q5());_this.onFindReplaceStateChange=_this._onFindReplaceStateChange.event;_this._searchString='';_this._replaceString='';_this._isRevealed=false;_this._isReplaceRevealed=false;_this._isRegex=false;_this._isRegexOverride=0/* NotSet */;_this._wholeWord=false;_this._wholeWordOverride=0/* NotSet */;_this._matchCase=false;_this._matchCaseOverride=0/* NotSet */;_this._preserveCase=false;_this._preserveCaseOverride=0/* NotSet */;_this._searchScope=null;_this._matchesPosition=0;_this._matchesCount=0;_this._currentMatch=null;_this._loop=true;_this._isSearching=false;_this._filters=null;return _this;}findState_createClass(FindReplaceState,[{key:"searchString",get:function get(){return this._searchString;}},{key:"replaceString",get:function get(){return this._replaceString;}},{key:"isRevealed",get:function get(){return this._isRevealed;}},{key:"isReplaceRevealed",get:function get(){return this._isReplaceRevealed;}},{key:"isRegex",get:function get(){return effectiveOptionValue(this._isRegexOverride,this._isRegex);}},{key:"wholeWord",get:function get(){return effectiveOptionValue(this._wholeWordOverride,this._wholeWord);}},{key:"matchCase",get:function get(){return effectiveOptionValue(this._matchCaseOverride,this._matchCase);}},{key:"preserveCase",get:function get(){return effectiveOptionValue(this._preserveCaseOverride,this._preserveCase);}},{key:"actualIsRegex",get:function get(){return this._isRegex;}},{key:"actualWholeWord",get:function get(){return this._wholeWord;}},{key:"actualMatchCase",get:function get(){return this._matchCase;}},{key:"actualPreserveCase",get:function get(){return this._preserveCase;}},{key:"searchScope",get:function get(){return this._searchScope;}},{key:"matchesPosition",get:function get(){return this._matchesPosition;}},{key:"matchesCount",get:function get(){return this._matchesCount;}},{key:"currentMatch",get:function get(){return this._currentMatch;}},{key:"changeMatchInfo",value:function changeMatchInfo(matchesPosition,matchesCount,currentMatch){var changeEvent={moveCursor:false,updateHistory:false,searchString:false,replaceString:false,isRevealed:false,isReplaceRevealed:false,isRegex:false,wholeWord:false,matchCase:false,preserveCase:false,searchScope:false,matchesPosition:false,matchesCount:false,currentMatch:false,loop:false,isSearching:false,filters:false};var somethingChanged=false;if(matchesCount===0){matchesPosition=0;}if(matchesPosition>matchesCount){matchesPosition=matchesCount;}if(this._matchesPosition!==matchesPosition){this._matchesPosition=matchesPosition;changeEvent.matchesPosition=true;somethingChanged=true;}if(this._matchesCount!==matchesCount){this._matchesCount=matchesCount;changeEvent.matchesCount=true;somethingChanged=true;}if(typeof currentMatch!=='undefined'){if(!core_range/* Range.equalsRange */.e.equalsRange(this._currentMatch,currentMatch)){this._currentMatch=currentMatch;changeEvent.currentMatch=true;somethingChanged=true;}}if(somethingChanged){this._onFindReplaceStateChange.fire(changeEvent);}}},{key:"change",value:function change(newState,moveCursor){var _this2=this;var updateHistory=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var _a;var changeEvent={moveCursor:moveCursor,updateHistory:updateHistory,searchString:false,replaceString:false,isRevealed:false,isReplaceRevealed:false,isRegex:false,wholeWord:false,matchCase:false,preserveCase:false,searchScope:false,matchesPosition:false,matchesCount:false,currentMatch:false,loop:false,isSearching:false,filters:false};var somethingChanged=false;var oldEffectiveIsRegex=this.isRegex;var oldEffectiveWholeWords=this.wholeWord;var oldEffectiveMatchCase=this.matchCase;var oldEffectivePreserveCase=this.preserveCase;if(typeof newState.searchString!=='undefined'){if(this._searchString!==newState.searchString){this._searchString=newState.searchString;changeEvent.searchString=true;somethingChanged=true;}}if(typeof newState.replaceString!=='undefined'){if(this._replaceString!==newState.replaceString){this._replaceString=newState.replaceString;changeEvent.replaceString=true;somethingChanged=true;}}if(typeof newState.isRevealed!=='undefined'){if(this._isRevealed!==newState.isRevealed){this._isRevealed=newState.isRevealed;changeEvent.isRevealed=true;somethingChanged=true;}}if(typeof newState.isReplaceRevealed!=='undefined'){if(this._isReplaceRevealed!==newState.isReplaceRevealed){this._isReplaceRevealed=newState.isReplaceRevealed;changeEvent.isReplaceRevealed=true;somethingChanged=true;}}if(typeof newState.isRegex!=='undefined'){this._isRegex=newState.isRegex;}if(typeof newState.wholeWord!=='undefined'){this._wholeWord=newState.wholeWord;}if(typeof newState.matchCase!=='undefined'){this._matchCase=newState.matchCase;}if(typeof newState.preserveCase!=='undefined'){this._preserveCase=newState.preserveCase;}if(typeof newState.searchScope!=='undefined'){if(!((_a=newState.searchScope)===null||_a===void 0?void 0:_a.every(function(newSearchScope){var _a;return(_a=_this2._searchScope)===null||_a===void 0?void 0:_a.some(function(existingSearchScope){return!core_range/* Range.equalsRange */.e.equalsRange(existingSearchScope,newSearchScope);});}))){this._searchScope=newState.searchScope;changeEvent.searchScope=true;somethingChanged=true;}}if(typeof newState.loop!=='undefined'){if(this._loop!==newState.loop){this._loop=newState.loop;changeEvent.loop=true;somethingChanged=true;}}if(typeof newState.isSearching!=='undefined'){if(this._isSearching!==newState.isSearching){this._isSearching=newState.isSearching;changeEvent.isSearching=true;somethingChanged=true;}}if(typeof newState.filters!=='undefined'){if(this._filters){this._filters.update(newState.filters);}else{this._filters=newState.filters;}changeEvent.filters=true;somethingChanged=true;}// Overrides get set when they explicitly come in and get reset anytime something else changes
this._isRegexOverride=typeof newState.isRegexOverride!=='undefined'?newState.isRegexOverride:0/* NotSet */;this._wholeWordOverride=typeof newState.wholeWordOverride!=='undefined'?newState.wholeWordOverride:0/* NotSet */;this._matchCaseOverride=typeof newState.matchCaseOverride!=='undefined'?newState.matchCaseOverride:0/* NotSet */;this._preserveCaseOverride=typeof newState.preserveCaseOverride!=='undefined'?newState.preserveCaseOverride:0/* NotSet */;if(oldEffectiveIsRegex!==this.isRegex){somethingChanged=true;changeEvent.isRegex=true;}if(oldEffectiveWholeWords!==this.wholeWord){somethingChanged=true;changeEvent.wholeWord=true;}if(oldEffectiveMatchCase!==this.matchCase){somethingChanged=true;changeEvent.matchCase=true;}if(oldEffectivePreserveCase!==this.preserveCase){somethingChanged=true;changeEvent.preserveCase=true;}if(somethingChanged){this._onFindReplaceStateChange.fire(changeEvent);}}},{key:"canNavigateBack",value:function canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1;}},{key:"canNavigateForward",value:function canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount;}},{key:"canNavigateInLoop",value:function canNavigateInLoop(){return this._loop||this.matchesCount>=MATCHES_LIMIT;}}]);return FindReplaceState;}(lifecycle/* Disposable */.JT);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js
var aria = __webpack_require__(44046);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js
var checkbox_checkbox = __webpack_require__(61017);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/sash/sash.js
var sash = __webpack_require__(84935);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/codicons.js
var codicons = __webpack_require__(62202);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js
var contextScopedHistoryWidget = __webpack_require__(65431);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js
var historyWidgetKeybindingHint = __webpack_require__(4444);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/iconRegistry.js
var iconRegistry = __webpack_require__(57232);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findWidget.js
function findWidget_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){findWidget_typeof=function _typeof(obj){return typeof obj;};}else{findWidget_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return findWidget_typeof(obj);}function findWidget_toConsumableArray(arr){return findWidget_arrayWithoutHoles(arr)||findWidget_iterableToArray(arr)||findWidget_unsupportedIterableToArray(arr)||findWidget_nonIterableSpread();}function findWidget_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function findWidget_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return findWidget_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return findWidget_arrayLikeToArray(o,minLen);}function findWidget_iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function findWidget_arrayWithoutHoles(arr){if(Array.isArray(arr))return findWidget_arrayLikeToArray(arr);}function findWidget_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function findWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function findWidget_createClass(Constructor,protoProps,staticProps){if(protoProps)findWidget_defineProperties(Constructor.prototype,protoProps);if(staticProps)findWidget_defineProperties(Constructor,staticProps);return Constructor;}function findWidget_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)findWidget_setPrototypeOf(subClass,superClass);}function findWidget_setPrototypeOf(o,p){findWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return findWidget_setPrototypeOf(o,p);}function findWidget_createSuper(Derived){var hasNativeReflectConstruct=findWidget_isNativeReflectConstruct();return function _createSuperInternal(){var Super=findWidget_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=findWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return findWidget_possibleConstructorReturn(this,result);};}function findWidget_possibleConstructorReturn(self,call){if(call&&(findWidget_typeof(call)==="object"||typeof call==="function")){return call;}return findWidget_assertThisInitialized(self);}function findWidget_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function findWidget_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function findWidget_getPrototypeOf(o){findWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return findWidget_getPrototypeOf(o);}function findWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var findSelectionIcon=(0,iconRegistry/* registerIcon */.q5)('find-selection',codicons/* Codicon.selection */.lA.selection,nls/* localize */.N('findSelectionIcon','Icon for \'Find in Selection\' in the editor find widget.'));var findCollapsedIcon=(0,iconRegistry/* registerIcon */.q5)('find-collapsed',codicons/* Codicon.chevronRight */.lA.chevronRight,nls/* localize */.N('findCollapsedIcon','Icon to indicate that the editor find widget is collapsed.'));var findExpandedIcon=(0,iconRegistry/* registerIcon */.q5)('find-expanded',codicons/* Codicon.chevronDown */.lA.chevronDown,nls/* localize */.N('findExpandedIcon','Icon to indicate that the editor find widget is expanded.'));var findReplaceIcon=(0,iconRegistry/* registerIcon */.q5)('find-replace',codicons/* Codicon.replace */.lA.replace,nls/* localize */.N('findReplaceIcon','Icon for \'Replace\' in the editor find widget.'));var findReplaceAllIcon=(0,iconRegistry/* registerIcon */.q5)('find-replace-all',codicons/* Codicon.replaceAll */.lA.replaceAll,nls/* localize */.N('findReplaceAllIcon','Icon for \'Replace All\' in the editor find widget.'));var findPreviousMatchIcon=(0,iconRegistry/* registerIcon */.q5)('find-previous-match',codicons/* Codicon.arrowUp */.lA.arrowUp,nls/* localize */.N('findPreviousMatchIcon','Icon for \'Find Previous\' in the editor find widget.'));var findNextMatchIcon=(0,iconRegistry/* registerIcon */.q5)('find-next-match',codicons/* Codicon.arrowDown */.lA.arrowDown,nls/* localize */.N('findNextMatchIcon','Icon for \'Find Next\' in the editor find widget.'));var NLS_FIND_INPUT_LABEL=nls/* localize */.N('label.find',"Find");var NLS_FIND_INPUT_PLACEHOLDER=nls/* localize */.N('placeholder.find',"Find");var NLS_PREVIOUS_MATCH_BTN_LABEL=nls/* localize */.N('label.previousMatchButton',"Previous Match");var NLS_NEXT_MATCH_BTN_LABEL=nls/* localize */.N('label.nextMatchButton',"Next Match");var NLS_TOGGLE_SELECTION_FIND_TITLE=nls/* localize */.N('label.toggleSelectionFind',"Find in Selection");var NLS_CLOSE_BTN_LABEL=nls/* localize */.N('label.closeButton',"Close");var NLS_REPLACE_INPUT_LABEL=nls/* localize */.N('label.replace',"Replace");var NLS_REPLACE_INPUT_PLACEHOLDER=nls/* localize */.N('placeholder.replace',"Replace");var NLS_REPLACE_BTN_LABEL=nls/* localize */.N('label.replaceButton',"Replace");var NLS_REPLACE_ALL_BTN_LABEL=nls/* localize */.N('label.replaceAllButton',"Replace All");var NLS_TOGGLE_REPLACE_MODE_BTN_LABEL=nls/* localize */.N('label.toggleReplaceButton',"Toggle Replace");var NLS_MATCHES_COUNT_LIMIT_TITLE=nls/* localize */.N('title.matchesCountLimit',"Only the first {0} results are highlighted, but all find operations work on the entire text.",MATCHES_LIMIT);var NLS_MATCHES_LOCATION=nls/* localize */.N('label.matchesLocation',"{0} of {1}");var NLS_NO_RESULTS=nls/* localize */.N('label.noResults',"No results");var FIND_WIDGET_INITIAL_WIDTH=419;var PART_WIDTH=275;var FIND_INPUT_AREA_WIDTH=PART_WIDTH-54;var MAX_MATCHES_COUNT_WIDTH=69;// let FIND_ALL_CONTROLS_WIDTH = 17/** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2/** sash */;
var FIND_INPUT_AREA_HEIGHT=33;// The height of Find Widget when Replace Input is not visible.
var ctrlEnterReplaceAllWarningPromptedKey='ctrlEnterReplaceAll.windows.donotask';var ctrlKeyMod=platform/* isMacintosh */.dz?256/* WinCtrl */:2048/* CtrlCmd */;var FindWidgetViewZone=function FindWidgetViewZone(afterLineNumber){findWidget_classCallCheck(this,FindWidgetViewZone);this.afterLineNumber=afterLineNumber;this.heightInPx=FIND_INPUT_AREA_HEIGHT;this.suppressMouseDown=false;this.domNode=document.createElement('div');this.domNode.className='dock-find-viewzone';};function stopPropagationForMultiLineUpwards(event,value,textarea){var isMultiline=!!value.match(/\n/);if(textarea&&isMultiline&&textarea.selectionStart>0){event.stopPropagation();return;}}function stopPropagationForMultiLineDownwards(event,value,textarea){var isMultiline=!!value.match(/\n/);if(textarea&&isMultiline&&textarea.selectionEnd<textarea.value.length){event.stopPropagation();return;}}var FindWidget=/*#__PURE__*/function(_Widget){findWidget_inherits(FindWidget,_Widget);var _super=findWidget_createSuper(FindWidget);function FindWidget(codeEditor,controller,state,contextViewProvider,keybindingService,contextKeyService,themeService,storageService,notificationService){var _this;findWidget_classCallCheck(this,FindWidget);_this=_super.call(this);_this._cachedHeight=null;_this._revealTimeouts=[];_this._codeEditor=codeEditor;_this._controller=controller;_this._state=state;_this._contextViewProvider=contextViewProvider;_this._keybindingService=keybindingService;_this._contextKeyService=contextKeyService;_this._storageService=storageService;_this._notificationService=notificationService;_this._ctrlEnterReplaceAllWarningPrompted=!!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey,0/* GLOBAL */);_this._isVisible=false;_this._isReplaceVisible=false;_this._ignoreChangeEvent=false;_this._updateHistoryDelayer=new common_async/* Delayer */.vp(500);_this._register((0,lifecycle/* toDisposable */.OF)(function(){return _this._updateHistoryDelayer.cancel();}));_this._register(_this._state.onFindReplaceStateChange(function(e){return _this._onStateChanged(e);}));_this._buildDomNode();_this._updateButtons();_this._tryUpdateWidgetWidth();_this._findInput.inputBox.layout();_this._register(_this._codeEditor.onDidChangeConfiguration(function(e){if(e.hasChanged(81/* readOnly */)){if(_this._codeEditor.getOption(81/* readOnly */)){// Hide replace part if editor becomes read only
_this._state.change({isReplaceRevealed:false},false);}_this._updateButtons();}if(e.hasChanged(131/* layoutInfo */)){_this._tryUpdateWidgetWidth();}if(e.hasChanged(2/* accessibilitySupport */)){_this.updateAccessibilitySupport();}if(e.hasChanged(35/* find */)){var addExtraSpaceOnTop=_this._codeEditor.getOption(35/* find */).addExtraSpaceOnTop;if(addExtraSpaceOnTop&&!_this._viewZone){_this._viewZone=new FindWidgetViewZone(0);_this._showViewZone();}if(!addExtraSpaceOnTop&&_this._viewZone){_this._removeViewZone();}}}));_this.updateAccessibilitySupport();_this._register(_this._codeEditor.onDidChangeCursorSelection(function(){if(_this._isVisible){_this._updateToggleSelectionFindButton();}}));_this._register(_this._codeEditor.onDidFocusEditorWidget(function(){return __awaiter(findWidget_assertThisInitialized(_this),void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var globalBufferTerm;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this._isVisible){_context.next=5;break;}_context.next=3;return this._controller.getGlobalBufferTerm();case 3:globalBufferTerm=_context.sent;if(globalBufferTerm&&globalBufferTerm!==this._state.searchString){this._state.change({searchString:globalBufferTerm},false);this._findInput.select();}case 5:case"end":return _context.stop();}}},_callee,this);}));}));_this._findInputFocused=CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);_this._findFocusTracker=_this._register(dom.trackFocus(_this._findInput.inputBox.inputElement));_this._register(_this._findFocusTracker.onDidFocus(function(){_this._findInputFocused.set(true);_this._updateSearchScope();}));_this._register(_this._findFocusTracker.onDidBlur(function(){_this._findInputFocused.set(false);}));_this._replaceInputFocused=CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService);_this._replaceFocusTracker=_this._register(dom.trackFocus(_this._replaceInput.inputBox.inputElement));_this._register(_this._replaceFocusTracker.onDidFocus(function(){_this._replaceInputFocused.set(true);_this._updateSearchScope();}));_this._register(_this._replaceFocusTracker.onDidBlur(function(){_this._replaceInputFocused.set(false);}));_this._codeEditor.addOverlayWidget(findWidget_assertThisInitialized(_this));if(_this._codeEditor.getOption(35/* find */).addExtraSpaceOnTop){_this._viewZone=new FindWidgetViewZone(0);// Put it before the first line then users can scroll beyond the first line.
}_this._applyTheme(themeService.getColorTheme());_this._register(themeService.onDidColorThemeChange(_this._applyTheme.bind(findWidget_assertThisInitialized(_this))));_this._register(_this._codeEditor.onDidChangeModel(function(){if(!_this._isVisible){return;}_this._viewZoneId=undefined;}));_this._register(_this._codeEditor.onDidScrollChange(function(e){if(e.scrollTopChanged){_this._layoutViewZone();return;}// for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.
setTimeout(function(){_this._layoutViewZone();},0);}));return _this;}// ----- IOverlayWidget API
findWidget_createClass(FindWidget,[{key:"getId",value:function getId(){return FindWidget.ID;}},{key:"getDomNode",value:function getDomNode(){return this._domNode;}},{key:"getPosition",value:function getPosition(){if(this._isVisible){return{preference:0/* TOP_RIGHT_CORNER */};}return null;}// ----- React to state changes
},{key:"_onStateChanged",value:function _onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=true;this._findInput.setValue(this._state.searchString);}finally{this._ignoreChangeEvent=false;}this._updateButtons();}if(e.replaceString){this._replaceInput.inputBox.value=this._state.replaceString;}if(e.isRevealed){if(this._state.isRevealed){this._reveal();}else{this._hide(true);}}if(e.isReplaceRevealed){if(this._state.isReplaceRevealed){if(!this._codeEditor.getOption(81/* readOnly */)&&!this._isReplaceVisible){this._isReplaceVisible=true;this._replaceInput.width=dom.getTotalWidth(this._findInput.domNode);this._updateButtons();this._replaceInput.inputBox.layout();}}else{if(this._isReplaceVisible){this._isReplaceVisible=false;this._updateButtons();}}}if((e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)){if(this._tryUpdateHeight()){this._showViewZone();}}if(e.isRegex){this._findInput.setRegex(this._state.isRegex);}if(e.wholeWord){this._findInput.setWholeWords(this._state.wholeWord);}if(e.matchCase){this._findInput.setCaseSensitive(this._state.matchCase);}if(e.preserveCase){this._replaceInput.setPreserveCase(this._state.preserveCase);}if(e.searchScope){if(this._state.searchScope){this._toggleSelectionFind.checked=true;}else{this._toggleSelectionFind.checked=false;}this._updateToggleSelectionFindButton();}if(e.searchString||e.matchesCount||e.matchesPosition){var showRedOutline=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle('no-results',showRedOutline);this._updateMatchesCount();this._updateButtons();}if(e.searchString||e.currentMatch){this._layoutViewZone();}if(e.updateHistory){this._delayedUpdateHistory();}if(e.loop){this._updateButtons();}}},{key:"_delayedUpdateHistory",value:function _delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(undefined,errors/* onUnexpectedError */.dL);}},{key:"_updateHistory",value:function _updateHistory(){if(this._state.searchString){this._findInput.inputBox.addToHistory();}if(this._state.replaceString){this._replaceInput.inputBox.addToHistory();}}},{key:"_updateMatchesCount",value:function _updateMatchesCount(){this._matchesCount.style.minWidth=MAX_MATCHES_COUNT_WIDTH+'px';if(this._state.matchesCount>=MATCHES_LIMIT){this._matchesCount.title=NLS_MATCHES_COUNT_LIMIT_TITLE;}else{this._matchesCount.title='';}// remove previous content
if(this._matchesCount.firstChild){this._matchesCount.removeChild(this._matchesCount.firstChild);}var label;if(this._state.matchesCount>0){var matchesCount=String(this._state.matchesCount);if(this._state.matchesCount>=MATCHES_LIMIT){matchesCount+='+';}var matchesPosition=String(this._state.matchesPosition);if(matchesPosition==='0'){matchesPosition='?';}label=strings/* format */.WU(NLS_MATCHES_LOCATION,matchesPosition,matchesCount);}else{label=NLS_NO_RESULTS;}this._matchesCount.appendChild(document.createTextNode(label));(0,aria/* alert */.Z9)(this._getAriaLabel(label,this._state.currentMatch,this._state.searchString));MAX_MATCHES_COUNT_WIDTH=Math.max(MAX_MATCHES_COUNT_WIDTH,this._matchesCount.clientWidth);}// ----- actions
},{key:"_getAriaLabel",value:function _getAriaLabel(label,currentMatch,searchString){if(label===NLS_NO_RESULTS){return searchString===''?nls/* localize */.N('ariaSearchNoResultEmpty',"{0} found",label):nls/* localize */.N('ariaSearchNoResult',"{0} found for '{1}'",label,searchString);}if(currentMatch){var ariaLabel=nls/* localize */.N('ariaSearchNoResultWithLineNum',"{0} found for '{1}', at {2}",label,searchString,currentMatch.startLineNumber+':'+currentMatch.startColumn);var model=this._codeEditor.getModel();if(model&&currentMatch.startLineNumber<=model.getLineCount()&&currentMatch.startLineNumber>=1){var lineContent=model.getLineContent(currentMatch.startLineNumber);return"".concat(lineContent,", ").concat(ariaLabel);}return ariaLabel;}return nls/* localize */.N('ariaSearchNoResultWithLineNumNoCurrentMatch',"{0} found for '{1}'",label,searchString);}/**
     * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').
     * If 'selection find' is OFF we enable the button only if there is a selection.
     */},{key:"_updateToggleSelectionFindButton",value:function _updateToggleSelectionFindButton(){var selection=this._codeEditor.getSelection();var isSelection=selection?selection.startLineNumber!==selection.endLineNumber||selection.startColumn!==selection.endColumn:false;var isChecked=this._toggleSelectionFind.checked;if(this._isVisible&&(isChecked||isSelection)){this._toggleSelectionFind.enable();}else{this._toggleSelectionFind.disable();}}},{key:"_updateButtons",value:function _updateButtons(){this._findInput.setEnabled(this._isVisible);this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible);this._updateToggleSelectionFindButton();this._closeBtn.setEnabled(this._isVisible);var findInputIsNonEmpty=this._state.searchString.length>0;var matchesCount=this._state.matchesCount?true:false;this._prevBtn.setEnabled(this._isVisible&&findInputIsNonEmpty&&matchesCount&&this._state.canNavigateBack());this._nextBtn.setEnabled(this._isVisible&&findInputIsNonEmpty&&matchesCount&&this._state.canNavigateForward());this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&findInputIsNonEmpty);this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&findInputIsNonEmpty);this._domNode.classList.toggle('replaceToggled',this._isReplaceVisible);this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var canReplace=!this._codeEditor.getOption(81/* readOnly */);this._toggleReplaceBtn.setEnabled(this._isVisible&&canReplace);}},{key:"_reveal",value:function _reveal(){var _this2=this;this._revealTimeouts.forEach(function(e){clearTimeout(e);});this._revealTimeouts=[];if(!this._isVisible){this._isVisible=true;var selection=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35/* find */).autoFindInSelection){case'always':this._toggleSelectionFind.checked=true;break;case'never':this._toggleSelectionFind.checked=false;break;case'multiline':{var isSelectionMultipleLine=!!selection&&selection.startLineNumber!==selection.endLineNumber;this._toggleSelectionFind.checked=isSelectionMultipleLine;break;}default:break;}this._tryUpdateWidgetWidth();this._updateButtons();this._revealTimeouts.push(setTimeout(function(){_this2._domNode.classList.add('visible');_this2._domNode.setAttribute('aria-hidden','false');},0));// validate query again as it's being dismissed when we hide the find widget.
this._revealTimeouts.push(setTimeout(function(){_this2._findInput.validate();},200));this._codeEditor.layoutOverlayWidget(this);var adjustEditorScrollTop=true;if(this._codeEditor.getOption(35/* find */).seedSearchStringFromSelection&&selection){var domNode=this._codeEditor.getDomNode();if(domNode){var editorCoords=dom.getDomNodePagePosition(domNode);var startCoords=this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());var startLeft=editorCoords.left+(startCoords?startCoords.left:0);var startTop=startCoords?startCoords.top:0;if(this._viewZone&&startTop<this._viewZone.heightInPx){if(selection.endLineNumber>selection.startLineNumber){adjustEditorScrollTop=false;}var leftOfFindWidget=dom.getTopLeftOffset(this._domNode).left;if(startLeft>leftOfFindWidget){adjustEditorScrollTop=false;}var endCoords=this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());var endLeft=editorCoords.left+(endCoords?endCoords.left:0);if(endLeft>leftOfFindWidget){adjustEditorScrollTop=false;}}}}this._showViewZone(adjustEditorScrollTop);}}},{key:"_hide",value:function _hide(focusTheEditor){this._revealTimeouts.forEach(function(e){clearTimeout(e);});this._revealTimeouts=[];if(this._isVisible){this._isVisible=false;this._updateButtons();this._domNode.classList.remove('visible');this._domNode.setAttribute('aria-hidden','true');this._findInput.clearMessage();if(focusTheEditor){this._codeEditor.focus();}this._codeEditor.layoutOverlayWidget(this);this._removeViewZone();}}},{key:"_layoutViewZone",value:function _layoutViewZone(targetScrollTop){var _this3=this;var addExtraSpaceOnTop=this._codeEditor.getOption(35/* find */).addExtraSpaceOnTop;if(!addExtraSpaceOnTop){this._removeViewZone();return;}if(!this._isVisible){return;}var viewZone=this._viewZone;if(this._viewZoneId!==undefined||!viewZone){return;}this._codeEditor.changeViewZones(function(accessor){viewZone.heightInPx=_this3._getHeight();_this3._viewZoneId=accessor.addZone(viewZone);// scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.
_this3._codeEditor.setScrollTop(targetScrollTop||_this3._codeEditor.getScrollTop()+viewZone.heightInPx);});}},{key:"_showViewZone",value:function _showViewZone(){var _this4=this;var adjustScroll=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(!this._isVisible){return;}var addExtraSpaceOnTop=this._codeEditor.getOption(35/* find */).addExtraSpaceOnTop;if(!addExtraSpaceOnTop){return;}if(this._viewZone===undefined){this._viewZone=new FindWidgetViewZone(0);}var viewZone=this._viewZone;this._codeEditor.changeViewZones(function(accessor){if(_this4._viewZoneId!==undefined){// the view zone already exists, we need to update the height
var newHeight=_this4._getHeight();if(newHeight===viewZone.heightInPx){return;}var scrollAdjustment=newHeight-viewZone.heightInPx;viewZone.heightInPx=newHeight;accessor.layoutZone(_this4._viewZoneId);if(adjustScroll){_this4._codeEditor.setScrollTop(_this4._codeEditor.getScrollTop()+scrollAdjustment);}return;}else{var _scrollAdjustment=_this4._getHeight();// if the editor has top padding, factor that into the zone height
_scrollAdjustment-=_this4._codeEditor.getOption(75/* padding */).top;if(_scrollAdjustment<=0){return;}viewZone.heightInPx=_scrollAdjustment;_this4._viewZoneId=accessor.addZone(viewZone);if(adjustScroll){_this4._codeEditor.setScrollTop(_this4._codeEditor.getScrollTop()+_scrollAdjustment);}}});}},{key:"_removeViewZone",value:function _removeViewZone(){var _this5=this;this._codeEditor.changeViewZones(function(accessor){if(_this5._viewZoneId!==undefined){accessor.removeZone(_this5._viewZoneId);_this5._viewZoneId=undefined;if(_this5._viewZone){_this5._codeEditor.setScrollTop(_this5._codeEditor.getScrollTop()-_this5._viewZone.heightInPx);_this5._viewZone=undefined;}}});}},{key:"_applyTheme",value:function _applyTheme(theme){var inputStyles={inputActiveOptionBorder:theme.getColor(colorRegistry/* inputActiveOptionBorder */.PRb),inputActiveOptionBackground:theme.getColor(colorRegistry/* inputActiveOptionBackground */.XEs),inputActiveOptionForeground:theme.getColor(colorRegistry/* inputActiveOptionForeground */.Pvw),inputBackground:theme.getColor(colorRegistry/* inputBackground */.sEe),inputForeground:theme.getColor(colorRegistry/* inputForeground */.zJb),inputBorder:theme.getColor(colorRegistry/* inputBorder */.dt_),inputValidationInfoBackground:theme.getColor(colorRegistry/* inputValidationInfoBackground */._lC),inputValidationInfoForeground:theme.getColor(colorRegistry/* inputValidationInfoForeground */.YI3),inputValidationInfoBorder:theme.getColor(colorRegistry/* inputValidationInfoBorder */.EPQ),inputValidationWarningBackground:theme.getColor(colorRegistry/* inputValidationWarningBackground */.RV_),inputValidationWarningForeground:theme.getColor(colorRegistry/* inputValidationWarningForeground */.SUG),inputValidationWarningBorder:theme.getColor(colorRegistry/* inputValidationWarningBorder */.C3g),inputValidationErrorBackground:theme.getColor(colorRegistry/* inputValidationErrorBackground */.paE),inputValidationErrorForeground:theme.getColor(colorRegistry/* inputValidationErrorForeground */._t9),inputValidationErrorBorder:theme.getColor(colorRegistry/* inputValidationErrorBorder */.OZR)};this._findInput.style(inputStyles);this._replaceInput.style(inputStyles);this._toggleSelectionFind.style(inputStyles);}},{key:"_tryUpdateWidgetWidth",value:function _tryUpdateWidgetWidth(){if(!this._isVisible){return;}if(!dom.isInDOM(this._domNode)){// the widget is not in the DOM
return;}var layoutInfo=this._codeEditor.getLayoutInfo();var editorContentWidth=layoutInfo.contentWidth;if(editorContentWidth<=0){// for example, diff view original editor
this._domNode.classList.add('hiddenEditor');return;}else if(this._domNode.classList.contains('hiddenEditor')){this._domNode.classList.remove('hiddenEditor');}var editorWidth=layoutInfo.width;var minimapWidth=layoutInfo.minimap.minimapWidth;var collapsedFindWidget=false;var reducedFindWidget=false;var narrowFindWidget=false;if(this._resized){var widgetWidth=dom.getTotalWidth(this._domNode);if(widgetWidth>FIND_WIDGET_INITIAL_WIDTH){// as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.
this._domNode.style.maxWidth="".concat(editorWidth-28-minimapWidth-15,"px");this._replaceInput.width=dom.getTotalWidth(this._findInput.domNode);return;}}if(FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth>=editorWidth){reducedFindWidget=true;}if(FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth-MAX_MATCHES_COUNT_WIDTH>=editorWidth){narrowFindWidget=true;}if(FIND_WIDGET_INITIAL_WIDTH+28+minimapWidth-MAX_MATCHES_COUNT_WIDTH>=editorWidth+50){collapsedFindWidget=true;}this._domNode.classList.toggle('collapsed-find-widget',collapsedFindWidget);this._domNode.classList.toggle('narrow-find-widget',narrowFindWidget);this._domNode.classList.toggle('reduced-find-widget',reducedFindWidget);if(!narrowFindWidget&&!collapsedFindWidget){// the minimal left offset of findwidget is 15px.
this._domNode.style.maxWidth="".concat(editorWidth-28-minimapWidth-15,"px");}if(this._resized){this._findInput.inputBox.layout();var findInputWidth=this._findInput.inputBox.element.clientWidth;if(findInputWidth>0){this._replaceInput.width=findInputWidth;}}else if(this._isReplaceVisible){this._replaceInput.width=dom.getTotalWidth(this._findInput.domNode);}}},{key:"_getHeight",value:function _getHeight(){var totalheight=0;// find input margin top
totalheight+=4;// find input height
totalheight+=this._findInput.inputBox.height+2/** input box border */;if(this._isReplaceVisible){// replace input margin
totalheight+=4;totalheight+=this._replaceInput.inputBox.height+2/** input box border */;}// margin bottom
totalheight+=4;return totalheight;}},{key:"_tryUpdateHeight",value:function _tryUpdateHeight(){var totalHeight=this._getHeight();if(this._cachedHeight!==null&&this._cachedHeight===totalHeight){return false;}this._cachedHeight=totalHeight;this._domNode.style.height="".concat(totalHeight,"px");return true;}// ----- Public
},{key:"focusFindInput",value:function focusFindInput(){this._findInput.select();// Edge browser requires focus() in addition to select()
this._findInput.focus();}},{key:"focusReplaceInput",value:function focusReplaceInput(){this._replaceInput.select();// Edge browser requires focus() in addition to select()
this._replaceInput.focus();}},{key:"highlightFindOptions",value:function highlightFindOptions(){this._findInput.highlightFindOptions();}},{key:"_updateSearchScope",value:function _updateSearchScope(){var _this6=this;if(!this._codeEditor.hasModel()){return;}if(this._toggleSelectionFind.checked){var selections=this._codeEditor.getSelections();selections.map(function(selection){if(selection.endColumn===1&&selection.endLineNumber>selection.startLineNumber){selection=selection.setEndPosition(selection.endLineNumber-1,_this6._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber-1));}var currentMatch=_this6._state.currentMatch;if(selection.startLineNumber!==selection.endLineNumber){if(!core_range/* Range.equalsRange */.e.equalsRange(selection,currentMatch)){return selection;}}return null;}).filter(function(element){return!!element;});if(selections.length){this._state.change({searchScope:selections},true);}}}},{key:"_onFindInputMouseDown",value:function _onFindInputMouseDown(e){// on linux, middle key does pasting.
if(e.middleButton){e.stopPropagation();}}},{key:"_onFindInputKeyDown",value:function _onFindInputKeyDown(e){if(e.equals(ctrlKeyMod|3/* Enter */)){if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return;}else{this._findInput.inputBox.insertAtCursor('\n');e.preventDefault();return;}}if(e.equals(2/* Tab */)){if(this._isReplaceVisible){this._replaceInput.focus();}else{this._findInput.focusOnCaseSensitive();}e.preventDefault();return;}if(e.equals(2048/* CtrlCmd */|18/* DownArrow */)){this._codeEditor.focus();e.preventDefault();return;}if(e.equals(16/* UpArrow */)){return stopPropagationForMultiLineUpwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector('textarea'));}if(e.equals(18/* DownArrow */)){return stopPropagationForMultiLineDownwards(e,this._findInput.getValue(),this._findInput.domNode.querySelector('textarea'));}}},{key:"_onReplaceInputKeyDown",value:function _onReplaceInputKeyDown(e){if(e.equals(ctrlKeyMod|3/* Enter */)){if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return;}else{if(platform/* isWindows */.ED&&platform/* isNative */.tY&&!this._ctrlEnterReplaceAllWarningPrompted){// this is the first time when users press Ctrl + Enter to replace all
this._notificationService.info(nls/* localize */.N('ctrlEnter.keybindingChanged','Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.'));this._ctrlEnterReplaceAllWarningPrompted=true;this._storageService.store(ctrlEnterReplaceAllWarningPromptedKey,true,0/* GLOBAL */,0/* USER */);}this._replaceInput.inputBox.insertAtCursor('\n');e.preventDefault();return;}}if(e.equals(2/* Tab */)){this._findInput.focusOnCaseSensitive();e.preventDefault();return;}if(e.equals(1024/* Shift */|2/* Tab */)){this._findInput.focus();e.preventDefault();return;}if(e.equals(2048/* CtrlCmd */|18/* DownArrow */)){this._codeEditor.focus();e.preventDefault();return;}if(e.equals(16/* UpArrow */)){return stopPropagationForMultiLineUpwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector('textarea'));}if(e.equals(18/* DownArrow */)){return stopPropagationForMultiLineDownwards(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector('textarea'));}}// ----- sash
},{key:"getVerticalSashLeft",value:function getVerticalSashLeft(_sash){return 0;}// ----- initialization
},{key:"_keybindingLabelFor",value:function _keybindingLabelFor(actionId){var kb=this._keybindingService.lookupKeybinding(actionId);if(!kb){return'';}return" (".concat(kb.getLabel(),")");}},{key:"_buildDomNode",value:function _buildDomNode(){var _this7=this;var flexibleHeight=true;var flexibleWidth=true;// Find input
this._findInput=this._register(new contextScopedHistoryWidget/* ContextScopedFindInput */.Yb(null,this._contextViewProvider,{width:FIND_INPUT_AREA_WIDTH,label:NLS_FIND_INPUT_LABEL,placeholder:NLS_FIND_INPUT_PLACEHOLDER,appendCaseSensitiveLabel:this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),validation:function validation(value){if(value.length===0||!_this7._findInput.getRegex()){return null;}try{// use `g` and `u` which are also used by the TextModel search
new RegExp(value,'gu');return null;}catch(e){return{content:e.message};}},flexibleHeight:flexibleHeight,flexibleWidth:flexibleWidth,flexibleMaxHeight:118,showHistoryHint:function showHistoryHint(){return (0,historyWidgetKeybindingHint/* showHistoryKeybindingHint */.u)(_this7._keybindingService);}},this._contextKeyService,true));this._findInput.setRegex(!!this._state.isRegex);this._findInput.setCaseSensitive(!!this._state.matchCase);this._findInput.setWholeWords(!!this._state.wholeWord);this._register(this._findInput.onKeyDown(function(e){return _this7._onFindInputKeyDown(e);}));this._register(this._findInput.inputBox.onDidChange(function(){if(_this7._ignoreChangeEvent){return;}_this7._state.change({searchString:_this7._findInput.getValue()},true);}));this._register(this._findInput.onDidOptionChange(function(){_this7._state.change({isRegex:_this7._findInput.getRegex(),wholeWord:_this7._findInput.getWholeWords(),matchCase:_this7._findInput.getCaseSensitive()},true);}));this._register(this._findInput.onCaseSensitiveKeyDown(function(e){if(e.equals(1024/* Shift */|2/* Tab */)){if(_this7._isReplaceVisible){_this7._replaceInput.focus();e.preventDefault();}}}));this._register(this._findInput.onRegexKeyDown(function(e){if(e.equals(2/* Tab */)){if(_this7._isReplaceVisible){_this7._replaceInput.focusOnPreserve();e.preventDefault();}}}));this._register(this._findInput.inputBox.onDidHeightChange(function(e){if(_this7._tryUpdateHeight()){_this7._showViewZone();}}));if(platform/* isLinux */.IJ){this._register(this._findInput.onMouseDown(function(e){return _this7._onFindInputMouseDown(e);}));}this._matchesCount=document.createElement('div');this._matchesCount.className='matchesCount';this._updateMatchesCount();// Previous button
this._prevBtn=this._register(new SimpleButton({label:NLS_PREVIOUS_MATCH_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),icon:findPreviousMatchIcon,onTrigger:function onTrigger(){_this7._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction).run().then(undefined,errors/* onUnexpectedError */.dL);}}));// Next button
this._nextBtn=this._register(new SimpleButton({label:NLS_NEXT_MATCH_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),icon:findNextMatchIcon,onTrigger:function onTrigger(){_this7._codeEditor.getAction(FIND_IDS.NextMatchFindAction).run().then(undefined,errors/* onUnexpectedError */.dL);}}));var findPart=document.createElement('div');findPart.className='find-part';findPart.appendChild(this._findInput.domNode);var actionsContainer=document.createElement('div');actionsContainer.className='find-actions';findPart.appendChild(actionsContainer);actionsContainer.appendChild(this._matchesCount);actionsContainer.appendChild(this._prevBtn.domNode);actionsContainer.appendChild(this._nextBtn.domNode);// Toggle selection button
this._toggleSelectionFind=this._register(new checkbox_checkbox/* Checkbox */.X({icon:findSelectionIcon,title:NLS_TOGGLE_SELECTION_FIND_TITLE+this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),isChecked:false}));this._register(this._toggleSelectionFind.onChange(function(){if(_this7._toggleSelectionFind.checked){if(_this7._codeEditor.hasModel()){var selections=_this7._codeEditor.getSelections();selections.map(function(selection){if(selection.endColumn===1&&selection.endLineNumber>selection.startLineNumber){selection=selection.setEndPosition(selection.endLineNumber-1,_this7._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber-1));}if(!selection.isEmpty()){return selection;}return null;}).filter(function(element){return!!element;});if(selections.length){_this7._state.change({searchScope:selections},true);}}}else{_this7._state.change({searchScope:null},true);}}));actionsContainer.appendChild(this._toggleSelectionFind.domNode);// Close button
this._closeBtn=this._register(new SimpleButton({label:NLS_CLOSE_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),icon:iconRegistry/* widgetClose */.s_,onTrigger:function onTrigger(){_this7._state.change({isRevealed:false,searchScope:null},false);},onKeyDown:function onKeyDown(e){if(e.equals(2/* Tab */)){if(_this7._isReplaceVisible){if(_this7._replaceBtn.isEnabled()){_this7._replaceBtn.focus();}else{_this7._codeEditor.focus();}e.preventDefault();}}}}));actionsContainer.appendChild(this._closeBtn.domNode);// Replace input
this._replaceInput=this._register(new contextScopedHistoryWidget/* ContextScopedReplaceInput */.Nq(null,undefined,{label:NLS_REPLACE_INPUT_LABEL,placeholder:NLS_REPLACE_INPUT_PLACEHOLDER,appendPreserveCaseLabel:this._keybindingLabelFor(FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:flexibleHeight,flexibleWidth:flexibleWidth,flexibleMaxHeight:118,showHistoryHint:function showHistoryHint(){return (0,historyWidgetKeybindingHint/* showHistoryKeybindingHint */.u)(_this7._keybindingService);}},this._contextKeyService,true));this._replaceInput.setPreserveCase(!!this._state.preserveCase);this._register(this._replaceInput.onKeyDown(function(e){return _this7._onReplaceInputKeyDown(e);}));this._register(this._replaceInput.inputBox.onDidChange(function(){_this7._state.change({replaceString:_this7._replaceInput.inputBox.value},false);}));this._register(this._replaceInput.inputBox.onDidHeightChange(function(e){if(_this7._isReplaceVisible&&_this7._tryUpdateHeight()){_this7._showViewZone();}}));this._register(this._replaceInput.onDidOptionChange(function(){_this7._state.change({preserveCase:_this7._replaceInput.getPreserveCase()},true);}));this._register(this._replaceInput.onPreserveCaseKeyDown(function(e){if(e.equals(2/* Tab */)){if(_this7._prevBtn.isEnabled()){_this7._prevBtn.focus();}else if(_this7._nextBtn.isEnabled()){_this7._nextBtn.focus();}else if(_this7._toggleSelectionFind.enabled){_this7._toggleSelectionFind.focus();}else if(_this7._closeBtn.isEnabled()){_this7._closeBtn.focus();}e.preventDefault();}}));// Replace one button
this._replaceBtn=this._register(new SimpleButton({label:NLS_REPLACE_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),icon:findReplaceIcon,onTrigger:function onTrigger(){_this7._controller.replace();},onKeyDown:function onKeyDown(e){if(e.equals(1024/* Shift */|2/* Tab */)){_this7._closeBtn.focus();e.preventDefault();}}}));// Replace all button
this._replaceAllBtn=this._register(new SimpleButton({label:NLS_REPLACE_ALL_BTN_LABEL+this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),icon:findReplaceAllIcon,onTrigger:function onTrigger(){_this7._controller.replaceAll();}}));var replacePart=document.createElement('div');replacePart.className='replace-part';replacePart.appendChild(this._replaceInput.domNode);var replaceActionsContainer=document.createElement('div');replaceActionsContainer.className='replace-actions';replacePart.appendChild(replaceActionsContainer);replaceActionsContainer.appendChild(this._replaceBtn.domNode);replaceActionsContainer.appendChild(this._replaceAllBtn.domNode);// Toggle replace button
this._toggleReplaceBtn=this._register(new SimpleButton({label:NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,className:'codicon toggle left',onTrigger:function onTrigger(){_this7._state.change({isReplaceRevealed:!_this7._isReplaceVisible},false);if(_this7._isReplaceVisible){_this7._replaceInput.width=dom.getTotalWidth(_this7._findInput.domNode);_this7._replaceInput.inputBox.layout();}_this7._showViewZone();}}));this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);// Widget
this._domNode=document.createElement('div');this._domNode.className='editor-widget find-widget';this._domNode.setAttribute('aria-hidden','true');// We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.
this._domNode.style.width="".concat(FIND_WIDGET_INITIAL_WIDTH,"px");this._domNode.appendChild(this._toggleReplaceBtn.domNode);this._domNode.appendChild(findPart);this._domNode.appendChild(replacePart);this._resizeSash=new sash/* Sash */.g(this._domNode,this,{orientation:0/* VERTICAL */,size:2});this._resized=false;var originalWidth=FIND_WIDGET_INITIAL_WIDTH;this._register(this._resizeSash.onDidStart(function(){originalWidth=dom.getTotalWidth(_this7._domNode);}));this._register(this._resizeSash.onDidChange(function(evt){_this7._resized=true;var width=originalWidth+evt.startX-evt.currentX;if(width<FIND_WIDGET_INITIAL_WIDTH){// narrow down the find widget should be handled by CSS.
return;}var maxWidth=parseFloat(dom.getComputedStyle(_this7._domNode).maxWidth)||0;if(width>maxWidth){return;}_this7._domNode.style.width="".concat(width,"px");if(_this7._isReplaceVisible){_this7._replaceInput.width=dom.getTotalWidth(_this7._findInput.domNode);}_this7._findInput.inputBox.layout();_this7._tryUpdateHeight();}));this._register(this._resizeSash.onDidReset(function(){// users double click on the sash
var currentWidth=dom.getTotalWidth(_this7._domNode);if(currentWidth<FIND_WIDGET_INITIAL_WIDTH){// The editor is narrow and the width of the find widget is controlled fully by CSS.
return;}var width=FIND_WIDGET_INITIAL_WIDTH;if(!_this7._resized||currentWidth===FIND_WIDGET_INITIAL_WIDTH){// 1. never resized before, double click should maximizes it
// 2. users resized it already but its width is the same as default
var layoutInfo=_this7._codeEditor.getLayoutInfo();width=layoutInfo.width-28-layoutInfo.minimap.minimapWidth-15;_this7._resized=true;}else{/**
                 * no op, the find widget should be shrinked to its default size.
                 */}_this7._domNode.style.width="".concat(width,"px");if(_this7._isReplaceVisible){_this7._replaceInput.width=dom.getTotalWidth(_this7._findInput.domNode);}_this7._findInput.inputBox.layout();}));}},{key:"updateAccessibilitySupport",value:function updateAccessibilitySupport(){var value=this._codeEditor.getOption(2/* accessibilitySupport */);this._findInput.setFocusInputOnOptionClick(value!==2/* Enabled */);}}]);return FindWidget;}(widget/* Widget */.$);FindWidget.ID='editor.contrib.findWidget';var SimpleButton=/*#__PURE__*/function(_Widget2){findWidget_inherits(SimpleButton,_Widget2);var _super2=findWidget_createSuper(SimpleButton);function SimpleButton(opts){var _this8;findWidget_classCallCheck(this,SimpleButton);_this8=_super2.call(this);_this8._opts=opts;var className='button';if(_this8._opts.className){className=className+' '+_this8._opts.className;}if(_this8._opts.icon){className=className+' '+themeService/* ThemeIcon.asClassName */.kS.asClassName(_this8._opts.icon);}_this8._domNode=document.createElement('div');_this8._domNode.title=_this8._opts.label;_this8._domNode.tabIndex=0;_this8._domNode.className=className;_this8._domNode.setAttribute('role','button');_this8._domNode.setAttribute('aria-label',_this8._opts.label);_this8.onclick(_this8._domNode,function(e){_this8._opts.onTrigger();e.preventDefault();});_this8.onkeydown(_this8._domNode,function(e){if(e.equals(10/* Space */)||e.equals(3/* Enter */)){_this8._opts.onTrigger();e.preventDefault();return;}if(_this8._opts.onKeyDown){_this8._opts.onKeyDown(e);}});return _this8;}findWidget_createClass(SimpleButton,[{key:"domNode",get:function get(){return this._domNode;}},{key:"isEnabled",value:function isEnabled(){return this._domNode.tabIndex>=0;}},{key:"focus",value:function focus(){this._domNode.focus();}},{key:"setEnabled",value:function setEnabled(enabled){this._domNode.classList.toggle('disabled',!enabled);this._domNode.setAttribute('aria-disabled',String(!enabled));this._domNode.tabIndex=enabled?0:-1;}},{key:"setExpanded",value:function setExpanded(expanded){this._domNode.setAttribute('aria-expanded',String(!!expanded));if(expanded){var _this$_domNode$classL,_this$_domNode$classL2;(_this$_domNode$classL=this._domNode.classList).remove.apply(_this$_domNode$classL,findWidget_toConsumableArray(themeService/* ThemeIcon.asClassNameArray */.kS.asClassNameArray(findCollapsedIcon)));(_this$_domNode$classL2=this._domNode.classList).add.apply(_this$_domNode$classL2,findWidget_toConsumableArray(themeService/* ThemeIcon.asClassNameArray */.kS.asClassNameArray(findExpandedIcon)));}else{var _this$_domNode$classL3,_this$_domNode$classL4;(_this$_domNode$classL3=this._domNode.classList).remove.apply(_this$_domNode$classL3,findWidget_toConsumableArray(themeService/* ThemeIcon.asClassNameArray */.kS.asClassNameArray(findExpandedIcon)));(_this$_domNode$classL4=this._domNode.classList).add.apply(_this$_domNode$classL4,findWidget_toConsumableArray(themeService/* ThemeIcon.asClassNameArray */.kS.asClassNameArray(findCollapsedIcon)));}}}]);return SimpleButton;}(widget/* Widget */.$);// theming
(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var addBackgroundColorRule=function addBackgroundColorRule(selector,color){if(color){collector.addRule(".monaco-editor ".concat(selector," { background-color: ").concat(color,"; }"));}};addBackgroundColorRule('.findMatch',theme.getColor(colorRegistry/* editorFindMatchHighlight */.MUv));addBackgroundColorRule('.currentFindMatch',theme.getColor(colorRegistry/* editorFindMatch */.nyM));addBackgroundColorRule('.findScope',theme.getColor(colorRegistry/* editorFindRangeHighlight */.jUe));var widgetBackground=theme.getColor(colorRegistry/* editorWidgetBackground */.D0T);addBackgroundColorRule('.find-widget',widgetBackground);var widgetShadowColor=theme.getColor(colorRegistry/* widgetShadow */.rh);if(widgetShadowColor){collector.addRule(".monaco-editor .find-widget { box-shadow: 0 0 8px 2px ".concat(widgetShadowColor,"; }"));}var findMatchHighlightBorder=theme.getColor(colorRegistry/* editorFindMatchHighlightBorder */.EiJ);if(findMatchHighlightBorder){collector.addRule(".monaco-editor .findMatch { border: 1px ".concat(theme.type==='hc'?'dotted':'solid'," ").concat(findMatchHighlightBorder,"; box-sizing: border-box; }"));}var findMatchBorder=theme.getColor(colorRegistry/* editorFindMatchBorder */.pnM);if(findMatchBorder){collector.addRule(".monaco-editor .currentFindMatch { border: 2px solid ".concat(findMatchBorder,"; padding: 1px; box-sizing: border-box; }"));}var findRangeHighlightBorder=theme.getColor(colorRegistry/* editorFindRangeHighlightBorder */.gkn);if(findRangeHighlightBorder){collector.addRule(".monaco-editor .findScope { border: 1px ".concat(theme.type==='hc'?'dashed':'solid'," ").concat(findRangeHighlightBorder,"; }"));}var hcBorder=theme.getColor(colorRegistry/* contrastBorder */.lRK);if(hcBorder){collector.addRule(".monaco-editor .find-widget { border: 1px solid ".concat(hcBorder,"; }"));}var foreground=theme.getColor(colorRegistry/* editorWidgetForeground */.Hfx);if(foreground){collector.addRule(".monaco-editor .find-widget { color: ".concat(foreground,"; }"));}var error=theme.getColor(colorRegistry/* errorForeground */.Ido);if(error){collector.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: ".concat(error,"; }"));}var resizeBorderBackground=theme.getColor(colorRegistry/* editorWidgetResizeBorder */.Ng6);if(resizeBorderBackground){collector.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(resizeBorderBackground,"; }"));}else{var border=theme.getColor(colorRegistry/* editorWidgetBorder */.D1_);if(border){collector.addRule(".monaco-editor .find-widget .monaco-sash { background-color: ".concat(border,"; }"));}}// Action bars
var toolbarHoverBackgroundColor=theme.getColor(colorRegistry/* toolbarHoverBackground */.lUq);if(toolbarHoverBackgroundColor){collector.addRule("\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ".concat(toolbarHoverBackgroundColor," !important;\n\t\t}\n\t"));}// This rule is used to override the outline color for synthetic-focus find input.
var focusOutline=theme.getColor(colorRegistry/* focusBorder */.R80);if(focusOutline){collector.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ".concat(focusOutline,"; }"));}});
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js
var actions = __webpack_require__(25749);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/clipboard/common/clipboardService.js
var clipboardService = __webpack_require__(24683);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js
var contextView = __webpack_require__(25234);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js
var keybinding = __webpack_require__(13112);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js
var notification = __webpack_require__(73766);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/storage/common/storage.js
var storage = __webpack_require__(96378);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findController.js
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function findController_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function findController_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function findController_createClass(Constructor,protoProps,staticProps){if(protoProps)findController_defineProperties(Constructor.prototype,protoProps);if(staticProps)findController_defineProperties(Constructor,staticProps);return Constructor;}function findController_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){findController_get=Reflect.get;}else{findController_get=function _get(target,property,receiver){var base=findController_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return findController_get(target,property,receiver||target);}function findController_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=findController_getPrototypeOf(object);if(object===null)break;}return object;}function findController_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)findController_setPrototypeOf(subClass,superClass);}function findController_setPrototypeOf(o,p){findController_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return findController_setPrototypeOf(o,p);}function findController_createSuper(Derived){var hasNativeReflectConstruct=findController_isNativeReflectConstruct();return function _createSuperInternal(){var Super=findController_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=findController_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return findController_possibleConstructorReturn(this,result);};}function findController_possibleConstructorReturn(self,call){if(call&&(findController_typeof(call)==="object"||typeof call==="function")){return call;}return findController_assertThisInitialized(self);}function findController_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function findController_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function findController_getPrototypeOf(o){findController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return findController_getPrototypeOf(o);}function findController_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){findController_typeof=function _typeof(obj){return typeof obj;};}else{findController_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return findController_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":findController_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var findController_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var SEARCH_STRING_MAX_LENGTH=524288;function getSelectionSearchString(editor){var seedSearchStringFromSelection=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'single';var seedSearchStringFromNonEmptySelection=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!editor.hasModel()){return null;}var selection=editor.getSelection();// if selection spans multiple lines, default search string to empty
if(seedSearchStringFromSelection==='single'&&selection.startLineNumber===selection.endLineNumber||seedSearchStringFromSelection==='multiple'){if(selection.isEmpty()){var wordAtPosition=editor.getConfiguredWordAtPosition(selection.getStartPosition());if(wordAtPosition&&false===seedSearchStringFromNonEmptySelection){return wordAtPosition.word;}}else{if(editor.getModel().getValueLengthInRange(selection)<SEARCH_STRING_MAX_LENGTH){return editor.getModel().getValueInRange(selection);}}}return null;}var CommonFindController=/*#__PURE__*/function(_Disposable){findController_inherits(CommonFindController,_Disposable);var _super2=findController_createSuper(CommonFindController);function CommonFindController(editor,contextKeyService,storageService,clipboardService){var _this;findController_classCallCheck(this,CommonFindController);_this=_super2.call(this);_this._editor=editor;_this._findWidgetVisible=CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);_this._contextKeyService=contextKeyService;_this._storageService=storageService;_this._clipboardService=clipboardService;_this._updateHistoryDelayer=new common_async/* Delayer */.vp(500);_this._state=_this._register(new FindReplaceState());_this.loadQueryState();_this._register(_this._state.onFindReplaceStateChange(function(e){return _this._onStateChanged(e);}));_this._model=null;_this._register(_this._editor.onDidChangeModel(function(){var shouldRestartFind=_this._editor.getModel()&&_this._state.isRevealed;_this.disposeModel();_this._state.change({searchScope:null,matchCase:_this._storageService.getBoolean('editor.matchCase',1/* WORKSPACE */,false),wholeWord:_this._storageService.getBoolean('editor.wholeWord',1/* WORKSPACE */,false),isRegex:_this._storageService.getBoolean('editor.isRegex',1/* WORKSPACE */,false),preserveCase:_this._storageService.getBoolean('editor.preserveCase',1/* WORKSPACE */,false)},false);if(shouldRestartFind){_this._start({forceRevealReplace:false,seedSearchStringFromSelection:'none',seedSearchStringFromNonEmptySelection:false,seedSearchStringFromGlobalClipboard:false,shouldFocus:0/* NoFocusChange */,shouldAnimate:false,updateSearchScope:false,loop:_this._editor.getOption(35/* find */).loop});}}));return _this;}findController_createClass(CommonFindController,[{key:"editor",get:function get(){return this._editor;}},{key:"dispose",value:function dispose(){this.disposeModel();findController_get(findController_getPrototypeOf(CommonFindController.prototype),"dispose",this).call(this);}},{key:"disposeModel",value:function disposeModel(){if(this._model){this._model.dispose();this._model=null;}}},{key:"_onStateChanged",value:function _onStateChanged(e){this.saveQueryState(e);if(e.isRevealed){if(this._state.isRevealed){this._findWidgetVisible.set(true);}else{this._findWidgetVisible.reset();this.disposeModel();}}if(e.searchString){this.setGlobalBufferTerm(this._state.searchString);}}},{key:"saveQueryState",value:function saveQueryState(e){if(e.isRegex){this._storageService.store('editor.isRegex',this._state.actualIsRegex,1/* WORKSPACE */,0/* USER */);}if(e.wholeWord){this._storageService.store('editor.wholeWord',this._state.actualWholeWord,1/* WORKSPACE */,0/* USER */);}if(e.matchCase){this._storageService.store('editor.matchCase',this._state.actualMatchCase,1/* WORKSPACE */,0/* USER */);}if(e.preserveCase){this._storageService.store('editor.preserveCase',this._state.actualPreserveCase,1/* WORKSPACE */,0/* USER */);}}},{key:"loadQueryState",value:function loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean('editor.matchCase',1/* WORKSPACE */,this._state.matchCase),wholeWord:this._storageService.getBoolean('editor.wholeWord',1/* WORKSPACE */,this._state.wholeWord),isRegex:this._storageService.getBoolean('editor.isRegex',1/* WORKSPACE */,this._state.isRegex),preserveCase:this._storageService.getBoolean('editor.preserveCase',1/* WORKSPACE */,this._state.preserveCase)},false);}},{key:"isFindInputFocused",value:function isFindInputFocused(){return!!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);}},{key:"getState",value:function getState(){return this._state;}},{key:"closeFindWidget",value:function closeFindWidget(){this._state.change({isRevealed:false,searchScope:null},false);this._editor.focus();}},{key:"toggleCaseSensitive",value:function toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},false);if(!this._state.isRevealed){this.highlightFindOptions();}}},{key:"toggleWholeWords",value:function toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},false);if(!this._state.isRevealed){this.highlightFindOptions();}}},{key:"toggleRegex",value:function toggleRegex(){this._state.change({isRegex:!this._state.isRegex},false);if(!this._state.isRevealed){this.highlightFindOptions();}}},{key:"togglePreserveCase",value:function togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},false);if(!this._state.isRevealed){this.highlightFindOptions();}}},{key:"toggleSearchScope",value:function toggleSearchScope(){var _this2=this;if(this._state.searchScope){this._state.change({searchScope:null},true);}else{if(this._editor.hasModel()){var selections=this._editor.getSelections();selections.map(function(selection){if(selection.endColumn===1&&selection.endLineNumber>selection.startLineNumber){selection=selection.setEndPosition(selection.endLineNumber-1,_this2._editor.getModel().getLineMaxColumn(selection.endLineNumber-1));}if(!selection.isEmpty()){return selection;}return null;}).filter(function(element){return!!element;});if(selections.length){this._state.change({searchScope:selections},true);}}}}},{key:"setSearchString",value:function setSearchString(searchString){if(this._state.isRegex){searchString=strings/* escapeRegExpCharacters */.ec(searchString);}this._state.change({searchString:searchString},false);}},{key:"highlightFindOptions",value:function highlightFindOptions(){// overwritten in subclass
var ignoreWhenVisible=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;}},{key:"_start",value:function _start(opts,newState){return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var stateChanges,selectionSearchString,_selectionSearchString,_selectionSearchString2,currentSelections;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.disposeModel();if(this._editor.hasModel()){_context.next=3;break;}return _context.abrupt("return");case 3:stateChanges=_extends(_extends({},newState),{isRevealed:true});if(opts.seedSearchStringFromSelection==='single'){selectionSearchString=getSelectionSearchString(this._editor,opts.seedSearchStringFromSelection,opts.seedSearchStringFromNonEmptySelection);if(selectionSearchString){if(this._state.isRegex){stateChanges.searchString=strings/* escapeRegExpCharacters */.ec(selectionSearchString);}else{stateChanges.searchString=selectionSearchString;}}}else if(opts.seedSearchStringFromSelection==='multiple'&&!opts.updateSearchScope){_selectionSearchString=getSelectionSearchString(this._editor,opts.seedSearchStringFromSelection);if(_selectionSearchString){stateChanges.searchString=_selectionSearchString;}}if(!(!stateChanges.searchString&&opts.seedSearchStringFromGlobalClipboard)){_context.next=12;break;}_context.next=8;return this.getGlobalBufferTerm();case 8:_selectionSearchString2=_context.sent;if(this._editor.hasModel()){_context.next=11;break;}return _context.abrupt("return");case 11:if(_selectionSearchString2){stateChanges.searchString=_selectionSearchString2;}case 12:// Overwrite isReplaceRevealed
if(opts.forceRevealReplace||stateChanges.isReplaceRevealed){stateChanges.isReplaceRevealed=true;}else if(!this._findWidgetVisible.get()){stateChanges.isReplaceRevealed=false;}if(opts.updateSearchScope){currentSelections=this._editor.getSelections();if(currentSelections.some(function(selection){return!selection.isEmpty();})){stateChanges.searchScope=currentSelections;}}stateChanges.loop=opts.loop;this._state.change(stateChanges,false);if(!this._model){this._model=new FindModelBoundToEditorModel(this._editor,this._state);}case 17:case"end":return _context.stop();}}},_callee,this);}));}},{key:"start",value:function start(opts,newState){return this._start(opts,newState);}},{key:"moveToNextMatch",value:function moveToNextMatch(){if(this._model){this._model.moveToNextMatch();return true;}return false;}},{key:"moveToPrevMatch",value:function moveToPrevMatch(){if(this._model){this._model.moveToPrevMatch();return true;}return false;}},{key:"replace",value:function replace(){if(this._model){this._model.replace();return true;}return false;}},{key:"replaceAll",value:function replaceAll(){if(this._model){this._model.replaceAll();return true;}return false;}},{key:"selectAllMatches",value:function selectAllMatches(){if(this._model){this._model.selectAllMatches();this._editor.focus();return true;}return false;}},{key:"getGlobalBufferTerm",value:function getGlobalBufferTerm(){return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(this._editor.getOption(35/* find */).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing())){_context2.next=2;break;}return _context2.abrupt("return",this._clipboardService.readFindText());case 2:return _context2.abrupt("return",'');case 3:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"setGlobalBufferTerm",value:function setGlobalBufferTerm(text){if(this._editor.getOption(35/* find */).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()){// intentionally not awaited
this._clipboardService.writeFindText(text);}}}],[{key:"get",value:function get(editor){return editor.getContribution(CommonFindController.ID);}}]);return CommonFindController;}(lifecycle/* Disposable */.JT);CommonFindController.ID='editor.contrib.findController';CommonFindController=__decorate([__param(1,contextkey/* IContextKeyService */.i6),__param(2,storage/* IStorageService */.Uy),__param(3,clipboardService/* IClipboardService */.p)],CommonFindController);var FindController=/*#__PURE__*/function(_CommonFindController){findController_inherits(FindController,_CommonFindController);var _super3=findController_createSuper(FindController);function FindController(editor,_contextViewService,_contextKeyService,_keybindingService,_themeService,_notificationService,_storageService,clipboardService){var _this3;findController_classCallCheck(this,FindController);_this3=_super3.call(this,editor,_contextKeyService,_storageService,clipboardService);_this3._contextViewService=_contextViewService;_this3._keybindingService=_keybindingService;_this3._themeService=_themeService;_this3._notificationService=_notificationService;_this3._widget=null;_this3._findOptionsWidget=null;return _this3;}findController_createClass(FindController,[{key:"_start",value:function _start(opts,newState){var _this4=this;var _super=Object.create(null,{_start:{get:function get(){return findController_get(findController_getPrototypeOf(FindController.prototype),"_start",_this4);}}});return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var selection,updateSearchScope,isSelectionMultipleLine;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!this._widget){this._createFindWidget();}selection=this._editor.getSelection();updateSearchScope=false;_context3.t0=this._editor.getOption(35/* find */).autoFindInSelection;_context3.next=_context3.t0==='always'?6:_context3.t0==='never'?8:_context3.t0==='multiline'?10:13;break;case 6:updateSearchScope=true;return _context3.abrupt("break",14);case 8:updateSearchScope=false;return _context3.abrupt("break",14);case 10:isSelectionMultipleLine=!!selection&&selection.startLineNumber!==selection.endLineNumber;updateSearchScope=isSelectionMultipleLine;return _context3.abrupt("break",14);case 13:return _context3.abrupt("break",14);case 14:opts.updateSearchScope=opts.updateSearchScope||updateSearchScope;_context3.next=17;return _super._start.call(this,opts,newState);case 17:if(this._widget){if(opts.shouldFocus===2/* FocusReplaceInput */){this._widget.focusReplaceInput();}else if(opts.shouldFocus===1/* FocusFindInput */){this._widget.focusFindInput();}}case 18:case"end":return _context3.stop();}}},_callee3,this);}));}},{key:"highlightFindOptions",value:function highlightFindOptions(){var ignoreWhenVisible=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this._widget){this._createFindWidget();}if(this._state.isRevealed&&!ignoreWhenVisible){this._widget.highlightFindOptions();}else{this._findOptionsWidget.highlightFindOptions();}}},{key:"_createFindWidget",value:function _createFindWidget(){this._widget=this._register(new FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService));this._findOptionsWidget=this._register(new FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService));}}]);return FindController;}(CommonFindController);FindController=__decorate([__param(1,contextView/* IContextViewService */.u),__param(2,contextkey/* IContextKeyService */.i6),__param(3,keybinding/* IKeybindingService */.d),__param(4,themeService/* IThemeService */.XE),__param(5,notification/* INotificationService */.lT),__param(6,storage/* IStorageService */.Uy),__param(7,clipboardService/* IClipboardService */.p)],FindController);var StartFindAction=(0,editorExtensions/* registerMultiEditorAction */.rn)(new editorExtensions/* MultiEditorAction */.jY({id:FIND_IDS.StartFindAction,label:nls/* localize */.N('startFindAction',"Find"),alias:'Find',precondition:contextkey/* ContextKeyExpr.or */.Ao.or(editorContextKeys/* EditorContextKeys.focus */.u.focus,contextkey/* ContextKeyExpr.has */.Ao.has('editorIsOpen')),kbOpts:{kbExpr:null,primary:2048/* CtrlCmd */|36/* KeyF */,weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarEditMenu */.eH.MenubarEditMenu,group:'3_find',title:nls/* localize */.N({key:'miFind',comment:['&& denotes a mnemonic']},"&&Find"),order:1}}));StartFindAction.addImplementation(0,function(accessor,editor,args){var controller=CommonFindController.get(editor);if(!controller){return false;}return controller.start({forceRevealReplace:false,seedSearchStringFromSelection:editor.getOption(35/* find */).seedSearchStringFromSelection!=='never'?'single':'none',seedSearchStringFromNonEmptySelection:editor.getOption(35/* find */).seedSearchStringFromSelection==='selection',seedSearchStringFromGlobalClipboard:editor.getOption(35/* find */).globalFindClipboard,shouldFocus:1/* FocusFindInput */,shouldAnimate:true,updateSearchScope:false,loop:editor.getOption(35/* find */).loop});});var findArgDescription={description:'Open a new In-Editor Find Widget.',args:[{name:'Open a new In-Editor Find Widget args',schema:{properties:{searchString:{type:'string'},replaceString:{type:'string'},regex:{type:'boolean'},regexOverride:{type:'number',description:nls/* localize */.N('actions.find.isRegexOverride','Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:'boolean'},wholeWordOverride:{type:'number',description:nls/* localize */.N('actions.find.wholeWordOverride','Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:'boolean'},matchCaseOverride:{type:'number',description:nls/* localize */.N('actions.find.matchCaseOverride','Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:'boolean'},preserveCaseOverride:{type:'number',description:nls/* localize */.N('actions.find.preserveCaseOverride','Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:'boolean'}}}}]};var StartFindWithArgsAction=/*#__PURE__*/function(_EditorAction){findController_inherits(StartFindWithArgsAction,_EditorAction);var _super4=findController_createSuper(StartFindWithArgsAction);function StartFindWithArgsAction(){findController_classCallCheck(this,StartFindWithArgsAction);return _super4.call(this,{id:FIND_IDS.StartFindWithArgs,label:nls/* localize */.N('startFindWithArgsAction',"Find With Arguments"),alias:'Find With Arguments',precondition:undefined,kbOpts:{kbExpr:null,primary:0,weight:100/* EditorContrib */},description:findArgDescription});}findController_createClass(StartFindWithArgsAction,[{key:"run",value:function run(accessor,editor,args){return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){var controller,newState;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:controller=CommonFindController.get(editor);if(!controller){_context4.next=6;break;}newState=args?{searchString:args.searchString,replaceString:args.replaceString,isReplaceRevealed:args.replaceString!==undefined,isRegex:args.isRegex,// isRegexOverride: args.regexOverride,
wholeWord:args.matchWholeWord,// wholeWordOverride: args.wholeWordOverride,
matchCase:args.isCaseSensitive,// matchCaseOverride: args.matchCaseOverride,
preserveCase:args.preserveCase// preserveCaseOverride: args.preserveCaseOverride,
}:{};_context4.next=5;return controller.start({forceRevealReplace:false,seedSearchStringFromSelection:controller.getState().searchString.length===0&&editor.getOption(35/* find */).seedSearchStringFromSelection!=='never'?'single':'none',seedSearchStringFromNonEmptySelection:editor.getOption(35/* find */).seedSearchStringFromSelection==='selection',seedSearchStringFromGlobalClipboard:true,shouldFocus:1/* FocusFindInput */,/* FocusFindInput */shouldAnimate:true,updateSearchScope:(args===null||args===void 0?void 0:args.findInSelection)||false,loop:editor.getOption(35/* find */).loop},newState);case 5:controller.setGlobalBufferTerm(controller.getState().searchString);case 6:case"end":return _context4.stop();}}},_callee4);}));}}]);return StartFindWithArgsAction;}(editorExtensions/* EditorAction */.R6);var StartFindWithSelectionAction=/*#__PURE__*/function(_EditorAction2){findController_inherits(StartFindWithSelectionAction,_EditorAction2);var _super5=findController_createSuper(StartFindWithSelectionAction);function StartFindWithSelectionAction(){findController_classCallCheck(this,StartFindWithSelectionAction);return _super5.call(this,{id:FIND_IDS.StartFindWithSelection,label:nls/* localize */.N('startFindWithSelectionAction',"Find With Selection"),alias:'Find With Selection',precondition:undefined,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048/* CtrlCmd */|35/* KeyE */},weight:100/* EditorContrib */}});}findController_createClass(StartFindWithSelectionAction,[{key:"run",value:function run(accessor,editor){return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee5(){var controller;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:controller=CommonFindController.get(editor);if(!controller){_context5.next=5;break;}_context5.next=4;return controller.start({forceRevealReplace:false,seedSearchStringFromSelection:'multiple',seedSearchStringFromNonEmptySelection:false,seedSearchStringFromGlobalClipboard:false,shouldFocus:0/* NoFocusChange */,/* NoFocusChange */shouldAnimate:true,updateSearchScope:false,loop:editor.getOption(35/* find */).loop});case 4:controller.setGlobalBufferTerm(controller.getState().searchString);case 5:case"end":return _context5.stop();}}},_callee5);}));}}]);return StartFindWithSelectionAction;}(editorExtensions/* EditorAction */.R6);var MatchFindAction=/*#__PURE__*/function(_EditorAction3){findController_inherits(MatchFindAction,_EditorAction3);var _super6=findController_createSuper(MatchFindAction);function MatchFindAction(){findController_classCallCheck(this,MatchFindAction);return _super6.apply(this,arguments);}findController_createClass(MatchFindAction,[{key:"run",value:function run(accessor,editor){return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee6(){var controller;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:controller=CommonFindController.get(editor);if(!(controller&&!this._run(controller))){_context6.next=5;break;}_context6.next=4;return controller.start({forceRevealReplace:false,seedSearchStringFromSelection:controller.getState().searchString.length===0&&editor.getOption(35/* find */).seedSearchStringFromSelection!=='never'?'single':'none',seedSearchStringFromNonEmptySelection:editor.getOption(35/* find */).seedSearchStringFromSelection==='selection',seedSearchStringFromGlobalClipboard:true,shouldFocus:0/* NoFocusChange */,/* NoFocusChange */shouldAnimate:true,updateSearchScope:false,loop:editor.getOption(35/* find */).loop});case 4:this._run(controller);case 5:case"end":return _context6.stop();}}},_callee6,this);}));}}]);return MatchFindAction;}(editorExtensions/* EditorAction */.R6);var NextMatchFindAction=/*#__PURE__*/function(_MatchFindAction){findController_inherits(NextMatchFindAction,_MatchFindAction);var _super7=findController_createSuper(NextMatchFindAction);function NextMatchFindAction(){findController_classCallCheck(this,NextMatchFindAction);return _super7.call(this,{id:FIND_IDS.NextMatchFindAction,label:nls/* localize */.N('findNextMatchAction',"Find Next"),alias:'Find Next',precondition:undefined,kbOpts:[{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:61/* F3 */,mac:{primary:2048/* CtrlCmd */|37/* KeyG */,secondary:[61/* F3 */]},weight:100/* EditorContrib */},{kbExpr:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.focus */.u.focus,CONTEXT_FIND_INPUT_FOCUSED),primary:3/* Enter */,weight:100/* EditorContrib */}]});}findController_createClass(NextMatchFindAction,[{key:"_run",value:function _run(controller){var result=controller.moveToNextMatch();if(result){controller.editor.pushUndoStop();return true;}return false;}}]);return NextMatchFindAction;}(MatchFindAction);var PreviousMatchFindAction=/*#__PURE__*/function(_MatchFindAction2){findController_inherits(PreviousMatchFindAction,_MatchFindAction2);var _super8=findController_createSuper(PreviousMatchFindAction);function PreviousMatchFindAction(){findController_classCallCheck(this,PreviousMatchFindAction);return _super8.call(this,{id:FIND_IDS.PreviousMatchFindAction,label:nls/* localize */.N('findPreviousMatchAction',"Find Previous"),alias:'Find Previous',precondition:undefined,kbOpts:[{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:1024/* Shift */|61/* F3 */,mac:{primary:2048/* CtrlCmd */|1024/* Shift */|37/* KeyG */,secondary:[1024/* Shift */|61/* F3 */]},weight:100/* EditorContrib */},{kbExpr:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.focus */.u.focus,CONTEXT_FIND_INPUT_FOCUSED),primary:1024/* Shift */|3/* Enter */,weight:100/* EditorContrib */}]});}findController_createClass(PreviousMatchFindAction,[{key:"_run",value:function _run(controller){return controller.moveToPrevMatch();}}]);return PreviousMatchFindAction;}(MatchFindAction);var SelectionMatchFindAction=/*#__PURE__*/function(_EditorAction4){findController_inherits(SelectionMatchFindAction,_EditorAction4);var _super9=findController_createSuper(SelectionMatchFindAction);function SelectionMatchFindAction(){findController_classCallCheck(this,SelectionMatchFindAction);return _super9.apply(this,arguments);}findController_createClass(SelectionMatchFindAction,[{key:"run",value:function run(accessor,editor){return findController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee7(){var controller,seedSearchStringFromNonEmptySelection,selectionSearchString;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:controller=CommonFindController.get(editor);if(controller){_context7.next=3;break;}return _context7.abrupt("return");case 3:seedSearchStringFromNonEmptySelection=editor.getOption(35/* find */).seedSearchStringFromSelection==='selection';selectionSearchString=null;if(editor.getOption(35/* find */).seedSearchStringFromSelection!=='never'){selectionSearchString=getSelectionSearchString(editor,'single',seedSearchStringFromNonEmptySelection);}if(selectionSearchString){controller.setSearchString(selectionSearchString);}if(this._run(controller)){_context7.next=11;break;}_context7.next=10;return controller.start({forceRevealReplace:false,seedSearchStringFromSelection:editor.getOption(35/* find */).seedSearchStringFromSelection!=='never'?'single':'none',seedSearchStringFromNonEmptySelection:seedSearchStringFromNonEmptySelection,seedSearchStringFromGlobalClipboard:false,shouldFocus:0/* NoFocusChange */,/* NoFocusChange */shouldAnimate:true,updateSearchScope:false,loop:editor.getOption(35/* find */).loop});case 10:this._run(controller);case 11:case"end":return _context7.stop();}}},_callee7,this);}));}}]);return SelectionMatchFindAction;}(editorExtensions/* EditorAction */.R6);var NextSelectionMatchFindAction=/*#__PURE__*/function(_SelectionMatchFindAc){findController_inherits(NextSelectionMatchFindAction,_SelectionMatchFindAc);var _super10=findController_createSuper(NextSelectionMatchFindAction);function NextSelectionMatchFindAction(){findController_classCallCheck(this,NextSelectionMatchFindAction);return _super10.call(this,{id:FIND_IDS.NextSelectionMatchFindAction,label:nls/* localize */.N('nextSelectionMatchFindAction',"Find Next Selection"),alias:'Find Next Selection',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:2048/* CtrlCmd */|61/* F3 */,weight:100/* EditorContrib */}});}findController_createClass(NextSelectionMatchFindAction,[{key:"_run",value:function _run(controller){return controller.moveToNextMatch();}}]);return NextSelectionMatchFindAction;}(SelectionMatchFindAction);var PreviousSelectionMatchFindAction=/*#__PURE__*/function(_SelectionMatchFindAc2){findController_inherits(PreviousSelectionMatchFindAction,_SelectionMatchFindAc2);var _super11=findController_createSuper(PreviousSelectionMatchFindAction);function PreviousSelectionMatchFindAction(){findController_classCallCheck(this,PreviousSelectionMatchFindAction);return _super11.call(this,{id:FIND_IDS.PreviousSelectionMatchFindAction,label:nls/* localize */.N('previousSelectionMatchFindAction',"Find Previous Selection"),alias:'Find Previous Selection',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:2048/* CtrlCmd */|1024/* Shift */|61/* F3 */,weight:100/* EditorContrib */}});}findController_createClass(PreviousSelectionMatchFindAction,[{key:"_run",value:function _run(controller){return controller.moveToPrevMatch();}}]);return PreviousSelectionMatchFindAction;}(SelectionMatchFindAction);var StartFindReplaceAction=(0,editorExtensions/* registerMultiEditorAction */.rn)(new editorExtensions/* MultiEditorAction */.jY({id:FIND_IDS.StartFindReplaceAction,label:nls/* localize */.N('startReplace',"Replace"),alias:'Replace',precondition:contextkey/* ContextKeyExpr.or */.Ao.or(editorContextKeys/* EditorContextKeys.focus */.u.focus,contextkey/* ContextKeyExpr.has */.Ao.has('editorIsOpen')),kbOpts:{kbExpr:null,primary:2048/* CtrlCmd */|38/* KeyH */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|36/* KeyF */},weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarEditMenu */.eH.MenubarEditMenu,group:'3_find',title:nls/* localize */.N({key:'miReplace',comment:['&& denotes a mnemonic']},"&&Replace"),order:2}}));StartFindReplaceAction.addImplementation(0,function(accessor,editor,args){if(!editor.hasModel()||editor.getOption(81/* readOnly */)){return false;}var controller=CommonFindController.get(editor);if(!controller){return false;}var currentSelection=editor.getSelection();var findInputFocused=controller.isFindInputFocused();// we only seed search string from selection when the current selection is single line and not empty,
// + the find input is not focused
var seedSearchStringFromSelection=!currentSelection.isEmpty()&&currentSelection.startLineNumber===currentSelection.endLineNumber&&editor.getOption(35/* find */).seedSearchStringFromSelection!=='never'&&!findInputFocused;/*
    * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.

    * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput
    * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput
    * findInputFocused false seedSearchStringFromSelection false FocusFindInput
    */var shouldFocus=findInputFocused||seedSearchStringFromSelection?2/* FocusReplaceInput */:1/* FocusFindInput */;return controller.start({forceRevealReplace:true,seedSearchStringFromSelection:seedSearchStringFromSelection?'single':'none',seedSearchStringFromNonEmptySelection:editor.getOption(35/* find */).seedSearchStringFromSelection==='selection',seedSearchStringFromGlobalClipboard:editor.getOption(35/* find */).seedSearchStringFromSelection!=='never',shouldFocus:shouldFocus,shouldAnimate:true,updateSearchScope:false,loop:editor.getOption(35/* find */).loop});});(0,editorExtensions/* registerEditorContribution */._K)(CommonFindController.ID,FindController);(0,editorExtensions/* registerEditorAction */.Qr)(StartFindWithArgsAction);(0,editorExtensions/* registerEditorAction */.Qr)(StartFindWithSelectionAction);(0,editorExtensions/* registerEditorAction */.Qr)(NextMatchFindAction);(0,editorExtensions/* registerEditorAction */.Qr)(PreviousMatchFindAction);(0,editorExtensions/* registerEditorAction */.Qr)(NextSelectionMatchFindAction);(0,editorExtensions/* registerEditorAction */.Qr)(PreviousSelectionMatchFindAction);var FindCommand=editorExtensions/* EditorCommand.bindToContribution */._l.bindToContribution(CommonFindController.get);(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.CloseFindWidgetCommand,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function handler(x){return x.closeFindWidget();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.focus */.u.focus,contextkey/* ContextKeyExpr.not */.Ao.not('isComposing')),primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */]}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ToggleCaseSensitiveCommand,precondition:undefined,handler:function handler(x){return x.toggleCaseSensitive();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:ToggleCaseSensitiveKeybinding.primary,mac:ToggleCaseSensitiveKeybinding.mac,win:ToggleCaseSensitiveKeybinding.win,linux:ToggleCaseSensitiveKeybinding.linux}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ToggleWholeWordCommand,precondition:undefined,handler:function handler(x){return x.toggleWholeWords();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:ToggleWholeWordKeybinding.primary,mac:ToggleWholeWordKeybinding.mac,win:ToggleWholeWordKeybinding.win,linux:ToggleWholeWordKeybinding.linux}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ToggleRegexCommand,precondition:undefined,handler:function handler(x){return x.toggleRegex();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:ToggleRegexKeybinding.primary,mac:ToggleRegexKeybinding.mac,win:ToggleRegexKeybinding.win,linux:ToggleRegexKeybinding.linux}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ToggleSearchScopeCommand,precondition:undefined,handler:function handler(x){return x.toggleSearchScope();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:ToggleSearchScopeKeybinding.primary,mac:ToggleSearchScopeKeybinding.mac,win:ToggleSearchScopeKeybinding.win,linux:ToggleSearchScopeKeybinding.linux}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.TogglePreserveCaseCommand,precondition:undefined,handler:function handler(x){return x.togglePreserveCase();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:TogglePreserveCaseKeybinding.primary,mac:TogglePreserveCaseKeybinding.mac,win:TogglePreserveCaseKeybinding.win,linux:TogglePreserveCaseKeybinding.linux}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ReplaceOneAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function handler(x){return x.replace();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:2048/* CtrlCmd */|1024/* Shift */|22/* Digit1 */}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ReplaceOneAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function handler(x){return x.replace();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.focus */.u.focus,CONTEXT_REPLACE_INPUT_FOCUSED),primary:3/* Enter */}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ReplaceAllAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function handler(x){return x.replaceAll();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:2048/* CtrlCmd */|512/* Alt */|3/* Enter */}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.ReplaceAllAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function handler(x){return x.replaceAll();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.focus */.u.focus,CONTEXT_REPLACE_INPUT_FOCUSED),primary:undefined,mac:{primary:2048/* CtrlCmd */|3/* Enter */}}}));(0,editorExtensions/* registerEditorCommand */.fK)(new FindCommand({id:FIND_IDS.SelectAllMatchesAction,precondition:CONTEXT_FIND_WIDGET_VISIBLE,handler:function handler(x){return x.selectAllMatches();},kbOpts:{weight:100/* EditorContrib */+5,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:512/* Alt */|3/* Enter */}}));

/***/ }),

/***/ 65362:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "FoldingController": () => (/* binding */ FoldingController),
  "editorFoldForeground": () => (/* binding */ editorFoldForeground),
  "foldBackgroundBackground": () => (/* binding */ foldBackgroundBackground)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/keyCodes.js
var keyCodes = __webpack_require__(61273);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/types.js
var types = __webpack_require__(918);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/stableEditorScroll.js
var stableEditorScroll = __webpack_require__(61196);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/languageConfigurationRegistry.js + 4 modules
var languageConfigurationRegistry = __webpack_require__(71567);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/foldingRanges.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var MAX_FOLDING_REGIONS=0xFFFF;var MAX_LINE_NUMBER=0xFFFFFF;var MASK_INDENT=0xFF000000;var FoldingRegions=/*#__PURE__*/function(){function FoldingRegions(startIndexes,endIndexes,types){_classCallCheck(this,FoldingRegions);if(startIndexes.length!==endIndexes.length||startIndexes.length>MAX_FOLDING_REGIONS){throw new Error('invalid startIndexes or endIndexes size');}this._startIndexes=startIndexes;this._endIndexes=endIndexes;this._collapseStates=new Uint32Array(Math.ceil(startIndexes.length/32));this._types=types;this._parentsComputed=false;}_createClass(FoldingRegions,[{key:"ensureParentIndices",value:function ensureParentIndices(){var _this=this;if(!this._parentsComputed){this._parentsComputed=true;var parentIndexes=[];var isInsideLast=function isInsideLast(startLineNumber,endLineNumber){var index=parentIndexes[parentIndexes.length-1];return _this.getStartLineNumber(index)<=startLineNumber&&_this.getEndLineNumber(index)>=endLineNumber;};for(var i=0,len=this._startIndexes.length;i<len;i++){var startLineNumber=this._startIndexes[i];var endLineNumber=this._endIndexes[i];if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER){throw new Error('startLineNumber or endLineNumber must not exceed '+MAX_LINE_NUMBER);}while(parentIndexes.length>0&&!isInsideLast(startLineNumber,endLineNumber)){parentIndexes.pop();}var parentIndex=parentIndexes.length>0?parentIndexes[parentIndexes.length-1]:-1;parentIndexes.push(i);this._startIndexes[i]=startLineNumber+((parentIndex&0xFF)<<24);this._endIndexes[i]=endLineNumber+((parentIndex&0xFF00)<<16);}}}},{key:"length",get:function get(){return this._startIndexes.length;}},{key:"getStartLineNumber",value:function getStartLineNumber(index){return this._startIndexes[index]&MAX_LINE_NUMBER;}},{key:"getEndLineNumber",value:function getEndLineNumber(index){return this._endIndexes[index]&MAX_LINE_NUMBER;}},{key:"getType",value:function getType(index){return this._types?this._types[index]:undefined;}},{key:"hasTypes",value:function hasTypes(){return!!this._types;}},{key:"isCollapsed",value:function isCollapsed(index){var arrayIndex=index/32|0;var bit=index%32;return(this._collapseStates[arrayIndex]&1<<bit)!==0;}},{key:"setCollapsed",value:function setCollapsed(index,newState){var arrayIndex=index/32|0;var bit=index%32;var value=this._collapseStates[arrayIndex];if(newState){this._collapseStates[arrayIndex]=value|1<<bit;}else{this._collapseStates[arrayIndex]=value&~(1<<bit);}}},{key:"setCollapsedAllOfType",value:function setCollapsedAllOfType(type,newState){var hasChanged=false;if(this._types){for(var i=0;i<this._types.length;i++){if(this._types[i]===type){this.setCollapsed(i,newState);hasChanged=true;}}}return hasChanged;}},{key:"toRegion",value:function toRegion(index){return new FoldingRegion(this,index);}},{key:"getParentIndex",value:function getParentIndex(index){this.ensureParentIndices();var parent=((this._startIndexes[index]&MASK_INDENT)>>>24)+((this._endIndexes[index]&MASK_INDENT)>>>16);if(parent===MAX_FOLDING_REGIONS){return-1;}return parent;}},{key:"contains",value:function contains(index,line){return this.getStartLineNumber(index)<=line&&this.getEndLineNumber(index)>=line;}},{key:"findIndex",value:function findIndex(line){var low=0,high=this._startIndexes.length;if(high===0){return-1;// no children
}while(low<high){var mid=Math.floor((low+high)/2);if(line<this.getStartLineNumber(mid)){high=mid;}else{low=mid+1;}}return low-1;}},{key:"findRange",value:function findRange(line){var index=this.findIndex(line);if(index>=0){var endLineNumber=this.getEndLineNumber(index);if(endLineNumber>=line){return index;}index=this.getParentIndex(index);while(index!==-1){if(this.contains(index,line)){return index;}index=this.getParentIndex(index);}}return-1;}},{key:"toString",value:function toString(){var res=[];for(var i=0;i<this.length;i++){res[i]="[".concat(this.isCollapsed(i)?'+':'-',"] ").concat(this.getStartLineNumber(i),"/").concat(this.getEndLineNumber(i));}return res.join(', ');}}]);return FoldingRegions;}();var FoldingRegion=/*#__PURE__*/function(){function FoldingRegion(ranges,index){_classCallCheck(this,FoldingRegion);this.ranges=ranges;this.index=index;}_createClass(FoldingRegion,[{key:"startLineNumber",get:function get(){return this.ranges.getStartLineNumber(this.index);}},{key:"endLineNumber",get:function get(){return this.ranges.getEndLineNumber(this.index);}},{key:"regionIndex",get:function get(){return this.index;}},{key:"parentIndex",get:function get(){return this.ranges.getParentIndex(this.index);}},{key:"isCollapsed",get:function get(){return this.ranges.isCollapsed(this.index);}},{key:"containedBy",value:function containedBy(range){return range.startLineNumber<=this.startLineNumber&&range.endLineNumber>=this.endLineNumber;}},{key:"containsLine",value:function containsLine(lineNumber){return this.startLineNumber<=lineNumber&&lineNumber<=this.endLineNumber;}}]);return FoldingRegion;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/foldingModel.js
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function foldingModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function foldingModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function foldingModel_createClass(Constructor,protoProps,staticProps){if(protoProps)foldingModel_defineProperties(Constructor.prototype,protoProps);if(staticProps)foldingModel_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var FoldingModel=/*#__PURE__*/function(){function FoldingModel(textModel,decorationProvider){foldingModel_classCallCheck(this,FoldingModel);this._updateEventEmitter=new common_event/* Emitter */.Q5();this.onDidChange=this._updateEventEmitter.event;this._textModel=textModel;this._decorationProvider=decorationProvider;this._regions=new FoldingRegions(new Uint32Array(0),new Uint32Array(0));this._editorDecorationIds=[];this._isInitialized=false;}foldingModel_createClass(FoldingModel,[{key:"regions",get:function get(){return this._regions;}},{key:"textModel",get:function get(){return this._textModel;}},{key:"isInitialized",get:function get(){return this._isInitialized;}},{key:"toggleCollapseState",value:function toggleCollapseState(toggledRegions){var _this=this;if(!toggledRegions.length){return;}toggledRegions=toggledRegions.sort(function(r1,r2){return r1.regionIndex-r2.regionIndex;});var processed={};this._decorationProvider.changeDecorations(function(accessor){var k=0;// index from [0 ... this.regions.length]
var dirtyRegionEndLine=-1;// end of the range where decorations need to be updated
var lastHiddenLine=-1;// the end of the last hidden lines
var updateDecorationsUntil=function updateDecorationsUntil(index){while(k<index){var endLineNumber=_this._regions.getEndLineNumber(k);var isCollapsed=_this._regions.isCollapsed(k);if(endLineNumber<=dirtyRegionEndLine){accessor.changeDecorationOptions(_this._editorDecorationIds[k],_this._decorationProvider.getDecorationOption(isCollapsed,endLineNumber<=lastHiddenLine));}if(isCollapsed&&endLineNumber>lastHiddenLine){lastHiddenLine=endLineNumber;}k++;}};var _iterator=_createForOfIteratorHelper(toggledRegions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var region=_step.value;var index=region.regionIndex;var editorDecorationId=_this._editorDecorationIds[index];if(editorDecorationId&&!processed[editorDecorationId]){processed[editorDecorationId]=true;updateDecorationsUntil(index);// update all decorations up to current index using the old dirtyRegionEndLine
var newCollapseState=!_this._regions.isCollapsed(index);_this._regions.setCollapsed(index,newCollapseState);dirtyRegionEndLine=Math.max(dirtyRegionEndLine,_this._regions.getEndLineNumber(index));}}}catch(err){_iterator.e(err);}finally{_iterator.f();}updateDecorationsUntil(_this._regions.length);});this._updateEventEmitter.fire({model:this,collapseStateChanged:toggledRegions});}},{key:"update",value:function update(newRegions){var _this2=this;var blockedLineNumers=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var newEditorDecorations=[];var isBlocked=function isBlocked(startLineNumber,endLineNumber){var _iterator2=_createForOfIteratorHelper(blockedLineNumers),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var blockedLineNumber=_step2.value;if(startLineNumber<blockedLineNumber&&blockedLineNumber<=endLineNumber){// first line is visible
return true;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return false;};var lastHiddenLine=-1;var initRange=function initRange(index,isCollapsed){var startLineNumber=newRegions.getStartLineNumber(index);var endLineNumber=newRegions.getEndLineNumber(index);if(!isCollapsed){isCollapsed=newRegions.isCollapsed(index);}if(isCollapsed&&isBlocked(startLineNumber,endLineNumber)){isCollapsed=false;}newRegions.setCollapsed(index,isCollapsed);var maxColumn=_this2._textModel.getLineMaxColumn(startLineNumber);var decorationRange={startLineNumber:startLineNumber,startColumn:Math.max(maxColumn-1,1),endLineNumber:startLineNumber,endColumn:maxColumn};newEditorDecorations.push({range:decorationRange,options:_this2._decorationProvider.getDecorationOption(isCollapsed,endLineNumber<=lastHiddenLine)});if(isCollapsed&&endLineNumber>lastHiddenLine){lastHiddenLine=endLineNumber;}};var i=0;var nextCollapsed=function nextCollapsed(){while(i<_this2._regions.length){var isCollapsed=_this2._regions.isCollapsed(i);i++;if(isCollapsed){return i-1;}}return-1;};var k=0;var collapsedIndex=nextCollapsed();while(collapsedIndex!==-1&&k<newRegions.length){// get the latest range
var decRange=this._textModel.getDecorationRange(this._editorDecorationIds[collapsedIndex]);if(decRange){var collapsedStartLineNumber=decRange.startLineNumber;if(decRange.startColumn===Math.max(decRange.endColumn-1,1)&&this._textModel.getLineMaxColumn(collapsedStartLineNumber)===decRange.endColumn){// test that the decoration is still covering the full line else it got deleted
while(k<newRegions.length){var startLineNumber=newRegions.getStartLineNumber(k);if(collapsedStartLineNumber>=startLineNumber){initRange(k,collapsedStartLineNumber===startLineNumber);k++;}else{break;}}}}collapsedIndex=nextCollapsed();}while(k<newRegions.length){initRange(k,false);k++;}this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,newEditorDecorations);this._regions=newRegions;this._isInitialized=true;this._updateEventEmitter.fire({model:this});}/**
     * Collapse state memento, for persistence only
     */},{key:"getMemento",value:function getMemento(){var collapsedRanges=[];for(var i=0;i<this._regions.length;i++){if(this._regions.isCollapsed(i)){var range=this._textModel.getDecorationRange(this._editorDecorationIds[i]);if(range){var startLineNumber=range.startLineNumber;var endLineNumber=range.endLineNumber+this._regions.getEndLineNumber(i)-this._regions.getStartLineNumber(i);collapsedRanges.push({startLineNumber:startLineNumber,endLineNumber:endLineNumber});}}}if(collapsedRanges.length>0){return collapsedRanges;}return undefined;}/**
     * Apply persisted state, for persistence only
     */},{key:"applyMemento",value:function applyMemento(state){if(!Array.isArray(state)){return;}var toToogle=[];var _iterator3=_createForOfIteratorHelper(state),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var range=_step3.value;var region=this.getRegionAtLine(range.startLineNumber);if(region&&!region.isCollapsed){toToogle.push(region);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}this.toggleCollapseState(toToogle);}},{key:"dispose",value:function dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[]);}},{key:"getAllRegionsAtLine",value:function getAllRegionsAtLine(lineNumber,filter){var result=[];if(this._regions){var index=this._regions.findRange(lineNumber);var level=1;while(index>=0){var current=this._regions.toRegion(index);if(!filter||filter(current,level)){result.push(current);}level++;index=current.parentIndex;}}return result;}},{key:"getRegionAtLine",value:function getRegionAtLine(lineNumber){if(this._regions){var index=this._regions.findRange(lineNumber);if(index>=0){return this._regions.toRegion(index);}}return null;}},{key:"getRegionsInside",value:function getRegionsInside(region,filter){var result=[];var index=region?region.regionIndex+1:0;var endLineNumber=region?region.endLineNumber:Number.MAX_VALUE;if(filter&&filter.length===2){var levelStack=[];for(var i=index,len=this._regions.length;i<len;i++){var current=this._regions.toRegion(i);if(this._regions.getStartLineNumber(i)<endLineNumber){while(levelStack.length>0&&!current.containedBy(levelStack[levelStack.length-1])){levelStack.pop();}levelStack.push(current);if(filter(current,levelStack.length)){result.push(current);}}else{break;}}}else{for(var _i=index,_len=this._regions.length;_i<_len;_i++){var _current=this._regions.toRegion(_i);if(this._regions.getStartLineNumber(_i)<endLineNumber){if(!filter||filter(_current)){result.push(_current);}}else{break;}}}return result;}}]);return FoldingModel;}();/**
 * Collapse or expand the regions at the given locations
 * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.
 * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.
 */function toggleCollapseState(foldingModel,levels,lineNumbers){var toToggle=[];var _iterator4=_createForOfIteratorHelper(lineNumbers),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var lineNumber=_step4.value;var region=foldingModel.getRegionAtLine(lineNumber);if(region){(function(){var doCollapse=!region.isCollapsed;toToggle.push(region);if(levels>1){var regionsInside=foldingModel.getRegionsInside(region,function(r,level){return r.isCollapsed!==doCollapse&&level<levels;});toToggle.push.apply(toToggle,_toConsumableArray(regionsInside));}})();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}foldingModel.toggleCollapseState(toToggle);}/**
 * Collapse or expand the regions at the given locations including all children.
 * @param doCollapse Whether to collapse or expand
 * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.
 * @param lineNumbers the location of the regions to collapse or expand, or if not set, all regions in the model.
 */function setCollapseStateLevelsDown(foldingModel,doCollapse){var levels=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Number.MAX_VALUE;var lineNumbers=arguments.length>3?arguments[3]:undefined;var toToggle=[];if(lineNumbers&&lineNumbers.length>0){var _iterator5=_createForOfIteratorHelper(lineNumbers),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var lineNumber=_step5.value;var region=foldingModel.getRegionAtLine(lineNumber);if(region){if(region.isCollapsed!==doCollapse){toToggle.push(region);}if(levels>1){var regionsInside=foldingModel.getRegionsInside(region,function(r,level){return r.isCollapsed!==doCollapse&&level<levels;});toToggle.push.apply(toToggle,_toConsumableArray(regionsInside));}}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}else{var _regionsInside=foldingModel.getRegionsInside(null,function(r,level){return r.isCollapsed!==doCollapse&&level<levels;});toToggle.push.apply(toToggle,_toConsumableArray(_regionsInside));}foldingModel.toggleCollapseState(toToggle);}/**
 * Collapse or expand the regions at the given locations including all parents.
 * @param doCollapse Whether to collapse or expand
 * @param levels The number of levels. Use 1 to only impact the regions at the location, use Number.MAX_VALUE for all levels.
 * @param lineNumbers the location of the regions to collapse or expand.
 */function setCollapseStateLevelsUp(foldingModel,doCollapse,levels,lineNumbers){var toToggle=[];var _iterator6=_createForOfIteratorHelper(lineNumbers),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var lineNumber=_step6.value;var regions=foldingModel.getAllRegionsAtLine(lineNumber,function(region,level){return region.isCollapsed!==doCollapse&&level<=levels;});toToggle.push.apply(toToggle,_toConsumableArray(regions));}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}foldingModel.toggleCollapseState(toToggle);}/**
 * Collapse or expand a region at the given locations. If the inner most region is already collapsed/expanded, uses the first parent instead.
 * @param doCollapse Whether to collapse or expand
 * @param lineNumbers the location of the regions to collapse or expand.
 */function setCollapseStateUp(foldingModel,doCollapse,lineNumbers){var toToggle=[];var _iterator7=_createForOfIteratorHelper(lineNumbers),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var lineNumber=_step7.value;var regions=foldingModel.getAllRegionsAtLine(lineNumber,function(region){return region.isCollapsed!==doCollapse;});if(regions.length>0){toToggle.push(regions[0]);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}foldingModel.toggleCollapseState(toToggle);}/**
 * Folds or unfolds all regions that have a given level, except if they contain one of the blocked lines.
 * @param foldLevel level. Level == 1 is the top level
 * @param doCollapse Whether to collapse or expand
*/function setCollapseStateAtLevel(foldingModel,foldLevel,doCollapse,blockedLineNumbers){var filter=function filter(region,level){return level===foldLevel&&region.isCollapsed!==doCollapse&&!blockedLineNumbers.some(function(line){return region.containsLine(line);});};var toToggle=foldingModel.getRegionsInside(null,filter);foldingModel.toggleCollapseState(toToggle);}/**
 * Folds or unfolds all regions, except if they contain or are contained by a region of one of the blocked lines.
 * @param doCollapse Whether to collapse or expand
 * @param blockedLineNumbers the location of regions to not collapse or expand
 */function setCollapseStateForRest(foldingModel,doCollapse,blockedLineNumbers){var filteredRegions=[];var _iterator8=_createForOfIteratorHelper(blockedLineNumbers),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var lineNumber=_step8.value;var regions=foldingModel.getAllRegionsAtLine(lineNumber,undefined);if(regions.length>0){filteredRegions.push(regions[0]);}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}var filter=function filter(region){return filteredRegions.every(function(filteredRegion){return!filteredRegion.containedBy(region)&&!region.containedBy(filteredRegion);})&&region.isCollapsed!==doCollapse;};var toToggle=foldingModel.getRegionsInside(null,filter);foldingModel.toggleCollapseState(toToggle);}/**
 * Folds all regions for which the lines start with a given regex
 * @param foldingModel the folding model
 */function setCollapseStateForMatchingLines(foldingModel,regExp,doCollapse){var editorModel=foldingModel.textModel;var regions=foldingModel.regions;var toToggle=[];for(var i=regions.length-1;i>=0;i--){if(doCollapse!==regions.isCollapsed(i)){var startLineNumber=regions.getStartLineNumber(i);if(regExp.test(editorModel.getLineContent(startLineNumber))){toToggle.push(regions.toRegion(i));}}}foldingModel.toggleCollapseState(toToggle);}/**
 * Folds all regions of the given type
 * @param foldingModel the folding model
 */function setCollapseStateForType(foldingModel,type,doCollapse){var regions=foldingModel.regions;var toToggle=[];for(var i=regions.length-1;i>=0;i--){if(doCollapse!==regions.isCollapsed(i)&&type===regions.getType(i)){toToggle.push(regions.toRegion(i));}}foldingModel.toggleCollapseState(toToggle);}/**
 * Get line to go to for parent fold of current line
 * @param lineNumber the current line number
 * @param foldingModel the folding model
 *
 * @return Parent fold start line
 */function getParentFoldLine(lineNumber,foldingModel){var startLineNumber=null;var foldingRegion=foldingModel.getRegionAtLine(lineNumber);if(foldingRegion!==null){startLineNumber=foldingRegion.startLineNumber;// If current line is not the start of the current fold, go to top line of current fold. If not, go to parent fold
if(lineNumber===startLineNumber){var parentFoldingIdx=foldingRegion.parentIndex;if(parentFoldingIdx!==-1){startLineNumber=foldingModel.regions.getStartLineNumber(parentFoldingIdx);}else{startLineNumber=null;}}}return startLineNumber;}/**
 * Get line to go to for previous fold at the same level of current line
 * @param lineNumber the current line number
 * @param foldingModel the folding model
 *
 * @return Previous fold start line
 */function getPreviousFoldLine(lineNumber,foldingModel){var foldingRegion=foldingModel.getRegionAtLine(lineNumber);// If on the folding range start line, go to previous sibling.
if(foldingRegion!==null&&foldingRegion.startLineNumber===lineNumber){// If current line is not the start of the current fold, go to top line of current fold. If not, go to previous fold.
if(lineNumber!==foldingRegion.startLineNumber){return foldingRegion.startLineNumber;}else{// Find min line number to stay within parent.
var expectedParentIndex=foldingRegion.parentIndex;var minLineNumber=0;if(expectedParentIndex!==-1){minLineNumber=foldingModel.regions.getStartLineNumber(foldingRegion.parentIndex);}// Find fold at same level.
while(foldingRegion!==null){if(foldingRegion.regionIndex>0){foldingRegion=foldingModel.regions.toRegion(foldingRegion.regionIndex-1);// Keep at same level.
if(foldingRegion.startLineNumber<=minLineNumber){return null;}else if(foldingRegion.parentIndex===expectedParentIndex){return foldingRegion.startLineNumber;}}else{return null;}}}}else{// Go to last fold that's before the current line.
if(foldingModel.regions.length>0){foldingRegion=foldingModel.regions.toRegion(foldingModel.regions.length-1);while(foldingRegion!==null){// Found fold before current line.
if(foldingRegion.startLineNumber<lineNumber){return foldingRegion.startLineNumber;}if(foldingRegion.regionIndex>0){foldingRegion=foldingModel.regions.toRegion(foldingRegion.regionIndex-1);}else{foldingRegion=null;}}}}return null;}/**
 * Get line to go to next fold at the same level of current line
 * @param lineNumber the current line number
 * @param foldingModel the folding model
 *
 * @return Next fold start line
 */function getNextFoldLine(lineNumber,foldingModel){var foldingRegion=foldingModel.getRegionAtLine(lineNumber);// If on the folding range start line, go to next sibling.
if(foldingRegion!==null&&foldingRegion.startLineNumber===lineNumber){// Find max line number to stay within parent.
var expectedParentIndex=foldingRegion.parentIndex;var maxLineNumber=0;if(expectedParentIndex!==-1){maxLineNumber=foldingModel.regions.getEndLineNumber(foldingRegion.parentIndex);}else if(foldingModel.regions.length===0){return null;}else{maxLineNumber=foldingModel.regions.getEndLineNumber(foldingModel.regions.length-1);}// Find fold at same level.
while(foldingRegion!==null){if(foldingRegion.regionIndex<foldingModel.regions.length){foldingRegion=foldingModel.regions.toRegion(foldingRegion.regionIndex+1);// Keep at same level.
if(foldingRegion.startLineNumber>=maxLineNumber){return null;}else if(foldingRegion.parentIndex===expectedParentIndex){return foldingRegion.startLineNumber;}}else{return null;}}}else{// Go to first fold that's after the current line.
if(foldingModel.regions.length>0){foldingRegion=foldingModel.regions.toRegion(0);while(foldingRegion!==null){// Found fold after current line.
if(foldingRegion.startLineNumber>lineNumber){return foldingRegion.startLineNumber;}if(foldingRegion.regionIndex<foldingModel.regions.length){foldingRegion=foldingModel.regions.toRegion(foldingRegion.regionIndex+1);}else{foldingRegion=null;}}}}return null;}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/eolCounter.js
var eolCounter = __webpack_require__(82982);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/hiddenRangeModel.js
function hiddenRangeModel_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=hiddenRangeModel_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function hiddenRangeModel_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return hiddenRangeModel_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hiddenRangeModel_arrayLikeToArray(o,minLen);}function hiddenRangeModel_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function hiddenRangeModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function hiddenRangeModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function hiddenRangeModel_createClass(Constructor,protoProps,staticProps){if(protoProps)hiddenRangeModel_defineProperties(Constructor.prototype,protoProps);if(staticProps)hiddenRangeModel_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var HiddenRangeModel=/*#__PURE__*/function(){function HiddenRangeModel(model){var _this=this;hiddenRangeModel_classCallCheck(this,HiddenRangeModel);this._updateEventEmitter=new common_event/* Emitter */.Q5();this._hasLineChanges=false;this._foldingModel=model;this._foldingModelListener=model.onDidChange(function(_){return _this.updateHiddenRanges();});this._hiddenRanges=[];if(model.regions.length){this.updateHiddenRanges();}}hiddenRangeModel_createClass(HiddenRangeModel,[{key:"onDidChange",get:function get(){return this._updateEventEmitter.event;}},{key:"hiddenRanges",get:function get(){return this._hiddenRanges;}},{key:"notifyChangeModelContent",value:function notifyChangeModelContent(e){if(this._hiddenRanges.length&&!this._hasLineChanges){this._hasLineChanges=e.changes.some(function(change){return change.range.endLineNumber!==change.range.startLineNumber||(0,eolCounter/* countEOL */.Q)(change.text)[0]!==0;});}}},{key:"updateHiddenRanges",value:function updateHiddenRanges(){var updateHiddenAreas=false;var newHiddenAreas=[];var i=0;// index into hidden
var k=0;var lastCollapsedStart=Number.MAX_VALUE;var lastCollapsedEnd=-1;var ranges=this._foldingModel.regions;for(;i<ranges.length;i++){if(!ranges.isCollapsed(i)){continue;}var startLineNumber=ranges.getStartLineNumber(i)+1;// the first line is not hidden
var endLineNumber=ranges.getEndLineNumber(i);if(lastCollapsedStart<=startLineNumber&&endLineNumber<=lastCollapsedEnd){// ignore ranges contained in collapsed regions
continue;}if(!updateHiddenAreas&&k<this._hiddenRanges.length&&this._hiddenRanges[k].startLineNumber===startLineNumber&&this._hiddenRanges[k].endLineNumber===endLineNumber){// reuse the old ranges
newHiddenAreas.push(this._hiddenRanges[k]);k++;}else{updateHiddenAreas=true;newHiddenAreas.push(new range/* Range */.e(startLineNumber,1,endLineNumber,1));}lastCollapsedStart=startLineNumber;lastCollapsedEnd=endLineNumber;}if(this._hasLineChanges||updateHiddenAreas||k<this._hiddenRanges.length){this.applyHiddenRanges(newHiddenAreas);}}},{key:"applyMemento",value:function applyMemento(state){if(!Array.isArray(state)||state.length===0){return false;}var hiddenRanges=[];var _iterator=hiddenRangeModel_createForOfIteratorHelper(state),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var r=_step.value;if(!r.startLineNumber||!r.endLineNumber){return false;}hiddenRanges.push(new range/* Range */.e(r.startLineNumber+1,1,r.endLineNumber,1));}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.applyHiddenRanges(hiddenRanges);return true;}/**
     * Collapse state memento, for persistence only, only used if folding model is not yet initialized
     */},{key:"getMemento",value:function getMemento(){return this._hiddenRanges.map(function(r){return{startLineNumber:r.startLineNumber-1,endLineNumber:r.endLineNumber};});}},{key:"applyHiddenRanges",value:function applyHiddenRanges(newHiddenAreas){this._hiddenRanges=newHiddenAreas;this._hasLineChanges=false;this._updateEventEmitter.fire(newHiddenAreas);}},{key:"hasRanges",value:function hasRanges(){return this._hiddenRanges.length>0;}},{key:"isHidden",value:function isHidden(line){return findRange(this._hiddenRanges,line)!==null;}},{key:"adjustSelections",value:function adjustSelections(selections){var _this2=this;var hasChanges=false;var editorModel=this._foldingModel.textModel;var lastRange=null;var adjustLine=function adjustLine(line){if(!lastRange||!isInside(line,lastRange)){lastRange=findRange(_this2._hiddenRanges,line);}if(lastRange){return lastRange.startLineNumber-1;}return null;};for(var i=0,len=selections.length;i<len;i++){var selection=selections[i];var adjustedStartLine=adjustLine(selection.startLineNumber);if(adjustedStartLine){selection=selection.setStartPosition(adjustedStartLine,editorModel.getLineMaxColumn(adjustedStartLine));hasChanges=true;}var adjustedEndLine=adjustLine(selection.endLineNumber);if(adjustedEndLine){selection=selection.setEndPosition(adjustedEndLine,editorModel.getLineMaxColumn(adjustedEndLine));hasChanges=true;}selections[i]=selection;}return hasChanges;}},{key:"dispose",value:function dispose(){if(this.hiddenRanges.length>0){this._hiddenRanges=[];this._updateEventEmitter.fire(this._hiddenRanges);}if(this._foldingModelListener){this._foldingModelListener.dispose();this._foldingModelListener=null;}}}]);return HiddenRangeModel;}();function isInside(line,range){return line>=range.startLineNumber&&line<=range.endLineNumber;}function findRange(ranges,line){var i=(0,arrays/* findFirstInSorted */.lG)(ranges,function(r){return line<r.startLineNumber;})-1;if(i>=0&&ranges[i].endLineNumber>=line){return ranges[i];}return null;}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/utils.js
var utils = __webpack_require__(61272);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/indentRangeProvider.js
function indentRangeProvider_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function indentRangeProvider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function indentRangeProvider_createClass(Constructor,protoProps,staticProps){if(protoProps)indentRangeProvider_defineProperties(Constructor.prototype,protoProps);if(staticProps)indentRangeProvider_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var MAX_FOLDING_REGIONS_FOR_INDENT_DEFAULT=5000;var ID_INDENT_PROVIDER='indent';var IndentRangeProvider=/*#__PURE__*/function(){function IndentRangeProvider(editorModel,languageConfigurationService,maxFoldingRegions){indentRangeProvider_classCallCheck(this,IndentRangeProvider);this.editorModel=editorModel;this.languageConfigurationService=languageConfigurationService;this.maxFoldingRegions=maxFoldingRegions;this.id=ID_INDENT_PROVIDER;}indentRangeProvider_createClass(IndentRangeProvider,[{key:"dispose",value:function dispose(){}},{key:"compute",value:function compute(cancelationToken,notifyTooManyRegions){var foldingRules=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;var offSide=foldingRules&&!!foldingRules.offSide;var markers=foldingRules&&foldingRules.markers;return Promise.resolve(computeRanges(this.editorModel,offSide,markers,this.maxFoldingRegions,notifyTooManyRegions));}}]);return IndentRangeProvider;}();// public only for testing
var RangesCollector=/*#__PURE__*/function(){function RangesCollector(foldingRangesLimit,_notifyTooManyRegions){indentRangeProvider_classCallCheck(this,RangesCollector);this._notifyTooManyRegions=_notifyTooManyRegions;this._startIndexes=[];this._endIndexes=[];this._indentOccurrences=[];this._length=0;this._foldingRangesLimit=foldingRangesLimit;}indentRangeProvider_createClass(RangesCollector,[{key:"insertFirst",value:function insertFirst(startLineNumber,endLineNumber,indent){if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER){return;}var index=this._length;this._startIndexes[index]=startLineNumber;this._endIndexes[index]=endLineNumber;this._length++;if(indent<1000){this._indentOccurrences[indent]=(this._indentOccurrences[indent]||0)+1;}}},{key:"toIndentRanges",value:function toIndentRanges(model){if(this._length<=this._foldingRangesLimit){// reverse and create arrays of the exact length
var startIndexes=new Uint32Array(this._length);var endIndexes=new Uint32Array(this._length);for(var i=this._length-1,k=0;i>=0;i--,k++){startIndexes[k]=this._startIndexes[i];endIndexes[k]=this._endIndexes[i];}return new FoldingRegions(startIndexes,endIndexes);}else{if(this._notifyTooManyRegions){this._notifyTooManyRegions(this._foldingRangesLimit);}var entries=0;var maxIndent=this._indentOccurrences.length;for(var _i=0;_i<this._indentOccurrences.length;_i++){var n=this._indentOccurrences[_i];if(n){if(n+entries>this._foldingRangesLimit){maxIndent=_i;break;}entries+=n;}}var tabSize=model.getOptions().tabSize;// reverse and create arrays of the exact length
var _startIndexes=new Uint32Array(this._foldingRangesLimit);var _endIndexes=new Uint32Array(this._foldingRangesLimit);for(var _i2=this._length-1,_k=0;_i2>=0;_i2--){var startIndex=this._startIndexes[_i2];var lineContent=model.getLineContent(startIndex);var indent=(0,utils/* computeIndentLevel */.q)(lineContent,tabSize);if(indent<maxIndent||indent===maxIndent&&entries++<this._foldingRangesLimit){_startIndexes[_k]=startIndex;_endIndexes[_k]=this._endIndexes[_i2];_k++;}}return new FoldingRegions(_startIndexes,_endIndexes);}}}]);return RangesCollector;}();function computeRanges(model,offSide,markers,foldingRangesLimit,notifyTooManyRegions){var tabSize=model.getOptions().tabSize;foldingRangesLimit=foldingRangesLimit!==null&&foldingRangesLimit!==void 0?foldingRangesLimit:MAX_FOLDING_REGIONS_FOR_INDENT_DEFAULT;var result=new RangesCollector(foldingRangesLimit,notifyTooManyRegions);var pattern=undefined;if(markers){pattern=new RegExp("(".concat(markers.start.source,")|(?:").concat(markers.end.source,")"));}var previousRegions=[];var line=model.getLineCount()+1;previousRegions.push({indent:-1,endAbove:line,line:line});// sentinel, to make sure there's at least one entry
for(var _line=model.getLineCount();_line>0;_line--){var lineContent=model.getLineContent(_line);var indent=(0,utils/* computeIndentLevel */.q)(lineContent,tabSize);var previous=previousRegions[previousRegions.length-1];if(indent===-1){if(offSide){// for offSide languages, empty lines are associated to the previous block
// note: the next block is already written to the results, so this only
// impacts the end position of the block before
previous.endAbove=_line;}continue;// only whitespace
}var m=void 0;if(pattern&&(m=lineContent.match(pattern))){// folding pattern match
if(m[1]){// start pattern match
// discard all regions until the folding pattern
var i=previousRegions.length-1;while(i>0&&previousRegions[i].indent!==-2){i--;}if(i>0){previousRegions.length=i+1;previous=previousRegions[i];// new folding range from pattern, includes the end line
result.insertFirst(_line,previous.line,indent);previous.line=_line;previous.indent=indent;previous.endAbove=_line;continue;}else{// no end marker found, treat line as a regular line
}}else{// end pattern match
previousRegions.push({indent:-2,endAbove:_line,line:_line});continue;}}if(previous.indent>indent){// discard all regions with larger indent
do{previousRegions.pop();previous=previousRegions[previousRegions.length-1];}while(previous.indent>indent);// new folding range
var endLineNumber=previous.endAbove-1;if(endLineNumber-_line>=1){// needs at east size 1
result.insertFirst(_line,endLineNumber,indent);}}if(previous.indent===indent){previous.endAbove=_line;}else{// previous.indent < indent
// new region with a bigger indent
previousRegions.push({indent:indent,endAbove:_line,line:_line});}}return result.toIndentRanges(model);}
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/syntaxRangeProvider.js
function syntaxRangeProvider_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=syntaxRangeProvider_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function syntaxRangeProvider_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return syntaxRangeProvider_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return syntaxRangeProvider_arrayLikeToArray(o,minLen);}function syntaxRangeProvider_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function syntaxRangeProvider_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function syntaxRangeProvider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function syntaxRangeProvider_createClass(Constructor,protoProps,staticProps){if(protoProps)syntaxRangeProvider_defineProperties(Constructor.prototype,protoProps);if(staticProps)syntaxRangeProvider_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var foldingContext={};var ID_SYNTAX_PROVIDER='syntax';var SyntaxRangeProvider=/*#__PURE__*/function(){function SyntaxRangeProvider(editorModel,providers,handleFoldingRangesChange,limit){syntaxRangeProvider_classCallCheck(this,SyntaxRangeProvider);this.editorModel=editorModel;this.providers=providers;this.limit=limit;this.id=ID_SYNTAX_PROVIDER;var _iterator=syntaxRangeProvider_createForOfIteratorHelper(providers),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var provider=_step.value;if(typeof provider.onDidChange==='function'){if(!this.disposables){this.disposables=new lifecycle/* DisposableStore */.SL();}this.disposables.add(provider.onDidChange(handleFoldingRangesChange));}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}syntaxRangeProvider_createClass(SyntaxRangeProvider,[{key:"compute",value:function compute(cancellationToken,notifyTooManyRegions){var _this=this;return collectSyntaxRanges(this.providers,this.editorModel,cancellationToken).then(function(ranges){if(ranges){var res=sanitizeRanges(ranges,_this.limit,notifyTooManyRegions);return res;}return null;});}},{key:"dispose",value:function dispose(){var _a;(_a=this.disposables)===null||_a===void 0?void 0:_a.dispose();}}]);return SyntaxRangeProvider;}();function collectSyntaxRanges(providers,model,cancellationToken){var rangeData=null;var promises=providers.map(function(provider,i){return Promise.resolve(provider.provideFoldingRanges(model,foldingContext,cancellationToken)).then(function(ranges){if(cancellationToken.isCancellationRequested){return;}if(Array.isArray(ranges)){if(!Array.isArray(rangeData)){rangeData=[];}var nLines=model.getLineCount();var _iterator2=syntaxRangeProvider_createForOfIteratorHelper(ranges),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var r=_step2.value;if(r.start>0&&r.end>r.start&&r.end<=nLines){rangeData.push({start:r.start,end:r.end,rank:i,kind:r.kind});}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}},errors/* onUnexpectedExternalError */.Cp);});return Promise.all(promises).then(function(_){return rangeData;});}var syntaxRangeProvider_RangesCollector=/*#__PURE__*/function(){function RangesCollector(foldingRangesLimit,_notifyTooManyRegions){syntaxRangeProvider_classCallCheck(this,RangesCollector);this._notifyTooManyRegions=_notifyTooManyRegions;this._startIndexes=[];this._endIndexes=[];this._nestingLevels=[];this._nestingLevelCounts=[];this._types=[];this._length=0;this._foldingRangesLimit=foldingRangesLimit;}syntaxRangeProvider_createClass(RangesCollector,[{key:"add",value:function add(startLineNumber,endLineNumber,type,nestingLevel){if(startLineNumber>MAX_LINE_NUMBER||endLineNumber>MAX_LINE_NUMBER){return;}var index=this._length;this._startIndexes[index]=startLineNumber;this._endIndexes[index]=endLineNumber;this._nestingLevels[index]=nestingLevel;this._types[index]=type;this._length++;if(nestingLevel<30){this._nestingLevelCounts[nestingLevel]=(this._nestingLevelCounts[nestingLevel]||0)+1;}}},{key:"toIndentRanges",value:function toIndentRanges(){if(this._length<=this._foldingRangesLimit){var startIndexes=new Uint32Array(this._length);var endIndexes=new Uint32Array(this._length);for(var i=0;i<this._length;i++){startIndexes[i]=this._startIndexes[i];endIndexes[i]=this._endIndexes[i];}return new FoldingRegions(startIndexes,endIndexes,this._types);}else{if(this._notifyTooManyRegions){this._notifyTooManyRegions(this._foldingRangesLimit);}var entries=0;var maxLevel=this._nestingLevelCounts.length;for(var _i=0;_i<this._nestingLevelCounts.length;_i++){var n=this._nestingLevelCounts[_i];if(n){if(n+entries>this._foldingRangesLimit){maxLevel=_i;break;}entries+=n;}}var _startIndexes=new Uint32Array(this._foldingRangesLimit);var _endIndexes=new Uint32Array(this._foldingRangesLimit);var types=[];for(var _i2=0,k=0;_i2<this._length;_i2++){var level=this._nestingLevels[_i2];if(level<maxLevel||level===maxLevel&&entries++<this._foldingRangesLimit){_startIndexes[k]=this._startIndexes[_i2];_endIndexes[k]=this._endIndexes[_i2];types[k]=this._types[_i2];k++;}}return new FoldingRegions(_startIndexes,_endIndexes,types);}}}]);return RangesCollector;}();function sanitizeRanges(rangeData,limit,notifyTooManyRegions){var sorted=rangeData.sort(function(d1,d2){var diff=d1.start-d2.start;if(diff===0){diff=d1.rank-d2.rank;}return diff;});var collector=new syntaxRangeProvider_RangesCollector(limit,notifyTooManyRegions);var top=undefined;var previous=[];var _iterator3=syntaxRangeProvider_createForOfIteratorHelper(sorted),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var entry=_step3.value;if(!top){top=entry;collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);}else{if(entry.start>top.start){if(entry.end<=top.end){previous.push(top);top=entry;collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);}else{if(entry.start>top.end){do{top=previous.pop();}while(top&&entry.start>top.end);if(top){previous.push(top);}top=entry;}collector.add(entry.start,entry.end,entry.kind&&entry.kind.value,previous.length);}}}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return collector.toIndentRanges();}
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/intializingRangeProvider.js
function intializingRangeProvider_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=intializingRangeProvider_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function intializingRangeProvider_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return intializingRangeProvider_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return intializingRangeProvider_arrayLikeToArray(o,minLen);}function intializingRangeProvider_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function intializingRangeProvider_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function intializingRangeProvider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function intializingRangeProvider_createClass(Constructor,protoProps,staticProps){if(protoProps)intializingRangeProvider_defineProperties(Constructor.prototype,protoProps);if(staticProps)intializingRangeProvider_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ID_INIT_PROVIDER='init';var InitializingRangeProvider=/*#__PURE__*/function(){function InitializingRangeProvider(editorModel,initialRanges,onTimeout,timeoutTime){intializingRangeProvider_classCallCheck(this,InitializingRangeProvider);this.editorModel=editorModel;this.id=ID_INIT_PROVIDER;if(initialRanges.length){var toDecorationRange=function toDecorationRange(range){return{range:{startLineNumber:range.startLineNumber,startColumn:0,endLineNumber:range.endLineNumber,endColumn:editorModel.getLineLength(range.endLineNumber)},options:{description:'folding-initializing-range-provider',stickiness:1/* NeverGrowsWhenTypingAtEdges */}};};this.decorationIds=editorModel.deltaDecorations([],initialRanges.map(toDecorationRange));this.timeout=setTimeout(onTimeout,timeoutTime);}}intializingRangeProvider_createClass(InitializingRangeProvider,[{key:"dispose",value:function dispose(){if(this.decorationIds){this.editorModel.deltaDecorations(this.decorationIds,[]);this.decorationIds=undefined;}if(typeof this.timeout==='number'){clearTimeout(this.timeout);this.timeout=undefined;}}},{key:"compute",value:function compute(cancelationToken){var foldingRangeData=[];if(this.decorationIds){var _iterator=intializingRangeProvider_createForOfIteratorHelper(this.decorationIds),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var id=_step.value;var range=this.editorModel.getDecorationRange(id);if(range){foldingRangeData.push({start:range.startLineNumber,end:range.endLineNumber,rank:1});}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return Promise.resolve(sanitizeRanges(foldingRangeData,Number.MAX_VALUE));}}]);return InitializingRangeProvider;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js
var colorRegistry = __webpack_require__(25530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/codicons.js
var codicons = __webpack_require__(62202);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/iconRegistry.js
var iconRegistry = __webpack_require__(57232);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/foldingDecorations.js
function foldingDecorations_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function foldingDecorations_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function foldingDecorations_createClass(Constructor,protoProps,staticProps){if(protoProps)foldingDecorations_defineProperties(Constructor.prototype,protoProps);if(staticProps)foldingDecorations_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var foldingExpandedIcon=(0,iconRegistry/* registerIcon */.q5)('folding-expanded',codicons/* Codicon.chevronDown */.lA.chevronDown,(0,nls/* localize */.N)('foldingExpandedIcon','Icon for expanded ranges in the editor glyph margin.'));var foldingCollapsedIcon=(0,iconRegistry/* registerIcon */.q5)('folding-collapsed',codicons/* Codicon.chevronRight */.lA.chevronRight,(0,nls/* localize */.N)('foldingCollapsedIcon','Icon for collapsed ranges in the editor glyph margin.'));var FoldingDecorationProvider=/*#__PURE__*/function(){function FoldingDecorationProvider(editor){foldingDecorations_classCallCheck(this,FoldingDecorationProvider);this.editor=editor;this.autoHideFoldingControls=true;this.showFoldingHighlights=true;}foldingDecorations_createClass(FoldingDecorationProvider,[{key:"getDecorationOption",value:function getDecorationOption(isCollapsed,isHidden){if(isHidden){return FoldingDecorationProvider.HIDDEN_RANGE_DECORATION;}if(isCollapsed){return this.showFoldingHighlights?FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION;}else if(this.autoHideFoldingControls){return FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;}else{return FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION;}}},{key:"deltaDecorations",value:function deltaDecorations(oldDecorations,newDecorations){return this.editor.deltaDecorations(oldDecorations,newDecorations);}},{key:"changeDecorations",value:function changeDecorations(callback){return this.editor.changeDecorations(callback);}}]);return FoldingDecorationProvider;}();FoldingDecorationProvider.COLLAPSED_VISUAL_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'folding-collapsed-visual-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */,afterContentClassName:'inline-folded',isWholeLine:true,firstLineDecorationClassName:themeService/* ThemeIcon.asClassName */.kS.asClassName(foldingCollapsedIcon)});FoldingDecorationProvider.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'folding-collapsed-highlighted-visual-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */,afterContentClassName:'inline-folded',className:'folded-background',isWholeLine:true,firstLineDecorationClassName:themeService/* ThemeIcon.asClassName */.kS.asClassName(foldingCollapsedIcon)});FoldingDecorationProvider.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'folding-expanded-auto-hide-visual-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */,isWholeLine:true,firstLineDecorationClassName:themeService/* ThemeIcon.asClassName */.kS.asClassName(foldingExpandedIcon)});FoldingDecorationProvider.EXPANDED_VISUAL_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'folding-expanded-visual-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */,isWholeLine:true,firstLineDecorationClassName:'alwaysShowFoldIcons '+themeService/* ThemeIcon.asClassName */.kS.asClassName(foldingExpandedIcon)});FoldingDecorationProvider.HIDDEN_RANGE_DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'folding-hidden-range-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */});
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js
var notification = __webpack_require__(73766);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/severity.js
var severity = __webpack_require__(72382);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js
var languageFeatureDebounce = __webpack_require__(9585);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/stopwatch.js
var stopwatch = __webpack_require__(76660);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/folding/browser/folding.js
function folding_toConsumableArray(arr){return folding_arrayWithoutHoles(arr)||folding_iterableToArray(arr)||folding_unsupportedIterableToArray(arr)||folding_nonIterableSpread();}function folding_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function folding_iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function folding_arrayWithoutHoles(arr){if(Array.isArray(arr))return folding_arrayLikeToArray(arr);}function folding_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=folding_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function folding_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return folding_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return folding_arrayLikeToArray(o,minLen);}function folding_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function folding_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function folding_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function folding_createClass(Constructor,protoProps,staticProps){if(protoProps)folding_defineProperties(Constructor.prototype,protoProps);if(staticProps)folding_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var CONTEXT_FOLDING_ENABLED=new contextkey/* RawContextKey */.uy('foldingEnabled',false);var FoldingController=/*#__PURE__*/function(_Disposable){_inherits(FoldingController,_Disposable);var _super=_createSuper(FoldingController);function FoldingController(editor,contextKeyService,languageConfigurationService,notificationService,languageFeatureDebounceService){var _this;folding_classCallCheck(this,FoldingController);_this=_super.call(this);_this.contextKeyService=contextKeyService;_this.languageConfigurationService=languageConfigurationService;_this._tooManyRegionsNotified=false;_this.localToDispose=_this._register(new lifecycle/* DisposableStore */.SL());_this.editor=editor;var options=_this.editor.getOptions();_this._isEnabled=options.get(37/* folding */);_this._useFoldingProviders=options.get(38/* foldingStrategy */)!=='indentation';_this._unfoldOnClickAfterEndOfLine=options.get(42/* unfoldOnClickAfterEndOfLine */);_this._restoringViewState=false;_this._currentModelHasFoldedImports=false;_this._foldingImportsByDefault=options.get(40/* foldingImportsByDefault */);_this._maxFoldingRegions=options.get(41/* foldingMaximumRegions */);_this.updateDebounceInfo=languageFeatureDebounceService.for(languages/* FoldingRangeProviderRegistry */.aC,'Folding',{min:200});_this.foldingModel=null;_this.hiddenRangeModel=null;_this.rangeProvider=null;_this.foldingRegionPromise=null;_this.foldingStateMemento=null;_this.foldingModelPromise=null;_this.updateScheduler=null;_this.cursorChangedScheduler=null;_this.mouseDownInfo=null;_this.foldingDecorationProvider=new FoldingDecorationProvider(editor);_this.foldingDecorationProvider.autoHideFoldingControls=options.get(99/* showFoldingControls */)==='mouseover';_this.foldingDecorationProvider.showFoldingHighlights=options.get(39/* foldingHighlight */);_this.foldingEnabled=CONTEXT_FOLDING_ENABLED.bindTo(_this.contextKeyService);_this.foldingEnabled.set(_this._isEnabled);_this._notifyTooManyRegions=function(maxFoldingRegions){// Message will display once per time vscode runs. Once per file would be tricky.
if(!_this._tooManyRegionsNotified){notificationService.notify({severity:severity/* default.Warning */.Z.Warning,sticky:true,message:nls/* localize */.N('maximum fold ranges',"The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",maxFoldingRegions)});_this._tooManyRegionsNotified=true;}};_this._register(_this.editor.onDidChangeModel(function(){return _this.onModelChanged();}));_this._register(_this.editor.onDidChangeConfiguration(function(e){if(e.hasChanged(37/* folding */)){_this._isEnabled=_this.editor.getOptions().get(37/* folding */);_this.foldingEnabled.set(_this._isEnabled);_this.onModelChanged();}if(e.hasChanged(41/* foldingMaximumRegions */)){_this._maxFoldingRegions=_this.editor.getOptions().get(41/* foldingMaximumRegions */);_this._tooManyRegionsNotified=false;_this.onModelChanged();}if(e.hasChanged(99/* showFoldingControls */)||e.hasChanged(39/* foldingHighlight */)){var _options=_this.editor.getOptions();_this.foldingDecorationProvider.autoHideFoldingControls=_options.get(99/* showFoldingControls */)==='mouseover';_this.foldingDecorationProvider.showFoldingHighlights=_options.get(39/* foldingHighlight */);_this.triggerFoldingModelChanged();}if(e.hasChanged(38/* foldingStrategy */)){_this._useFoldingProviders=_this.editor.getOptions().get(38/* foldingStrategy */)!=='indentation';_this.onFoldingStrategyChanged();}if(e.hasChanged(42/* unfoldOnClickAfterEndOfLine */)){_this._unfoldOnClickAfterEndOfLine=_this.editor.getOptions().get(42/* unfoldOnClickAfterEndOfLine */);}if(e.hasChanged(40/* foldingImportsByDefault */)){_this._foldingImportsByDefault=_this.editor.getOptions().get(40/* foldingImportsByDefault */);}}));_this.onModelChanged();return _this;}folding_createClass(FoldingController,[{key:"saveViewState",value:/**
     * Store view state.
     */function saveViewState(){var model=this.editor.getModel();if(!model||!this._isEnabled||model.isTooLargeForTokenization()){return{};}if(this.foldingModel){// disposed ?
var collapsedRegions=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento();var provider=this.rangeProvider?this.rangeProvider.id:undefined;return{collapsedRegions:collapsedRegions,lineCount:model.getLineCount(),provider:provider,foldedImports:this._currentModelHasFoldedImports};}return undefined;}/**
     * Restore view state.
     */},{key:"restoreViewState",value:function restoreViewState(state){var _this2=this;var model=this.editor.getModel();if(!model||!this._isEnabled||model.isTooLargeForTokenization()||!this.hiddenRangeModel){return;}if(!state||state.lineCount!==model.getLineCount()){return;}this._currentModelHasFoldedImports=!!state.foldedImports;if(!state.collapsedRegions){return;}if(state.provider===ID_SYNTAX_PROVIDER||state.provider===ID_INIT_PROVIDER){this.foldingStateMemento=state;}var collapsedRegions=state.collapsedRegions;// set the hidden ranges right away, before waiting for the folding model.
if(this.hiddenRangeModel.applyMemento(collapsedRegions)){var foldingModel=this.getFoldingModel();if(foldingModel){foldingModel.then(function(foldingModel){if(foldingModel){_this2._restoringViewState=true;try{foldingModel.applyMemento(collapsedRegions);}finally{_this2._restoringViewState=false;}}}).then(undefined,errors/* onUnexpectedError */.dL);}}}},{key:"onModelChanged",value:function onModelChanged(){var _this3=this;this.localToDispose.clear();var model=this.editor.getModel();if(!this._isEnabled||!model||model.isTooLargeForTokenization()){// huge files get no view model, so they cannot support hidden areas
return;}this._currentModelHasFoldedImports=false;this.foldingModel=new FoldingModel(model,this.foldingDecorationProvider);this.localToDispose.add(this.foldingModel);this.hiddenRangeModel=new HiddenRangeModel(this.foldingModel);this.localToDispose.add(this.hiddenRangeModel);this.localToDispose.add(this.hiddenRangeModel.onDidChange(function(hr){return _this3.onHiddenRangesChanges(hr);}));this.updateScheduler=new common_async/* Delayer */.vp(this.updateDebounceInfo.get(model));this.cursorChangedScheduler=new common_async/* RunOnceScheduler */.pY(function(){return _this3.revealCursor();},200);this.localToDispose.add(this.cursorChangedScheduler);this.localToDispose.add(languages/* FoldingRangeProviderRegistry.onDidChange */.aC.onDidChange(function(){return _this3.onFoldingStrategyChanged();}));this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(function(){return _this3.onFoldingStrategyChanged();}));// covers model language changes as well
this.localToDispose.add(this.editor.onDidChangeModelContent(function(e){return _this3.onDidChangeModelContent(e);}));this.localToDispose.add(this.editor.onDidChangeCursorPosition(function(){return _this3.onCursorPositionChanged();}));this.localToDispose.add(this.editor.onMouseDown(function(e){return _this3.onEditorMouseDown(e);}));this.localToDispose.add(this.editor.onMouseUp(function(e){return _this3.onEditorMouseUp(e);}));this.localToDispose.add({dispose:function dispose(){if(_this3.foldingRegionPromise){_this3.foldingRegionPromise.cancel();_this3.foldingRegionPromise=null;}if(_this3.updateScheduler){_this3.updateScheduler.cancel();}_this3.updateScheduler=null;_this3.foldingModel=null;_this3.foldingModelPromise=null;_this3.hiddenRangeModel=null;_this3.cursorChangedScheduler=null;_this3.foldingStateMemento=null;if(_this3.rangeProvider){_this3.rangeProvider.dispose();}_this3.rangeProvider=null;}});this.triggerFoldingModelChanged();}},{key:"onFoldingStrategyChanged",value:function onFoldingStrategyChanged(){if(this.rangeProvider){this.rangeProvider.dispose();}this.rangeProvider=null;this.triggerFoldingModelChanged();}},{key:"getRangeProvider",value:function getRangeProvider(editorModel){var _this4=this;if(this.rangeProvider){return this.rangeProvider;}this.rangeProvider=new IndentRangeProvider(editorModel,this.languageConfigurationService,this._maxFoldingRegions);// fallback
if(this._useFoldingProviders&&this.foldingModel){var foldingProviders=languages/* FoldingRangeProviderRegistry.ordered */.aC.ordered(this.foldingModel.textModel);if(foldingProviders.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var rangeProvider=this.rangeProvider=new InitializingRangeProvider(editorModel,this.foldingStateMemento.collapsedRegions,function(){// if after 30 the InitializingRangeProvider is still not replaced, force a refresh
_this4.foldingStateMemento=null;_this4.onFoldingStrategyChanged();},30000);return rangeProvider;// keep memento in case there are still no foldingProviders on the next request.
}else if(foldingProviders.length>0){this.rangeProvider=new SyntaxRangeProvider(editorModel,foldingProviders,function(){return _this4.triggerFoldingModelChanged();},this._maxFoldingRegions);}}this.foldingStateMemento=null;return this.rangeProvider;}},{key:"getFoldingModel",value:function getFoldingModel(){return this.foldingModelPromise;}},{key:"onDidChangeModelContent",value:function onDidChangeModelContent(e){var _a;(_a=this.hiddenRangeModel)===null||_a===void 0?void 0:_a.notifyChangeModelContent(e);this.triggerFoldingModelChanged();}},{key:"triggerFoldingModelChanged",value:function triggerFoldingModelChanged(){var _this5=this;if(this.updateScheduler){if(this.foldingRegionPromise){this.foldingRegionPromise.cancel();this.foldingRegionPromise=null;}this.foldingModelPromise=this.updateScheduler.trigger(function(){var foldingModel=_this5.foldingModel;if(!foldingModel){// null if editor has been disposed, or folding turned off
return null;}var sw=new stopwatch/* StopWatch */.G(true);var provider=_this5.getRangeProvider(foldingModel.textModel);var foldingRegionPromise=_this5.foldingRegionPromise=(0,common_async/* createCancelablePromise */.PG)(function(token){return provider.compute(token,_this5._notifyTooManyRegions);});return foldingRegionPromise.then(function(foldingRanges){if(foldingRanges&&foldingRegionPromise===_this5.foldingRegionPromise){// new request or cancelled in the meantime?
var scrollState;if(_this5._foldingImportsByDefault&&!_this5._currentModelHasFoldedImports){var hasChanges=foldingRanges.setCollapsedAllOfType(languages/* FoldingRangeKind.Imports.value */.AD.Imports.value,true);if(hasChanges){scrollState=stableEditorScroll/* StableEditorScrollState.capture */.Z.capture(_this5.editor);_this5._currentModelHasFoldedImports=hasChanges;}}// some cursors might have moved into hidden regions, make sure they are in expanded regions
var selections=_this5.editor.getSelections();var selectionLineNumbers=selections?selections.map(function(s){return s.startLineNumber;}):[];foldingModel.update(foldingRanges,selectionLineNumbers);if(scrollState){scrollState.restore(_this5.editor);}// update debounce info
var newValue=_this5.updateDebounceInfo.update(foldingModel.textModel,sw.elapsed());if(_this5.updateScheduler){_this5.updateScheduler.defaultDelay=newValue;}}return foldingModel;});}).then(undefined,function(err){(0,errors/* onUnexpectedError */.dL)(err);return null;});}}},{key:"onHiddenRangesChanges",value:function onHiddenRangesChanges(hiddenRanges){if(this.hiddenRangeModel&&hiddenRanges.length&&!this._restoringViewState){var selections=this.editor.getSelections();if(selections){if(this.hiddenRangeModel.adjustSelections(selections)){this.editor.setSelections(selections);}}}this.editor.setHiddenAreas(hiddenRanges);}},{key:"onCursorPositionChanged",value:function onCursorPositionChanged(){if(this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()){this.cursorChangedScheduler.schedule();}}},{key:"revealCursor",value:function revealCursor(){var _this6=this;var foldingModel=this.getFoldingModel();if(!foldingModel){return;}foldingModel.then(function(foldingModel){if(foldingModel){var selections=_this6.editor.getSelections();if(selections&&selections.length>0){var toToggle=[];var _iterator=folding_createForOfIteratorHelper(selections),_step;try{var _loop=function _loop(){var selection=_step.value;var lineNumber=selection.selectionStartLineNumber;if(_this6.hiddenRangeModel&&_this6.hiddenRangeModel.isHidden(lineNumber)){toToggle.push.apply(toToggle,folding_toConsumableArray(foldingModel.getAllRegionsAtLine(lineNumber,function(r){return r.isCollapsed&&lineNumber>r.startLineNumber;})));}};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(toToggle.length){foldingModel.toggleCollapseState(toToggle);_this6.reveal(selections[0].getPosition());}}}}).then(undefined,errors/* onUnexpectedError */.dL);}},{key:"onEditorMouseDown",value:function onEditorMouseDown(e){this.mouseDownInfo=null;if(!this.hiddenRangeModel||!e.target||!e.target.range){return;}if(!e.event.leftButton&&!e.event.middleButton){return;}var range=e.target.range;var iconClicked=false;switch(e.target.type){case 4/* GUTTER_LINE_DECORATIONS */:{var data=e.target.detail;var offsetLeftInGutter=e.target.element.offsetLeft;var gutterOffsetX=data.offsetX-offsetLeftInGutter;// const gutterOffsetX = data.offsetX - data.glyphMarginWidth - data.lineNumbersWidth - data.glyphMarginLeft;
// TODO@joao TODO@alex TODO@martin this is such that we don't collide with dirty diff
if(gutterOffsetX<5){// the whitespace between the border and the real folding icon border is 5px
return;}iconClicked=true;break;}case 7/* CONTENT_EMPTY */:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){var _data=e.target.detail;if(!_data.isAfterLines){break;}}return;}case 6/* CONTENT_TEXT */:{if(this.hiddenRangeModel.hasRanges()){var model=this.editor.getModel();if(model&&range.startColumn===model.getLineMaxColumn(range.startLineNumber)){break;}}return;}default:return;}this.mouseDownInfo={lineNumber:range.startLineNumber,iconClicked:iconClicked};}},{key:"onEditorMouseUp",value:function onEditorMouseUp(e){var _this7=this;var foldingModel=this.getFoldingModel();if(!foldingModel||!this.mouseDownInfo||!e.target){return;}var lineNumber=this.mouseDownInfo.lineNumber;var iconClicked=this.mouseDownInfo.iconClicked;var range=e.target.range;if(!range||range.startLineNumber!==lineNumber){return;}if(iconClicked){if(e.target.type!==4/* GUTTER_LINE_DECORATIONS */){return;}}else{var model=this.editor.getModel();if(!model||range.startColumn!==model.getLineMaxColumn(lineNumber)){return;}}foldingModel.then(function(foldingModel){if(foldingModel){var region=foldingModel.getRegionAtLine(lineNumber);if(region&&region.startLineNumber===lineNumber){var isCollapsed=region.isCollapsed;if(iconClicked||isCollapsed){var surrounding=e.event.altKey;var toToggle=[];if(surrounding){var filter=function filter(otherRegion){return!otherRegion.containedBy(region)&&!region.containedBy(otherRegion);};var toMaybeToggle=foldingModel.getRegionsInside(null,filter);var _iterator2=folding_createForOfIteratorHelper(toMaybeToggle),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var r=_step2.value;if(r.isCollapsed){toToggle.push(r);}}// if any surrounding regions are folded, unfold those. Otherwise, fold all surrounding
}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(toToggle.length===0){toToggle=toMaybeToggle;}}else{var recursive=e.event.middleButton||e.event.shiftKey;if(recursive){var _iterator3=folding_createForOfIteratorHelper(foldingModel.getRegionsInside(region)),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _r=_step3.value;if(_r.isCollapsed===isCollapsed){toToggle.push(_r);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}// when recursive, first only collapse all children. If all are already folded or there are no children, also fold parent.
if(isCollapsed||!recursive||toToggle.length===0){toToggle.push(region);}}foldingModel.toggleCollapseState(toToggle);_this7.reveal({lineNumber:lineNumber,column:1});}}}}).then(undefined,errors/* onUnexpectedError */.dL);}},{key:"reveal",value:function reveal(position){this.editor.revealPositionInCenterIfOutsideViewport(position,0/* Smooth */);}}],[{key:"get",value:function get(editor){return editor.getContribution(FoldingController.ID);}}]);return FoldingController;}(lifecycle/* Disposable */.JT);FoldingController.ID='editor.contrib.folding';FoldingController=__decorate([__param(1,contextkey/* IContextKeyService */.i6),__param(2,languageConfigurationRegistry/* ILanguageConfigurationService */.c_),__param(3,notification/* INotificationService */.lT),__param(4,languageFeatureDebounce/* ILanguageFeatureDebounceService */.A)],FoldingController);var FoldingAction=/*#__PURE__*/function(_EditorAction){_inherits(FoldingAction,_EditorAction);var _super2=_createSuper(FoldingAction);function FoldingAction(){folding_classCallCheck(this,FoldingAction);return _super2.apply(this,arguments);}folding_createClass(FoldingAction,[{key:"runEditorCommand",value:function runEditorCommand(accessor,editor,args){var _this8=this;var languageConfigurationService=accessor.get(languageConfigurationRegistry/* ILanguageConfigurationService */.c_);var foldingController=FoldingController.get(editor);if(!foldingController){return;}var foldingModelPromise=foldingController.getFoldingModel();if(foldingModelPromise){this.reportTelemetry(accessor,editor);return foldingModelPromise.then(function(foldingModel){if(foldingModel){_this8.invoke(foldingController,foldingModel,editor,args,languageConfigurationService);var selection=editor.getSelection();if(selection){foldingController.reveal(selection.getStartPosition());}}});}}},{key:"getSelectedLines",value:function getSelectedLines(editor){var selections=editor.getSelections();return selections?selections.map(function(s){return s.startLineNumber;}):[];}},{key:"getLineNumbers",value:function getLineNumbers(args,editor){if(args&&args.selectionLines){return args.selectionLines.map(function(l){return l+1;});// to 0-bases line numbers
}return this.getSelectedLines(editor);}},{key:"run",value:function run(_accessor,_editor){}}]);return FoldingAction;}(editorExtensions/* EditorAction */.R6);function foldingArgumentsConstraint(args){if(!types/* isUndefined */.o8(args)){if(!types/* isObject */.Kn(args)){return false;}var foldingArgs=args;if(!types/* isUndefined */.o8(foldingArgs.levels)&&!types/* isNumber */.hj(foldingArgs.levels)){return false;}if(!types/* isUndefined */.o8(foldingArgs.direction)&&!types/* isString */.HD(foldingArgs.direction)){return false;}if(!types/* isUndefined */.o8(foldingArgs.selectionLines)&&(!types/* isArray */.kJ(foldingArgs.selectionLines)||!foldingArgs.selectionLines.every(types/* isNumber */.hj))){return false;}}return true;}var UnfoldAction=/*#__PURE__*/function(_FoldingAction){_inherits(UnfoldAction,_FoldingAction);var _super3=_createSuper(UnfoldAction);function UnfoldAction(){folding_classCallCheck(this,UnfoldAction);return _super3.call(this,{id:'editor.unfold',label:nls/* localize */.N('unfoldAction.label',"Unfold"),alias:'Unfold',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|89/* BracketRight */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|89/* BracketRight */},weight:100/* EditorContrib */},description:{description:'Unfold the content in the editor',args:[{name:'Unfold editor argument',description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:foldingArgumentsConstraint,schema:{'type':'object','properties':{'levels':{'type':'number','default':1},'direction':{'type':'string','enum':['up','down'],'default':'down'},'selectionLines':{'type':'array','items':{'type':'number'}}}}}]}});}folding_createClass(UnfoldAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor,args){var levels=args&&args.levels||1;var lineNumbers=this.getLineNumbers(args,editor);if(args&&args.direction==='up'){setCollapseStateLevelsUp(foldingModel,false,levels,lineNumbers);}else{setCollapseStateLevelsDown(foldingModel,false,levels,lineNumbers);}}}]);return UnfoldAction;}(FoldingAction);var UnFoldRecursivelyAction=/*#__PURE__*/function(_FoldingAction2){_inherits(UnFoldRecursivelyAction,_FoldingAction2);var _super4=_createSuper(UnFoldRecursivelyAction);function UnFoldRecursivelyAction(){folding_classCallCheck(this,UnFoldRecursivelyAction);return _super4.call(this,{id:'editor.unfoldRecursively',label:nls/* localize */.N('unFoldRecursivelyAction.label',"Unfold Recursively"),alias:'Unfold Recursively',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|89/* BracketRight */),weight:100/* EditorContrib */}});}folding_createClass(UnFoldRecursivelyAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor,_args){setCollapseStateLevelsDown(foldingModel,false,Number.MAX_VALUE,this.getSelectedLines(editor));}}]);return UnFoldRecursivelyAction;}(FoldingAction);var FoldAction=/*#__PURE__*/function(_FoldingAction3){_inherits(FoldAction,_FoldingAction3);var _super5=_createSuper(FoldAction);function FoldAction(){folding_classCallCheck(this,FoldAction);return _super5.call(this,{id:'editor.fold',label:nls/* localize */.N('foldAction.label',"Fold"),alias:'Fold',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|87/* BracketLeft */,mac:{primary:2048/* CtrlCmd */|512/* Alt */|87/* BracketLeft */},weight:100/* EditorContrib */},description:{description:'Fold the content in the editor',args:[{name:'Fold editor argument',description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:foldingArgumentsConstraint,schema:{'type':'object','properties':{'levels':{'type':'number'},'direction':{'type':'string','enum':['up','down']},'selectionLines':{'type':'array','items':{'type':'number'}}}}}]}});}folding_createClass(FoldAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor,args){var lineNumbers=this.getLineNumbers(args,editor);var levels=args&&args.levels;var direction=args&&args.direction;if(typeof levels!=='number'&&typeof direction!=='string'){// fold the region at the location or if already collapsed, the first uncollapsed parent instead.
setCollapseStateUp(foldingModel,true,lineNumbers);}else{if(direction==='up'){setCollapseStateLevelsUp(foldingModel,true,levels||1,lineNumbers);}else{setCollapseStateLevelsDown(foldingModel,true,levels||1,lineNumbers);}}}}]);return FoldAction;}(FoldingAction);var ToggleFoldAction=/*#__PURE__*/function(_FoldingAction4){_inherits(ToggleFoldAction,_FoldingAction4);var _super6=_createSuper(ToggleFoldAction);function ToggleFoldAction(){folding_classCallCheck(this,ToggleFoldAction);return _super6.call(this,{id:'editor.toggleFold',label:nls/* localize */.N('toggleFoldAction.label',"Toggle Fold"),alias:'Toggle Fold',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|42/* KeyL */),weight:100/* EditorContrib */}});}folding_createClass(ToggleFoldAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);toggleCollapseState(foldingModel,1,selectedLines);}}]);return ToggleFoldAction;}(FoldingAction);var FoldRecursivelyAction=/*#__PURE__*/function(_FoldingAction5){_inherits(FoldRecursivelyAction,_FoldingAction5);var _super7=_createSuper(FoldRecursivelyAction);function FoldRecursivelyAction(){folding_classCallCheck(this,FoldRecursivelyAction);return _super7.call(this,{id:'editor.foldRecursively',label:nls/* localize */.N('foldRecursivelyAction.label',"Fold Recursively"),alias:'Fold Recursively',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|87/* BracketLeft */),weight:100/* EditorContrib */}});}folding_createClass(FoldRecursivelyAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);setCollapseStateLevelsDown(foldingModel,true,Number.MAX_VALUE,selectedLines);}}]);return FoldRecursivelyAction;}(FoldingAction);var FoldAllBlockCommentsAction=/*#__PURE__*/function(_FoldingAction6){_inherits(FoldAllBlockCommentsAction,_FoldingAction6);var _super8=_createSuper(FoldAllBlockCommentsAction);function FoldAllBlockCommentsAction(){folding_classCallCheck(this,FoldAllBlockCommentsAction);return _super8.call(this,{id:'editor.foldAllBlockComments',label:nls/* localize */.N('foldAllBlockComments.label',"Fold All Block Comments"),alias:'Fold All Block Comments',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|85/* Slash */),weight:100/* EditorContrib */}});}folding_createClass(FoldAllBlockCommentsAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor,args,languageConfigurationService){if(foldingModel.regions.hasTypes()){setCollapseStateForType(foldingModel,languages/* FoldingRangeKind.Comment.value */.AD.Comment.value,true);}else{var editorModel=editor.getModel();if(!editorModel){return;}var comments=languageConfigurationService.getLanguageConfiguration(editorModel.getLanguageId()).comments;if(comments&&comments.blockCommentStartToken){var regExp=new RegExp('^\\s*'+(0,strings/* escapeRegExpCharacters */.ec)(comments.blockCommentStartToken));setCollapseStateForMatchingLines(foldingModel,regExp,true);}}}}]);return FoldAllBlockCommentsAction;}(FoldingAction);var FoldAllRegionsAction=/*#__PURE__*/function(_FoldingAction7){_inherits(FoldAllRegionsAction,_FoldingAction7);var _super9=_createSuper(FoldAllRegionsAction);function FoldAllRegionsAction(){folding_classCallCheck(this,FoldAllRegionsAction);return _super9.call(this,{id:'editor.foldAllMarkerRegions',label:nls/* localize */.N('foldAllMarkerRegions.label',"Fold All Regions"),alias:'Fold All Regions',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|29/* Digit8 */),weight:100/* EditorContrib */}});}folding_createClass(FoldAllRegionsAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor,args,languageConfigurationService){if(foldingModel.regions.hasTypes()){setCollapseStateForType(foldingModel,languages/* FoldingRangeKind.Region.value */.AD.Region.value,true);}else{var editorModel=editor.getModel();if(!editorModel){return;}var foldingRules=languageConfigurationService.getLanguageConfiguration(editorModel.getLanguageId()).foldingRules;if(foldingRules&&foldingRules.markers&&foldingRules.markers.start){var regExp=new RegExp(foldingRules.markers.start);setCollapseStateForMatchingLines(foldingModel,regExp,true);}}}}]);return FoldAllRegionsAction;}(FoldingAction);var UnfoldAllRegionsAction=/*#__PURE__*/function(_FoldingAction8){_inherits(UnfoldAllRegionsAction,_FoldingAction8);var _super10=_createSuper(UnfoldAllRegionsAction);function UnfoldAllRegionsAction(){folding_classCallCheck(this,UnfoldAllRegionsAction);return _super10.call(this,{id:'editor.unfoldAllMarkerRegions',label:nls/* localize */.N('unfoldAllMarkerRegions.label',"Unfold All Regions"),alias:'Unfold All Regions',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|30/* Digit9 */),weight:100/* EditorContrib */}});}folding_createClass(UnfoldAllRegionsAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor,args,languageConfigurationService){if(foldingModel.regions.hasTypes()){setCollapseStateForType(foldingModel,languages/* FoldingRangeKind.Region.value */.AD.Region.value,false);}else{var editorModel=editor.getModel();if(!editorModel){return;}var foldingRules=languageConfigurationService.getLanguageConfiguration(editorModel.getLanguageId()).foldingRules;if(foldingRules&&foldingRules.markers&&foldingRules.markers.start){var regExp=new RegExp(foldingRules.markers.start);setCollapseStateForMatchingLines(foldingModel,regExp,false);}}}}]);return UnfoldAllRegionsAction;}(FoldingAction);var FoldAllRegionsExceptAction=/*#__PURE__*/function(_FoldingAction9){_inherits(FoldAllRegionsExceptAction,_FoldingAction9);var _super11=_createSuper(FoldAllRegionsExceptAction);function FoldAllRegionsExceptAction(){folding_classCallCheck(this,FoldAllRegionsExceptAction);return _super11.call(this,{id:'editor.foldAllExcept',label:nls/* localize */.N('foldAllExcept.label',"Fold All Regions Except Selected"),alias:'Fold All Regions Except Selected',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|83/* Minus */),weight:100/* EditorContrib */}});}folding_createClass(FoldAllRegionsExceptAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);setCollapseStateForRest(foldingModel,true,selectedLines);}}]);return FoldAllRegionsExceptAction;}(FoldingAction);var UnfoldAllRegionsExceptAction=/*#__PURE__*/function(_FoldingAction10){_inherits(UnfoldAllRegionsExceptAction,_FoldingAction10);var _super12=_createSuper(UnfoldAllRegionsExceptAction);function UnfoldAllRegionsExceptAction(){folding_classCallCheck(this,UnfoldAllRegionsExceptAction);return _super12.call(this,{id:'editor.unfoldAllExcept',label:nls/* localize */.N('unfoldAllExcept.label',"Unfold All Regions Except Selected"),alias:'Unfold All Regions Except Selected',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|81/* Equal */),weight:100/* EditorContrib */}});}folding_createClass(UnfoldAllRegionsExceptAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);setCollapseStateForRest(foldingModel,false,selectedLines);}}]);return UnfoldAllRegionsExceptAction;}(FoldingAction);var FoldAllAction=/*#__PURE__*/function(_FoldingAction11){_inherits(FoldAllAction,_FoldingAction11);var _super13=_createSuper(FoldAllAction);function FoldAllAction(){folding_classCallCheck(this,FoldAllAction);return _super13.call(this,{id:'editor.foldAll',label:nls/* localize */.N('foldAllAction.label',"Fold All"),alias:'Fold All',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|21/* Digit0 */),weight:100/* EditorContrib */}});}folding_createClass(FoldAllAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,_editor){setCollapseStateLevelsDown(foldingModel,true);}}]);return FoldAllAction;}(FoldingAction);var UnfoldAllAction=/*#__PURE__*/function(_FoldingAction12){_inherits(UnfoldAllAction,_FoldingAction12);var _super14=_createSuper(UnfoldAllAction);function UnfoldAllAction(){folding_classCallCheck(this,UnfoldAllAction);return _super14.call(this,{id:'editor.unfoldAll',label:nls/* localize */.N('unfoldAllAction.label',"Unfold All"),alias:'Unfold All',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|40/* KeyJ */),weight:100/* EditorContrib */}});}folding_createClass(UnfoldAllAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,_editor){setCollapseStateLevelsDown(foldingModel,false);}}]);return UnfoldAllAction;}(FoldingAction);var FoldLevelAction=/*#__PURE__*/function(_FoldingAction13){_inherits(FoldLevelAction,_FoldingAction13);var _super15=_createSuper(FoldLevelAction);function FoldLevelAction(){folding_classCallCheck(this,FoldLevelAction);return _super15.apply(this,arguments);}folding_createClass(FoldLevelAction,[{key:"getFoldingLevel",value:function getFoldingLevel(){return parseInt(this.id.substr(FoldLevelAction.ID_PREFIX.length));}},{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){setCollapseStateAtLevel(foldingModel,this.getFoldingLevel(),true,this.getSelectedLines(editor));}}]);return FoldLevelAction;}(FoldingAction);FoldLevelAction.ID_PREFIX='editor.foldLevel';FoldLevelAction.ID=function(level){return FoldLevelAction.ID_PREFIX+level;};/** Action to go to the parent fold of current line */var GotoParentFoldAction=/*#__PURE__*/function(_FoldingAction14){_inherits(GotoParentFoldAction,_FoldingAction14);var _super16=_createSuper(GotoParentFoldAction);function GotoParentFoldAction(){folding_classCallCheck(this,GotoParentFoldAction);return _super16.call(this,{id:'editor.gotoParentFold',label:nls/* localize */.N('gotoParentFold.label',"Go to Parent Fold"),alias:'Go to Parent Fold',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,weight:100/* EditorContrib */}});}folding_createClass(GotoParentFoldAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);if(selectedLines.length>0){var startLineNumber=getParentFoldLine(selectedLines[0],foldingModel);if(startLineNumber!==null){editor.setSelection({startLineNumber:startLineNumber,startColumn:1,endLineNumber:startLineNumber,endColumn:1});}}}}]);return GotoParentFoldAction;}(FoldingAction);/** Action to go to the previous fold of current line */var GotoPreviousFoldAction=/*#__PURE__*/function(_FoldingAction15){_inherits(GotoPreviousFoldAction,_FoldingAction15);var _super17=_createSuper(GotoPreviousFoldAction);function GotoPreviousFoldAction(){folding_classCallCheck(this,GotoPreviousFoldAction);return _super17.call(this,{id:'editor.gotoPreviousFold',label:nls/* localize */.N('gotoPreviousFold.label',"Go to Previous Folding Range"),alias:'Go to Previous Folding Range',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,weight:100/* EditorContrib */}});}folding_createClass(GotoPreviousFoldAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);if(selectedLines.length>0){var startLineNumber=getPreviousFoldLine(selectedLines[0],foldingModel);if(startLineNumber!==null){editor.setSelection({startLineNumber:startLineNumber,startColumn:1,endLineNumber:startLineNumber,endColumn:1});}}}}]);return GotoPreviousFoldAction;}(FoldingAction);/** Action to go to the next fold of current line */var GotoNextFoldAction=/*#__PURE__*/function(_FoldingAction16){_inherits(GotoNextFoldAction,_FoldingAction16);var _super18=_createSuper(GotoNextFoldAction);function GotoNextFoldAction(){folding_classCallCheck(this,GotoNextFoldAction);return _super18.call(this,{id:'editor.gotoNextFold',label:nls/* localize */.N('gotoNextFold.label',"Go to Next Folding Range"),alias:'Go to Next Folding Range',precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,weight:100/* EditorContrib */}});}folding_createClass(GotoNextFoldAction,[{key:"invoke",value:function invoke(_foldingController,foldingModel,editor){var selectedLines=this.getSelectedLines(editor);if(selectedLines.length>0){var startLineNumber=getNextFoldLine(selectedLines[0],foldingModel);if(startLineNumber!==null){editor.setSelection({startLineNumber:startLineNumber,startColumn:1,endLineNumber:startLineNumber,endColumn:1});}}}}]);return GotoNextFoldAction;}(FoldingAction);(0,editorExtensions/* registerEditorContribution */._K)(FoldingController.ID,FoldingController);(0,editorExtensions/* registerEditorAction */.Qr)(UnfoldAction);(0,editorExtensions/* registerEditorAction */.Qr)(UnFoldRecursivelyAction);(0,editorExtensions/* registerEditorAction */.Qr)(FoldAction);(0,editorExtensions/* registerEditorAction */.Qr)(FoldRecursivelyAction);(0,editorExtensions/* registerEditorAction */.Qr)(FoldAllAction);(0,editorExtensions/* registerEditorAction */.Qr)(UnfoldAllAction);(0,editorExtensions/* registerEditorAction */.Qr)(FoldAllBlockCommentsAction);(0,editorExtensions/* registerEditorAction */.Qr)(FoldAllRegionsAction);(0,editorExtensions/* registerEditorAction */.Qr)(UnfoldAllRegionsAction);(0,editorExtensions/* registerEditorAction */.Qr)(FoldAllRegionsExceptAction);(0,editorExtensions/* registerEditorAction */.Qr)(UnfoldAllRegionsExceptAction);(0,editorExtensions/* registerEditorAction */.Qr)(ToggleFoldAction);(0,editorExtensions/* registerEditorAction */.Qr)(GotoParentFoldAction);(0,editorExtensions/* registerEditorAction */.Qr)(GotoPreviousFoldAction);(0,editorExtensions/* registerEditorAction */.Qr)(GotoNextFoldAction);for(var i=1;i<=7;i++){(0,editorExtensions/* registerInstantiatedEditorAction */.QG)(new FoldLevelAction({id:FoldLevelAction.ID(i),label:nls/* localize */.N('foldLevelAction.label',"Fold Level {0}",i),alias:"Fold Level ".concat(i),precondition:CONTEXT_FOLDING_ENABLED,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|21/* Digit0 */+i),weight:100/* EditorContrib */}}));}var foldBackgroundBackground=(0,colorRegistry/* registerColor */.P6G)('editor.foldBackground',{light:(0,colorRegistry/* transparent */.ZnX)(colorRegistry/* editorSelectionBackground */.hEj,0.3),dark:(0,colorRegistry/* transparent */.ZnX)(colorRegistry/* editorSelectionBackground */.hEj,0.3),hc:null},nls/* localize */.N('foldBackgroundBackground',"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),true);var editorFoldForeground=(0,colorRegistry/* registerColor */.P6G)('editorGutter.foldingControlForeground',{dark:colorRegistry/* iconForeground */.XZx,light:colorRegistry/* iconForeground */.XZx,hc:colorRegistry/* iconForeground */.XZx},nls/* localize */.N('editorGutter.foldingControlForeground','Color of the folding control in the editor gutter.'));(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var foldBackground=theme.getColor(foldBackgroundBackground);if(foldBackground){collector.addRule(".monaco-editor .folded-background { background-color: ".concat(foldBackground,"; }"));}var editorFoldColor=theme.getColor(editorFoldForeground);if(editorFoldColor){collector.addRule("\n\t\t.monaco-editor .cldr".concat(themeService/* ThemeIcon.asCSSSelector */.kS.asCSSSelector(foldingExpandedIcon),",\n\t\t.monaco-editor .cldr").concat(themeService/* ThemeIcon.asCSSSelector */.kS.asCSSSelector(foldingCollapsedIcon)," {\n\t\t\tcolor: ").concat(editorFoldColor," !important;\n\t\t}\n\t\t"));}});

/***/ }),

/***/ 99871:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(79098);
/* harmony import */ var _common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19477);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(71453);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var EditorFontZoomIn=/*#__PURE__*/function(_EditorAction){_inherits(EditorFontZoomIn,_EditorAction);var _super=_createSuper(EditorFontZoomIn);function EditorFontZoomIn(){_classCallCheck(this,EditorFontZoomIn);return _super.call(this,{id:'editor.action.fontZoomIn',label:_nls_js__WEBPACK_IMPORTED_MODULE_2__/* .localize */ .N('EditorFontZoomIn.label',"Editor Font Zoom In"),alias:'Editor Font Zoom In',precondition:undefined});}_createClass(EditorFontZoomIn,[{key:"run",value:function run(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__/* .EditorZoom.setZoomLevel */ .C.setZoomLevel(_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__/* .EditorZoom.getZoomLevel */ .C.getZoomLevel()+1);}}]);return EditorFontZoomIn;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .EditorAction */ .R6);var EditorFontZoomOut=/*#__PURE__*/function(_EditorAction2){_inherits(EditorFontZoomOut,_EditorAction2);var _super2=_createSuper(EditorFontZoomOut);function EditorFontZoomOut(){_classCallCheck(this,EditorFontZoomOut);return _super2.call(this,{id:'editor.action.fontZoomOut',label:_nls_js__WEBPACK_IMPORTED_MODULE_2__/* .localize */ .N('EditorFontZoomOut.label',"Editor Font Zoom Out"),alias:'Editor Font Zoom Out',precondition:undefined});}_createClass(EditorFontZoomOut,[{key:"run",value:function run(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__/* .EditorZoom.setZoomLevel */ .C.setZoomLevel(_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__/* .EditorZoom.getZoomLevel */ .C.getZoomLevel()-1);}}]);return EditorFontZoomOut;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .EditorAction */ .R6);var EditorFontZoomReset=/*#__PURE__*/function(_EditorAction3){_inherits(EditorFontZoomReset,_EditorAction3);var _super3=_createSuper(EditorFontZoomReset);function EditorFontZoomReset(){_classCallCheck(this,EditorFontZoomReset);return _super3.call(this,{id:'editor.action.fontZoomReset',label:_nls_js__WEBPACK_IMPORTED_MODULE_2__/* .localize */ .N('EditorFontZoomReset.label',"Editor Font Zoom Reset"),alias:'Editor Font Zoom Reset',precondition:undefined});}_createClass(EditorFontZoomReset,[{key:"run",value:function run(accessor,editor){_common_config_editorZoom_js__WEBPACK_IMPORTED_MODULE_1__/* .EditorZoom.setZoomLevel */ .C.setZoomLevel(0);}}]);return EditorFontZoomReset;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .EditorAction */ .R6);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .registerEditorAction */ .Qr)(EditorFontZoomIn);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .registerEditorAction */ .Qr)(EditorFontZoomOut);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .registerEditorAction */ .Qr)(EditorFontZoomReset);

/***/ }),

/***/ 37524:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Qq": () => (/* binding */ formatDocumentWithSelectedProvider),
/* harmony export */   "Qs": () => (/* binding */ getOnTypeFormattingEdits),
/* harmony export */   "Zg": () => (/* binding */ alertFormattingEdits),
/* harmony export */   "x$": () => (/* binding */ formatDocumentRangesWithSelectedProvider),
/* harmony export */   "xC": () => (/* binding */ FormattingConflicts)
/* harmony export */ });
/* unused harmony exports getRealAndSyntheticDocumentFormattersOrdered, formatDocumentRangesWithProvider, formatDocumentWithProvider, getDocumentRangeFormattingEditsUntilResult, getDocumentFormattingEditsUntilResult */
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44046);
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(92224);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82643);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(32314);
/* harmony import */ var _base_common_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52532);
/* harmony import */ var _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(86164);
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(918);
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(91134);
/* harmony import */ var _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(76141);
/* harmony import */ var _browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(63892);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(96844);
/* harmony import */ var _common_core_selection_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(33199);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(98480);
/* harmony import */ var _common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(43086);
/* harmony import */ var _common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(90270);
/* harmony import */ var _formattingEdit_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(93933);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(71453);
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(47937);
/* harmony import */ var _platform_extensions_common_extensions_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(7246);
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(71896);
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function alertFormattingEdits(edits){edits=edits.filter(function(edit){return edit.range;});if(!edits.length){return;}var range=edits[0].range;for(var i=1;i<edits.length;i++){range=_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.plusRange */ .e.plusRange(range,edits[i].range);}var _range=range,startLineNumber=_range.startLineNumber,endLineNumber=_range.endLineNumber;if(startLineNumber===endLineNumber){if(edits.length===1){(0,_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__/* .alert */ .Z9)(_nls_js__WEBPACK_IMPORTED_MODULE_15__/* .localize */ .N('hint11',"Made 1 formatting edit on line {0}",startLineNumber));}else{(0,_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__/* .alert */ .Z9)(_nls_js__WEBPACK_IMPORTED_MODULE_15__/* .localize */ .N('hintn1',"Made {0} formatting edits on line {1}",edits.length,startLineNumber));}}else{if(edits.length===1){(0,_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__/* .alert */ .Z9)(_nls_js__WEBPACK_IMPORTED_MODULE_15__/* .localize */ .N('hint1n',"Made 1 formatting edit between lines {0} and {1}",startLineNumber,endLineNumber));}else{(0,_base_browser_ui_aria_aria_js__WEBPACK_IMPORTED_MODULE_1__/* .alert */ .Z9)(_nls_js__WEBPACK_IMPORTED_MODULE_15__/* .localize */ .N('hintnn',"Made {0} formatting edits between lines {1} and {2}",edits.length,startLineNumber,endLineNumber));}}}function getRealAndSyntheticDocumentFormattersOrdered(model){var result=[];var seen=new Set();// (1) add all document formatter
var docFormatter=_common_languages_js__WEBPACK_IMPORTED_MODULE_9__/* .DocumentFormattingEditProviderRegistry.ordered */ .Az.ordered(model);var _iterator=_createForOfIteratorHelper(docFormatter),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var formatter=_step.value;result.push(formatter);if(formatter.extensionId){seen.add(_platform_extensions_common_extensions_js__WEBPACK_IMPORTED_MODULE_16__/* .ExtensionIdentifier.toKey */ .k.toKey(formatter.extensionId));}}// (2) add all range formatter as document formatter (unless the same extension already did that)
}catch(err){_iterator.e(err);}finally{_iterator.f();}var rangeFormatter=_common_languages_js__WEBPACK_IMPORTED_MODULE_9__/* .DocumentRangeFormattingEditProviderRegistry.ordered */ .vN.ordered(model);var _iterator2=_createForOfIteratorHelper(rangeFormatter),_step2;try{var _loop=function _loop(){var formatter=_step2.value;if(formatter.extensionId){if(seen.has(_platform_extensions_common_extensions_js__WEBPACK_IMPORTED_MODULE_16__/* .ExtensionIdentifier.toKey */ .k.toKey(formatter.extensionId))){return"continue";}seen.add(_platform_extensions_common_extensions_js__WEBPACK_IMPORTED_MODULE_16__/* .ExtensionIdentifier.toKey */ .k.toKey(formatter.extensionId));}result.push({displayName:formatter.displayName,extensionId:formatter.extensionId,provideDocumentFormattingEdits:function provideDocumentFormattingEdits(model,options,token){return formatter.provideDocumentRangeFormattingEdits(model,model.getFullModelRange(),options,token);}});};for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ret=_loop();if(_ret==="continue")continue;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return result;}var FormattingConflicts=/*#__PURE__*/function(){function FormattingConflicts(){_classCallCheck(this,FormattingConflicts);}_createClass(FormattingConflicts,null,[{key:"setFormatterSelector",value:function setFormatterSelector(selector){var remove=FormattingConflicts._selectors.unshift(selector);return{dispose:remove};}},{key:"select",value:function select(formatter,document,mode){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var selector;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(formatter.length===0)){_context.next=2;break;}return _context.abrupt("return",undefined);case 2:selector=_base_common_iterator_js__WEBPACK_IMPORTED_MODULE_4__/* .Iterable.first */ .$.first(FormattingConflicts._selectors);if(!selector){_context.next=7;break;}_context.next=6;return selector(formatter,document,mode);case 6:return _context.abrupt("return",_context.sent);case 7:return _context.abrupt("return",undefined);case 8:case"end":return _context.stop();}}},_callee);}));}}]);return FormattingConflicts;}();FormattingConflicts._selectors=new _base_common_linkedList_js__WEBPACK_IMPORTED_MODULE_5__/* .LinkedList */ .S();function formatDocumentRangesWithSelectedProvider(accessor,editorOrModel,rangeOrRanges,mode,progress,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee2(){var instaService,model,provider,selected;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:instaService=accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__/* .IInstantiationService */ .TG);model=(0,_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__/* .isCodeEditor */ .CL)(editorOrModel)?editorOrModel.getModel():editorOrModel;provider=_common_languages_js__WEBPACK_IMPORTED_MODULE_9__/* .DocumentRangeFormattingEditProviderRegistry.ordered */ .vN.ordered(model);_context2.next=5;return FormattingConflicts.select(provider,model,mode);case 5:selected=_context2.sent;if(!selected){_context2.next=10;break;}progress.report(selected);_context2.next=10;return instaService.invokeFunction(formatDocumentRangesWithProvider,selected,editorOrModel,rangeOrRanges,token);case 10:case"end":return _context2.stop();}}},_callee2);}));}function formatDocumentRangesWithProvider(accessor,provider,editorOrModel,rangeOrRanges,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee4(){var _this=this;var workerService,model,cts,ranges,len,_iterator3,_step3,_range4,computeEdits,hasIntersectingEdit,allEdits,rawEditsList,_i,_ranges,range,i,j,mergedRange,edits,_i2,_rawEditsList,rawEdits,minimalEdits,_range2,initialSelection;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:workerService=accessor.get(_common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_10__/* .IEditorWorkerService */ .p);if((0,_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__/* .isCodeEditor */ .CL)(editorOrModel)){model=editorOrModel.getModel();cts=new _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorStateCancellationTokenSource */ .Dl(editorOrModel,1/* Value */|4/* Position */,undefined,token);}else{model=editorOrModel;cts=new _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_7__/* .TextModelCancellationTokenSource */ .YQ(editorOrModel,token);}// make sure that ranges don't overlap nor touch each other
ranges=[];len=0;_iterator3=_createForOfIteratorHelper((0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_17__/* .asArray */ ._2)(rangeOrRanges).sort(_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.compareRangesUsingStarts */ .e.compareRangesUsingStarts));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_range4=_step3.value;if(len>0&&_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.areIntersectingOrTouching */ .e.areIntersectingOrTouching(ranges[len-1],_range4)){ranges[len-1]=_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.fromPositions */ .e.fromPositions(ranges[len-1].getStartPosition(),_range4.getEndPosition());}else{len=ranges.push(_range4);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}computeEdits=function computeEdits(range){return __awaiter(_this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee3(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return provider.provideDocumentRangeFormattingEdits(model,range,model.getFormattingOptions(),cts.token);case 2:_context3.t0=_context3.sent;if(_context3.t0){_context3.next=5;break;}_context3.t0=[];case 5:return _context3.abrupt("return",_context3.t0);case 6:case"end":return _context3.stop();}}},_callee3);}));};hasIntersectingEdit=function hasIntersectingEdit(a,b){if(!a.length||!b.length){return false;}// quick exit if the list of ranges are completely unrelated [O(n)]
var mergedA=a.reduce(function(acc,val){return _common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.plusRange */ .e.plusRange(acc,val.range);},a[0].range);if(!b.some(function(x){return _common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.intersectRanges */ .e.intersectRanges(mergedA,x.range);})){return false;}// fallback to a complete check [O(n^2)]
var _iterator4=_createForOfIteratorHelper(a),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var edit=_step4.value;var _iterator5=_createForOfIteratorHelper(b),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var otherEdit=_step5.value;if(_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.intersectRanges */ .e.intersectRanges(edit.range,otherEdit.range)){return true;}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return false;};allEdits=[];rawEditsList=[];_context4.prev=10;_i=0,_ranges=ranges;case 12:if(!(_i<_ranges.length)){_context4.next=24;break;}range=_ranges[_i];if(!cts.token.isCancellationRequested){_context4.next=16;break;}return _context4.abrupt("return",true);case 16:_context4.t0=rawEditsList;_context4.next=19;return computeEdits(range);case 19:_context4.t1=_context4.sent;_context4.t0.push.call(_context4.t0,_context4.t1);case 21:_i++;_context4.next=12;break;case 24:i=0;case 25:if(!(i<ranges.length)){_context4.next=49;break;}j=i+1;case 27:if(!(j<ranges.length)){_context4.next=46;break;}if(!cts.token.isCancellationRequested){_context4.next=30;break;}return _context4.abrupt("return",true);case 30:if(!hasIntersectingEdit(rawEditsList[i],rawEditsList[j])){_context4.next=43;break;}// Merge ranges i and j into a single range, recompute the associated edits
mergedRange=_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.plusRange */ .e.plusRange(ranges[i],ranges[j]);_context4.next=34;return computeEdits(mergedRange);case 34:edits=_context4.sent;ranges.splice(j,1);ranges.splice(i,1);ranges.push(mergedRange);rawEditsList.splice(j,1);rawEditsList.splice(i,1);rawEditsList.push(edits);// Restart scanning
i=0;j=0;case 43:++j;_context4.next=27;break;case 46:++i;_context4.next=25;break;case 49:_i2=0,_rawEditsList=rawEditsList;case 50:if(!(_i2<_rawEditsList.length)){_context4.next=61;break;}rawEdits=_rawEditsList[_i2];if(!cts.token.isCancellationRequested){_context4.next=54;break;}return _context4.abrupt("return",true);case 54:_context4.next=56;return workerService.computeMoreMinimalEdits(model.uri,rawEdits);case 56:minimalEdits=_context4.sent;if(minimalEdits){allEdits.push.apply(allEdits,_toConsumableArray(minimalEdits));}case 58:_i2++;_context4.next=50;break;case 61:_context4.prev=61;cts.dispose();return _context4.finish(61);case 64:if(!(allEdits.length===0)){_context4.next=66;break;}return _context4.abrupt("return",false);case 66:if((0,_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__/* .isCodeEditor */ .CL)(editorOrModel)){// use editor to apply edits
_formattingEdit_js__WEBPACK_IMPORTED_MODULE_18__/* .FormattingEdit.execute */ .V.execute(editorOrModel,allEdits,true);alertFormattingEdits(allEdits);editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(),1/* Immediate */);}else{// use model to apply edits
_range2=allEdits[0].range;initialSelection=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_19__/* .Selection */ .Y(_range2.startLineNumber,_range2.startColumn,_range2.endLineNumber,_range2.endColumn);model.pushEditOperations([initialSelection],allEdits.map(function(edit){return{text:edit.text,range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.lift */ .e.lift(edit.range),forceMoveMarkers:true};}),function(undoEdits){var _iterator6=_createForOfIteratorHelper(undoEdits),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _range3=_step6.value.range;if(_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.areIntersectingOrTouching */ .e.areIntersectingOrTouching(_range3,initialSelection)){return[new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_19__/* .Selection */ .Y(_range3.startLineNumber,_range3.startColumn,_range3.endLineNumber,_range3.endColumn)];}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return null;});}return _context4.abrupt("return",true);case 68:case"end":return _context4.stop();}}},_callee4,null,[[10,,61,64]]);}));}function formatDocumentWithSelectedProvider(accessor,editorOrModel,mode,progress,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee5(){var instaService,model,provider,selected;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:instaService=accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__/* .IInstantiationService */ .TG);model=(0,_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__/* .isCodeEditor */ .CL)(editorOrModel)?editorOrModel.getModel():editorOrModel;provider=getRealAndSyntheticDocumentFormattersOrdered(model);_context5.next=5;return FormattingConflicts.select(provider,model,mode);case 5:selected=_context5.sent;if(!selected){_context5.next=10;break;}progress.report(selected);_context5.next=10;return instaService.invokeFunction(formatDocumentWithProvider,selected,editorOrModel,mode,token);case 10:case"end":return _context5.stop();}}},_callee5);}));}function formatDocumentWithProvider(accessor,provider,editorOrModel,mode,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee6(){var workerService,model,cts,edits,rawEdits,_edits,_edits2,range,initialSelection;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:workerService=accessor.get(_common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_10__/* .IEditorWorkerService */ .p);if((0,_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__/* .isCodeEditor */ .CL)(editorOrModel)){model=editorOrModel.getModel();cts=new _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorStateCancellationTokenSource */ .Dl(editorOrModel,1/* Value */|4/* Position */,undefined,token);}else{model=editorOrModel;cts=new _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_7__/* .TextModelCancellationTokenSource */ .YQ(editorOrModel,token);}_context6.prev=2;_context6.next=5;return provider.provideDocumentFormattingEdits(model,model.getFormattingOptions(),cts.token);case 5:rawEdits=_context6.sent;_context6.next=8;return workerService.computeMoreMinimalEdits(model.uri,rawEdits);case 8:edits=_context6.sent;if(!cts.token.isCancellationRequested){_context6.next=11;break;}return _context6.abrupt("return",true);case 11:_context6.prev=11;cts.dispose();return _context6.finish(11);case 14:if(!(!edits||edits.length===0)){_context6.next=16;break;}return _context6.abrupt("return",false);case 16:if((0,_browser_editorBrowser_js__WEBPACK_IMPORTED_MODULE_8__/* .isCodeEditor */ .CL)(editorOrModel)){// use editor to apply edits
_formattingEdit_js__WEBPACK_IMPORTED_MODULE_18__/* .FormattingEdit.execute */ .V.execute(editorOrModel,edits,mode!==2/* Silent */);if(mode!==2/* Silent */){alertFormattingEdits(edits);editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(),1/* Immediate */);}}else{// use model to apply edits
_edits=edits,_edits2=_slicedToArray(_edits,1),range=_edits2[0].range;initialSelection=new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_19__/* .Selection */ .Y(range.startLineNumber,range.startColumn,range.endLineNumber,range.endColumn);model.pushEditOperations([initialSelection],edits.map(function(edit){return{text:edit.text,range:_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.lift */ .e.lift(edit.range),forceMoveMarkers:true};}),function(undoEdits){var _iterator7=_createForOfIteratorHelper(undoEdits),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _range5=_step7.value.range;if(_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.areIntersectingOrTouching */ .e.areIntersectingOrTouching(_range5,initialSelection)){return[new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_19__/* .Selection */ .Y(_range5.startLineNumber,_range5.startColumn,_range5.endLineNumber,_range5.endColumn)];}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}return null;});}return _context6.abrupt("return",true);case 18:case"end":return _context6.stop();}}},_callee6,null,[[2,,11,14]]);}));}function getDocumentRangeFormattingEditsUntilResult(workerService,model,range,options,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee7(){var providers,_iterator8,_step8,provider,rawEdits;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:providers=_common_languages_js__WEBPACK_IMPORTED_MODULE_9__/* .DocumentRangeFormattingEditProviderRegistry.ordered */ .vN.ordered(model);_iterator8=_createForOfIteratorHelper(providers);_context7.prev=2;_iterator8.s();case 4:if((_step8=_iterator8.n()).done){_context7.next=15;break;}provider=_step8.value;_context7.next=8;return Promise.resolve(provider.provideDocumentRangeFormattingEdits(model,range,options,token)).catch(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__/* .onUnexpectedExternalError */ .Cp);case 8:rawEdits=_context7.sent;if(!(0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_17__/* .isNonEmptyArray */ .Of)(rawEdits)){_context7.next=13;break;}_context7.next=12;return workerService.computeMoreMinimalEdits(model.uri,rawEdits);case 12:return _context7.abrupt("return",_context7.sent);case 13:_context7.next=4;break;case 15:_context7.next=20;break;case 17:_context7.prev=17;_context7.t0=_context7["catch"](2);_iterator8.e(_context7.t0);case 20:_context7.prev=20;_iterator8.f();return _context7.finish(20);case 23:return _context7.abrupt("return",undefined);case 24:case"end":return _context7.stop();}}},_callee7,null,[[2,17,20,23]]);}));}function getDocumentFormattingEditsUntilResult(workerService,model,options,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee8(){var providers,_iterator9,_step9,provider,rawEdits;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:providers=getRealAndSyntheticDocumentFormattersOrdered(model);_iterator9=_createForOfIteratorHelper(providers);_context8.prev=2;_iterator9.s();case 4:if((_step9=_iterator9.n()).done){_context8.next=15;break;}provider=_step9.value;_context8.next=8;return Promise.resolve(provider.provideDocumentFormattingEdits(model,options,token)).catch(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__/* .onUnexpectedExternalError */ .Cp);case 8:rawEdits=_context8.sent;if(!(0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_17__/* .isNonEmptyArray */ .Of)(rawEdits)){_context8.next=13;break;}_context8.next=12;return workerService.computeMoreMinimalEdits(model.uri,rawEdits);case 12:return _context8.abrupt("return",_context8.sent);case 13:_context8.next=4;break;case 15:_context8.next=20;break;case 17:_context8.prev=17;_context8.t0=_context8["catch"](2);_iterator9.e(_context8.t0);case 20:_context8.prev=20;_iterator9.f();return _context8.finish(20);case 23:return _context8.abrupt("return",undefined);case 24:case"end":return _context8.stop();}}},_callee8,null,[[2,17,20,23]]);}));}function getOnTypeFormattingEdits(workerService,model,position,ch,options,token){var providers=_common_languages_js__WEBPACK_IMPORTED_MODULE_9__/* .OnTypeFormattingEditProviderRegistry.ordered */ .ln.ordered(model);if(providers.length===0){return Promise.resolve(undefined);}if(providers[0].autoFormatTriggerCharacters.indexOf(ch)<0){return Promise.resolve(undefined);}return Promise.resolve(providers[0].provideOnTypeFormattingEdits(model,position,ch,options,token)).catch(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__/* .onUnexpectedExternalError */ .Cp).then(function(edits){return workerService.computeMoreMinimalEdits(model.uri,edits);});}_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_12__/* .CommandsRegistry.registerCommand */ .P0.registerCommand('_executeFormatRangeProvider',function(accessor){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee9(){var resource,range,options,resolverService,workerService,reference;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:resource=args[0],range=args[1],options=args[2];(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__/* .assertType */ .p_)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_6__/* .URI.isUri */ .o.isUri(resource));(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__/* .assertType */ .p_)(_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.isIRange */ .e.isIRange(range));resolverService=accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__/* .ITextModelService */ .S);workerService=accessor.get(_common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_10__/* .IEditorWorkerService */ .p);_context9.next=7;return resolverService.createModelReference(resource);case 7:reference=_context9.sent;_context9.prev=8;return _context9.abrupt("return",getDocumentRangeFormattingEditsUntilResult(workerService,reference.object.textEditorModel,_common_core_range_js__WEBPACK_IMPORTED_MODULE_14__/* .Range.lift */ .e.lift(range),options,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__/* .CancellationToken.None */ .T.None));case 10:_context9.prev=10;reference.dispose();return _context9.finish(10);case 13:case"end":return _context9.stop();}}},_callee9,null,[[8,,10,13]]);}));});_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_12__/* .CommandsRegistry.registerCommand */ .P0.registerCommand('_executeFormatDocumentProvider',function(accessor){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee10(){var resource,options,resolverService,workerService,reference;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:resource=args[0],options=args[1];(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__/* .assertType */ .p_)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_6__/* .URI.isUri */ .o.isUri(resource));resolverService=accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__/* .ITextModelService */ .S);workerService=accessor.get(_common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_10__/* .IEditorWorkerService */ .p);_context10.next=6;return resolverService.createModelReference(resource);case 6:reference=_context10.sent;_context10.prev=7;return _context10.abrupt("return",getDocumentFormattingEditsUntilResult(workerService,reference.object.textEditorModel,options,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__/* .CancellationToken.None */ .T.None));case 9:_context10.prev=9;reference.dispose();return _context10.finish(9);case 12:case"end":return _context10.stop();}}},_callee10,null,[[7,,9,12]]);}));});_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_12__/* .CommandsRegistry.registerCommand */ .P0.registerCommand('_executeFormatOnTypeProvider',function(accessor){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee11(){var resource,position,ch,options,resolverService,workerService,reference;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:resource=args[0],position=args[1],ch=args[2],options=args[3];(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__/* .assertType */ .p_)(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_6__/* .URI.isUri */ .o.isUri(resource));(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__/* .assertType */ .p_)(_common_core_position_js__WEBPACK_IMPORTED_MODULE_21__/* .Position.isIPosition */ .L.isIPosition(position));(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_20__/* .assertType */ .p_)(typeof ch==='string');resolverService=accessor.get(_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_11__/* .ITextModelService */ .S);workerService=accessor.get(_common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_10__/* .IEditorWorkerService */ .p);_context11.next=8;return resolverService.createModelReference(resource);case 8:reference=_context11.sent;_context11.prev=9;return _context11.abrupt("return",getOnTypeFormattingEdits(workerService,reference.object.textEditorModel,_common_core_position_js__WEBPACK_IMPORTED_MODULE_21__/* .Position.lift */ .L.lift(position),ch,options,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__/* .CancellationToken.None */ .T.None));case 11:_context11.prev=11;reference.dispose();return _context11.finish(11);case 14:case"end":return _context11.stop();}}},_callee11,null,[[9,,11,14]]);}));});

/***/ }),

/***/ 79343:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(92224);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82643);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32314);
/* harmony import */ var _base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61273);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19860);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79098);
/* harmony import */ var _browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(95328);
/* harmony import */ var _common_core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(97573);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(96844);
/* harmony import */ var _common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48919);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(98480);
/* harmony import */ var _common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(43086);
/* harmony import */ var _format_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(37524);
/* harmony import */ var _formattingEdit_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(93933);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(71453);
/* harmony import */ var _platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(47937);
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(11703);
/* harmony import */ var _platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(71896);
/* harmony import */ var _platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(81533);
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var FormatOnType=/*#__PURE__*/function(){function FormatOnType(_editor,_workerService){var _this=this;_classCallCheck(this,FormatOnType);this._editor=_editor;this._workerService=_workerService;this._disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__/* .DisposableStore */ .SL();this._sessionDisposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__/* .DisposableStore */ .SL();this._disposables.add(_common_languages_js__WEBPACK_IMPORTED_MODULE_8__/* .OnTypeFormattingEditProviderRegistry.onDidChange */ .ln.onDidChange(this._update,this));this._disposables.add(_editor.onDidChangeModel(function(){return _this._update();}));this._disposables.add(_editor.onDidChangeModelLanguage(function(){return _this._update();}));this._disposables.add(_editor.onDidChangeConfiguration(function(e){if(e.hasChanged(49/* formatOnType */)){_this._update();}}));}_createClass(FormatOnType,[{key:"dispose",value:function dispose(){this._disposables.dispose();this._sessionDisposables.dispose();}},{key:"_update",value:function _update(){var _this2=this;// clean up
this._sessionDisposables.clear();// we are disabled
if(!this._editor.getOption(49/* formatOnType */)){return;}// no model
if(!this._editor.hasModel()){return;}var model=this._editor.getModel();// no support
var _OnTypeFormattingEdit=_common_languages_js__WEBPACK_IMPORTED_MODULE_8__/* .OnTypeFormattingEditProviderRegistry.ordered */ .ln.ordered(model),_OnTypeFormattingEdit2=_slicedToArray(_OnTypeFormattingEdit,1),support=_OnTypeFormattingEdit2[0];if(!support||!support.autoFormatTriggerCharacters){return;}// register typing listeners that will trigger the format
var triggerChars=new _common_core_characterClassifier_js__WEBPACK_IMPORTED_MODULE_15__/* .CharacterSet */ .q();var _iterator=_createForOfIteratorHelper(support.autoFormatTriggerCharacters),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var ch=_step.value;triggerChars.add(ch.charCodeAt(0));}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._sessionDisposables.add(this._editor.onDidType(function(text){var lastCharCode=text.charCodeAt(text.length-1);if(triggerChars.has(lastCharCode)){_this2._trigger(String.fromCharCode(lastCharCode));}}));}},{key:"_trigger",value:function _trigger(ch){var _this3=this;if(!this._editor.hasModel()){return;}if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty()){return;}var model=this._editor.getModel();var position=this._editor.getPosition();var cts=new _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationTokenSource */ .A();// install a listener that checks if edits happens before the
// position on which we format right now. If so, we won't
// apply the format edits
var unbind=this._editor.onDidChangeModelContent(function(e){if(e.isFlush){// a model.setValue() was called
// cancel only once
cts.cancel();unbind.dispose();return;}for(var i=0,len=e.changes.length;i<len;i++){var change=e.changes[i];if(change.range.endLineNumber<=position.lineNumber){// cancel only once
cts.cancel();unbind.dispose();return;}}});(0,_format_js__WEBPACK_IMPORTED_MODULE_10__/* .getOnTypeFormattingEdits */ .Qs)(this._workerService,model,position,ch,model.getFormattingOptions(),cts.token).then(function(edits){if(cts.token.isCancellationRequested){return;}if((0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_16__/* .isNonEmptyArray */ .Of)(edits)){_formattingEdit_js__WEBPACK_IMPORTED_MODULE_17__/* .FormattingEdit.execute */ .V.execute(_this3._editor,edits,true);(0,_format_js__WEBPACK_IMPORTED_MODULE_10__/* .alertFormattingEdits */ .Zg)(edits);}}).finally(function(){unbind.dispose();});}}]);return FormatOnType;}();FormatOnType.ID='editor.contrib.autoFormat';FormatOnType=__decorate([__param(1,_common_services_editorWorker_js__WEBPACK_IMPORTED_MODULE_9__/* .IEditorWorkerService */ .p)],FormatOnType);var FormatOnPaste=/*#__PURE__*/function(){function FormatOnPaste(editor,_instantiationService){var _this4=this;_classCallCheck(this,FormatOnPaste);this.editor=editor;this._instantiationService=_instantiationService;this._callOnDispose=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__/* .DisposableStore */ .SL();this._callOnModel=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__/* .DisposableStore */ .SL();this._callOnDispose.add(editor.onDidChangeConfiguration(function(){return _this4._update();}));this._callOnDispose.add(editor.onDidChangeModel(function(){return _this4._update();}));this._callOnDispose.add(editor.onDidChangeModelLanguage(function(){return _this4._update();}));this._callOnDispose.add(_common_languages_js__WEBPACK_IMPORTED_MODULE_8__/* .DocumentRangeFormattingEditProviderRegistry.onDidChange */ .vN.onDidChange(this._update,this));}_createClass(FormatOnPaste,[{key:"dispose",value:function dispose(){this._callOnDispose.dispose();this._callOnModel.dispose();}},{key:"_update",value:function _update(){var _this5=this;// clean up
this._callOnModel.clear();// we are disabled
if(!this.editor.getOption(48/* formatOnPaste */)){return;}// no model
if(!this.editor.hasModel()){return;}// no formatter
if(!_common_languages_js__WEBPACK_IMPORTED_MODULE_8__/* .DocumentRangeFormattingEditProviderRegistry.has */ .vN.has(this.editor.getModel())){return;}this._callOnModel.add(this.editor.onDidPaste(function(_ref){var range=_ref.range;return _this5._trigger(range);}));}},{key:"_trigger",value:function _trigger(range){if(!this.editor.hasModel()){return;}if(this.editor.getSelections().length>1){return;}this._instantiationService.invokeFunction(_format_js__WEBPACK_IMPORTED_MODULE_10__/* .formatDocumentRangesWithSelectedProvider */ .x$,this.editor,range,2/* Silent */,_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_14__/* .Progress.None */ .Ex.None,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None).catch(_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__/* .onUnexpectedError */ .dL);}}]);return FormatOnPaste;}();FormatOnPaste.ID='editor.contrib.formatOnPaste';FormatOnPaste=__decorate([__param(1,_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__/* .IInstantiationService */ .TG)],FormatOnPaste);var FormatDocumentAction=/*#__PURE__*/function(_EditorAction){_inherits(FormatDocumentAction,_EditorAction);var _super=_createSuper(FormatDocumentAction);function FormatDocumentAction(){_classCallCheck(this,FormatDocumentAction);return _super.call(this,{id:'editor.action.formatDocument',label:_nls_js__WEBPACK_IMPORTED_MODULE_18__/* .localize */ .N('formatDocument.label',"Format Document"),alias:'Format Document',precondition:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__/* .ContextKeyExpr.and */ .Ao.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.notInCompositeEditor */ .u.notInCompositeEditor,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.writable */ .u.writable,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.hasDocumentFormattingProvider */ .u.hasDocumentFormattingProvider),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.editorTextFocus */ .u.editorTextFocus,primary:1024/* Shift */|512/* Alt */|36/* KeyF */,linux:{primary:2048/* CtrlCmd */|1024/* Shift */|39/* KeyI */},weight:100/* EditorContrib */},contextMenuOpts:{group:'1_modification',order:1.3}});}_createClass(FormatDocumentAction,[{key:"run",value:function run(accessor,editor){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var instaService,progressService;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!editor.hasModel()){_context.next=5;break;}instaService=accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__/* .IInstantiationService */ .TG);progressService=accessor.get(_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_14__/* .IEditorProgressService */ .ek);_context.next=5;return progressService.showWhile(instaService.invokeFunction(_format_js__WEBPACK_IMPORTED_MODULE_10__/* .formatDocumentWithSelectedProvider */ .Qq,editor,1/* Explicit */,/* Explicit */_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_14__/* .Progress.None */ .Ex.None,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None),250);case 5:case"end":return _context.stop();}}},_callee);}));}}]);return FormatDocumentAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .EditorAction */ .R6);var FormatSelectionAction=/*#__PURE__*/function(_EditorAction2){_inherits(FormatSelectionAction,_EditorAction2);var _super2=_createSuper(FormatSelectionAction);function FormatSelectionAction(){_classCallCheck(this,FormatSelectionAction);return _super2.call(this,{id:'editor.action.formatSelection',label:_nls_js__WEBPACK_IMPORTED_MODULE_18__/* .localize */ .N('formatSelection.label',"Format Selection"),alias:'Format Selection',precondition:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_12__/* .ContextKeyExpr.and */ .Ao.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.writable */ .u.writable,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.hasDocumentSelectionFormattingProvider */ .u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.editorTextFocus */ .u.editorTextFocus,primary:(0,_base_common_keyCodes_js__WEBPACK_IMPORTED_MODULE_3__/* .KeyChord */ .gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|36/* KeyF */),weight:100/* EditorContrib */},contextMenuOpts:{when:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_7__/* .EditorContextKeys.hasNonEmptySelection */ .u.hasNonEmptySelection,group:'1_modification',order:1.31}});}_createClass(FormatSelectionAction,[{key:"run",value:function run(accessor,editor){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee2(){var instaService,model,ranges,progressService;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(editor.hasModel()){_context2.next=2;break;}return _context2.abrupt("return");case 2:instaService=accessor.get(_platform_instantiation_common_instantiation_js__WEBPACK_IMPORTED_MODULE_13__/* .IInstantiationService */ .TG);model=editor.getModel();ranges=editor.getSelections().map(function(range){return range.isEmpty()?new _common_core_range_js__WEBPACK_IMPORTED_MODULE_19__/* .Range */ .e(range.startLineNumber,1,range.startLineNumber,model.getLineMaxColumn(range.startLineNumber)):range;});progressService=accessor.get(_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_14__/* .IEditorProgressService */ .ek);_context2.next=8;return progressService.showWhile(instaService.invokeFunction(_format_js__WEBPACK_IMPORTED_MODULE_10__/* .formatDocumentRangesWithSelectedProvider */ .x$,editor,ranges,1/* Explicit */,/* Explicit */_platform_progress_common_progress_js__WEBPACK_IMPORTED_MODULE_14__/* .Progress.None */ .Ex.None,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None),250);case 8:case"end":return _context2.stop();}}},_callee2);}));}}]);return FormatSelectionAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .EditorAction */ .R6);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .registerEditorContribution */ ._K)(FormatOnType.ID,FormatOnType);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .registerEditorContribution */ ._K)(FormatOnPaste.ID,FormatOnPaste);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .registerEditorAction */ .Qr)(FormatDocumentAction);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .registerEditorAction */ .Qr)(FormatSelectionAction);// this is the old format action that does both (format document OR format selection)
// and we keep it here such that existing keybinding configurations etc will still work
_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_11__/* .CommandsRegistry.registerCommand */ .P0.registerCommand('editor.action.format',function(accessor){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee3(){var editor,commandService;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:editor=accessor.get(_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_6__/* .ICodeEditorService */ .$).getFocusedCodeEditor();if(!(!editor||!editor.hasModel())){_context3.next=3;break;}return _context3.abrupt("return");case 3:commandService=accessor.get(_platform_commands_common_commands_js__WEBPACK_IMPORTED_MODULE_11__/* .ICommandService */ .Hy);if(!editor.getSelection().isEmpty()){_context3.next=9;break;}_context3.next=7;return commandService.executeCommand('editor.action.formatDocument');case 7:_context3.next=11;break;case 9:_context3.next=11;return commandService.executeCommand('editor.action.formatSelection');case 11:case"end":return _context3.stop();}}},_callee3);}));});

/***/ }),

/***/ 93933:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "V": () => (/* binding */ FormattingEdit)
/* harmony export */ });
/* harmony import */ var _common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63332);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96844);
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var FormattingEdit=/*#__PURE__*/function(){function FormattingEdit(){_classCallCheck(this,FormattingEdit);}_createClass(FormattingEdit,null,[{key:"_handleEolEdits",value:function _handleEolEdits(editor,edits){var newEol=undefined;var singleEdits=[];var _iterator=_createForOfIteratorHelper(edits),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var edit=_step.value;if(typeof edit.eol==='number'){newEol=edit.eol;}if(edit.range&&typeof edit.text==='string'){singleEdits.push(edit);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(typeof newEol==='number'){if(editor.hasModel()){editor.getModel().pushEOL(newEol);}}return singleEdits;}},{key:"_isFullModelReplaceEdit",value:function _isFullModelReplaceEdit(editor,edit){if(!editor.hasModel()){return false;}var model=editor.getModel();var editRange=model.validateRange(edit.range);var fullModelRange=model.getFullModelRange();return fullModelRange.equalsRange(editRange);}},{key:"execute",value:function execute(editor,_edits,addUndoStops){if(addUndoStops){editor.pushUndoStop();}var edits=FormattingEdit._handleEolEdits(editor,_edits);if(edits.length===1&&FormattingEdit._isFullModelReplaceEdit(editor,edits[0])){// We use replace semantics and hope that markers stay put...
editor.executeEdits('formatEditsCommand',edits.map(function(edit){return _common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_0__/* .EditOperation.replace */ .h.replace(_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__/* .Range.lift */ .e.lift(edit.range),edit.text);}));}else{editor.executeEdits('formatEditsCommand',edits.map(function(edit){return _common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_0__/* .EditOperation.replaceMove */ .h.replaceMove(_common_core_range_js__WEBPACK_IMPORTED_MODULE_1__/* .Range.lift */ .e.lift(edit.range),edit.text);}));}if(addUndoStops){editor.pushUndoStop();}}}]);return FormattingEdit;}();

/***/ }),

/***/ 90896:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "MarkerController": () => (/* binding */ MarkerController),
  "NextMarkerAction": () => (/* binding */ NextMarkerAction)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/codicons.js
var codicons = __webpack_require__(62202);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js
var codeEditorService = __webpack_require__(95328);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/linkedList.js
var linkedList = __webpack_require__(86164);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/uri.js
var uri = __webpack_require__(91134);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js
var extensions = __webpack_require__(74822);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js
var markers = __webpack_require__(77796);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/configuration/common/configuration.js
var configuration = __webpack_require__(40800);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/markerNavigationService.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var MarkerCoordinate=function MarkerCoordinate(marker,index,total){_classCallCheck(this,MarkerCoordinate);this.marker=marker;this.index=index;this.total=total;};var MarkerList=/*#__PURE__*/function(){function MarkerList(resourceFilter,_markerService,_configService){var _this=this;_classCallCheck(this,MarkerList);this._markerService=_markerService;this._configService=_configService;this._onDidChange=new common_event/* Emitter */.Q5();this.onDidChange=this._onDidChange.event;this._dispoables=new lifecycle/* DisposableStore */.SL();this._markers=[];this._nextIdx=-1;if(uri/* URI.isUri */.o.isUri(resourceFilter)){this._resourceFilter=function(uri){return uri.toString()===resourceFilter.toString();};}else if(resourceFilter){this._resourceFilter=resourceFilter;}var compareOrder=this._configService.getValue('problems.sortOrder');var compareMarker=function compareMarker(a,b){var res=(0,strings/* compare */.qu)(a.resource.toString(),b.resource.toString());if(compareOrder==='position'){res=core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(a,b)||markers/* MarkerSeverity.compare */.ZL.compare(a.severity,b.severity);}else{res=markers/* MarkerSeverity.compare */.ZL.compare(a.severity,b.severity)||core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(a,b);}return res;};var updateMarker=function updateMarker(){_this._markers=_this._markerService.read({resource:uri/* URI.isUri */.o.isUri(resourceFilter)?resourceFilter:undefined,severities:markers/* MarkerSeverity.Error */.ZL.Error|markers/* MarkerSeverity.Warning */.ZL.Warning|markers/* MarkerSeverity.Info */.ZL.Info});if(typeof resourceFilter==='function'){_this._markers=_this._markers.filter(function(m){return _this._resourceFilter(m.resource);});}_this._markers.sort(compareMarker);};updateMarker();this._dispoables.add(_markerService.onMarkerChanged(function(uris){if(!_this._resourceFilter||uris.some(function(uri){return _this._resourceFilter(uri);})){updateMarker();_this._nextIdx=-1;_this._onDidChange.fire();}}));}_createClass(MarkerList,[{key:"dispose",value:function dispose(){this._dispoables.dispose();this._onDidChange.dispose();}},{key:"matches",value:function matches(uri){if(!this._resourceFilter&&!uri){return true;}if(!this._resourceFilter||!uri){return false;}return this._resourceFilter(uri);}},{key:"selected",get:function get(){var marker=this._markers[this._nextIdx];return marker&&new MarkerCoordinate(marker,this._nextIdx+1,this._markers.length);}},{key:"_initIdx",value:function _initIdx(model,position,fwd){var found=false;var idx=this._markers.findIndex(function(marker){return marker.resource.toString()===model.uri.toString();});if(idx<0){idx=(0,arrays/* binarySearch */.ry)(this._markers,{resource:model.uri},function(a,b){return (0,strings/* compare */.qu)(a.resource.toString(),b.resource.toString());});if(idx<0){idx=~idx;}}for(var i=idx;i<this._markers.length;i++){var range=core_range/* Range.lift */.e.lift(this._markers[i]);if(range.isEmpty()){var word=model.getWordAtPosition(range.getStartPosition());if(word){range=new core_range/* Range */.e(range.startLineNumber,word.startColumn,range.startLineNumber,word.endColumn);}}if(position&&(range.containsPosition(position)||position.isBeforeOrEqual(range.getStartPosition()))){this._nextIdx=i;found=true;break;}if(this._markers[i].resource.toString()!==model.uri.toString()){break;}}if(!found){// after the last change
this._nextIdx=fwd?0:this._markers.length-1;}if(this._nextIdx<0){this._nextIdx=this._markers.length-1;}}},{key:"resetIndex",value:function resetIndex(){this._nextIdx=-1;}},{key:"move",value:function move(fwd,model,position){if(this._markers.length===0){return false;}var oldIdx=this._nextIdx;if(this._nextIdx===-1){this._initIdx(model,position,fwd);}else if(fwd){this._nextIdx=(this._nextIdx+1)%this._markers.length;}else if(!fwd){this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length;}if(oldIdx!==this._nextIdx){return true;}return false;}},{key:"find",value:function find(uri,position){var idx=this._markers.findIndex(function(marker){return marker.resource.toString()===uri.toString();});if(idx<0){return undefined;}for(;idx<this._markers.length;idx++){if(core_range/* Range.containsPosition */.e.containsPosition(this._markers[idx],position)){return new MarkerCoordinate(this._markers[idx],idx+1,this._markers.length);}}return undefined;}}]);return MarkerList;}();MarkerList=__decorate([__param(1,markers/* IMarkerService */.lT),__param(2,configuration/* IConfigurationService */.Ui)],MarkerList);var IMarkerNavigationService=(0,instantiation/* createDecorator */.yh)('IMarkerNavigationService');var MarkerNavigationService=/*#__PURE__*/function(){function MarkerNavigationService(_markerService,_configService){_classCallCheck(this,MarkerNavigationService);this._markerService=_markerService;this._configService=_configService;this._provider=new linkedList/* LinkedList */.S();}_createClass(MarkerNavigationService,[{key:"getMarkerList",value:function getMarkerList(resource){var _iterator=_createForOfIteratorHelper(this._provider),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var provider=_step.value;var result=provider.getMarkerList(resource);if(result){return result;}}// default
}catch(err){_iterator.e(err);}finally{_iterator.f();}return new MarkerList(resource,this._markerService,this._configService);}}]);return MarkerNavigationService;}();MarkerNavigationService=__decorate([__param(0,markers/* IMarkerService */.lT),__param(1,configuration/* IConfigurationService */.Ui)],MarkerNavigationService);(0,extensions/* registerSingleton */.z)(IMarkerNavigationService,MarkerNavigationService,true);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js
var actions = __webpack_require__(25749);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/iconRegistry.js
var iconRegistry = __webpack_require__(57232);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js + 6 modules
var scrollableElement = __webpack_require__(90935);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/color.js
var color = __webpack_require__(65142);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/labels.js
var labels = __webpack_require__(10772);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/resources.js
var resources = __webpack_require__(74926);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js
var peekView = __webpack_require__(69944);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/browser/menuEntryActionViewItem.js
var menuEntryActionViewItem = __webpack_require__(98923);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/label/common/label.js
var label = __webpack_require__(68408);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js
var common_opener = __webpack_require__(58208);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/severityIcon/common/severityIcon.js
var severityIcon = __webpack_require__(79294);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js
var colorRegistry = __webpack_require__(25530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoErrorWidget.js
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(gotoErrorWidget_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function gotoErrorWidget_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=gotoErrorWidget_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function gotoErrorWidget_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return gotoErrorWidget_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gotoErrorWidget_arrayLikeToArray(o,minLen);}function gotoErrorWidget_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function gotoErrorWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function gotoErrorWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function gotoErrorWidget_createClass(Constructor,protoProps,staticProps){if(protoProps)gotoErrorWidget_defineProperties(Constructor.prototype,protoProps);if(staticProps)gotoErrorWidget_defineProperties(Constructor,staticProps);return Constructor;}function gotoErrorWidget_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){gotoErrorWidget_typeof=function _typeof(obj){return typeof obj;};}else{gotoErrorWidget_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return gotoErrorWidget_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var gotoErrorWidget_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":gotoErrorWidget_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var gotoErrorWidget_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var MessageWidget=/*#__PURE__*/function(){function MessageWidget(parent,editor,onRelatedInformation,_openerService,_labelService){var _this=this;gotoErrorWidget_classCallCheck(this,MessageWidget);this._openerService=_openerService;this._labelService=_labelService;this._lines=0;this._longestLineLength=0;this._relatedDiagnostics=new WeakMap();this._disposables=new lifecycle/* DisposableStore */.SL();this._editor=editor;var domNode=document.createElement('div');domNode.className='descriptioncontainer';this._messageBlock=document.createElement('div');this._messageBlock.classList.add('message');this._messageBlock.setAttribute('aria-live','assertive');this._messageBlock.setAttribute('role','alert');domNode.appendChild(this._messageBlock);this._relatedBlock=document.createElement('div');domNode.appendChild(this._relatedBlock);this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock,'click',function(event){event.preventDefault();var related=_this._relatedDiagnostics.get(event.target);if(related){onRelatedInformation(related);}}));this._scrollable=new scrollableElement/* ScrollableElement */.NB(domNode,{horizontal:1/* Auto */,vertical:1/* Auto */,useShadows:false,horizontalScrollbarSize:6,verticalScrollbarSize:6});parent.appendChild(this._scrollable.getDomNode());this._disposables.add(this._scrollable.onScroll(function(e){domNode.style.left="-".concat(e.scrollLeft,"px");domNode.style.top="-".concat(e.scrollTop,"px");}));this._disposables.add(this._scrollable);}gotoErrorWidget_createClass(MessageWidget,[{key:"dispose",value:function dispose(){(0,lifecycle/* dispose */.B9)(this._disposables);}},{key:"update",value:function update(marker){var _this2=this;var source=marker.source,message=marker.message,relatedInformation=marker.relatedInformation,code=marker.code;var sourceAndCodeLength=((source===null||source===void 0?void 0:source.length)||0)+'()'.length;if(code){if(typeof code==='string'){sourceAndCodeLength+=code.length;}else{sourceAndCodeLength+=code.value.length;}}var lines=(0,strings/* splitLines */.uq)(message);this._lines=lines.length;this._longestLineLength=0;var _iterator=gotoErrorWidget_createForOfIteratorHelper(lines),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var line=_step.value;this._longestLineLength=Math.max(line.length+sourceAndCodeLength,this._longestLineLength);}}catch(err){_iterator.e(err);}finally{_iterator.f();}dom.clearNode(this._messageBlock);this._messageBlock.setAttribute('aria-label',this.getAriaLabel(marker));this._editor.applyFontInfo(this._messageBlock);var lastLineElement=this._messageBlock;var _iterator2=gotoErrorWidget_createForOfIteratorHelper(lines),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _line=_step2.value;lastLineElement=document.createElement('div');lastLineElement.innerText=_line;if(_line===''){lastLineElement.style.height=this._messageBlock.style.lineHeight;}this._messageBlock.appendChild(lastLineElement);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(source||code){var detailsElement=document.createElement('span');detailsElement.classList.add('details');lastLineElement.appendChild(detailsElement);if(source){var sourceElement=document.createElement('span');sourceElement.innerText=source;sourceElement.classList.add('source');detailsElement.appendChild(sourceElement);}if(code){if(typeof code==='string'){var codeElement=document.createElement('span');codeElement.innerText="(".concat(code,")");codeElement.classList.add('code');detailsElement.appendChild(codeElement);}else{this._codeLink=dom.$('a.code-link');this._codeLink.setAttribute('href',"".concat(code.target.toString()));this._codeLink.onclick=function(e){_this2._openerService.open(code.target,{allowCommands:true});e.preventDefault();e.stopPropagation();};var _codeElement=dom.append(this._codeLink,dom.$('span'));_codeElement.innerText=code.value;detailsElement.appendChild(this._codeLink);}}}dom.clearNode(this._relatedBlock);this._editor.applyFontInfo(this._relatedBlock);if((0,arrays/* isNonEmptyArray */.Of)(relatedInformation)){var relatedInformationNode=this._relatedBlock.appendChild(document.createElement('div'));relatedInformationNode.style.paddingTop="".concat(Math.floor(this._editor.getOption(59/* lineHeight */)*0.66),"px");this._lines+=1;var _iterator3=gotoErrorWidget_createForOfIteratorHelper(relatedInformation),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var related=_step3.value;var container=document.createElement('div');var relatedResource=document.createElement('a');relatedResource.classList.add('filename');relatedResource.innerText="".concat((0,labels/* getBaseLabel */.p)(related.resource),"(").concat(related.startLineNumber,", ").concat(related.startColumn,"): ");relatedResource.title=this._labelService.getUriLabel(related.resource);this._relatedDiagnostics.set(relatedResource,related);var relatedMessage=document.createElement('span');relatedMessage.innerText=related.message;container.appendChild(relatedResource);container.appendChild(relatedMessage);this._lines+=1;relatedInformationNode.appendChild(container);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}var fontInfo=this._editor.getOption(44/* fontInfo */);var scrollWidth=Math.ceil(fontInfo.typicalFullwidthCharacterWidth*this._longestLineLength*0.75);var scrollHeight=fontInfo.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:scrollWidth,scrollHeight:scrollHeight});}},{key:"layout",value:function layout(height,width){this._scrollable.getDomNode().style.height="".concat(height,"px");this._scrollable.getDomNode().style.width="".concat(width,"px");this._scrollable.setScrollDimensions({width:width,height:height});}},{key:"getHeightInLines",value:function getHeightInLines(){return Math.min(17,this._lines);}},{key:"getAriaLabel",value:function getAriaLabel(marker){var severityLabel='';switch(marker.severity){case markers/* MarkerSeverity.Error */.ZL.Error:severityLabel=nls/* localize */.N('Error',"Error");break;case markers/* MarkerSeverity.Warning */.ZL.Warning:severityLabel=nls/* localize */.N('Warning',"Warning");break;case markers/* MarkerSeverity.Info */.ZL.Info:severityLabel=nls/* localize */.N('Info',"Info");break;case markers/* MarkerSeverity.Hint */.ZL.Hint:severityLabel=nls/* localize */.N('Hint',"Hint");break;}var ariaLabel=nls/* localize */.N('marker aria',"{0} at {1}. ",severityLabel,marker.startLineNumber+':'+marker.startColumn);var model=this._editor.getModel();if(model&&marker.startLineNumber<=model.getLineCount()&&marker.startLineNumber>=1){var lineContent=model.getLineContent(marker.startLineNumber);ariaLabel="".concat(lineContent,", ").concat(ariaLabel);}return ariaLabel;}}]);return MessageWidget;}();var MarkerNavigationWidget=/*#__PURE__*/function(_PeekViewWidget){_inherits(MarkerNavigationWidget,_PeekViewWidget);var _super=_createSuper(MarkerNavigationWidget);function MarkerNavigationWidget(editor,_themeService,_openerService,_menuService,instantiationService,_contextKeyService,_labelService){var _this3;gotoErrorWidget_classCallCheck(this,MarkerNavigationWidget);_this3=_super.call(this,editor,{showArrow:true,showFrame:true,isAccessible:true,frameWidth:1},instantiationService);_this3._themeService=_themeService;_this3._openerService=_openerService;_this3._menuService=_menuService;_this3._contextKeyService=_contextKeyService;_this3._labelService=_labelService;_this3._callOnDispose=new lifecycle/* DisposableStore */.SL();_this3._onDidSelectRelatedInformation=new common_event/* Emitter */.Q5();_this3.onDidSelectRelatedInformation=_this3._onDidSelectRelatedInformation.event;_this3._severity=markers/* MarkerSeverity.Warning */.ZL.Warning;_this3._backgroundColor=color/* Color.white */.Il.white;_this3._applyTheme(_themeService.getColorTheme());_this3._callOnDispose.add(_themeService.onDidColorThemeChange(_this3._applyTheme.bind(_assertThisInitialized(_this3))));_this3.create();return _this3;}gotoErrorWidget_createClass(MarkerNavigationWidget,[{key:"_applyTheme",value:function _applyTheme(theme){this._backgroundColor=theme.getColor(editorMarkerNavigationBackground);var colorId=editorMarkerNavigationError;var headerBackground=editorMarkerNavigationErrorHeader;if(this._severity===markers/* MarkerSeverity.Warning */.ZL.Warning){colorId=editorMarkerNavigationWarning;headerBackground=editorMarkerNavigationWarningHeader;}else if(this._severity===markers/* MarkerSeverity.Info */.ZL.Info){colorId=editorMarkerNavigationInfo;headerBackground=editorMarkerNavigationInfoHeader;}var frameColor=theme.getColor(colorId);var headerBg=theme.getColor(headerBackground);this.style({arrowColor:frameColor,frameColor:frameColor,headerBackgroundColor:headerBg,primaryHeadingColor:theme.getColor(peekView/* peekViewTitleForeground */.IH),secondaryHeadingColor:theme.getColor(peekView/* peekViewTitleInfoForeground */.R7)});// style() will trigger _applyStyles
}},{key:"_applyStyles",value:function _applyStyles(){if(this._parentContainer){this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():'';}_get(_getPrototypeOf(MarkerNavigationWidget.prototype),"_applyStyles",this).call(this);}},{key:"dispose",value:function dispose(){this._callOnDispose.dispose();_get(_getPrototypeOf(MarkerNavigationWidget.prototype),"dispose",this).call(this);}},{key:"_fillHead",value:function _fillHead(container){var _this4=this;_get(_getPrototypeOf(MarkerNavigationWidget.prototype),"_fillHead",this).call(this,container);this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(function(e){return _this4.editor.focus();}));var actions=[];var menu=this._menuService.createMenu(MarkerNavigationWidget.TitleMenu,this._contextKeyService);(0,menuEntryActionViewItem/* createAndFillInActionBarActions */.vr)(menu,undefined,actions);this._actionbarWidget.push(actions,{label:false,icon:true,index:0});menu.dispose();}},{key:"_fillTitleIcon",value:function _fillTitleIcon(container){this._icon=dom.append(container,dom.$(''));}},{key:"_fillBody",value:function _fillBody(container){var _this5=this;this._parentContainer=container;container.classList.add('marker-widget');this._parentContainer.tabIndex=0;this._parentContainer.setAttribute('role','tooltip');this._container=document.createElement('div');container.appendChild(this._container);this._message=new MessageWidget(this._container,this.editor,function(related){return _this5._onDidSelectRelatedInformation.fire(related);},this._openerService,this._labelService);this._disposables.add(this._message);}},{key:"show",value:function show(){throw new Error('call showAtMarker');}},{key:"showAtMarker",value:function showAtMarker(marker,markerIdx,markerCount){// update:
// * title
// * message
this._container.classList.remove('stale');this._message.update(marker);// update frame color (only applied on 'show')
this._severity=marker.severity;this._applyTheme(this._themeService.getColorTheme());// show
var range=core_range/* Range.lift */.e.lift(marker);var editorPosition=this.editor.getPosition();var position=editorPosition&&range.containsPosition(editorPosition)?editorPosition:range.getStartPosition();_get(_getPrototypeOf(MarkerNavigationWidget.prototype),"show",this).call(this,position,this.computeRequiredHeight());var model=this.editor.getModel();if(model){var detail=markerCount>1?nls/* localize */.N('problems',"{0} of {1} problems",markerIdx,markerCount):nls/* localize */.N('change',"{0} of {1} problem",markerIdx,markerCount);this.setTitle((0,resources/* basename */.EZ)(model.uri),detail);}this._icon.className="codicon ".concat(severityIcon/* SeverityIcon.className */.j.className(markers/* MarkerSeverity.toSeverity */.ZL.toSeverity(this._severity)));this.editor.revealPositionNearTop(position,0/* Smooth */);this.editor.focus();}},{key:"updateMarker",value:function updateMarker(marker){this._container.classList.remove('stale');this._message.update(marker);}},{key:"showStale",value:function showStale(){this._container.classList.add('stale');this._relayout();}},{key:"_doLayoutBody",value:function _doLayoutBody(heightInPixel,widthInPixel){_get(_getPrototypeOf(MarkerNavigationWidget.prototype),"_doLayoutBody",this).call(this,heightInPixel,widthInPixel);this._heightInPixel=heightInPixel;this._message.layout(heightInPixel,widthInPixel);this._container.style.height="".concat(heightInPixel,"px");}},{key:"_onWidth",value:function _onWidth(widthInPixel){this._message.layout(this._heightInPixel,widthInPixel);}},{key:"_relayout",value:function _relayout(){_get(_getPrototypeOf(MarkerNavigationWidget.prototype),"_relayout",this).call(this,this.computeRequiredHeight());}},{key:"computeRequiredHeight",value:function computeRequiredHeight(){return 3+this._message.getHeightInLines();}}]);return MarkerNavigationWidget;}(peekView/* PeekViewWidget */.vk);MarkerNavigationWidget.TitleMenu=new actions/* MenuId */.eH('gotoErrorTitleMenu');MarkerNavigationWidget=gotoErrorWidget_decorate([gotoErrorWidget_param(1,themeService/* IThemeService */.XE),gotoErrorWidget_param(2,common_opener/* IOpenerService */.v4),gotoErrorWidget_param(3,actions/* IMenuService */.co),gotoErrorWidget_param(4,instantiation/* IInstantiationService */.TG),gotoErrorWidget_param(5,contextkey/* IContextKeyService */.i6),gotoErrorWidget_param(6,label/* ILabelService */.e)],MarkerNavigationWidget);// theming
var errorDefault=(0,colorRegistry/* oneOf */.kwl)(colorRegistry/* editorErrorForeground */.lXJ,colorRegistry/* editorErrorBorder */.b6y);var warningDefault=(0,colorRegistry/* oneOf */.kwl)(colorRegistry/* editorWarningForeground */.uoC,colorRegistry/* editorWarningBorder */.pW3);var infoDefault=(0,colorRegistry/* oneOf */.kwl)(colorRegistry/* editorInfoForeground */.c63,colorRegistry/* editorInfoBorder */.T83);var editorMarkerNavigationError=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigationError.background',{dark:errorDefault,light:errorDefault,hc:colorRegistry/* contrastBorder */.lRK},nls/* localize */.N('editorMarkerNavigationError','Editor marker navigation widget error color.'));var editorMarkerNavigationErrorHeader=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigationError.headerBackground',{dark:(0,colorRegistry/* transparent */.ZnX)(editorMarkerNavigationError,.1),light:(0,colorRegistry/* transparent */.ZnX)(editorMarkerNavigationError,.1),hc:null},nls/* localize */.N('editorMarkerNavigationErrorHeaderBackground','Editor marker navigation widget error heading background.'));var editorMarkerNavigationWarning=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigationWarning.background',{dark:warningDefault,light:warningDefault,hc:colorRegistry/* contrastBorder */.lRK},nls/* localize */.N('editorMarkerNavigationWarning','Editor marker navigation widget warning color.'));var editorMarkerNavigationWarningHeader=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigationWarning.headerBackground',{dark:(0,colorRegistry/* transparent */.ZnX)(editorMarkerNavigationWarning,.1),light:(0,colorRegistry/* transparent */.ZnX)(editorMarkerNavigationWarning,.1),hc:'#0C141F'},nls/* localize */.N('editorMarkerNavigationWarningBackground','Editor marker navigation widget warning heading background.'));var editorMarkerNavigationInfo=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigationInfo.background',{dark:infoDefault,light:infoDefault,hc:colorRegistry/* contrastBorder */.lRK},nls/* localize */.N('editorMarkerNavigationInfo','Editor marker navigation widget info color.'));var editorMarkerNavigationInfoHeader=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigationInfo.headerBackground',{dark:(0,colorRegistry/* transparent */.ZnX)(editorMarkerNavigationInfo,.1),light:(0,colorRegistry/* transparent */.ZnX)(editorMarkerNavigationInfo,.1),hc:null},nls/* localize */.N('editorMarkerNavigationInfoHeaderBackground','Editor marker navigation widget info heading background.'));var editorMarkerNavigationBackground=(0,colorRegistry/* registerColor */.P6G)('editorMarkerNavigation.background',{dark:colorRegistry/* editorBackground */.cvW,light:colorRegistry/* editorBackground */.cvW,hc:colorRegistry/* editorBackground */.cvW},nls/* localize */.N('editorMarkerNavigationBackground','Editor marker navigation widget background.'));
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoError.js
function gotoError_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)gotoError_setPrototypeOf(subClass,superClass);}function gotoError_setPrototypeOf(o,p){gotoError_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return gotoError_setPrototypeOf(o,p);}function gotoError_createSuper(Derived){var hasNativeReflectConstruct=gotoError_isNativeReflectConstruct();return function _createSuperInternal(){var Super=gotoError_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=gotoError_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return gotoError_possibleConstructorReturn(this,result);};}function gotoError_possibleConstructorReturn(self,call){if(call&&(gotoError_typeof(call)==="object"||typeof call==="function")){return call;}return gotoError_assertThisInitialized(self);}function gotoError_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function gotoError_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function gotoError_getPrototypeOf(o){gotoError_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return gotoError_getPrototypeOf(o);}function gotoError_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function gotoError_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function gotoError_createClass(Constructor,protoProps,staticProps){if(protoProps)gotoError_defineProperties(Constructor.prototype,protoProps);if(staticProps)gotoError_defineProperties(Constructor,staticProps);return Constructor;}function gotoError_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){gotoError_typeof=function _typeof(obj){return typeof obj;};}else{gotoError_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return gotoError_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var gotoError_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":gotoError_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var gotoError_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var MarkerController=/*#__PURE__*/function(){function MarkerController(editor,_markerNavigationService,_contextKeyService,_editorService,_instantiationService){gotoError_classCallCheck(this,MarkerController);this._markerNavigationService=_markerNavigationService;this._contextKeyService=_contextKeyService;this._editorService=_editorService;this._instantiationService=_instantiationService;this._sessionDispoables=new lifecycle/* DisposableStore */.SL();this._editor=editor;this._widgetVisible=CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);}gotoError_createClass(MarkerController,[{key:"dispose",value:function dispose(){this._cleanUp();this._sessionDispoables.dispose();}},{key:"_cleanUp",value:function _cleanUp(){this._widgetVisible.reset();this._sessionDispoables.clear();this._widget=undefined;this._model=undefined;}},{key:"_getOrCreateModel",value:function _getOrCreateModel(uri){var _this=this;if(this._model&&this._model.matches(uri)){return this._model;}var reusePosition=false;if(this._model){reusePosition=true;this._cleanUp();}this._model=this._markerNavigationService.getMarkerList(uri);if(reusePosition){this._model.move(true,this._editor.getModel(),this._editor.getPosition());}this._widget=this._instantiationService.createInstance(MarkerNavigationWidget,this._editor);this._widget.onDidClose(function(){return _this.close();},this,this._sessionDispoables);this._widgetVisible.set(true);this._sessionDispoables.add(this._model);this._sessionDispoables.add(this._widget);// follow cursor
this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(function(e){var _a,_b,_c;if(!((_a=_this._model)===null||_a===void 0?void 0:_a.selected)||!core_range/* Range.containsPosition */.e.containsPosition((_b=_this._model)===null||_b===void 0?void 0:_b.selected.marker,e.position)){(_c=_this._model)===null||_c===void 0?void 0:_c.resetIndex();}}));// update markers
this._sessionDispoables.add(this._model.onDidChange(function(){if(!_this._widget||!_this._widget.position||!_this._model){return;}var info=_this._model.find(_this._editor.getModel().uri,_this._widget.position);if(info){_this._widget.updateMarker(info.marker);}else{_this._widget.showStale();}}));// open related
this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(function(related){_this._editorService.openCodeEditor({resource:related.resource,options:{pinned:true,revealIfOpened:true,selection:core_range/* Range.lift */.e.lift(related).collapseToStart()}},_this._editor);_this.close(false);}));this._sessionDispoables.add(this._editor.onDidChangeModel(function(){return _this._cleanUp();}));return this._model;}},{key:"close",value:function close(){var focusEditor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this._cleanUp();if(focusEditor){this._editor.focus();}}},{key:"showAtMarker",value:function showAtMarker(marker){if(this._editor.hasModel()){var model=this._getOrCreateModel(this._editor.getModel().uri);model.resetIndex();model.move(true,this._editor.getModel(),new position/* Position */.L(marker.startLineNumber,marker.startColumn));if(model.selected){this._widget.showAtMarker(model.selected.marker,model.selected.index,model.selected.total);}}}},{key:"nagivate",value:function nagivate(next,multiFile){var _a,_b;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var model,otherEditor;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this._editor.hasModel()){_context.next=14;break;}model=this._getOrCreateModel(multiFile?undefined:this._editor.getModel().uri);model.move(next,this._editor.getModel(),this._editor.getPosition());if(model.selected){_context.next=5;break;}return _context.abrupt("return");case 5:if(!(model.selected.marker.resource.toString()!==this._editor.getModel().uri.toString())){_context.next=13;break;}// show in different editor
this._cleanUp();_context.next=9;return this._editorService.openCodeEditor({resource:model.selected.marker.resource,options:{pinned:false,revealIfOpened:true,selectionRevealType:2/* NearTop */,/* NearTop */selection:model.selected.marker}},this._editor);case 9:otherEditor=_context.sent;if(otherEditor){(_a=MarkerController.get(otherEditor))===null||_a===void 0?void 0:_a.close();(_b=MarkerController.get(otherEditor))===null||_b===void 0?void 0:_b.nagivate(next,multiFile);}_context.next=14;break;case 13:// show in this editor
this._widget.showAtMarker(model.selected.marker,model.selected.index,model.selected.total);case 14:case"end":return _context.stop();}}},_callee,this);}));}}],[{key:"get",value:function get(editor){return editor.getContribution(MarkerController.ID);}}]);return MarkerController;}();MarkerController.ID='editor.contrib.markerController';MarkerController=gotoError_decorate([gotoError_param(1,IMarkerNavigationService),gotoError_param(2,contextkey/* IContextKeyService */.i6),gotoError_param(3,codeEditorService/* ICodeEditorService */.$),gotoError_param(4,instantiation/* IInstantiationService */.TG)],MarkerController);var MarkerNavigationAction=/*#__PURE__*/function(_EditorAction){gotoError_inherits(MarkerNavigationAction,_EditorAction);var _super=gotoError_createSuper(MarkerNavigationAction);function MarkerNavigationAction(_next,_multiFile,opts){var _this2;gotoError_classCallCheck(this,MarkerNavigationAction);_this2=_super.call(this,opts);_this2._next=_next;_this2._multiFile=_multiFile;return _this2;}gotoError_createClass(MarkerNavigationAction,[{key:"run",value:function run(_accessor,editor){var _a;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(editor.hasModel()){(_a=MarkerController.get(editor))===null||_a===void 0?void 0:_a.nagivate(this._next,this._multiFile);}case 1:case"end":return _context2.stop();}}},_callee2,this);}));}}]);return MarkerNavigationAction;}(editorExtensions/* EditorAction */.R6);var NextMarkerAction=/*#__PURE__*/function(_MarkerNavigationActi){gotoError_inherits(NextMarkerAction,_MarkerNavigationActi);var _super2=gotoError_createSuper(NextMarkerAction);function NextMarkerAction(){gotoError_classCallCheck(this,NextMarkerAction);return _super2.call(this,true,false,{id:NextMarkerAction.ID,label:NextMarkerAction.LABEL,alias:'Go to Next Problem (Error, Warning, Info)',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:512/* Alt */|66/* F8 */,weight:100/* EditorContrib */},menuOpts:{menuId:MarkerNavigationWidget.TitleMenu,title:NextMarkerAction.LABEL,icon:(0,iconRegistry/* registerIcon */.q5)('marker-navigation-next',codicons/* Codicon.arrowDown */.lA.arrowDown,nls/* localize */.N('nextMarkerIcon','Icon for goto next marker.')),group:'navigation',order:1}});}return NextMarkerAction;}(MarkerNavigationAction);NextMarkerAction.ID='editor.action.marker.next';NextMarkerAction.LABEL=nls/* localize */.N('markerAction.next.label',"Go to Next Problem (Error, Warning, Info)");var PrevMarkerAction=/*#__PURE__*/function(_MarkerNavigationActi2){gotoError_inherits(PrevMarkerAction,_MarkerNavigationActi2);var _super3=gotoError_createSuper(PrevMarkerAction);function PrevMarkerAction(){gotoError_classCallCheck(this,PrevMarkerAction);return _super3.call(this,false,false,{id:PrevMarkerAction.ID,label:PrevMarkerAction.LABEL,alias:'Go to Previous Problem (Error, Warning, Info)',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:1024/* Shift */|512/* Alt */|66/* F8 */,weight:100/* EditorContrib */},menuOpts:{menuId:MarkerNavigationWidget.TitleMenu,title:NextMarkerAction.LABEL,icon:(0,iconRegistry/* registerIcon */.q5)('marker-navigation-previous',codicons/* Codicon.arrowUp */.lA.arrowUp,nls/* localize */.N('previousMarkerIcon','Icon for goto previous marker.')),group:'navigation',order:2}});}return PrevMarkerAction;}(MarkerNavigationAction);PrevMarkerAction.ID='editor.action.marker.prev';PrevMarkerAction.LABEL=nls/* localize */.N('markerAction.previous.label',"Go to Previous Problem (Error, Warning, Info)");var NextMarkerInFilesAction=/*#__PURE__*/function(_MarkerNavigationActi3){gotoError_inherits(NextMarkerInFilesAction,_MarkerNavigationActi3);var _super4=gotoError_createSuper(NextMarkerInFilesAction);function NextMarkerInFilesAction(){gotoError_classCallCheck(this,NextMarkerInFilesAction);return _super4.call(this,true,true,{id:'editor.action.marker.nextInFiles',label:nls/* localize */.N('markerAction.nextInFiles.label',"Go to Next Problem in Files (Error, Warning, Info)"),alias:'Go to Next Problem in Files (Error, Warning, Info)',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:66/* F8 */,weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,title:nls/* localize */.N({key:'miGotoNextProblem',comment:['&& denotes a mnemonic']},"Next &&Problem"),group:'6_problem_nav',order:1}});}return NextMarkerInFilesAction;}(MarkerNavigationAction);var PrevMarkerInFilesAction=/*#__PURE__*/function(_MarkerNavigationActi4){gotoError_inherits(PrevMarkerInFilesAction,_MarkerNavigationActi4);var _super5=gotoError_createSuper(PrevMarkerInFilesAction);function PrevMarkerInFilesAction(){gotoError_classCallCheck(this,PrevMarkerInFilesAction);return _super5.call(this,false,true,{id:'editor.action.marker.prevInFiles',label:nls/* localize */.N('markerAction.previousInFiles.label',"Go to Previous Problem in Files (Error, Warning, Info)"),alias:'Go to Previous Problem in Files (Error, Warning, Info)',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:1024/* Shift */|66/* F8 */,weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,title:nls/* localize */.N({key:'miGotoPreviousProblem',comment:['&& denotes a mnemonic']},"Previous &&Problem"),group:'6_problem_nav',order:2}});}return PrevMarkerInFilesAction;}(MarkerNavigationAction);(0,editorExtensions/* registerEditorContribution */._K)(MarkerController.ID,MarkerController);(0,editorExtensions/* registerEditorAction */.Qr)(NextMarkerAction);(0,editorExtensions/* registerEditorAction */.Qr)(PrevMarkerAction);(0,editorExtensions/* registerEditorAction */.Qr)(NextMarkerInFilesAction);(0,editorExtensions/* registerEditorAction */.Qr)(PrevMarkerInFilesAction);var CONTEXT_MARKERS_NAVIGATION_VISIBLE=new contextkey/* RawContextKey */.uy('markersNavigationVisible',false);var MarkerCommand=editorExtensions/* EditorCommand.bindToContribution */._l.bindToContribution(MarkerController.get);(0,editorExtensions/* registerEditorCommand */.fK)(new MarkerCommand({id:'closeMarkersNavigation',precondition:CONTEXT_MARKERS_NAVIGATION_VISIBLE,handler:function handler(x){return x.close();},kbOpts:{weight:100/* EditorContrib */+50,kbExpr:editorContextKeys/* EditorContextKeys.focus */.u.focus,primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */]}}));

/***/ }),

/***/ 6696:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "DefinitionAction": () => (/* binding */ DefinitionAction),
  "SymbolNavigationAction": () => (/* binding */ SymbolNavigationAction),
  "SymbolNavigationAnchor": () => (/* binding */ SymbolNavigationAnchor)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/browser.js
var browser = __webpack_require__(81447);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js
var aria = __webpack_require__(44046);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/keyCodes.js
var keyCodes = __webpack_require__(61273);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/types.js
var types = __webpack_require__(918);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/uri.js
var uri = __webpack_require__(91134);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/editorState.js + 1 modules
var editorState = __webpack_require__(76141);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorBrowser.js
var editorBrowser = __webpack_require__(63892);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js
var services_codeEditorService = __webpack_require__(95328);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/widget/embeddedCodeEditorWidget.js
var embeddedCodeEditorWidget = __webpack_require__(84373);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var core_position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesController.js + 2 modules
var referencesController = __webpack_require__(1508);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/referencesModel.js
var referencesModel = __webpack_require__(87829);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/resources.js
var resources = __webpack_require__(74926);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js
var extensions = __webpack_require__(74822);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js
var keybinding = __webpack_require__(13112);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js
var keybindingsRegistry = __webpack_require__(85377);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js
var notification = __webpack_require__(73766);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/symbolNavigation.js
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var ctxHasSymbols=new contextkey/* RawContextKey */.uy('hasSymbols',false,(0,nls/* localize */.N)('hasSymbols',"Whether there are symbol locations that can be navigated via keyboard-only."));var ISymbolNavigationService=(0,instantiation/* createDecorator */.yh)('ISymbolNavigationService');var SymbolNavigationService=/*#__PURE__*/function(){function SymbolNavigationService(contextKeyService,_editorService,_notificationService,_keybindingService){_classCallCheck(this,SymbolNavigationService);this._editorService=_editorService;this._notificationService=_notificationService;this._keybindingService=_keybindingService;this._currentModel=undefined;this._currentIdx=-1;this._ignoreEditorChange=false;this._ctxHasSymbols=ctxHasSymbols.bindTo(contextKeyService);}_createClass(SymbolNavigationService,[{key:"reset",value:function reset(){var _a,_b;this._ctxHasSymbols.reset();(_a=this._currentState)===null||_a===void 0?void 0:_a.dispose();(_b=this._currentMessage)===null||_b===void 0?void 0:_b.dispose();this._currentModel=undefined;this._currentIdx=-1;}},{key:"put",value:function put(anchor){var _this=this;var refModel=anchor.parent.parent;if(refModel.references.length<=1){this.reset();return;}this._currentModel=refModel;this._currentIdx=refModel.references.indexOf(anchor);this._ctxHasSymbols.set(true);this._showMessage();var editorState=new EditorState(this._editorService);var listener=editorState.onDidChange(function(_){if(_this._ignoreEditorChange){return;}var editor=_this._editorService.getActiveCodeEditor();if(!editor){return;}var model=editor.getModel();var position=editor.getPosition();if(!model||!position){return;}var seenUri=false;var seenPosition=false;var _iterator=_createForOfIteratorHelper(refModel.references),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var reference=_step.value;if((0,resources/* isEqual */.Xy)(reference.uri,model.uri)){seenUri=true;seenPosition=seenPosition||core_range/* Range.containsPosition */.e.containsPosition(reference.range,position);}else if(seenUri){break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(!seenUri||!seenPosition){_this.reset();}});this._currentState=(0,lifecycle/* combinedDisposable */.F8)(editorState,listener);}},{key:"revealNext",value:function revealNext(source){var _this2=this;if(!this._currentModel){return Promise.resolve();}// get next result and advance
this._currentIdx+=1;this._currentIdx%=this._currentModel.references.length;var reference=this._currentModel.references[this._currentIdx];// status
this._showMessage();// open editor, ignore events while that happens
this._ignoreEditorChange=true;return this._editorService.openCodeEditor({resource:reference.uri,options:{selection:core_range/* Range.collapseToStart */.e.collapseToStart(reference.range),selectionRevealType:3/* NearTopIfOutsideViewport */}},source).finally(function(){_this2._ignoreEditorChange=false;});}},{key:"_showMessage",value:function _showMessage(){var _a;(_a=this._currentMessage)===null||_a===void 0?void 0:_a.dispose();var kb=this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');var message=kb?(0,nls/* localize */.N)('location.kb',"Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,kb.getLabel()):(0,nls/* localize */.N)('location',"Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(message);}}]);return SymbolNavigationService;}();SymbolNavigationService=__decorate([__param(0,contextkey/* IContextKeyService */.i6),__param(1,services_codeEditorService/* ICodeEditorService */.$),__param(2,notification/* INotificationService */.lT),__param(3,keybinding/* IKeybindingService */.d)],SymbolNavigationService);(0,extensions/* registerSingleton */.z)(ISymbolNavigationService,SymbolNavigationService,true);(0,editorExtensions/* registerEditorCommand */.fK)(new(/*#__PURE__*/function(_EditorCommand){_inherits(_class,_EditorCommand);var _super=_createSuper(_class);function _class(){_classCallCheck(this,_class);return _super.call(this,{id:'editor.gotoNextSymbolFromResult',precondition:ctxHasSymbols,kbOpts:{weight:100/* EditorContrib */,primary:70/* F12 */}});}_createClass(_class,[{key:"runEditorCommand",value:function runEditorCommand(accessor,editor){return accessor.get(ISymbolNavigationService).revealNext(editor);}}]);return _class;}(editorExtensions/* EditorCommand */._l))());keybindingsRegistry/* KeybindingsRegistry.registerCommandAndKeybindingRule */.W.registerCommandAndKeybindingRule({id:'editor.gotoNextSymbolFromResult.cancel',weight:100/* EditorContrib */,when:ctxHasSymbols,primary:9/* Escape */,handler:function handler(accessor){accessor.get(ISymbolNavigationService).reset();}});//
var EditorState=/*#__PURE__*/function(){function EditorState(editorService){_classCallCheck(this,EditorState);this._listener=new Map();this._disposables=new lifecycle/* DisposableStore */.SL();this._onDidChange=new common_event/* Emitter */.Q5();this.onDidChange=this._onDidChange.event;this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor,this));this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor,this));editorService.listCodeEditors().forEach(this._onDidAddEditor,this);}_createClass(EditorState,[{key:"dispose",value:function dispose(){this._disposables.dispose();this._onDidChange.dispose();(0,lifecycle/* dispose */.B9)(this._listener.values());}},{key:"_onDidAddEditor",value:function _onDidAddEditor(editor){var _this3=this;this._listener.set(editor,(0,lifecycle/* combinedDisposable */.F8)(editor.onDidChangeCursorPosition(function(_){return _this3._onDidChange.fire({editor:editor});}),editor.onDidChangeModelContent(function(_){return _this3._onDidChange.fire({editor:editor});})));}},{key:"_onDidRemoveEditor",value:function _onDidRemoveEditor(editor){var _a;(_a=this._listener.get(editor))===null||_a===void 0?void 0:_a.dispose();this._listener.delete(editor);}}]);return EditorState;}();EditorState=__decorate([__param(0,services_codeEditorService/* ICodeEditorService */.$)],EditorState);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/message/browser/messageController.js
var messageController = __webpack_require__(57087);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js
var peekView = __webpack_require__(69944);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js
var actions = __webpack_require__(25749);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js
var progress = __webpack_require__(81533);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToSymbol.js
var goToSymbol = __webpack_require__(68434);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToCommands.js
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=goToCommands_getPrototypeOf(object);if(object===null)break;}return object;}function goToCommands_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)goToCommands_setPrototypeOf(subClass,superClass);}function goToCommands_setPrototypeOf(o,p){goToCommands_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return goToCommands_setPrototypeOf(o,p);}function goToCommands_createSuper(Derived){var hasNativeReflectConstruct=goToCommands_isNativeReflectConstruct();return function _createSuperInternal(){var Super=goToCommands_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=goToCommands_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return goToCommands_possibleConstructorReturn(this,result);};}function goToCommands_possibleConstructorReturn(self,call){if(call&&(goToCommands_typeof(call)==="object"||typeof call==="function")){return call;}return goToCommands_assertThisInitialized(self);}function goToCommands_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function goToCommands_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function goToCommands_getPrototypeOf(o){goToCommands_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return goToCommands_getPrototypeOf(o);}function goToCommands_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){goToCommands_typeof=function _typeof(obj){return typeof obj;};}else{goToCommands_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return goToCommands_typeof(obj);}function goToCommands_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function goToCommands_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function goToCommands_createClass(Constructor,protoProps,staticProps){if(protoProps)goToCommands_defineProperties(Constructor.prototype,protoProps);if(staticProps)goToCommands_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var _a,_b,_c,_d,_e,_f,_g,_h;actions/* MenuRegistry.appendMenuItem */.BH.appendMenuItem(actions/* MenuId.EditorContext */.eH.EditorContext,{submenu:actions/* MenuId.EditorContextPeek */.eH.EditorContextPeek,title:nls/* localize */.N('peek.submenu',"Peek"),group:'navigation',order:100});var _goToActionIds=new Set();function registerGoToAction(ctor){var result=new ctor();(0,editorExtensions/* registerInstantiatedEditorAction */.QG)(result);_goToActionIds.add(result.id);return result;}var SymbolNavigationAnchor=/*#__PURE__*/function(){function SymbolNavigationAnchor(model,position){goToCommands_classCallCheck(this,SymbolNavigationAnchor);this.model=model;this.position=position;}goToCommands_createClass(SymbolNavigationAnchor,null,[{key:"is",value:function is(thing){if(!thing||goToCommands_typeof(thing)!=='object'){return false;}if(thing instanceof SymbolNavigationAnchor){return true;}if(core_position/* Position.isIPosition */.L.isIPosition(thing.position)&&thing.model){return true;}return false;}}]);return SymbolNavigationAnchor;}();var SymbolNavigationAction=/*#__PURE__*/function(_EditorAction){goToCommands_inherits(SymbolNavigationAction,_EditorAction);var _super=goToCommands_createSuper(SymbolNavigationAction);function SymbolNavigationAction(configuration,opts){var _this;goToCommands_classCallCheck(this,SymbolNavigationAction);_this=_super.call(this,opts);_this.configuration=configuration;return _this;}goToCommands_createClass(SymbolNavigationAction,[{key:"run",value:function run(accessor,editor,arg){var _this2=this;if(!editor.hasModel()){return Promise.resolve(undefined);}var notificationService=accessor.get(notification/* INotificationService */.lT);var editorService=accessor.get(services_codeEditorService/* ICodeEditorService */.$);var progressService=accessor.get(progress/* IEditorProgressService */.ek);var symbolNavService=accessor.get(ISymbolNavigationService);var model=editor.getModel();var position=editor.getPosition();var anchor=SymbolNavigationAnchor.is(arg)?arg:new SymbolNavigationAnchor(model,position);var cts=new editorState/* EditorStateCancellationTokenSource */.Dl(editor,1/* Value */|4/* Position */);var promise=(0,common_async/* raceCancellation */.eP)(this._getLocationModel(anchor.model,anchor.position,cts.token),cts.token).then(function(references){return __awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var _a,altAction,altActionId,referenceCount,info;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!references||cts.token.isCancellationRequested)){_context.next=2;break;}return _context.abrupt("return");case 2:(0,aria/* alert */.Z9)(references.ariaMessage);if(references.referenceAt(model.uri,position)){altActionId=this._getAlternativeCommand(editor);if(altActionId!==this.id&&_goToActionIds.has(altActionId)){altAction=editor.getAction(altActionId);}}referenceCount=references.references.length;if(!(referenceCount===0)){_context.next=9;break;}// no result -> show message
if(!this.configuration.muteMessage){info=model.getWordAtPosition(position);(_a=messageController/* MessageController.get */.O.get(editor))===null||_a===void 0?void 0:_a.showMessage(this._getNoResultFoundMessage(info),position);}_context.next=14;break;case 9:if(!(referenceCount===1&&altAction)){_context.next=13;break;}// already at the only result, run alternative
altAction.run();_context.next=14;break;case 13:return _context.abrupt("return",this._onResult(editorService,symbolNavService,editor,references));case 14:case"end":return _context.stop();}}},_callee,this);}));},function(err){// report an error
notificationService.error(err);}).finally(function(){cts.dispose();});progressService.showWhile(promise,250);return promise;}},{key:"_onResult",value:function _onResult(editorService,symbolNavService,editor,model){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var gotoLocation,next,peek,targetEditor;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:gotoLocation=this._getGoToPreference(editor);if(!(!(editor instanceof embeddedCodeEditorWidget/* EmbeddedCodeEditorWidget */.H)&&(this.configuration.openInPeek||gotoLocation==='peek'&&model.references.length>1))){_context2.next=5;break;}this._openInPeek(editor,model);_context2.next=12;break;case 5:next=model.firstReference();peek=model.references.length>1&&gotoLocation==='gotoAndPeek';_context2.next=9;return this._openReference(editor,editorService,next,this.configuration.openToSide,!peek);case 9:targetEditor=_context2.sent;if(peek&&targetEditor){this._openInPeek(targetEditor,model);}else{model.dispose();}// keep remaining locations around when using
// 'goto'-mode
if(gotoLocation==='goto'){symbolNavService.put(next);}case 12:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"_openReference",value:function _openReference(editor,editorService,reference,sideBySide,highlight){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var range,targetEditor,modelNow,ids;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// range is the target-selection-range when we have one
// and the fallback is the 'full' range
range=undefined;if((0,languages/* isLocationLink */.vx)(reference)){range=reference.targetSelectionRange;}if(!range){range=reference.range;}if(range){_context3.next=5;break;}return _context3.abrupt("return",undefined);case 5:_context3.next=7;return editorService.openCodeEditor({resource:reference.uri,options:{selection:core_range/* Range.collapseToStart */.e.collapseToStart(range),selectionRevealType:3/* NearTopIfOutsideViewport */}},editor,sideBySide);case 7:targetEditor=_context3.sent;if(targetEditor){_context3.next=10;break;}return _context3.abrupt("return",undefined);case 10:if(highlight){modelNow=targetEditor.getModel();ids=targetEditor.deltaDecorations([],[{range:range,options:{description:'symbol-navigate-action-highlight',className:'symbolHighlight'}}]);setTimeout(function(){if(targetEditor.getModel()===modelNow){targetEditor.deltaDecorations(ids,[]);}},350);}return _context3.abrupt("return",targetEditor);case 12:case"end":return _context3.stop();}}},_callee3);}));}},{key:"_openInPeek",value:function _openInPeek(target,model){var controller=referencesController/* ReferencesController.get */.J.get(target);if(controller&&target.hasModel()){controller.toggleWidget(target.getSelection(),(0,common_async/* createCancelablePromise */.PG)(function(_){return Promise.resolve(model);}),this.configuration.openInPeek);}else{model.dispose();}}}]);return SymbolNavigationAction;}(editorExtensions/* EditorAction */.R6);//#region --- DEFINITION
var DefinitionAction=/*#__PURE__*/function(_SymbolNavigationActi){goToCommands_inherits(DefinitionAction,_SymbolNavigationActi);var _super2=goToCommands_createSuper(DefinitionAction);function DefinitionAction(){goToCommands_classCallCheck(this,DefinitionAction);return _super2.apply(this,arguments);}goToCommands_createClass(DefinitionAction,[{key:"_getLocationModel",value:function _getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.t0=referencesModel/* ReferencesModel */.oQ;_context4.next=3;return (0,goToSymbol/* getDefinitionsAtPosition */.nD)(model,position,token);case 3:_context4.t1=_context4.sent;_context4.t2=nls/* localize */.N('def.title','Definitions');return _context4.abrupt("return",new _context4.t0(_context4.t1,_context4.t2));case 6:case"end":return _context4.stop();}}},_callee4);}));}},{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info&&info.word?nls/* localize */.N('noResultWord',"No definition found for '{0}'",info.word):nls/* localize */.N('generic.noResults',"No definition found");}},{key:"_getAlternativeCommand",value:function _getAlternativeCommand(editor){return editor.getOption(51/* gotoLocation */).alternativeDefinitionCommand;}},{key:"_getGoToPreference",value:function _getGoToPreference(editor){return editor.getOption(51/* gotoLocation */).multipleDefinitions;}}]);return DefinitionAction;}(SymbolNavigationAction);var goToDefinitionKb=platform/* isWeb */.$L&&!browser.isStandalone?2048/* CtrlCmd */|70/* F12 */:70/* F12 */;registerGoToAction((_a=/*#__PURE__*/function(_DefinitionAction){goToCommands_inherits(GoToDefinitionAction,_DefinitionAction);var _super3=goToCommands_createSuper(GoToDefinitionAction);function GoToDefinitionAction(){var _this3;goToCommands_classCallCheck(this,GoToDefinitionAction);_this3=_super3.call(this,{openToSide:false,openInPeek:false,muteMessage:false},{id:GoToDefinitionAction.id,label:nls/* localize */.N('actions.goToDecl.label',"Go to Definition"),alias:'Go to Definition',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasDefinitionProvider */.u.hasDefinitionProvider,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:goToDefinitionKb,weight:100/* EditorContrib */},contextMenuOpts:{group:'navigation',order:1.1}});commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('editor.action.goToDeclaration',GoToDefinitionAction.id);return _this3;}return GoToDefinitionAction;}(DefinitionAction),_a.id='editor.action.revealDefinition',_a));registerGoToAction((_b=/*#__PURE__*/function(_DefinitionAction2){goToCommands_inherits(OpenDefinitionToSideAction,_DefinitionAction2);var _super4=goToCommands_createSuper(OpenDefinitionToSideAction);function OpenDefinitionToSideAction(){var _this4;goToCommands_classCallCheck(this,OpenDefinitionToSideAction);_this4=_super4.call(this,{openToSide:true,openInPeek:false,muteMessage:false},{id:OpenDefinitionToSideAction.id,label:nls/* localize */.N('actions.goToDeclToSide.label',"Open Definition to the Side"),alias:'Open Definition to the Side',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasDefinitionProvider */.u.hasDefinitionProvider,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,goToDefinitionKb),weight:100/* EditorContrib */}});commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('editor.action.openDeclarationToTheSide',OpenDefinitionToSideAction.id);return _this4;}return OpenDefinitionToSideAction;}(DefinitionAction),_b.id='editor.action.revealDefinitionAside',_b));registerGoToAction((_c=/*#__PURE__*/function(_DefinitionAction3){goToCommands_inherits(PeekDefinitionAction,_DefinitionAction3);var _super5=goToCommands_createSuper(PeekDefinitionAction);function PeekDefinitionAction(){var _this5;goToCommands_classCallCheck(this,PeekDefinitionAction);_this5=_super5.call(this,{openToSide:false,openInPeek:true,muteMessage:false},{id:PeekDefinitionAction.id,label:nls/* localize */.N('actions.previewDecl.label',"Peek Definition"),alias:'Peek Definition',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasDefinitionProvider */.u.hasDefinitionProvider,peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:512/* Alt */|70/* F12 */,linux:{primary:2048/* CtrlCmd */|1024/* Shift */|68/* F10 */},weight:100/* EditorContrib */},contextMenuOpts:{menuId:actions/* MenuId.EditorContextPeek */.eH.EditorContextPeek,group:'peek',order:2}});commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('editor.action.previewDeclaration',PeekDefinitionAction.id);return _this5;}return PeekDefinitionAction;}(DefinitionAction),_c.id='editor.action.peekDefinition',_c));//#endregion
//#region --- DECLARATION
var DeclarationAction=/*#__PURE__*/function(_SymbolNavigationActi2){goToCommands_inherits(DeclarationAction,_SymbolNavigationActi2);var _super6=goToCommands_createSuper(DeclarationAction);function DeclarationAction(){goToCommands_classCallCheck(this,DeclarationAction);return _super6.apply(this,arguments);}goToCommands_createClass(DeclarationAction,[{key:"_getLocationModel",value:function _getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee5(){return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.t0=referencesModel/* ReferencesModel */.oQ;_context5.next=3;return (0,goToSymbol/* getDeclarationsAtPosition */.zq)(model,position,token);case 3:_context5.t1=_context5.sent;_context5.t2=nls/* localize */.N('decl.title','Declarations');return _context5.abrupt("return",new _context5.t0(_context5.t1,_context5.t2));case 6:case"end":return _context5.stop();}}},_callee5);}));}},{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info&&info.word?nls/* localize */.N('decl.noResultWord',"No declaration found for '{0}'",info.word):nls/* localize */.N('decl.generic.noResults',"No declaration found");}},{key:"_getAlternativeCommand",value:function _getAlternativeCommand(editor){return editor.getOption(51/* gotoLocation */).alternativeDeclarationCommand;}},{key:"_getGoToPreference",value:function _getGoToPreference(editor){return editor.getOption(51/* gotoLocation */).multipleDeclarations;}}]);return DeclarationAction;}(SymbolNavigationAction);registerGoToAction((_d=/*#__PURE__*/function(_DeclarationAction){goToCommands_inherits(GoToDeclarationAction,_DeclarationAction);var _super7=goToCommands_createSuper(GoToDeclarationAction);function GoToDeclarationAction(){goToCommands_classCallCheck(this,GoToDeclarationAction);return _super7.call(this,{openToSide:false,openInPeek:false,muteMessage:false},{id:GoToDeclarationAction.id,label:nls/* localize */.N('actions.goToDeclaration.label',"Go to Declaration"),alias:'Go to Declaration',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasDeclarationProvider */.u.hasDeclarationProvider,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:'navigation',order:1.3}});}goToCommands_createClass(GoToDeclarationAction,[{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info&&info.word?nls/* localize */.N('decl.noResultWord',"No declaration found for '{0}'",info.word):nls/* localize */.N('decl.generic.noResults',"No declaration found");}}]);return GoToDeclarationAction;}(DeclarationAction),_d.id='editor.action.revealDeclaration',_d));registerGoToAction(/*#__PURE__*/function(_DeclarationAction2){goToCommands_inherits(PeekDeclarationAction,_DeclarationAction2);var _super8=goToCommands_createSuper(PeekDeclarationAction);function PeekDeclarationAction(){goToCommands_classCallCheck(this,PeekDeclarationAction);return _super8.call(this,{openToSide:false,openInPeek:true,muteMessage:false},{id:'editor.action.peekDeclaration',label:nls/* localize */.N('actions.peekDecl.label',"Peek Declaration"),alias:'Peek Declaration',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasDeclarationProvider */.u.hasDeclarationProvider,peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:actions/* MenuId.EditorContextPeek */.eH.EditorContextPeek,group:'peek',order:3}});}return PeekDeclarationAction;}(DeclarationAction));//#endregion
//#region --- TYPE DEFINITION
var TypeDefinitionAction=/*#__PURE__*/function(_SymbolNavigationActi3){goToCommands_inherits(TypeDefinitionAction,_SymbolNavigationActi3);var _super9=goToCommands_createSuper(TypeDefinitionAction);function TypeDefinitionAction(){goToCommands_classCallCheck(this,TypeDefinitionAction);return _super9.apply(this,arguments);}goToCommands_createClass(TypeDefinitionAction,[{key:"_getLocationModel",value:function _getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee6(){return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.t0=referencesModel/* ReferencesModel */.oQ;_context6.next=3;return (0,goToSymbol/* getTypeDefinitionsAtPosition */.L3)(model,position,token);case 3:_context6.t1=_context6.sent;_context6.t2=nls/* localize */.N('typedef.title','Type Definitions');return _context6.abrupt("return",new _context6.t0(_context6.t1,_context6.t2));case 6:case"end":return _context6.stop();}}},_callee6);}));}},{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info&&info.word?nls/* localize */.N('goToTypeDefinition.noResultWord',"No type definition found for '{0}'",info.word):nls/* localize */.N('goToTypeDefinition.generic.noResults',"No type definition found");}},{key:"_getAlternativeCommand",value:function _getAlternativeCommand(editor){return editor.getOption(51/* gotoLocation */).alternativeTypeDefinitionCommand;}},{key:"_getGoToPreference",value:function _getGoToPreference(editor){return editor.getOption(51/* gotoLocation */).multipleTypeDefinitions;}}]);return TypeDefinitionAction;}(SymbolNavigationAction);registerGoToAction((_e=/*#__PURE__*/function(_TypeDefinitionAction){goToCommands_inherits(GoToTypeDefinitionAction,_TypeDefinitionAction);var _super10=goToCommands_createSuper(GoToTypeDefinitionAction);function GoToTypeDefinitionAction(){goToCommands_classCallCheck(this,GoToTypeDefinitionAction);return _super10.call(this,{openToSide:false,openInPeek:false,muteMessage:false},{id:GoToTypeDefinitionAction.ID,label:nls/* localize */.N('actions.goToTypeDefinition.label',"Go to Type Definition"),alias:'Go to Type Definition',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasTypeDefinitionProvider */.u.hasTypeDefinitionProvider,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:0,weight:100/* EditorContrib */},contextMenuOpts:{group:'navigation',order:1.4}});}return GoToTypeDefinitionAction;}(TypeDefinitionAction),_e.ID='editor.action.goToTypeDefinition',_e));registerGoToAction((_f=/*#__PURE__*/function(_TypeDefinitionAction2){goToCommands_inherits(PeekTypeDefinitionAction,_TypeDefinitionAction2);var _super11=goToCommands_createSuper(PeekTypeDefinitionAction);function PeekTypeDefinitionAction(){goToCommands_classCallCheck(this,PeekTypeDefinitionAction);return _super11.call(this,{openToSide:false,openInPeek:true,muteMessage:false},{id:PeekTypeDefinitionAction.ID,label:nls/* localize */.N('actions.peekTypeDefinition.label',"Peek Type Definition"),alias:'Peek Type Definition',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasTypeDefinitionProvider */.u.hasTypeDefinitionProvider,peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:actions/* MenuId.EditorContextPeek */.eH.EditorContextPeek,group:'peek',order:4}});}return PeekTypeDefinitionAction;}(TypeDefinitionAction),_f.ID='editor.action.peekTypeDefinition',_f));//#endregion
//#region --- IMPLEMENTATION
var ImplementationAction=/*#__PURE__*/function(_SymbolNavigationActi4){goToCommands_inherits(ImplementationAction,_SymbolNavigationActi4);var _super12=goToCommands_createSuper(ImplementationAction);function ImplementationAction(){goToCommands_classCallCheck(this,ImplementationAction);return _super12.apply(this,arguments);}goToCommands_createClass(ImplementationAction,[{key:"_getLocationModel",value:function _getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee7(){return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.t0=referencesModel/* ReferencesModel */.oQ;_context7.next=3;return (0,goToSymbol/* getImplementationsAtPosition */.f4)(model,position,token);case 3:_context7.t1=_context7.sent;_context7.t2=nls/* localize */.N('impl.title','Implementations');return _context7.abrupt("return",new _context7.t0(_context7.t1,_context7.t2));case 6:case"end":return _context7.stop();}}},_callee7);}));}},{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info&&info.word?nls/* localize */.N('goToImplementation.noResultWord',"No implementation found for '{0}'",info.word):nls/* localize */.N('goToImplementation.generic.noResults',"No implementation found");}},{key:"_getAlternativeCommand",value:function _getAlternativeCommand(editor){return editor.getOption(51/* gotoLocation */).alternativeImplementationCommand;}},{key:"_getGoToPreference",value:function _getGoToPreference(editor){return editor.getOption(51/* gotoLocation */).multipleImplementations;}}]);return ImplementationAction;}(SymbolNavigationAction);registerGoToAction((_g=/*#__PURE__*/function(_ImplementationAction){goToCommands_inherits(GoToImplementationAction,_ImplementationAction);var _super13=goToCommands_createSuper(GoToImplementationAction);function GoToImplementationAction(){goToCommands_classCallCheck(this,GoToImplementationAction);return _super13.call(this,{openToSide:false,openInPeek:false,muteMessage:false},{id:GoToImplementationAction.ID,label:nls/* localize */.N('actions.goToImplementation.label',"Go to Implementations"),alias:'Go to Implementations',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasImplementationProvider */.u.hasImplementationProvider,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|70/* F12 */,weight:100/* EditorContrib */},contextMenuOpts:{group:'navigation',order:1.45}});}return GoToImplementationAction;}(ImplementationAction),_g.ID='editor.action.goToImplementation',_g));registerGoToAction((_h=/*#__PURE__*/function(_ImplementationAction2){goToCommands_inherits(PeekImplementationAction,_ImplementationAction2);var _super14=goToCommands_createSuper(PeekImplementationAction);function PeekImplementationAction(){goToCommands_classCallCheck(this,PeekImplementationAction);return _super14.call(this,{openToSide:false,openInPeek:true,muteMessage:false},{id:PeekImplementationAction.ID,label:nls/* localize */.N('actions.peekImplementation.label',"Peek Implementations"),alias:'Peek Implementations',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasImplementationProvider */.u.hasImplementationProvider,peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|70/* F12 */,weight:100/* EditorContrib */},contextMenuOpts:{menuId:actions/* MenuId.EditorContextPeek */.eH.EditorContextPeek,group:'peek',order:5}});}return PeekImplementationAction;}(ImplementationAction),_h.ID='editor.action.peekImplementation',_h));//#endregion
//#region --- REFERENCES
var ReferencesAction=/*#__PURE__*/function(_SymbolNavigationActi5){goToCommands_inherits(ReferencesAction,_SymbolNavigationActi5);var _super15=goToCommands_createSuper(ReferencesAction);function ReferencesAction(){goToCommands_classCallCheck(this,ReferencesAction);return _super15.apply(this,arguments);}goToCommands_createClass(ReferencesAction,[{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info?nls/* localize */.N('references.no',"No references found for '{0}'",info.word):nls/* localize */.N('references.noGeneric',"No references found");}},{key:"_getAlternativeCommand",value:function _getAlternativeCommand(editor){return editor.getOption(51/* gotoLocation */).alternativeReferenceCommand;}},{key:"_getGoToPreference",value:function _getGoToPreference(editor){return editor.getOption(51/* gotoLocation */).multipleReferences;}}]);return ReferencesAction;}(SymbolNavigationAction);registerGoToAction(/*#__PURE__*/function(_ReferencesAction){goToCommands_inherits(GoToReferencesAction,_ReferencesAction);var _super16=goToCommands_createSuper(GoToReferencesAction);function GoToReferencesAction(){goToCommands_classCallCheck(this,GoToReferencesAction);return _super16.call(this,{openToSide:false,openInPeek:false,muteMessage:false},{id:'editor.action.goToReferences',label:nls/* localize */.N('goToReferences.label',"Go to References"),alias:'Go to References',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasReferenceProvider */.u.hasReferenceProvider,peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:1024/* Shift */|70/* F12 */,weight:100/* EditorContrib */},contextMenuOpts:{group:'navigation',order:1.45}});}goToCommands_createClass(GoToReferencesAction,[{key:"_getLocationModel",value:function _getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee8(){return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.t0=referencesModel/* ReferencesModel */.oQ;_context8.next=3;return (0,goToSymbol/* getReferencesAtPosition */.aA)(model,position,true,token);case 3:_context8.t1=_context8.sent;_context8.t2=nls/* localize */.N('ref.title','References');return _context8.abrupt("return",new _context8.t0(_context8.t1,_context8.t2));case 6:case"end":return _context8.stop();}}},_callee8);}));}}]);return GoToReferencesAction;}(ReferencesAction));registerGoToAction(/*#__PURE__*/function(_ReferencesAction2){goToCommands_inherits(PeekReferencesAction,_ReferencesAction2);var _super17=goToCommands_createSuper(PeekReferencesAction);function PeekReferencesAction(){goToCommands_classCallCheck(this,PeekReferencesAction);return _super17.call(this,{openToSide:false,openInPeek:true,muteMessage:false},{id:'editor.action.referenceSearch.trigger',label:nls/* localize */.N('references.action.label',"Peek References"),alias:'Peek References',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.hasReferenceProvider */.u.hasReferenceProvider,peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:actions/* MenuId.EditorContextPeek */.eH.EditorContextPeek,group:'peek',order:6}});}goToCommands_createClass(PeekReferencesAction,[{key:"_getLocationModel",value:function _getLocationModel(model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee9(){return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.t0=referencesModel/* ReferencesModel */.oQ;_context9.next=3;return (0,goToSymbol/* getReferencesAtPosition */.aA)(model,position,false,token);case 3:_context9.t1=_context9.sent;_context9.t2=nls/* localize */.N('ref.title','References');return _context9.abrupt("return",new _context9.t0(_context9.t1,_context9.t2));case 6:case"end":return _context9.stop();}}},_callee9);}));}}]);return PeekReferencesAction;}(ReferencesAction));//#endregion
//#region --- GENERIC goto symbols command
var GenericGoToLocationAction=/*#__PURE__*/function(_SymbolNavigationActi6){goToCommands_inherits(GenericGoToLocationAction,_SymbolNavigationActi6);var _super18=goToCommands_createSuper(GenericGoToLocationAction);function GenericGoToLocationAction(config,_references,_gotoMultipleBehaviour){var _this6;goToCommands_classCallCheck(this,GenericGoToLocationAction);_this6=_super18.call(this,config,{id:'editor.action.goToLocation',label:nls/* localize */.N('label.generic',"Go to Any Symbol"),alias:'Go to Any Symbol',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(peekView/* PeekContext.notInPeekEditor */.Jy.notInPeekEditor,editorContextKeys/* EditorContextKeys.isInWalkThroughSnippet.toNegated */.u.isInWalkThroughSnippet.toNegated())});_this6._references=_references;_this6._gotoMultipleBehaviour=_gotoMultipleBehaviour;return _this6;}goToCommands_createClass(GenericGoToLocationAction,[{key:"_getLocationModel",value:function _getLocationModel(_model,_position,_token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee10(){return regenerator_default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",new referencesModel/* ReferencesModel */.oQ(this._references,nls/* localize */.N('generic.title','Locations')));case 1:case"end":return _context10.stop();}}},_callee10,this);}));}},{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return info&&nls/* localize */.N('generic.noResult',"No results for '{0}'",info.word)||'';}},{key:"_getGoToPreference",value:function _getGoToPreference(editor){var _a;return(_a=this._gotoMultipleBehaviour)!==null&&_a!==void 0?_a:editor.getOption(51/* gotoLocation */).multipleReferences;}},{key:"_getAlternativeCommand",value:function _getAlternativeCommand(){return'';}}]);return GenericGoToLocationAction;}(SymbolNavigationAction);commands/* CommandsRegistry.registerCommand */.P0.registerCommand({id:'editor.action.goToLocations',description:{description:'Go to locations from a position in a file',args:[{name:'uri',description:'The text document in which to start',constraint:uri/* URI */.o},{name:'position',description:'The position at which to start',constraint:core_position/* Position.isIPosition */.L.isIPosition},{name:'locations',description:'An array of locations.',constraint:Array},{name:'multiple',description:'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'},{name:'noResultsMessage',description:'Human readable message that shows when locations is empty.'}]},handler:function handler(accessor,resource,position,references,multiple,noResultsMessage,openInPeek){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee11(){var editorService,editor;return regenerator_default().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:(0,types/* assertType */.p_)(uri/* URI.isUri */.o.isUri(resource));(0,types/* assertType */.p_)(core_position/* Position.isIPosition */.L.isIPosition(position));(0,types/* assertType */.p_)(Array.isArray(references));(0,types/* assertType */.p_)(typeof multiple==='undefined'||typeof multiple==='string');(0,types/* assertType */.p_)(typeof openInPeek==='undefined'||typeof openInPeek==='boolean');editorService=accessor.get(services_codeEditorService/* ICodeEditorService */.$);_context11.next=8;return editorService.openCodeEditor({resource:resource},editorService.getFocusedCodeEditor());case 8:editor=_context11.sent;if(!(0,editorBrowser/* isCodeEditor */.CL)(editor)){_context11.next=13;break;}editor.setPosition(position);editor.revealPositionInCenterIfOutsideViewport(position,0/* Smooth */);return _context11.abrupt("return",editor.invokeWithinContext(function(accessor){var command=new(/*#__PURE__*/function(_GenericGoToLocationA){goToCommands_inherits(_class,_GenericGoToLocationA);var _super19=goToCommands_createSuper(_class);function _class(){goToCommands_classCallCheck(this,_class);return _super19.apply(this,arguments);}goToCommands_createClass(_class,[{key:"_getNoResultFoundMessage",value:function _getNoResultFoundMessage(info){return noResultsMessage||_get(goToCommands_getPrototypeOf(_class.prototype),"_getNoResultFoundMessage",this).call(this,info);}}]);return _class;}(GenericGoToLocationAction))({muteMessage:!Boolean(noResultsMessage),openInPeek:Boolean(openInPeek),openToSide:false},references,multiple);accessor.get(instantiation/* IInstantiationService */.TG).invokeFunction(command.run.bind(command),editor);}));case 13:case"end":return _context11.stop();}}},_callee11);}));}});commands/* CommandsRegistry.registerCommand */.P0.registerCommand({id:'editor.action.peekLocations',description:{description:'Peek locations from a position in a file',args:[{name:'uri',description:'The text document in which to start',constraint:uri/* URI */.o},{name:'position',description:'The position at which to start',constraint:core_position/* Position.isIPosition */.L.isIPosition},{name:'locations',description:'An array of locations.',constraint:Array},{name:'multiple',description:'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'}]},handler:function handler(accessor,resource,position,references,multiple){return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee12(){return regenerator_default().wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:accessor.get(commands/* ICommandService */.Hy).executeCommand('editor.action.goToLocations',resource,position,references,multiple,undefined,true);case 1:case"end":return _context12.stop();}}},_callee12);}));}});//#endregion
//#region --- REFERENCE search special commands
commands/* CommandsRegistry.registerCommand */.P0.registerCommand({id:'editor.action.findReferences',handler:function handler(accessor,resource,position){(0,types/* assertType */.p_)(uri/* URI.isUri */.o.isUri(resource));(0,types/* assertType */.p_)(core_position/* Position.isIPosition */.L.isIPosition(position));var codeEditorService=accessor.get(services_codeEditorService/* ICodeEditorService */.$);return codeEditorService.openCodeEditor({resource:resource},codeEditorService.getFocusedCodeEditor()).then(function(control){if(!(0,editorBrowser/* isCodeEditor */.CL)(control)||!control.hasModel()){return undefined;}var controller=referencesController/* ReferencesController.get */.J.get(control);if(!controller){return undefined;}var references=(0,common_async/* createCancelablePromise */.PG)(function(token){return (0,goToSymbol/* getReferencesAtPosition */.aA)(control.getModel(),core_position/* Position.lift */.L.lift(position),false,token).then(function(references){return new referencesModel/* ReferencesModel */.oQ(references,nls/* localize */.N('ref.title','References'));});});var range=new core_range/* Range */.e(position.lineNumber,position.column,position.lineNumber,position.column);return Promise.resolve(controller.toggleWidget(range,references,false));});}});// use NEW command
commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('editor.action.showReferences','editor.action.peekLocations');//#endregion
// -- unconditionally register goto-action
actions/* MenuRegistry.appendMenuItems */.BH.appendMenuItems([{id:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,item:{command:{id:'editor.action.revealDefinition',title:nls/* localize */.N({key:'miGotoDefinition',comment:['&& denotes a mnemonic']},"Go to &&Definition")},group:'4_symbol_nav',order:2}},{id:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,item:{command:{id:'editor.action.revealDeclaration',title:nls/* localize */.N({key:'miGotoDeclaration',comment:['&& denotes a mnemonic']},"Go to &&Declaration")},group:'4_symbol_nav',order:3}},{id:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,item:{command:{id:'editor.action.goToTypeDefinition',title:nls/* localize */.N({key:'miGotoTypeDefinition',comment:['&& denotes a mnemonic']},"Go to &&Type Definition")},group:'4_symbol_nav',order:3}},{id:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,item:{command:{id:'editor.action.goToImplementation',title:nls/* localize */.N({key:'miGotoImplementation',comment:['&& denotes a mnemonic']},"Go to &&Implementations")},group:'4_symbol_nav',order:4}},{id:actions/* MenuId.MenubarGoMenu */.eH.MenubarGoMenu,item:{command:{id:'editor.action.goToReferences',title:nls/* localize */.N({key:'miGotoReference',comment:['&& denotes a mnemonic']},"Go to &&References")},group:'4_symbol_nav',order:5}}]);

/***/ }),

/***/ 68434:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "L3": () => (/* binding */ getTypeDefinitionsAtPosition),
/* harmony export */   "aA": () => (/* binding */ getReferencesAtPosition),
/* harmony export */   "f4": () => (/* binding */ getImplementationsAtPosition),
/* harmony export */   "nD": () => (/* binding */ getDefinitionsAtPosition),
/* harmony export */   "zq": () => (/* binding */ getDeclarationsAtPosition)
/* harmony export */ });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82643);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32314);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(79098);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(98480);
/* harmony import */ var _referencesModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87829);
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function getLocationLinks(model,position,registry,provide){var provider=registry.ordered(model);// get results
var promises=provider.map(function(provider){return Promise.resolve(provide(provider,model,position)).then(undefined,function(err){(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_2__/* .onUnexpectedExternalError */ .Cp)(err);return undefined;});});return Promise.all(promises).then(function(values){var result=[];var _iterator=_createForOfIteratorHelper(values),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;if(Array.isArray(value)){result.push.apply(result,_toConsumableArray(value));}else if(value){result.push(value);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;});}function getDefinitionsAtPosition(model,position,token){return getLocationLinks(model,position,_common_languages_js__WEBPACK_IMPORTED_MODULE_4__/* .DefinitionProviderRegistry */ .Ct,function(provider,model,position){return provider.provideDefinition(model,position,token);});}function getDeclarationsAtPosition(model,position,token){return getLocationLinks(model,position,_common_languages_js__WEBPACK_IMPORTED_MODULE_4__/* .DeclarationProviderRegistry */ .RN,function(provider,model,position){return provider.provideDeclaration(model,position,token);});}function getImplementationsAtPosition(model,position,token){return getLocationLinks(model,position,_common_languages_js__WEBPACK_IMPORTED_MODULE_4__/* .ImplementationProviderRegistry */ .vI,function(provider,model,position){return provider.provideImplementation(model,position,token);});}function getTypeDefinitionsAtPosition(model,position,token){return getLocationLinks(model,position,_common_languages_js__WEBPACK_IMPORTED_MODULE_4__/* .TypeDefinitionProviderRegistry */ .tA,function(provider,model,position){return provider.provideTypeDefinition(model,position,token);});}function getReferencesAtPosition(model,position,compact,token){var _this=this;return getLocationLinks(model,position,_common_languages_js__WEBPACK_IMPORTED_MODULE_4__/* .ReferenceProviderRegistry */ .FL,function(provider,model,position){return __awaiter(_this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var result,resultWithoutDeclaration;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return provider.provideReferences(model,position,{includeDeclaration:true},token);case 2:result=_context.sent;if(!(!compact||!result||result.length!==2)){_context.next=5;break;}return _context.abrupt("return",result);case 5:_context.next=7;return provider.provideReferences(model,position,{includeDeclaration:false},token);case 7:resultWithoutDeclaration=_context.sent;if(!(resultWithoutDeclaration&&resultWithoutDeclaration.length===1)){_context.next=10;break;}return _context.abrupt("return",resultWithoutDeclaration);case 10:return _context.abrupt("return",result);case 11:case"end":return _context.stop();}}},_callee);}));});}// -- API commands ----
function _sortedAndDeduped(callback){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee2(){var rawLinks,model,modelLinks;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return callback();case 2:rawLinks=_context2.sent;model=new _referencesModel_js__WEBPACK_IMPORTED_MODULE_5__/* .ReferencesModel */ .oQ(rawLinks,'');modelLinks=model.references.map(function(ref){return ref.link;});model.dispose();return _context2.abrupt("return",modelLinks);case 7:case"end":return _context2.stop();}}},_callee2);}));}(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__/* .registerModelAndPositionCommand */ .sb)('_executeDefinitionProvider',function(model,position){return _sortedAndDeduped(function(){return getDefinitionsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None);});});(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__/* .registerModelAndPositionCommand */ .sb)('_executeDeclarationProvider',function(model,position){return _sortedAndDeduped(function(){return getDeclarationsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None);});});(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__/* .registerModelAndPositionCommand */ .sb)('_executeImplementationProvider',function(model,position){return _sortedAndDeduped(function(){return getImplementationsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None);});});(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__/* .registerModelAndPositionCommand */ .sb)('_executeTypeDefinitionProvider',function(model,position){return _sortedAndDeduped(function(){return getTypeDefinitionsAtPosition(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None);});});(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_3__/* .registerModelAndPositionCommand */ .sb)('_executeReferenceProvider',function(model,position){return _sortedAndDeduped(function(){return getReferencesAtPosition(model,position,false,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_1__/* .CancellationToken.None */ .T.None);});});

/***/ }),

/***/ 16161:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "yN": () => (/* binding */ ClickLinkGesture)
/* harmony export */ });
/* unused harmony exports ClickLinkMouseEvent, ClickLinkKeyboardEvent, ClickLinkOptions */
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19860);
/* harmony import */ var _base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63638);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function hasModifier(e,modifier){return!!e[modifier];}/**
 * An event that encapsulates the various trigger modifiers logic needed for go to definition.
 */var ClickLinkMouseEvent=function ClickLinkMouseEvent(source,opts){_classCallCheck(this,ClickLinkMouseEvent);this.target=source.target;this.hasTriggerModifier=hasModifier(source.event,opts.triggerModifier);this.hasSideBySideModifier=hasModifier(source.event,opts.triggerSideBySideModifier);this.isNoneOrSingleMouseDown=source.event.detail<=1;};/**
 * An event that encapsulates the various trigger modifiers logic needed for go to definition.
 */var ClickLinkKeyboardEvent=function ClickLinkKeyboardEvent(source,opts){_classCallCheck(this,ClickLinkKeyboardEvent);this.keyCodeIsTriggerKey=source.keyCode===opts.triggerKey;this.keyCodeIsSideBySideKey=source.keyCode===opts.triggerSideBySideKey;this.hasTriggerModifier=hasModifier(source,opts.triggerModifier);};var ClickLinkOptions=/*#__PURE__*/function(){function ClickLinkOptions(triggerKey,triggerModifier,triggerSideBySideKey,triggerSideBySideModifier){_classCallCheck(this,ClickLinkOptions);this.triggerKey=triggerKey;this.triggerModifier=triggerModifier;this.triggerSideBySideKey=triggerSideBySideKey;this.triggerSideBySideModifier=triggerSideBySideModifier;}_createClass(ClickLinkOptions,[{key:"equals",value:function equals(other){return this.triggerKey===other.triggerKey&&this.triggerModifier===other.triggerModifier&&this.triggerSideBySideKey===other.triggerSideBySideKey&&this.triggerSideBySideModifier===other.triggerSideBySideModifier;}}]);return ClickLinkOptions;}();function createOptions(multiCursorModifier){if(multiCursorModifier==='altKey'){if(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__/* .isMacintosh */ .dz){return new ClickLinkOptions(57/* Meta */,'metaKey',6/* Alt */,'altKey');}return new ClickLinkOptions(5/* Ctrl */,'ctrlKey',6/* Alt */,'altKey');}if(_base_common_platform_js__WEBPACK_IMPORTED_MODULE_2__/* .isMacintosh */ .dz){return new ClickLinkOptions(6/* Alt */,'altKey',57/* Meta */,'metaKey');}return new ClickLinkOptions(6/* Alt */,'altKey',5/* Ctrl */,'ctrlKey');}var ClickLinkGesture=/*#__PURE__*/function(_Disposable){_inherits(ClickLinkGesture,_Disposable);var _super=_createSuper(ClickLinkGesture);function ClickLinkGesture(editor){var _this;_classCallCheck(this,ClickLinkGesture);_this=_super.call(this);_this._onMouseMoveOrRelevantKeyDown=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this.onMouseMoveOrRelevantKeyDown=_this._onMouseMoveOrRelevantKeyDown.event;_this._onExecute=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this.onExecute=_this._onExecute.event;_this._onCancel=_this._register(new _base_common_event_js__WEBPACK_IMPORTED_MODULE_0__/* .Emitter */ .Q5());_this.onCancel=_this._onCancel.event;_this._editor=editor;_this._opts=createOptions(_this._editor.getOption(70/* multiCursorModifier */));_this._lastMouseMoveEvent=null;_this._hasTriggerKeyOnMouseDown=false;_this._lineNumberOnMouseDown=0;_this._register(_this._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(70/* multiCursorModifier */)){var newOpts=createOptions(_this._editor.getOption(70/* multiCursorModifier */));if(_this._opts.equals(newOpts)){return;}_this._opts=newOpts;_this._lastMouseMoveEvent=null;_this._hasTriggerKeyOnMouseDown=false;_this._lineNumberOnMouseDown=0;_this._onCancel.fire();}}));_this._register(_this._editor.onMouseMove(function(e){return _this._onEditorMouseMove(new ClickLinkMouseEvent(e,_this._opts));}));_this._register(_this._editor.onMouseDown(function(e){return _this._onEditorMouseDown(new ClickLinkMouseEvent(e,_this._opts));}));_this._register(_this._editor.onMouseUp(function(e){return _this._onEditorMouseUp(new ClickLinkMouseEvent(e,_this._opts));}));_this._register(_this._editor.onKeyDown(function(e){return _this._onEditorKeyDown(new ClickLinkKeyboardEvent(e,_this._opts));}));_this._register(_this._editor.onKeyUp(function(e){return _this._onEditorKeyUp(new ClickLinkKeyboardEvent(e,_this._opts));}));_this._register(_this._editor.onMouseDrag(function(){return _this._resetHandler();}));_this._register(_this._editor.onDidChangeCursorSelection(function(e){return _this._onDidChangeCursorSelection(e);}));_this._register(_this._editor.onDidChangeModel(function(e){return _this._resetHandler();}));_this._register(_this._editor.onDidChangeModelContent(function(){return _this._resetHandler();}));_this._register(_this._editor.onDidScrollChange(function(e){if(e.scrollTopChanged||e.scrollLeftChanged){_this._resetHandler();}}));return _this;}_createClass(ClickLinkGesture,[{key:"_onDidChangeCursorSelection",value:function _onDidChangeCursorSelection(e){if(e.selection&&e.selection.startColumn!==e.selection.endColumn){this._resetHandler();// immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)
}}},{key:"_onEditorMouseMove",value:function _onEditorMouseMove(mouseEvent){this._lastMouseMoveEvent=mouseEvent;this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent,null]);}},{key:"_onEditorMouseDown",value:function _onEditorMouseDown(mouseEvent){// We need to record if we had the trigger key on mouse down because someone might select something in the editor
// holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then
// release the mouse button without wanting to do the navigation.
// With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.
this._hasTriggerKeyOnMouseDown=mouseEvent.hasTriggerModifier;this._lineNumberOnMouseDown=mouseEvent.target.position?mouseEvent.target.position.lineNumber:0;}},{key:"_onEditorMouseUp",value:function _onEditorMouseUp(mouseEvent){var currentLineNumber=mouseEvent.target.position?mouseEvent.target.position.lineNumber:0;if(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===currentLineNumber){this._onExecute.fire(mouseEvent);}}},{key:"_onEditorKeyDown",value:function _onEditorKeyDown(e){if(this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey// User just pressed Ctrl/Cmd (normal goto definition)
||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier// User pressed Ctrl/Cmd+Alt (goto definition to the side)
)){this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]);}else if(e.hasTriggerModifier){this._onCancel.fire();// remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration
}}},{key:"_onEditorKeyUp",value:function _onEditorKeyUp(e){if(e.keyCodeIsTriggerKey){this._onCancel.fire();}}},{key:"_resetHandler",value:function _resetHandler(){this._lastMouseMoveEvent=null;this._hasTriggerKeyOnMouseDown=false;this._onCancel.fire();}}]);return ClickLinkGesture;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__/* .Disposable */ .JT);

/***/ }),

/***/ 30599:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GotoDefinitionAtPositionEditorContribution": () => (/* binding */ GotoDefinitionAtPositionEditorContribution)
/* harmony export */ });
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(88494);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32314);
/* harmony import */ var _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15093);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19860);
/* harmony import */ var _base_common_types_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(918);
/* harmony import */ var _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(76141);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79098);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(96844);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(98480);
/* harmony import */ var _common_services_language_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(84318);
/* harmony import */ var _common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(90270);
/* harmony import */ var _clickLinkGesture_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16161);
/* harmony import */ var _peekView_browser_peekView_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(69944);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(71453);
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(11703);
/* harmony import */ var _platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(25530);
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(46199);
/* harmony import */ var _goToCommands_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(6696);
/* harmony import */ var _goToSymbol_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(68434);
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var GotoDefinitionAtPositionEditorContribution=/*#__PURE__*/function(){function GotoDefinitionAtPositionEditorContribution(editor,textModelResolverService,languageService){var _this=this;_classCallCheck(this,GotoDefinitionAtPositionEditorContribution);this.textModelResolverService=textModelResolverService;this.languageService=languageService;this.toUnhook=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__/* .DisposableStore */ .SL();this.toUnhookForKeyboard=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__/* .DisposableStore */ .SL();this.linkDecorations=[];this.currentWordAtPosition=null;this.previousPromise=null;this.editor=editor;var linkGesture=new _clickLinkGesture_js__WEBPACK_IMPORTED_MODULE_9__/* .ClickLinkGesture */ .yN(editor);this.toUnhook.add(linkGesture);this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(function(_ref){var _ref2=_slicedToArray(_ref,2),mouseEvent=_ref2[0],keyboardEvent=_ref2[1];_this.startFindDefinitionFromMouse(mouseEvent,(0,_base_common_types_js__WEBPACK_IMPORTED_MODULE_16__/* .withNullAsUndefined */ .f6)(keyboardEvent));}));this.toUnhook.add(linkGesture.onExecute(function(mouseEvent){if(_this.isEnabled(mouseEvent)){_this.gotoDefinition(mouseEvent.target.position,mouseEvent.hasSideBySideModifier).then(function(){_this.removeLinkDecorations();},function(error){_this.removeLinkDecorations();(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__/* .onUnexpectedError */ .dL)(error);});}}));this.toUnhook.add(linkGesture.onCancel(function(){_this.removeLinkDecorations();_this.currentWordAtPosition=null;}));}_createClass(GotoDefinitionAtPositionEditorContribution,[{key:"startFindDefinitionFromCursor",value:function startFindDefinitionFromCursor(position){var _this2=this;// For issue: https://github.com/microsoft/vscode/issues/46257
// equivalent to mouse move with meta/ctrl key
// First find the definition and add decorations
// to the editor to be shown with the content hover widget
return this.startFindDefinition(position).then(function(){// Add listeners for editor cursor move and key down events
// Dismiss the "extended" editor decorations when the user hides
// the hover widget. There is no event for the widget itself so these
// serve as a best effort. After removing the link decorations, the hover
// widget is clean and will only show declarations per next request.
_this2.toUnhookForKeyboard.add(_this2.editor.onDidChangeCursorPosition(function(){_this2.currentWordAtPosition=null;_this2.removeLinkDecorations();_this2.toUnhookForKeyboard.clear();}));_this2.toUnhookForKeyboard.add(_this2.editor.onKeyDown(function(e){if(e){_this2.currentWordAtPosition=null;_this2.removeLinkDecorations();_this2.toUnhookForKeyboard.clear();}}));});}},{key:"startFindDefinitionFromMouse",value:function startFindDefinitionFromMouse(mouseEvent,withKey){// check if we are active and on a content widget
if(mouseEvent.target.type===9/* CONTENT_WIDGET */&&this.linkDecorations.length>0){return;}if(!this.editor.hasModel()||!this.isEnabled(mouseEvent,withKey)){this.currentWordAtPosition=null;this.removeLinkDecorations();return;}var position=mouseEvent.target.position;this.startFindDefinition(position);}},{key:"startFindDefinition",value:function startFindDefinition(position){var _this3=this;var _a;// Dispose listeners for updating decorations when using keyboard to show definition hover
this.toUnhookForKeyboard.clear();// Find word at mouse position
var word=position?(_a=this.editor.getModel())===null||_a===void 0?void 0:_a.getWordAtPosition(position):null;if(!word){this.currentWordAtPosition=null;this.removeLinkDecorations();return Promise.resolve(0);}// Return early if word at position is still the same
if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===word.startColumn&&this.currentWordAtPosition.endColumn===word.endColumn&&this.currentWordAtPosition.word===word.word){return Promise.resolve(0);}this.currentWordAtPosition=word;// Find definition and decorate word if found
var state=new _editorState_browser_editorState_js__WEBPACK_IMPORTED_MODULE_4__/* .EditorState */ .yy(this.editor,4/* Position */|1/* Value */|2/* Selection */|8/* Scroll */);if(this.previousPromise){this.previousPromise.cancel();this.previousPromise=null;}this.previousPromise=(0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_0__/* .createCancelablePromise */ .PG)(function(token){return _this3.findDefinition(position,token);});return this.previousPromise.then(function(results){if(!results||!results.length||!state.validate(_this3.editor)){_this3.removeLinkDecorations();return;}// Multiple results
if(results.length>1){_this3.addDecoration(new _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range */ .e(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn),new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__/* .MarkdownString */ .W5().appendText(_nls_js__WEBPACK_IMPORTED_MODULE_18__/* .localize */ .N('multipleResults',"Click to show {0} definitions.",results.length)));}// Single result
else{var result=results[0];if(!result.uri){return;}_this3.textModelResolverService.createModelReference(result.uri).then(function(ref){if(!ref.object||!ref.object.textEditorModel){ref.dispose();return;}var textEditorModel=ref.object.textEditorModel;var startLineNumber=result.range.startLineNumber;if(startLineNumber<1||startLineNumber>textEditorModel.getLineCount()){// invalid range
ref.dispose();return;}var previewValue=_this3.getPreviewValue(textEditorModel,startLineNumber,result);var wordRange;if(result.originSelectionRange){wordRange=_common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range.lift */ .e.lift(result.originSelectionRange);}else{wordRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range */ .e(position.lineNumber,word.startColumn,position.lineNumber,word.endColumn);}var languageId=_this3.languageService.guessLanguageIdByFilepathOrFirstLine(textEditorModel.uri);_this3.addDecoration(wordRange,new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__/* .MarkdownString */ .W5().appendCodeblock(languageId?languageId:'',previewValue));ref.dispose();});}}).then(undefined,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__/* .onUnexpectedError */ .dL);}},{key:"getPreviewValue",value:function getPreviewValue(textEditorModel,startLineNumber,result){var rangeToUse=result.targetSelectionRange?result.range:this.getPreviewRangeBasedOnBrackets(textEditorModel,startLineNumber);var numberOfLinesInRange=rangeToUse.endLineNumber-rangeToUse.startLineNumber;if(numberOfLinesInRange>=GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES){rangeToUse=this.getPreviewRangeBasedOnIndentation(textEditorModel,startLineNumber);}var previewValue=this.stripIndentationFromPreviewRange(textEditorModel,startLineNumber,rangeToUse);return previewValue;}},{key:"stripIndentationFromPreviewRange",value:function stripIndentationFromPreviewRange(textEditorModel,startLineNumber,previewRange){var startIndent=textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);var minIndent=startIndent;for(var endLineNumber=startLineNumber+1;endLineNumber<previewRange.endLineNumber;endLineNumber++){var endIndent=textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);minIndent=Math.min(minIndent,endIndent);}var previewValue=textEditorModel.getValueInRange(previewRange).replace(new RegExp("^\\s{".concat(minIndent-1,"}"),'gm'),'').trim();return previewValue;}},{key:"getPreviewRangeBasedOnIndentation",value:function getPreviewRangeBasedOnIndentation(textEditorModel,startLineNumber){var startIndent=textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);var maxLineNumber=Math.min(textEditorModel.getLineCount(),startLineNumber+GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);var endLineNumber=startLineNumber+1;for(;endLineNumber<maxLineNumber;endLineNumber++){var endIndent=textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);if(startIndent===endIndent){break;}}return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range */ .e(startLineNumber,1,endLineNumber+1,1);}},{key:"getPreviewRangeBasedOnBrackets",value:function getPreviewRangeBasedOnBrackets(textEditorModel,startLineNumber){var maxLineNumber=Math.min(textEditorModel.getLineCount(),startLineNumber+GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);var brackets=[];var ignoreFirstEmpty=true;var currentBracket=textEditorModel.bracketPairs.findNextBracket(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_19__/* .Position */ .L(startLineNumber,1));while(currentBracket!==null){if(brackets.length===0){brackets.push(currentBracket);}else{var lastBracket=brackets[brackets.length-1];if(lastBracket.open[0]===currentBracket.open[0]&&lastBracket.isOpen&&!currentBracket.isOpen){brackets.pop();}else{brackets.push(currentBracket);}if(brackets.length===0){if(ignoreFirstEmpty){ignoreFirstEmpty=false;}else{return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range */ .e(startLineNumber,1,currentBracket.range.endLineNumber+1,1);}}}var maxColumn=textEditorModel.getLineMaxColumn(startLineNumber);var nextLineNumber=currentBracket.range.endLineNumber;var nextColumn=currentBracket.range.endColumn;if(maxColumn===currentBracket.range.endColumn){nextLineNumber++;nextColumn=1;}if(nextLineNumber>maxLineNumber){return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range */ .e(startLineNumber,1,maxLineNumber+1,1);}currentBracket=textEditorModel.bracketPairs.findNextBracket(new _common_core_position_js__WEBPACK_IMPORTED_MODULE_19__/* .Position */ .L(nextLineNumber,nextColumn));}return new _common_core_range_js__WEBPACK_IMPORTED_MODULE_17__/* .Range */ .e(startLineNumber,1,maxLineNumber+1,1);}},{key:"addDecoration",value:function addDecoration(range,hoverMessage){var newDecorations={range:range,options:{description:'goto-definition-link',inlineClassName:'goto-definition-link',hoverMessage:hoverMessage}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[newDecorations]);}},{key:"removeLinkDecorations",value:function removeLinkDecorations(){if(this.linkDecorations.length>0){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]);}}},{key:"isEnabled",value:function isEnabled(mouseEvent,withKey){return this.editor.hasModel()&&mouseEvent.isNoneOrSingleMouseDown&&mouseEvent.target.type===6/* CONTENT_TEXT */&&(mouseEvent.hasTriggerModifier||(withKey?withKey.keyCodeIsTriggerKey:false))&&_common_languages_js__WEBPACK_IMPORTED_MODULE_6__/* .DefinitionProviderRegistry.has */ .Ct.has(this.editor.getModel());}},{key:"findDefinition",value:function findDefinition(position,token){var model=this.editor.getModel();if(!model){return Promise.resolve(null);}return (0,_goToSymbol_js__WEBPACK_IMPORTED_MODULE_15__/* .getDefinitionsAtPosition */ .nD)(model,position,token);}},{key:"gotoDefinition",value:function gotoDefinition(position,openToSide){var _this4=this;this.editor.setPosition(position);return this.editor.invokeWithinContext(function(accessor){var canPeek=!openToSide&&_this4.editor.getOption(78/* definitionLinkOpensInPeek */)&&!_this4.isInPeekEditor(accessor);var action=new _goToCommands_js__WEBPACK_IMPORTED_MODULE_14__.DefinitionAction({openToSide:openToSide,openInPeek:canPeek,muteMessage:true},{alias:'',label:'',id:'',precondition:undefined});return action.run(accessor,_this4.editor);});}},{key:"isInPeekEditor",value:function isInPeekEditor(accessor){var contextKeyService=accessor.get(_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_11__/* .IContextKeyService */ .i6);return _peekView_browser_peekView_js__WEBPACK_IMPORTED_MODULE_10__/* .PeekContext.inPeekEditor.getValue */ .Jy.inPeekEditor.getValue(contextKeyService);}},{key:"dispose",value:function dispose(){this.toUnhook.dispose();}}],[{key:"get",value:function get(editor){return editor.getContribution(GotoDefinitionAtPositionEditorContribution.ID);}}]);return GotoDefinitionAtPositionEditorContribution;}();GotoDefinitionAtPositionEditorContribution.ID='editor.contrib.gotodefinitionatposition';GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES=8;GotoDefinitionAtPositionEditorContribution=__decorate([__param(1,_common_services_resolverService_js__WEBPACK_IMPORTED_MODULE_8__/* .ITextModelService */ .S),__param(2,_common_services_language_js__WEBPACK_IMPORTED_MODULE_7__/* .ILanguageService */ .O)],GotoDefinitionAtPositionEditorContribution);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_5__/* .registerEditorContribution */ ._K)(GotoDefinitionAtPositionEditorContribution.ID,GotoDefinitionAtPositionEditorContribution);(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_13__/* .registerThemingParticipant */ .Ic)(function(theme,collector){var activeLinkForeground=theme.getColor(_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_12__/* .editorActiveLinkForeground */ ._Yy);if(activeLinkForeground){collector.addRule(".monaco-editor .goto-definition-link { color: ".concat(activeLinkForeground," !important; }"));}});

/***/ }),

/***/ 1508:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "J": () => (/* binding */ ReferencesController)
});

// UNUSED EXPORTS: ctxReferenceSearchVisible

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/keyCodes.js
var keyCodes = __webpack_require__(61273);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js
var codeEditorService = __webpack_require__(95328);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js
var peekView = __webpack_require__(69944);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/configuration/common/configuration.js
var configuration = __webpack_require__(40800);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js
var keybindingsRegistry = __webpack_require__(85377);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js
var browser_listService = __webpack_require__(46764);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js
var notification = __webpack_require__(73766);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/storage/common/storage.js
var storage = __webpack_require__(96378);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/referencesModel.js
var referencesModel = __webpack_require__(87829);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.js
var splitview = __webpack_require__(18778);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/color.js
var color = __webpack_require__(65142);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/network.js
var network = __webpack_require__(12029);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/resources.js
var resources = __webpack_require__(74926);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/widget/embeddedCodeEditorWidget.js
var embeddedCodeEditorWidget = __webpack_require__(84373);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/languageConfigurationRegistry.js + 4 modules
var languageConfigurationRegistry = __webpack_require__(71567);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/modesRegistry.js
var modesRegistry = __webpack_require__(55403);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/language.js
var language = __webpack_require__(84318);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js
var resolverService = __webpack_require__(90270);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js
var countBadge = __webpack_require__(21790);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js
var highlightedLabel = __webpack_require__(96145);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js + 1 modules
var iconLabel = __webpack_require__(43420);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/filters.js
var filters = __webpack_require__(43170);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/labels.js
var labels = __webpack_require__(10772);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js
var keybinding = __webpack_require__(13112);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/label/common/label.js
var label = __webpack_require__(68408);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/styler.js
var styler = __webpack_require__(9670);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesTree.js
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var DataSource=/*#__PURE__*/function(){function DataSource(_resolverService){_classCallCheck(this,DataSource);this._resolverService=_resolverService;}_createClass(DataSource,[{key:"hasChildren",value:function hasChildren(element){if(element instanceof referencesModel/* ReferencesModel */.oQ){return true;}if(element instanceof referencesModel/* FileReferences */.F2){return true;}return false;}},{key:"getChildren",value:function getChildren(element){if(element instanceof referencesModel/* ReferencesModel */.oQ){return element.groups;}if(element instanceof referencesModel/* FileReferences */.F2){return element.resolve(this._resolverService).then(function(val){// if (element.failure) {
// 	// refresh the element on failure so that
// 	// we can update its rendering
// 	return tree.refresh(element).then(() => val.children);
// }
return val.children;});}throw new Error('bad tree');}}]);return DataSource;}();DataSource=__decorate([__param(0,resolverService/* ITextModelService */.S)],DataSource);//#endregion
var Delegate=/*#__PURE__*/function(){function Delegate(){_classCallCheck(this,Delegate);}_createClass(Delegate,[{key:"getHeight",value:function getHeight(){return 23;}},{key:"getTemplateId",value:function getTemplateId(element){if(element instanceof referencesModel/* FileReferences */.F2){return FileReferencesRenderer.id;}else{return OneReferenceRenderer.id;}}}]);return Delegate;}();var StringRepresentationProvider=/*#__PURE__*/function(){function StringRepresentationProvider(_keybindingService){_classCallCheck(this,StringRepresentationProvider);this._keybindingService=_keybindingService;}_createClass(StringRepresentationProvider,[{key:"getKeyboardNavigationLabel",value:function getKeyboardNavigationLabel(element){var _a;if(element instanceof referencesModel/* OneReference */.WX){var parts=(_a=element.parent.getPreview(element))===null||_a===void 0?void 0:_a.preview(element.range);if(parts){return parts.value;}}// FileReferences or unresolved OneReference
return (0,resources/* basename */.EZ)(element.uri);}}]);return StringRepresentationProvider;}();StringRepresentationProvider=__decorate([__param(0,keybinding/* IKeybindingService */.d)],StringRepresentationProvider);var IdentityProvider=/*#__PURE__*/function(){function IdentityProvider(){_classCallCheck(this,IdentityProvider);}_createClass(IdentityProvider,[{key:"getId",value:function getId(element){return element instanceof referencesModel/* OneReference */.WX?element.id:element.uri;}}]);return IdentityProvider;}();//#region render: File
var FileReferencesTemplate=/*#__PURE__*/function(_Disposable){_inherits(FileReferencesTemplate,_Disposable);var _super=_createSuper(FileReferencesTemplate);function FileReferencesTemplate(container,_uriLabel,themeService){var _this;_classCallCheck(this,FileReferencesTemplate);_this=_super.call(this);_this._uriLabel=_uriLabel;var parent=document.createElement('div');parent.classList.add('reference-file');_this.file=_this._register(new iconLabel/* IconLabel */.g(parent,{supportHighlights:true}));_this.badge=new countBadge/* CountBadge */.Z(dom.append(parent,dom.$('.count')));_this._register((0,styler/* attachBadgeStyler */.WZ)(_this.badge,themeService));container.appendChild(parent);return _this;}_createClass(FileReferencesTemplate,[{key:"set",value:function set(element,matches){var parent=(0,resources/* dirname */.XX)(element.uri);this.file.setLabel((0,labels/* getBaseLabel */.p)(element.uri),this._uriLabel.getUriLabel(parent,{relative:true}),{title:this._uriLabel.getUriLabel(element.uri),matches:matches});var len=element.children.length;this.badge.setCount(len);if(len>1){this.badge.setTitleFormat((0,nls/* localize */.N)('referencesCount',"{0} references",len));}else{this.badge.setTitleFormat((0,nls/* localize */.N)('referenceCount',"{0} reference",len));}}}]);return FileReferencesTemplate;}(lifecycle/* Disposable */.JT);FileReferencesTemplate=__decorate([__param(1,label/* ILabelService */.e),__param(2,themeService/* IThemeService */.XE)],FileReferencesTemplate);var FileReferencesRenderer=/*#__PURE__*/function(){function FileReferencesRenderer(_instantiationService){_classCallCheck(this,FileReferencesRenderer);this._instantiationService=_instantiationService;this.templateId=FileReferencesRenderer.id;}_createClass(FileReferencesRenderer,[{key:"renderTemplate",value:function renderTemplate(container){return this._instantiationService.createInstance(FileReferencesTemplate,container);}},{key:"renderElement",value:function renderElement(node,index,template){template.set(node.element,(0,filters/* createMatches */.mB)(node.filterData));}},{key:"disposeTemplate",value:function disposeTemplate(templateData){templateData.dispose();}}]);return FileReferencesRenderer;}();FileReferencesRenderer.id='FileReferencesRenderer';FileReferencesRenderer=__decorate([__param(0,instantiation/* IInstantiationService */.TG)],FileReferencesRenderer);//#endregion
//#region render: Reference
var OneReferenceTemplate=/*#__PURE__*/function(){function OneReferenceTemplate(container){_classCallCheck(this,OneReferenceTemplate);this.label=new highlightedLabel/* HighlightedLabel */.q(container);}_createClass(OneReferenceTemplate,[{key:"set",value:function set(element,score){var _a;var preview=(_a=element.parent.getPreview(element))===null||_a===void 0?void 0:_a.preview(element.range);if(!preview||!preview.value){// this means we FAILED to resolve the document or the value is the empty string
this.label.set("".concat((0,resources/* basename */.EZ)(element.uri),":").concat(element.range.startLineNumber+1,":").concat(element.range.startColumn+1));}else{// render search match as highlight unless
// we have score, then render the score
var value=preview.value,highlight=preview.highlight;if(score&&!filters/* FuzzyScore.isDefault */.CL.isDefault(score)){this.label.element.classList.toggle('referenceMatch',false);this.label.set(value,(0,filters/* createMatches */.mB)(score));}else{this.label.element.classList.toggle('referenceMatch',true);this.label.set(value,[highlight]);}}}}]);return OneReferenceTemplate;}();var OneReferenceRenderer=/*#__PURE__*/function(){function OneReferenceRenderer(){_classCallCheck(this,OneReferenceRenderer);this.templateId=OneReferenceRenderer.id;}_createClass(OneReferenceRenderer,[{key:"renderTemplate",value:function renderTemplate(container){return new OneReferenceTemplate(container);}},{key:"renderElement",value:function renderElement(node,index,templateData){templateData.set(node.element,node.filterData);}},{key:"disposeTemplate",value:function disposeTemplate(){}}]);return OneReferenceRenderer;}();OneReferenceRenderer.id='OneReferenceRenderer';//#endregion
var AccessibilityProvider=/*#__PURE__*/function(){function AccessibilityProvider(){_classCallCheck(this,AccessibilityProvider);}_createClass(AccessibilityProvider,[{key:"getWidgetAriaLabel",value:function getWidgetAriaLabel(){return (0,nls/* localize */.N)('treeAriaLabel',"References");}},{key:"getAriaLabel",value:function getAriaLabel(element){return element.ariaMessage;}}]);return AccessibilityProvider;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/undoRedo/common/undoRedo.js
var undoRedo = __webpack_require__(25637);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.js
function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=referencesWidget_getPrototypeOf(object);if(object===null)break;}return object;}function referencesWidget_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)referencesWidget_setPrototypeOf(subClass,superClass);}function referencesWidget_setPrototypeOf(o,p){referencesWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return referencesWidget_setPrototypeOf(o,p);}function referencesWidget_createSuper(Derived){var hasNativeReflectConstruct=referencesWidget_isNativeReflectConstruct();return function _createSuperInternal(){var Super=referencesWidget_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=referencesWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return referencesWidget_possibleConstructorReturn(this,result);};}function referencesWidget_possibleConstructorReturn(self,call){if(call&&(referencesWidget_typeof(call)==="object"||typeof call==="function")){return call;}return referencesWidget_assertThisInitialized(self);}function referencesWidget_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function referencesWidget_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function referencesWidget_getPrototypeOf(o){referencesWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return referencesWidget_getPrototypeOf(o);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function referencesWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function referencesWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function referencesWidget_createClass(Constructor,protoProps,staticProps){if(protoProps)referencesWidget_defineProperties(Constructor.prototype,protoProps);if(staticProps)referencesWidget_defineProperties(Constructor,staticProps);return Constructor;}function referencesWidget_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){referencesWidget_typeof=function _typeof(obj){return typeof obj;};}else{referencesWidget_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return referencesWidget_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var referencesWidget_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":referencesWidget_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var referencesWidget_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var DecorationsManager=/*#__PURE__*/function(){function DecorationsManager(_editor,_model){var _this=this;referencesWidget_classCallCheck(this,DecorationsManager);this._editor=_editor;this._model=_model;this._decorations=new Map();this._decorationIgnoreSet=new Set();this._callOnDispose=new lifecycle/* DisposableStore */.SL();this._callOnModelChange=new lifecycle/* DisposableStore */.SL();this._callOnDispose.add(this._editor.onDidChangeModel(function(){return _this._onModelChanged();}));this._onModelChanged();}referencesWidget_createClass(DecorationsManager,[{key:"dispose",value:function dispose(){this._callOnModelChange.dispose();this._callOnDispose.dispose();this.removeDecorations();}},{key:"_onModelChanged",value:function _onModelChanged(){this._callOnModelChange.clear();var model=this._editor.getModel();if(!model){return;}var _iterator=_createForOfIteratorHelper(this._model.references),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var ref=_step.value;if(ref.uri.toString()===model.uri.toString()){this._addDecorations(ref.parent);return;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}},{key:"_addDecorations",value:function _addDecorations(reference){var _this2=this;if(!this._editor.hasModel()){return;}this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(function(){return _this2._onDecorationChanged();}));var newDecorations=[];var newDecorationsActualIndex=[];for(var i=0,len=reference.children.length;i<len;i++){var oneReference=reference.children[i];if(this._decorationIgnoreSet.has(oneReference.id)){continue;}if(oneReference.uri.toString()!==this._editor.getModel().uri.toString()){continue;}newDecorations.push({range:oneReference.range,options:DecorationsManager.DecorationOptions});newDecorationsActualIndex.push(i);}var decorations=this._editor.deltaDecorations([],newDecorations);for(var _i=0;_i<decorations.length;_i++){this._decorations.set(decorations[_i],reference.children[newDecorationsActualIndex[_i]]);}}},{key:"_onDecorationChanged",value:function _onDecorationChanged(){var toRemove=[];var model=this._editor.getModel();if(!model){return;}var _iterator2=_createForOfIteratorHelper(this._decorations),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_slicedToArray(_step2.value,2),decorationId=_step2$value[0],reference=_step2$value[1];var newRange=model.getDecorationRange(decorationId);if(!newRange){continue;}var ignore=false;if(core_range/* Range.equalsRange */.e.equalsRange(newRange,reference.range)){continue;}if(core_range/* Range.spansMultipleLines */.e.spansMultipleLines(newRange)){ignore=true;}else{var lineLength=reference.range.endColumn-reference.range.startColumn;var newLineLength=newRange.endColumn-newRange.startColumn;if(lineLength!==newLineLength){ignore=true;}}if(ignore){this._decorationIgnoreSet.add(reference.id);toRemove.push(decorationId);}else{reference.range=newRange;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}for(var i=0,len=toRemove.length;i<len;i++){this._decorations.delete(toRemove[i]);}this._editor.deltaDecorations(toRemove,[]);}},{key:"removeDecorations",value:function removeDecorations(){this._editor.deltaDecorations(_toConsumableArray(this._decorations.keys()),[]);this._decorations.clear();}}]);return DecorationsManager;}();DecorationsManager.DecorationOptions=textModel/* ModelDecorationOptions.register */.qx.register({description:'reference-decoration',stickiness:1/* NeverGrowsWhenTypingAtEdges */,className:'reference-decoration'});var LayoutData=/*#__PURE__*/function(){function LayoutData(){referencesWidget_classCallCheck(this,LayoutData);this.ratio=0.7;this.heightInLines=18;}referencesWidget_createClass(LayoutData,null,[{key:"fromJSON",value:function fromJSON(raw){var ratio;var heightInLines;try{var data=JSON.parse(raw);ratio=data.ratio;heightInLines=data.heightInLines;}catch(_a){//
}return{ratio:ratio||0.7,heightInLines:heightInLines||18};}}]);return LayoutData;}();var ReferencesTree=/*#__PURE__*/function(_WorkbenchAsyncDataTr){referencesWidget_inherits(ReferencesTree,_WorkbenchAsyncDataTr);var _super=referencesWidget_createSuper(ReferencesTree);function ReferencesTree(){referencesWidget_classCallCheck(this,ReferencesTree);return _super.apply(this,arguments);}return ReferencesTree;}(browser_listService/* WorkbenchAsyncDataTree */.ls);/**
 * ZoneWidget that is shown inside the editor
 */var ReferenceWidget=/*#__PURE__*/function(_peekView$PeekViewWid){referencesWidget_inherits(ReferenceWidget,_peekView$PeekViewWid);var _super2=referencesWidget_createSuper(ReferenceWidget);function ReferenceWidget(editor,_defaultTreeKeyboardSupport,layoutData,themeService,_textModelResolverService,_instantiationService,_peekViewService,_uriLabel,_undoRedoService,_keybindingService,_languageService,_languageConfigurationService){var _this3;referencesWidget_classCallCheck(this,ReferenceWidget);_this3=_super2.call(this,editor,{showFrame:false,showArrow:true,isResizeable:true,isAccessible:true,supportOnTitleClick:true},_instantiationService);_this3._defaultTreeKeyboardSupport=_defaultTreeKeyboardSupport;_this3.layoutData=layoutData;_this3._textModelResolverService=_textModelResolverService;_this3._instantiationService=_instantiationService;_this3._peekViewService=_peekViewService;_this3._uriLabel=_uriLabel;_this3._undoRedoService=_undoRedoService;_this3._keybindingService=_keybindingService;_this3._languageService=_languageService;_this3._languageConfigurationService=_languageConfigurationService;_this3._disposeOnNewModel=new lifecycle/* DisposableStore */.SL();_this3._callOnDispose=new lifecycle/* DisposableStore */.SL();_this3._onDidSelectReference=new common_event/* Emitter */.Q5();_this3.onDidSelectReference=_this3._onDidSelectReference.event;_this3._dim=new dom.Dimension(0,0);_this3._applyTheme(themeService.getColorTheme());_this3._callOnDispose.add(themeService.onDidColorThemeChange(_this3._applyTheme.bind(referencesWidget_assertThisInitialized(_this3))));_this3._peekViewService.addExclusiveWidget(editor,referencesWidget_assertThisInitialized(_this3));_this3.create();return _this3;}referencesWidget_createClass(ReferenceWidget,[{key:"dispose",value:function dispose(){this.setModel(undefined);this._callOnDispose.dispose();this._disposeOnNewModel.dispose();(0,lifecycle/* dispose */.B9)(this._preview);(0,lifecycle/* dispose */.B9)(this._previewNotAvailableMessage);(0,lifecycle/* dispose */.B9)(this._tree);(0,lifecycle/* dispose */.B9)(this._previewModelReference);this._splitView.dispose();_get(referencesWidget_getPrototypeOf(ReferenceWidget.prototype),"dispose",this).call(this);}},{key:"_applyTheme",value:function _applyTheme(theme){var borderColor=theme.getColor(peekView/* peekViewBorder */.SC)||color/* Color.transparent */.Il.transparent;this.style({arrowColor:borderColor,frameColor:borderColor,headerBackgroundColor:theme.getColor(peekView/* peekViewTitleBackground */.KY)||color/* Color.transparent */.Il.transparent,primaryHeadingColor:theme.getColor(peekView/* peekViewTitleForeground */.IH),secondaryHeadingColor:theme.getColor(peekView/* peekViewTitleInfoForeground */.R7)});}},{key:"show",value:function show(where){this.editor.revealRangeInCenterIfOutsideViewport(where,0/* Smooth */);_get(referencesWidget_getPrototypeOf(ReferenceWidget.prototype),"show",this).call(this,where,this.layoutData.heightInLines||18);}},{key:"focusOnReferenceTree",value:function focusOnReferenceTree(){this._tree.domFocus();}},{key:"focusOnPreviewEditor",value:function focusOnPreviewEditor(){this._preview.focus();}},{key:"isPreviewEditorFocused",value:function isPreviewEditorFocused(){return this._preview.hasTextFocus();}},{key:"_onTitleClick",value:function _onTitleClick(e){if(this._preview&&this._preview.getModel()){this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?'side':'open',source:'title'});}}},{key:"_fillBody",value:function _fillBody(containerElement){var _this4=this;this.setCssClass('reference-zone-widget');// message pane
this._messageContainer=dom.append(containerElement,dom.$('div.messages'));dom.hide(this._messageContainer);this._splitView=new splitview/* SplitView */.z(containerElement,{orientation:1/* HORIZONTAL */});// editor
this._previewContainer=dom.append(containerElement,dom.$('div.preview.inline'));var options={scrollBeyondLastLine:false,scrollbar:{verticalScrollbarSize:14,horizontal:'auto',useShadows:true,verticalHasArrows:false,horizontalHasArrows:false,alwaysConsumeMouseWheel:false},overviewRulerLanes:2,fixedOverflowWidgets:true,minimap:{enabled:false}};this._preview=this._instantiationService.createInstance(embeddedCodeEditorWidget/* EmbeddedCodeEditorWidget */.H,this._previewContainer,options,this.editor);dom.hide(this._previewContainer);this._previewNotAvailableMessage=new textModel/* TextModel */.yO(nls/* localize */.N('missingPreviewMessage',"no preview available"),modesRegistry/* PLAINTEXT_LANGUAGE_ID */.bd,textModel/* TextModel.DEFAULT_CREATION_OPTIONS */.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService);// tree
this._treeContainer=dom.append(containerElement,dom.$('div.ref-tree.inline'));var treeOptions={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new AccessibilityProvider(),keyboardNavigationLabelProvider:this._instantiationService.createInstance(StringRepresentationProvider),identityProvider:new IdentityProvider(),openOnSingleClick:true,selectionNavigation:true,overrideStyles:{listBackground:peekView/* peekViewResultsBackground */.M8}};if(this._defaultTreeKeyboardSupport){// the tree will consume `Escape` and prevent the widget from closing
this._callOnDispose.add(dom.addStandardDisposableListener(this._treeContainer,'keydown',function(e){if(e.equals(9/* Escape */)){_this4._keybindingService.dispatchEvent(e,e.target);e.stopPropagation();}},true));}this._tree=this._instantiationService.createInstance(ReferencesTree,'ReferencesWidget',this._treeContainer,new Delegate(),[this._instantiationService.createInstance(FileReferencesRenderer),this._instantiationService.createInstance(OneReferenceRenderer)],this._instantiationService.createInstance(DataSource),treeOptions);// split stuff
this._splitView.addView({onDidChange:common_event/* Event.None */.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function layout(width){_this4._preview.layout({height:_this4._dim.height,width:width});}},splitview/* Sizing.Distribute */.M.Distribute);this._splitView.addView({onDidChange:common_event/* Event.None */.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function layout(width){_this4._treeContainer.style.height="".concat(_this4._dim.height,"px");_this4._treeContainer.style.width="".concat(width,"px");_this4._tree.layout(_this4._dim.height,width);}},splitview/* Sizing.Distribute */.M.Distribute);this._disposables.add(this._splitView.onDidSashChange(function(){if(_this4._dim.width){_this4.layoutData.ratio=_this4._splitView.getViewSize(0)/_this4._dim.width;}},undefined));// listen on selection and focus
var onEvent=function onEvent(element,kind){if(element instanceof referencesModel/* OneReference */.WX){if(kind==='show'){_this4._revealReference(element,false);}_this4._onDidSelectReference.fire({element:element,kind:kind,source:'tree'});}};this._tree.onDidOpen(function(e){if(e.sideBySide){onEvent(e.element,'side');}else if(e.editorOptions.pinned){onEvent(e.element,'goto');}else{onEvent(e.element,'show');}});dom.hide(this._treeContainer);}},{key:"_onWidth",value:function _onWidth(width){if(this._dim){this._doLayoutBody(this._dim.height,width);}}},{key:"_doLayoutBody",value:function _doLayoutBody(heightInPixel,widthInPixel){_get(referencesWidget_getPrototypeOf(ReferenceWidget.prototype),"_doLayoutBody",this).call(this,heightInPixel,widthInPixel);this._dim=new dom.Dimension(widthInPixel,heightInPixel);this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines;this._splitView.layout(widthInPixel);this._splitView.resizeView(0,widthInPixel*this.layoutData.ratio);}},{key:"setSelection",value:function setSelection(selection){var _this5=this;return this._revealReference(selection,true).then(function(){if(!_this5._model){// disposed
return;}// show in tree
_this5._tree.setSelection([selection]);_this5._tree.setFocus([selection]);});}},{key:"setModel",value:function setModel(newModel){// clean up
this._disposeOnNewModel.clear();this._model=newModel;if(this._model){return this._onNewModel();}return Promise.resolve();}},{key:"_onNewModel",value:function _onNewModel(){var _this6=this;if(!this._model){return Promise.resolve(undefined);}if(this._model.isEmpty){this.setTitle('');this._messageContainer.innerText=nls/* localize */.N('noResults',"No results");dom.show(this._messageContainer);return Promise.resolve(undefined);}dom.hide(this._messageContainer);this._decorationsManager=new DecorationsManager(this._preview,this._model);this._disposeOnNewModel.add(this._decorationsManager);// listen on model changes
this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(function(reference){return _this6._tree.rerender(reference);}));// listen on editor
this._disposeOnNewModel.add(this._preview.onMouseDown(function(e){var event=e.event,target=e.target;if(event.detail!==2){return;}var element=_this6._getFocusedReference();if(!element){return;}_this6._onDidSelectReference.fire({element:{uri:element.uri,range:target.range},kind:event.ctrlKey||event.metaKey||event.altKey?'side':'open',source:'editor'});}));// make sure things are rendered
this.container.classList.add('results-loaded');dom.show(this._treeContainer);dom.show(this._previewContainer);this._splitView.layout(this._dim.width);this.focusOnReferenceTree();// pick input and a reference to begin with
return this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model);}},{key:"_getFocusedReference",value:function _getFocusedReference(){var _this$_tree$getFocus=this._tree.getFocus(),_this$_tree$getFocus2=_slicedToArray(_this$_tree$getFocus,1),element=_this$_tree$getFocus2[0];if(element instanceof referencesModel/* OneReference */.WX){return element;}else if(element instanceof referencesModel/* FileReferences */.F2){if(element.children.length>0){return element.children[0];}}return undefined;}},{key:"revealReference",value:function revealReference(reference){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this._revealReference(reference,false);case 2:this._onDidSelectReference.fire({element:reference,kind:'goto',source:'tree'});case 3:case"end":return _context.stop();}}},_callee,this);}));}},{key:"_revealReference",value:function _revealReference(reference,revealParent){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var promise,ref,model,scrollType,sel;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(this._revealedReference===reference)){_context2.next=2;break;}return _context2.abrupt("return");case 2:this._revealedReference=reference;// Update widget header
if(reference.uri.scheme!==network/* Schemas.inMemory */.lg.inMemory){this.setTitle((0,resources/* basenameOrAuthority */.Hx)(reference.uri),this._uriLabel.getUriLabel((0,resources/* dirname */.XX)(reference.uri)));}else{this.setTitle(nls/* localize */.N('peekView.alternateTitle',"References"));}promise=this._textModelResolverService.createModelReference(reference.uri);if(!(this._tree.getInput()===reference.parent)){_context2.next=9;break;}this._tree.reveal(reference);_context2.next=13;break;case 9:if(revealParent){this._tree.reveal(reference.parent);}_context2.next=12;return this._tree.expand(reference.parent);case 12:this._tree.reveal(reference);case 13:_context2.next=15;return promise;case 15:ref=_context2.sent;if(this._model){_context2.next=19;break;}// disposed
ref.dispose();return _context2.abrupt("return");case 19:(0,lifecycle/* dispose */.B9)(this._previewModelReference);// show in editor
model=ref.object;if(model){scrollType=this._preview.getModel()===model.textEditorModel?0/* Smooth */:1;sel=core_range/* Range.lift */.e.lift(reference.range).collapseToStart();this._previewModelReference=ref;this._preview.setModel(model.textEditorModel);this._preview.setSelection(sel);this._preview.revealRangeInCenter(sel,scrollType);}else{this._preview.setModel(this._previewNotAvailableMessage);ref.dispose();}case 22:case"end":return _context2.stop();}}},_callee2,this);}));}}]);return ReferenceWidget;}(peekView/* PeekViewWidget */.vk);ReferenceWidget=referencesWidget_decorate([referencesWidget_param(3,themeService/* IThemeService */.XE),referencesWidget_param(4,resolverService/* ITextModelService */.S),referencesWidget_param(5,instantiation/* IInstantiationService */.TG),referencesWidget_param(6,peekView/* IPeekViewService */.Fw),referencesWidget_param(7,label/* ILabelService */.e),referencesWidget_param(8,undoRedo/* IUndoRedoService */.tJ),referencesWidget_param(9,keybinding/* IKeybindingService */.d),referencesWidget_param(10,language/* ILanguageService */.O),referencesWidget_param(11,languageConfigurationRegistry/* ILanguageConfigurationService */.c_)],ReferenceWidget);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesController.js
function referencesController_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function referencesController_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function referencesController_createClass(Constructor,protoProps,staticProps){if(protoProps)referencesController_defineProperties(Constructor.prototype,protoProps);if(staticProps)referencesController_defineProperties(Constructor,staticProps);return Constructor;}function referencesController_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){referencesController_typeof=function _typeof(obj){return typeof obj;};}else{referencesController_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return referencesController_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var referencesController_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":referencesController_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var referencesController_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var referencesController_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var ctxReferenceSearchVisible=new contextkey/* RawContextKey */.uy('referenceSearchVisible',false,nls/* localize */.N('referenceSearchVisible',"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));var ReferencesController=/*#__PURE__*/function(){function ReferencesController(_defaultTreeKeyboardSupport,_editor,contextKeyService,_editorService,_notificationService,_instantiationService,_storageService,_configurationService){referencesController_classCallCheck(this,ReferencesController);this._defaultTreeKeyboardSupport=_defaultTreeKeyboardSupport;this._editor=_editor;this._editorService=_editorService;this._notificationService=_notificationService;this._instantiationService=_instantiationService;this._storageService=_storageService;this._configurationService=_configurationService;this._disposables=new lifecycle/* DisposableStore */.SL();this._requestIdPool=0;this._ignoreModelChangeEvent=false;this._referenceSearchVisible=ctxReferenceSearchVisible.bindTo(contextKeyService);}referencesController_createClass(ReferencesController,[{key:"dispose",value:function dispose(){var _a,_b;this._referenceSearchVisible.reset();this._disposables.dispose();(_a=this._widget)===null||_a===void 0?void 0:_a.dispose();(_b=this._model)===null||_b===void 0?void 0:_b.dispose();this._widget=undefined;this._model=undefined;}},{key:"toggleWidget",value:function toggleWidget(range,modelPromise,peekMode){var _this=this;// close current widget and return early is position didn't change
var widgetPosition;if(this._widget){widgetPosition=this._widget.position;}this.closeWidget();if(!!widgetPosition&&range.containsPosition(widgetPosition)){return;}this._peekMode=peekMode;this._referenceSearchVisible.set(true);// close the widget on model/mode changes
this._disposables.add(this._editor.onDidChangeModelLanguage(function(){_this.closeWidget();}));this._disposables.add(this._editor.onDidChangeModel(function(){if(!_this._ignoreModelChangeEvent){_this.closeWidget();}}));var storageKey='peekViewLayout';var data=LayoutData.fromJSON(this._storageService.get(storageKey,0/* GLOBAL */,'{}'));this._widget=this._instantiationService.createInstance(ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,data);this._widget.setTitle(nls/* localize */.N('labelLoading',"Loading..."));this._widget.show(range);this._disposables.add(this._widget.onDidClose(function(){modelPromise.cancel();if(_this._widget){_this._storageService.store(storageKey,JSON.stringify(_this._widget.layoutData),0/* GLOBAL */,1/* MACHINE */);_this._widget=undefined;}_this.closeWidget();}));this._disposables.add(this._widget.onDidSelectReference(function(event){var element=event.element,kind=event.kind;if(!element){return;}switch(kind){case'open':if(event.source!=='editor'||!_this._configurationService.getValue('editor.stablePeek')){// when stable peek is configured we don't close
// the peek window on selecting the editor
_this.openReference(element,false,false);}break;case'side':_this.openReference(element,true,false);break;case'goto':if(peekMode){_this._gotoReference(element);}else{_this.openReference(element,false,true);}break;}}));var requestId=++this._requestIdPool;modelPromise.then(function(model){var _a;// still current request? widget still open?
if(requestId!==_this._requestIdPool||!_this._widget){model.dispose();return undefined;}(_a=_this._model)===null||_a===void 0?void 0:_a.dispose();_this._model=model;// show widget
return _this._widget.setModel(_this._model).then(function(){if(_this._widget&&_this._model&&_this._editor.hasModel()){// might have been closed
// set title
if(!_this._model.isEmpty){_this._widget.setMetaTitle(nls/* localize */.N('metaTitle.N',"{0} ({1})",_this._model.title,_this._model.references.length));}else{_this._widget.setMetaTitle('');}// set 'best' selection
var uri=_this._editor.getModel().uri;var pos=new position/* Position */.L(range.startLineNumber,range.startColumn);var selection=_this._model.nearestReference(uri,pos);if(selection){return _this._widget.setSelection(selection).then(function(){if(_this._widget&&_this._editor.getOption(77/* peekWidgetDefaultFocus */)==='editor'){_this._widget.focusOnPreviewEditor();}});}}return undefined;});},function(error){_this._notificationService.error(error);});}},{key:"changeFocusBetweenPreviewAndReferences",value:function changeFocusBetweenPreviewAndReferences(){if(!this._widget){// can be called while still resolving...
return;}if(this._widget.isPreviewEditorFocused()){this._widget.focusOnReferenceTree();}else{this._widget.focusOnPreviewEditor();}}},{key:"goToNextOrPreviousReference",value:function goToNextOrPreviousReference(fwd){return referencesController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var currentPosition,source,target,editorFocus,previewEditorFocus;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!this._editor.hasModel()||!this._model||!this._widget)){_context.next=2;break;}return _context.abrupt("return");case 2:currentPosition=this._widget.position;if(currentPosition){_context.next=5;break;}return _context.abrupt("return");case 5:source=this._model.nearestReference(this._editor.getModel().uri,currentPosition);if(source){_context.next=8;break;}return _context.abrupt("return");case 8:target=this._model.nextOrPreviousReference(source,fwd);editorFocus=this._editor.hasTextFocus();previewEditorFocus=this._widget.isPreviewEditorFocused();_context.next=13;return this._widget.setSelection(target);case 13:_context.next=15;return this._gotoReference(target);case 15:if(editorFocus){this._editor.focus();}else if(this._widget&&previewEditorFocus){this._widget.focusOnPreviewEditor();}case 16:case"end":return _context.stop();}}},_callee,this);}));}},{key:"revealReference",value:function revealReference(reference){return referencesController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!this._editor.hasModel()||!this._model||!this._widget)){_context2.next=2;break;}return _context2.abrupt("return");case 2:_context2.next=4;return this._widget.revealReference(reference);case 4:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"closeWidget",value:function closeWidget(){var focusEditor=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var _a,_b;(_a=this._widget)===null||_a===void 0?void 0:_a.dispose();(_b=this._model)===null||_b===void 0?void 0:_b.dispose();this._referenceSearchVisible.reset();this._disposables.clear();this._widget=undefined;this._model=undefined;if(focusEditor){this._editor.focus();}this._requestIdPool+=1;// Cancel pending requests
}},{key:"_gotoReference",value:function _gotoReference(ref){var _this2=this;if(this._widget){this._widget.hide();}this._ignoreModelChangeEvent=true;var range=core_range/* Range.lift */.e.lift(ref.range).collapseToStart();return this._editorService.openCodeEditor({resource:ref.uri,options:{selection:range}},this._editor).then(function(openedEditor){var _a;_this2._ignoreModelChangeEvent=false;if(!openedEditor||!_this2._widget){// something went wrong...
_this2.closeWidget();return;}if(_this2._editor===openedEditor){//
_this2._widget.show(range);_this2._widget.focusOnReferenceTree();}else{// we opened a different editor instance which means a different controller instance.
// therefore we stop with this controller and continue with the other
var other=ReferencesController.get(openedEditor);var model=_this2._model.clone();_this2.closeWidget();openedEditor.focus();other===null||other===void 0?void 0:other.toggleWidget(range,(0,common_async/* createCancelablePromise */.PG)(function(_){return Promise.resolve(model);}),(_a=_this2._peekMode)!==null&&_a!==void 0?_a:false);}},function(err){_this2._ignoreModelChangeEvent=false;(0,errors/* onUnexpectedError */.dL)(err);});}},{key:"openReference",value:function openReference(ref,sideBySide,pinned){// clear stage
if(!sideBySide){this.closeWidget();}var uri=ref.uri,range=ref.range;this._editorService.openCodeEditor({resource:uri,options:{selection:range,pinned:pinned}},this._editor,sideBySide);}}],[{key:"get",value:function get(editor){return editor.getContribution(ReferencesController.ID);}}]);return ReferencesController;}();ReferencesController.ID='editor.contrib.referencesController';ReferencesController=referencesController_decorate([referencesController_param(2,contextkey/* IContextKeyService */.i6),referencesController_param(3,codeEditorService/* ICodeEditorService */.$),referencesController_param(4,notification/* INotificationService */.lT),referencesController_param(5,instantiation/* IInstantiationService */.TG),referencesController_param(6,storage/* IStorageService */.Uy),referencesController_param(7,configuration/* IConfigurationService */.Ui)],ReferencesController);function withController(accessor,fn){var outerEditor=(0,peekView/* getOuterEditor */.rc)(accessor);if(!outerEditor){return;}var controller=ReferencesController.get(outerEditor);if(controller){fn(controller);}}keybindingsRegistry/* KeybindingsRegistry.registerCommandAndKeybindingRule */.W.registerCommandAndKeybindingRule({id:'togglePeekWidgetFocus',weight:100/* EditorContrib */,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,60/* F2 */),when:contextkey/* ContextKeyExpr.or */.Ao.or(ctxReferenceSearchVisible,peekView/* PeekContext.inPeekEditor */.Jy.inPeekEditor),handler:function handler(accessor){withController(accessor,function(controller){controller.changeFocusBetweenPreviewAndReferences();});}});keybindingsRegistry/* KeybindingsRegistry.registerCommandAndKeybindingRule */.W.registerCommandAndKeybindingRule({id:'goToNextReference',weight:100/* EditorContrib */-10,primary:62/* F4 */,secondary:[70/* F12 */],when:contextkey/* ContextKeyExpr.or */.Ao.or(ctxReferenceSearchVisible,peekView/* PeekContext.inPeekEditor */.Jy.inPeekEditor),handler:function handler(accessor){withController(accessor,function(controller){controller.goToNextOrPreviousReference(true);});}});keybindingsRegistry/* KeybindingsRegistry.registerCommandAndKeybindingRule */.W.registerCommandAndKeybindingRule({id:'goToPreviousReference',weight:100/* EditorContrib */-10,primary:1024/* Shift */|62/* F4 */,secondary:[1024/* Shift */|70/* F12 */],when:contextkey/* ContextKeyExpr.or */.Ao.or(ctxReferenceSearchVisible,peekView/* PeekContext.inPeekEditor */.Jy.inPeekEditor),handler:function handler(accessor){withController(accessor,function(controller){controller.goToNextOrPreviousReference(false);});}});// commands that aren't needed anymore because there is now ContextKeyExpr.OR
commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('goToNextReferenceFromEmbeddedEditor','goToNextReference');commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('goToPreviousReferenceFromEmbeddedEditor','goToPreviousReference');// close
commands/* CommandsRegistry.registerCommandAlias */.P0.registerCommandAlias('closeReferenceSearchEditor','closeReferenceSearch');commands/* CommandsRegistry.registerCommand */.P0.registerCommand('closeReferenceSearch',function(accessor){return withController(accessor,function(controller){return controller.closeWidget();});});keybindingsRegistry/* KeybindingsRegistry.registerKeybindingRule */.W.registerKeybindingRule({id:'closeReferenceSearch',weight:100/* EditorContrib */-101,primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */],when:contextkey/* ContextKeyExpr.and */.Ao.and(peekView/* PeekContext.inPeekEditor */.Jy.inPeekEditor,contextkey/* ContextKeyExpr.not */.Ao.not('config.editor.stablePeek'))});keybindingsRegistry/* KeybindingsRegistry.registerKeybindingRule */.W.registerKeybindingRule({id:'closeReferenceSearch',weight:200/* WorkbenchContrib */+50,primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */],when:contextkey/* ContextKeyExpr.and */.Ao.and(ctxReferenceSearchVisible,contextkey/* ContextKeyExpr.not */.Ao.not('config.editor.stablePeek'))});keybindingsRegistry/* KeybindingsRegistry.registerCommandAndKeybindingRule */.W.registerCommandAndKeybindingRule({id:'revealReference',weight:200/* WorkbenchContrib */,primary:3/* Enter */,mac:{primary:3/* Enter */,secondary:[2048/* CtrlCmd */|18/* DownArrow */]},when:contextkey/* ContextKeyExpr.and */.Ao.and(ctxReferenceSearchVisible,browser_listService/* WorkbenchListFocusContextKey */.CQ,browser_listService/* WorkbenchTreeElementCanCollapse.negate */.PS.negate(),browser_listService/* WorkbenchTreeElementCanExpand.negate */.uJ.negate()),handler:function handler(accessor){var _a;var listService=accessor.get(browser_listService/* IListService */.Lw);var focus=(_a=listService.lastFocusedList)===null||_a===void 0?void 0:_a.getFocus();if(Array.isArray(focus)&&focus[0]instanceof referencesModel/* OneReference */.WX){withController(accessor,function(controller){return controller.revealReference(focus[0]);});}}});keybindingsRegistry/* KeybindingsRegistry.registerCommandAndKeybindingRule */.W.registerCommandAndKeybindingRule({id:'openReferenceToSide',weight:100/* EditorContrib */,primary:2048/* CtrlCmd */|3/* Enter */,mac:{primary:256/* WinCtrl */|3/* Enter */},when:contextkey/* ContextKeyExpr.and */.Ao.and(ctxReferenceSearchVisible,browser_listService/* WorkbenchListFocusContextKey */.CQ,browser_listService/* WorkbenchTreeElementCanCollapse.negate */.PS.negate(),browser_listService/* WorkbenchTreeElementCanExpand.negate */.uJ.negate()),handler:function handler(accessor){var _a;var listService=accessor.get(browser_listService/* IListService */.Lw);var focus=(_a=listService.lastFocusedList)===null||_a===void 0?void 0:_a.getFocus();if(Array.isArray(focus)&&focus[0]instanceof referencesModel/* OneReference */.WX){withController(accessor,function(controller){return controller.openReference(focus[0],true,true);});}}});commands/* CommandsRegistry.registerCommand */.P0.registerCommand('openReference',function(accessor){var _a;var listService=accessor.get(browser_listService/* IListService */.Lw);var focus=(_a=listService.lastFocusedList)===null||_a===void 0?void 0:_a.getFocus();if(Array.isArray(focus)&&focus[0]instanceof referencesModel/* OneReference */.WX){withController(accessor,function(controller){return controller.openReference(focus[0],false,true);});}});

/***/ }),

/***/ 87829:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "F2": () => (/* binding */ FileReferences),
/* harmony export */   "WX": () => (/* binding */ OneReference),
/* harmony export */   "oQ": () => (/* binding */ ReferencesModel)
/* harmony export */ });
/* unused harmony export FilePreview */
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32314);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36223);
/* harmony import */ var _base_common_idGenerator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(26898);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19860);
/* harmony import */ var _base_common_map_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(46081);
/* harmony import */ var _base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(74926);
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41712);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(96844);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(71453);
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var OneReference=/*#__PURE__*/function(){function OneReference(isProviderFirst,parent,link,_rangeCallback){_classCallCheck(this,OneReference);this.isProviderFirst=isProviderFirst;this.parent=parent;this.link=link;this._rangeCallback=_rangeCallback;this.id=_base_common_idGenerator_js__WEBPACK_IMPORTED_MODULE_3__/* .defaultGenerator.nextId */ .a.nextId();}_createClass(OneReference,[{key:"uri",get:function get(){return this.link.uri;}},{key:"range",get:function get(){var _a,_b;return(_b=(_a=this._range)!==null&&_a!==void 0?_a:this.link.targetSelectionRange)!==null&&_b!==void 0?_b:this.link.range;},set:function set(value){this._range=value;this._rangeCallback(this);}},{key:"ariaMessage",get:function get(){var _a;var preview=(_a=this.parent.getPreview(this))===null||_a===void 0?void 0:_a.preview(this.range);if(!preview){return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.oneReference',"symbol in {0} on line {1} at column {2}",(0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__/* .basename */ .EZ)(this.uri),this.range.startLineNumber,this.range.startColumn);}else{return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)({key:'aria.oneReference.preview',comment:['Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code']},"symbol in {0} on line {1} at column {2}, {3}",(0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__/* .basename */ .EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,preview.value);}}}]);return OneReference;}();var FilePreview=/*#__PURE__*/function(){function FilePreview(_modelReference){_classCallCheck(this,FilePreview);this._modelReference=_modelReference;}_createClass(FilePreview,[{key:"dispose",value:function dispose(){this._modelReference.dispose();}},{key:"preview",value:function preview(range){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:8;var model=this._modelReference.object.textEditorModel;if(!model){return undefined;}var startLineNumber=range.startLineNumber,startColumn=range.startColumn,endLineNumber=range.endLineNumber,endColumn=range.endColumn;var word=model.getWordUntilPosition({lineNumber:startLineNumber,column:startColumn-n});var beforeRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_9__/* .Range */ .e(startLineNumber,word.startColumn,startLineNumber,startColumn);var afterRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_9__/* .Range */ .e(endLineNumber,endColumn,endLineNumber,1073741824/* MAX_SAFE_SMALL_INTEGER */);var before=model.getValueInRange(beforeRange).replace(/^\s+/,'');var inside=model.getValueInRange(range);var after=model.getValueInRange(afterRange).replace(/\s+$/,'');return{value:before+inside+after,highlight:{start:before.length,end:before.length+inside.length}};}}]);return FilePreview;}();var FileReferences=/*#__PURE__*/function(){function FileReferences(parent,uri){_classCallCheck(this,FileReferences);this.parent=parent;this.uri=uri;this.children=[];this._previews=new _base_common_map_js__WEBPACK_IMPORTED_MODULE_5__/* .ResourceMap */ .Y9();}_createClass(FileReferences,[{key:"dispose",value:function dispose(){(0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__/* .dispose */ .B9)(this._previews.values());this._previews.clear();}},{key:"getPreview",value:function getPreview(child){return this._previews.get(child.uri);}},{key:"ariaMessage",get:function get(){var len=this.children.length;if(len===1){return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.fileReferences.1',"1 symbol in {0}, full path {1}",(0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__/* .basename */ .EZ)(this.uri),this.uri.fsPath);}else{return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.fileReferences.N',"{0} symbols in {1}, full path {2}",len,(0,_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__/* .basename */ .EZ)(this.uri),this.uri.fsPath);}}},{key:"resolve",value:function resolve(textModelResolverService){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var _iterator,_step,child,ref;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this._previews.size!==0)){_context.next=2;break;}return _context.abrupt("return",this);case 2:_iterator=_createForOfIteratorHelper(this.children);_context.prev=3;_iterator.s();case 5:if((_step=_iterator.n()).done){_context.next=21;break;}child=_step.value;if(!this._previews.has(child.uri)){_context.next=9;break;}return _context.abrupt("continue",19);case 9:_context.prev=9;_context.next=12;return textModelResolverService.createModelReference(child.uri);case 12:ref=_context.sent;this._previews.set(child.uri,new FilePreview(ref));_context.next=19;break;case 16:_context.prev=16;_context.t0=_context["catch"](9);(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_1__/* .onUnexpectedError */ .dL)(_context.t0);case 19:_context.next=5;break;case 21:_context.next=26;break;case 23:_context.prev=23;_context.t1=_context["catch"](3);_iterator.e(_context.t1);case 26:_context.prev=26;_iterator.f();return _context.finish(26);case 29:return _context.abrupt("return",this);case 30:case"end":return _context.stop();}}},_callee,this,[[3,23,26,29],[9,16]]);}));}}]);return FileReferences;}();var ReferencesModel=/*#__PURE__*/function(){function ReferencesModel(links,title){var _this=this;_classCallCheck(this,ReferencesModel);this.groups=[];this.references=[];this._onDidChangeReferenceRange=new _base_common_event_js__WEBPACK_IMPORTED_MODULE_2__/* .Emitter */ .Q5();this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event;this._links=links;this._title=title;// grouping and sorting
var _links=_slicedToArray(links,1),providersFirst=_links[0];links.sort(ReferencesModel._compareReferences);var current;var _iterator2=_createForOfIteratorHelper(links),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var link=_step2.value;if(!current||!_base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__/* .extUri.isEqual */ .SF.isEqual(current.uri,link.uri,true)){// new group
current=new FileReferences(this,link.uri);this.groups.push(current);}// append, check for equality first!
if(current.children.length===0||ReferencesModel._compareReferences(link,current.children[current.children.length-1])!==0){var oneRef=new OneReference(providersFirst===link,current,link,function(ref){return _this._onDidChangeReferenceRange.fire(ref);});this.references.push(oneRef);current.children.push(oneRef);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}_createClass(ReferencesModel,[{key:"dispose",value:function dispose(){(0,_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_4__/* .dispose */ .B9)(this.groups);this._onDidChangeReferenceRange.dispose();this.groups.length=0;}},{key:"clone",value:function clone(){return new ReferencesModel(this._links,this._title);}},{key:"title",get:function get(){return this._title;}},{key:"isEmpty",get:function get(){return this.groups.length===0;}},{key:"ariaMessage",get:function get(){if(this.isEmpty){return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.result.0',"No results found");}else if(this.references.length===1){return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.result.1',"Found 1 symbol in {0}",this.references[0].uri.fsPath);}else if(this.groups.length===1){return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.result.n1',"Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath);}else{return (0,_nls_js__WEBPACK_IMPORTED_MODULE_8__/* .localize */ .N)('aria.result.nm',"Found {0} symbols in {1} files",this.references.length,this.groups.length);}}},{key:"nextOrPreviousReference",value:function nextOrPreviousReference(reference,next){var parent=reference.parent;var idx=parent.children.indexOf(reference);var childCount=parent.children.length;var groupCount=parent.parent.groups.length;if(groupCount===1||next&&idx+1<childCount||!next&&idx>0){// cycling within one file
if(next){idx=(idx+1)%childCount;}else{idx=(idx+childCount-1)%childCount;}return parent.children[idx];}idx=parent.parent.groups.indexOf(parent);if(next){idx=(idx+1)%groupCount;return parent.parent.groups[idx].children[0];}else{idx=(idx+groupCount-1)%groupCount;return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length-1];}}},{key:"nearestReference",value:function nearestReference(resource,position){var nearest=this.references.map(function(ref,idx){return{idx:idx,prefixLen:_base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__/* .commonPrefixLength */ .Mh(ref.uri.toString(),resource.toString()),offsetDist:Math.abs(ref.range.startLineNumber-position.lineNumber)*100+Math.abs(ref.range.startColumn-position.column)};}).sort(function(a,b){if(a.prefixLen>b.prefixLen){return-1;}else if(a.prefixLen<b.prefixLen){return 1;}else if(a.offsetDist<b.offsetDist){return-1;}else if(a.offsetDist>b.offsetDist){return 1;}else{return 0;}})[0];if(nearest){return this.references[nearest.idx];}return undefined;}},{key:"referenceAt",value:function referenceAt(resource,position){var _iterator3=_createForOfIteratorHelper(this.references),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var ref=_step3.value;if(ref.uri.toString()===resource.toString()){if(_common_core_range_js__WEBPACK_IMPORTED_MODULE_9__/* .Range.containsPosition */ .e.containsPosition(ref.range,position)){return ref;}}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return undefined;}},{key:"firstReference",value:function firstReference(){var _iterator4=_createForOfIteratorHelper(this.references),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var ref=_step4.value;if(ref.isProviderFirst){return ref;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return this.references[0];}}],[{key:"_compareReferences",value:function _compareReferences(a,b){return _base_common_resources_js__WEBPACK_IMPORTED_MODULE_6__/* .extUri.compare */ .SF.compare(a.uri,b.uri)||_common_core_range_js__WEBPACK_IMPORTED_MODULE_9__/* .Range.compareRangesUsingStarts */ .e.compareRangesUsingStarts(a.range,b.range);}}]);return ReferencesModel;}();

/***/ }),

/***/ 40061:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "R8": () => (/* binding */ getHover)
/* harmony export */ });
/* unused harmony exports HoverProviderResult, getHoverPromise */
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88494);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82643);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(32314);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(79098);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(98480);
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var HoverProviderResult=function HoverProviderResult(provider,hover,ordinal){_classCallCheck(this,HoverProviderResult);this.provider=provider;this.hover=hover;this.ordinal=ordinal;};function executeProvider(provider,ordinal,model,position,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var result;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Promise.resolve(provider.provideHover(model,position,token));case 3:result=_context.sent;if(!(result&&isValid(result))){_context.next=6;break;}return _context.abrupt("return",new HoverProviderResult(provider,result,ordinal));case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_3__/* .onUnexpectedExternalError */ .Cp)(_context.t0);case 11:return _context.abrupt("return",undefined);case 12:case"end":return _context.stop();}}},_callee,null,[[0,8]]);}));}function getHover(model,position,token){var providers=_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .HoverProviderRegistry.ordered */ .xp.ordered(model);var promises=providers.map(function(provider,index){return executeProvider(provider,index,model,position,token);});return _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .AsyncIterableObject.fromPromises */ .Aq.fromPromises(promises).coalesce();}function getHoverPromise(model,position,token){return getHover(model,position,token).map(function(item){return item.hover;}).toPromise();}(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_4__/* .registerModelAndPositionCommand */ .sb)('_executeHoverProvider',function(model,position){return getHoverPromise(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__/* .CancellationToken.None */ .T.None);});function isValid(result){var hasRange=typeof result.range!=='undefined';var hasHtmlContent=typeof result.contents!=='undefined'&&result.contents&&result.contents.length>0;return hasRange&&hasHtmlContent;}

/***/ }),

/***/ 23305:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "ModesHoverController": () => (/* binding */ ModesHoverController)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/keyCodes.js
var keyCodes = __webpack_require__(61273);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/language.js
var language = __webpack_require__(84318);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js
var goToDefinitionAtPosition = __webpack_require__(30599);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js
var hoverWidget = __webpack_require__(39369);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/cancellation.js
var cancellation = __webpack_require__(82643);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/color.js
var common_color = __webpack_require__(65142);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/color.js
var browser_color = __webpack_require__(54898);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorDetector.js
var browser_colorDetector = __webpack_require__(75486);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerModel.js
var colorPickerModel = __webpack_require__(481);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerWidget.js
var colorPickerWidget = __webpack_require__(66145);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/colorHoverParticipant.js
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var ColorHover=/*#__PURE__*/function(){function ColorHover(owner,range,model,provider){_classCallCheck(this,ColorHover);this.owner=owner;this.range=range;this.model=model;this.provider=provider;/**
         * Force the hover to always be rendered at this specific range,
         * even in the case of multiple hover parts.
         */this.forceShowAtRange=true;}_createClass(ColorHover,[{key:"isValidForHoverAnchor",value:function isValidForHoverAnchor(anchor){return anchor.type===1/* Range */&&this.range.startColumn<=anchor.range.startColumn&&this.range.endColumn>=anchor.range.endColumn;}}]);return ColorHover;}();var ColorHoverParticipant=/*#__PURE__*/function(){function ColorHoverParticipant(_editor,_themeService){_classCallCheck(this,ColorHoverParticipant);this._editor=_editor;this._themeService=_themeService;}_createClass(ColorHoverParticipant,[{key:"computeSync",value:function computeSync(anchor,lineDecorations){return[];}},{key:"computeAsync",value:function computeAsync(anchor,lineDecorations,token){return common_async/* AsyncIterableObject.fromPromise */.Aq.fromPromise(this._computeAsync(anchor,lineDecorations,token));}},{key:"_computeAsync",value:function _computeAsync(anchor,lineDecorations,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var colorDetector,_iterator,_step,d,colorData,colorHover;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this._editor.hasModel()){_context.next=2;break;}return _context.abrupt("return",[]);case 2:colorDetector=browser_colorDetector/* ColorDetector.get */.i.get(this._editor);if(colorDetector){_context.next=5;break;}return _context.abrupt("return",[]);case 5:_iterator=_createForOfIteratorHelper(lineDecorations);_context.prev=6;_iterator.s();case 8:if((_step=_iterator.n()).done){_context.next=20;break;}d=_step.value;if(colorDetector.isColorDecorationId(d.id)){_context.next=12;break;}return _context.abrupt("continue",18);case 12:colorData=colorDetector.getColorData(d.range.getStartPosition());if(!colorData){_context.next=18;break;}_context.next=16;return this._createColorHover(this._editor.getModel(),colorData.colorInfo,colorData.provider);case 16:colorHover=_context.sent;return _context.abrupt("return",[colorHover]);case 18:_context.next=8;break;case 20:_context.next=25;break;case 22:_context.prev=22;_context.t0=_context["catch"](6);_iterator.e(_context.t0);case 25:_context.prev=25;_iterator.f();return _context.finish(25);case 28:return _context.abrupt("return",[]);case 29:case"end":return _context.stop();}}},_callee,this,[[6,22,25,28]]);}));}},{key:"_createColorHover",value:function _createColorHover(editorModel,colorInfo,provider){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var originalText,_colorInfo$color,red,green,blue,alpha,rgba,color,colorPresentations,model;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:originalText=editorModel.getValueInRange(colorInfo.range);_colorInfo$color=colorInfo.color,red=_colorInfo$color.red,green=_colorInfo$color.green,blue=_colorInfo$color.blue,alpha=_colorInfo$color.alpha;rgba=new common_color/* RGBA */.VS(Math.round(red*255),Math.round(green*255),Math.round(blue*255),alpha);color=new common_color/* Color */.Il(rgba);_context2.next=6;return (0,browser_color/* getColorPresentations */.R)(editorModel,colorInfo,provider,cancellation/* CancellationToken.None */.T.None);case 6:colorPresentations=_context2.sent;model=new colorPickerModel/* ColorPickerModel */.A(color,[],0);model.colorPresentations=colorPresentations||[];model.guessColorPresentation(color,originalText);return _context2.abrupt("return",new ColorHover(this,core_range/* Range.lift */.e.lift(colorInfo.range),model,provider));case 11:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"renderHoverParts",value:function renderHoverParts(context,hoverParts){var _this=this;if(hoverParts.length===0||!this._editor.hasModel()){return lifecycle/* Disposable.None */.JT.None;}var disposables=new lifecycle/* DisposableStore */.SL();var colorHover=hoverParts[0];var editorModel=this._editor.getModel();var model=colorHover.model;var widget=disposables.add(new colorPickerWidget/* ColorPickerWidget */.YW(context.fragment,model,this._editor.getOption(129/* pixelRatio */),this._themeService));context.setColorPicker(widget);var range=new core_range/* Range */.e(colorHover.range.startLineNumber,colorHover.range.startColumn,colorHover.range.endLineNumber,colorHover.range.endColumn);var updateEditorModel=function updateEditorModel(){var textEdits;var newRange;if(model.presentation.textEdit){textEdits=[model.presentation.textEdit];newRange=new core_range/* Range */.e(model.presentation.textEdit.range.startLineNumber,model.presentation.textEdit.range.startColumn,model.presentation.textEdit.range.endLineNumber,model.presentation.textEdit.range.endColumn);var trackedRange=_this._editor.getModel()._setTrackedRange(null,newRange,3/* GrowsOnlyWhenTypingAfter */);_this._editor.pushUndoStop();_this._editor.executeEdits('colorpicker',textEdits);newRange=_this._editor.getModel()._getTrackedRange(trackedRange)||newRange;}else{textEdits=[{identifier:null,range:range,text:model.presentation.label,forceMoveMarkers:false}];newRange=range.setEndPosition(range.endLineNumber,range.startColumn+model.presentation.label.length);_this._editor.pushUndoStop();_this._editor.executeEdits('colorpicker',textEdits);}if(model.presentation.additionalTextEdits){textEdits=_toConsumableArray(model.presentation.additionalTextEdits);_this._editor.executeEdits('colorpicker',textEdits);context.hide();}_this._editor.pushUndoStop();range=newRange;};var updateColorPresentations=function updateColorPresentations(color){return (0,browser_color/* getColorPresentations */.R)(editorModel,{range:range,color:{red:color.rgba.r/255,green:color.rgba.g/255,blue:color.rgba.b/255,alpha:color.rgba.a}},colorHover.provider,cancellation/* CancellationToken.None */.T.None).then(function(colorPresentations){model.colorPresentations=colorPresentations||[];});};disposables.add(model.onColorFlushed(function(color){updateColorPresentations(color).then(updateEditorModel);}));disposables.add(model.onDidChangeColor(updateColorPresentations));return disposables;}}]);return ColorHoverParticipant;}();ColorHoverParticipant=__decorate([__param(1,themeService/* IThemeService */.XE)],ColorHoverParticipant);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hoverOperation.js
function hoverOperation_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){hoverOperation_typeof=function _typeof(obj){return typeof obj;};}else{hoverOperation_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return hoverOperation_typeof(obj);}function hoverOperation_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function hoverOperation_createClass(Constructor,protoProps,staticProps){if(protoProps)hoverOperation_defineProperties(Constructor.prototype,protoProps);if(staticProps)hoverOperation_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(hoverOperation_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function hoverOperation_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var hoverOperation_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var __asyncValues=undefined&&undefined.__asyncValues||function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values==="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this;},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value);});};}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d});},reject);}};var HoverResult=function HoverResult(value,isComplete,hasLoadingMessage){hoverOperation_classCallCheck(this,HoverResult);this.value=value;this.isComplete=isComplete;this.hasLoadingMessage=hasLoadingMessage;};/**
 * Computing the hover is very fine tuned.
 *
 * Suppose the hover delay is 300ms (the default). Then, when resting the mouse at an anchor:
 * - at 150ms, the async computation is triggered (i.e. semantic hover)
 *   - if async results already come in, they are not rendered yet.
 * - at 300ms, the sync computation is triggered (i.e. decorations, markers)
 *   - if there are sync or async results, they are rendered.
 * - at 900ms, if the async computation hasn't finished, a "Loading..." result is added.
 */var HoverOperation=/*#__PURE__*/function(_Disposable){_inherits(HoverOperation,_Disposable);var _super=_createSuper(HoverOperation);function HoverOperation(_editor,_computer){var _this;hoverOperation_classCallCheck(this,HoverOperation);_this=_super.call(this);_this._editor=_editor;_this._computer=_computer;_this._onResult=_this._register(new common_event/* Emitter */.Q5());_this.onResult=_this._onResult.event;_this._firstWaitScheduler=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this._triggerAsyncComputation();},0));_this._secondWaitScheduler=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this._triggerSyncComputation();},0));_this._loadingMessageScheduler=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this._triggerLoadingMessage();},0));_this._state=0/* Idle */;_this._asyncIterable=null;_this._asyncIterableDone=false;_this._result=[];return _this;}hoverOperation_createClass(HoverOperation,[{key:"dispose",value:function dispose(){if(this._asyncIterable){this._asyncIterable.cancel();this._asyncIterable=null;}_get(_getPrototypeOf(HoverOperation.prototype),"dispose",this).call(this);}},{key:"_hoverTime",get:function get(){return this._editor.getOption(53/* hover */).delay;}},{key:"_firstWaitTime",get:function get(){return this._hoverTime/2;}},{key:"_secondWaitTime",get:function get(){return this._hoverTime-this._firstWaitTime;}},{key:"_loadingMessageTime",get:function get(){return 3*this._hoverTime;}},{key:"_setState",value:function _setState(state){var fireResult=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this._state=state;if(fireResult){this._fireResult();}}},{key:"_triggerAsyncComputation",value:function _triggerAsyncComputation(){var _this2=this;this._setState(2/* SecondWait */);this._secondWaitScheduler.schedule(this._secondWaitTime);if(this._computer.computeAsync){this._asyncIterableDone=false;this._asyncIterable=(0,common_async/* createCancelableAsyncIterable */.zS)(function(token){return _this2._computer.computeAsync(token);});(function(){return hoverOperation_awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var e_1,_a,_b,_c,item;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.prev=1;_b=__asyncValues(this._asyncIterable);case 3:_context.next=5;return _b.next();case 5:_c=_context.sent;if(_c.done){_context.next=11;break;}item=_c.value;if(item){this._result.push(item);this._fireResult();}case 9:_context.next=3;break;case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context["catch"](1);e_1={error:_context.t0};case 16:_context.prev=16;_context.prev=17;if(!(_c&&!_c.done&&(_a=_b.return))){_context.next=21;break;}_context.next=21;return _a.call(_b);case 21:_context.prev=21;if(!e_1){_context.next=24;break;}throw e_1.error;case 24:return _context.finish(21);case 25:return _context.finish(16);case 26:this._asyncIterableDone=true;if(this._state===3/* WaitingForAsync */||this._state===4/* WaitingForAsyncShowingLoading */){this._setState(0/* Idle */);}_context.next=33;break;case 30:_context.prev=30;_context.t1=_context["catch"](0);(0,errors/* onUnexpectedError */.dL)(_context.t1);case 33:case"end":return _context.stop();}}},_callee,this,[[0,30],[1,13,16,26],[17,,21,25]]);}));})();}else{this._asyncIterableDone=true;}}},{key:"_triggerSyncComputation",value:function _triggerSyncComputation(){if(this._computer.computeSync){this._result=this._result.concat(this._computer.computeSync());}this._setState(this._asyncIterableDone?0/* Idle */:3/* WaitingForAsync */);}},{key:"_triggerLoadingMessage",value:function _triggerLoadingMessage(){if(this._state===3/* WaitingForAsync */){this._setState(4/* WaitingForAsyncShowingLoading */);}}},{key:"_fireResult",value:function _fireResult(){if(this._state===1/* FirstWait */||this._state===2/* SecondWait */){// Do not send out results before the hover time
return;}var isComplete=this._state===0/* Idle */;var hasLoadingMessage=this._state===4/* WaitingForAsyncShowingLoading */;this._onResult.fire(new HoverResult(this._result.slice(0),isComplete,hasLoadingMessage));}},{key:"start",value:function start(mode){if(mode===0/* Delayed */){if(this._state===0/* Idle */){this._setState(1/* FirstWait */);this._firstWaitScheduler.schedule(this._firstWaitTime);this._loadingMessageScheduler.schedule(this._loadingMessageTime);}}else{switch(this._state){case 0/* Idle */:this._triggerAsyncComputation();this._secondWaitScheduler.cancel();this._triggerSyncComputation();break;case 2/* SecondWait */:this._secondWaitScheduler.cancel();this._triggerSyncComputation();break;}}}},{key:"cancel",value:function cancel(){this._firstWaitScheduler.cancel();this._secondWaitScheduler.cancel();this._loadingMessageScheduler.cancel();if(this._asyncIterable){this._asyncIterable.cancel();this._asyncIterable=null;}this._result=[];this._setState(0/* Idle */,false);}}]);return HoverOperation;}(lifecycle/* Disposable */.JT);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hoverTypes.js
function hoverTypes_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function hoverTypes_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function hoverTypes_createClass(Constructor,protoProps,staticProps){if(protoProps)hoverTypes_defineProperties(Constructor.prototype,protoProps);if(staticProps)hoverTypes_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var HoverRangeAnchor=/*#__PURE__*/function(){function HoverRangeAnchor(priority,range){hoverTypes_classCallCheck(this,HoverRangeAnchor);this.priority=priority;this.range=range;this.type=1/* Range */;}hoverTypes_createClass(HoverRangeAnchor,[{key:"equals",value:function equals(other){return other.type===1/* Range */&&this.range.equalsRange(other.range);}},{key:"canAdoptVisibleHover",value:function canAdoptVisibleHover(lastAnchor,showAtPosition){return lastAnchor.type===1/* Range */&&showAtPosition.lineNumber===this.range.startLineNumber;}}]);return HoverRangeAnchor;}();var HoverForeignElementAnchor=/*#__PURE__*/function(){function HoverForeignElementAnchor(priority,owner,range){hoverTypes_classCallCheck(this,HoverForeignElementAnchor);this.priority=priority;this.owner=owner;this.range=range;this.type=2/* ForeignElement */;}hoverTypes_createClass(HoverForeignElementAnchor,[{key:"equals",value:function equals(other){return other.type===2/* ForeignElement */&&this.owner===other.owner;}},{key:"canAdoptVisibleHover",value:function canAdoptVisibleHover(lastAnchor,showAtPosition){return lastAnchor.type===2/* ForeignElement */&&this.owner===lastAnchor.owner;}}]);return HoverForeignElementAnchor;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/markdownHoverParticipant.js
var markdownHoverParticipant = __webpack_require__(90636);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/resources.js
var resources = __webpack_require__(74926);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js
var markerDecorations = __webpack_require__(37768);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/browser/codeAction.js
var codeAction = __webpack_require__(94646);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/browser/codeActionCommands.js + 4 modules
var codeActionCommands = __webpack_require__(99264);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/browser/types.js
var types = __webpack_require__(33830);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoError.js + 2 modules
var gotoError = __webpack_require__(90896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js
var markers = __webpack_require__(77796);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js
var common_opener = __webpack_require__(58208);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js
var progress = __webpack_require__(81533);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js
var colorRegistry = __webpack_require__(25530);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/markerHoverParticipant.js
function markerHoverParticipant_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=markerHoverParticipant_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function markerHoverParticipant_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return markerHoverParticipant_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return markerHoverParticipant_arrayLikeToArray(o,minLen);}function markerHoverParticipant_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function markerHoverParticipant_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function markerHoverParticipant_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function markerHoverParticipant_createClass(Constructor,protoProps,staticProps){if(protoProps)markerHoverParticipant_defineProperties(Constructor.prototype,protoProps);if(staticProps)markerHoverParticipant_defineProperties(Constructor,staticProps);return Constructor;}function markerHoverParticipant_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){markerHoverParticipant_typeof=function _typeof(obj){return typeof obj;};}else{markerHoverParticipant_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return markerHoverParticipant_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var markerHoverParticipant_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":markerHoverParticipant_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var markerHoverParticipant_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var $=dom.$;var MarkerHover=/*#__PURE__*/function(){function MarkerHover(owner,range,marker){markerHoverParticipant_classCallCheck(this,MarkerHover);this.owner=owner;this.range=range;this.marker=marker;}markerHoverParticipant_createClass(MarkerHover,[{key:"isValidForHoverAnchor",value:function isValidForHoverAnchor(anchor){return anchor.type===1/* Range */&&this.range.startColumn<=anchor.range.startColumn&&this.range.endColumn>=anchor.range.endColumn;}}]);return MarkerHover;}();var markerCodeActionTrigger={type:1/* Invoke */,filter:{include:types/* CodeActionKind.QuickFix */.yN.QuickFix}};var MarkerHoverParticipant=/*#__PURE__*/function(){function MarkerHoverParticipant(_editor,_markerDecorationsService,_openerService){markerHoverParticipant_classCallCheck(this,MarkerHoverParticipant);this._editor=_editor;this._markerDecorationsService=_markerDecorationsService;this._openerService=_openerService;this.recentMarkerCodeActionsInfo=undefined;}markerHoverParticipant_createClass(MarkerHoverParticipant,[{key:"computeSync",value:function computeSync(anchor,lineDecorations){if(!this._editor.hasModel()||anchor.type!==1/* Range */){return[];}var model=this._editor.getModel();var lineNumber=anchor.range.startLineNumber;var maxColumn=model.getLineMaxColumn(lineNumber);var result=[];var _iterator=markerHoverParticipant_createForOfIteratorHelper(lineDecorations),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;var startColumn=d.range.startLineNumber===lineNumber?d.range.startColumn:1;var endColumn=d.range.endLineNumber===lineNumber?d.range.endColumn:maxColumn;var marker=this._markerDecorationsService.getMarker(model.uri,d);if(!marker){continue;}var range=new core_range/* Range */.e(anchor.range.startLineNumber,startColumn,anchor.range.startLineNumber,endColumn);result.push(new MarkerHover(this,range,marker));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;}},{key:"renderHoverParts",value:function renderHoverParts(context,hoverParts){var _this=this;if(!hoverParts.length){return lifecycle/* Disposable.None */.JT.None;}var disposables=new lifecycle/* DisposableStore */.SL();hoverParts.forEach(function(msg){return context.fragment.appendChild(_this.renderMarkerHover(msg,disposables));});var markerHoverForStatusbar=hoverParts.length===1?hoverParts[0]:hoverParts.sort(function(a,b){return markers/* MarkerSeverity.compare */.ZL.compare(a.marker.severity,b.marker.severity);})[0];this.renderMarkerStatusbar(context,markerHoverForStatusbar,disposables);return disposables;}},{key:"renderMarkerHover",value:function renderMarkerHover(markerHover,disposables){var _this2=this;var hoverElement=$('div.hover-row');var markerElement=dom.append(hoverElement,$('div.marker.hover-contents'));var _markerHover$marker=markerHover.marker,source=_markerHover$marker.source,message=_markerHover$marker.message,code=_markerHover$marker.code,relatedInformation=_markerHover$marker.relatedInformation;this._editor.applyFontInfo(markerElement);var messageElement=dom.append(markerElement,$('span'));messageElement.style.whiteSpace='pre-wrap';messageElement.innerText=message;if(source||code){// Code has link
if(code&&typeof code!=='string'){var sourceAndCodeElement=$('span');if(source){var sourceElement=dom.append(sourceAndCodeElement,$('span'));sourceElement.innerText=source;}var codeLink=dom.append(sourceAndCodeElement,$('a.code-link'));codeLink.setAttribute('href',code.target.toString());disposables.add(dom.addDisposableListener(codeLink,'click',function(e){_this2._openerService.open(code.target,{allowCommands:true});e.preventDefault();e.stopPropagation();}));var codeElement=dom.append(codeLink,$('span'));codeElement.innerText=code.value;var detailsElement=dom.append(markerElement,sourceAndCodeElement);detailsElement.style.opacity='0.6';detailsElement.style.paddingLeft='6px';}else{var _detailsElement=dom.append(markerElement,$('span'));_detailsElement.style.opacity='0.6';_detailsElement.style.paddingLeft='6px';_detailsElement.innerText=source&&code?"".concat(source,"(").concat(code,")"):source?source:"(".concat(code,")");}}if((0,arrays/* isNonEmptyArray */.Of)(relatedInformation)){var _iterator2=markerHoverParticipant_createForOfIteratorHelper(relatedInformation),_step2;try{var _loop=function _loop(){var _step2$value=_step2.value,message=_step2$value.message,resource=_step2$value.resource,startLineNumber=_step2$value.startLineNumber,startColumn=_step2$value.startColumn;var relatedInfoContainer=dom.append(markerElement,$('div'));relatedInfoContainer.style.marginTop='8px';var a=dom.append(relatedInfoContainer,$('a'));a.innerText="".concat((0,resources/* basename */.EZ)(resource),"(").concat(startLineNumber,", ").concat(startColumn,"): ");a.style.cursor='pointer';disposables.add(dom.addDisposableListener(a,'click',function(e){e.stopPropagation();e.preventDefault();if(_this2._openerService){_this2._openerService.open(resource,{fromUserGesture:true,editorOptions:{selection:{startLineNumber:startLineNumber,startColumn:startColumn}}}).catch(errors/* onUnexpectedError */.dL);}}));var messageElement=dom.append(relatedInfoContainer,$('span'));messageElement.innerText=message;_this2._editor.applyFontInfo(messageElement);};for(_iterator2.s();!(_step2=_iterator2.n()).done;){_loop();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return hoverElement;}},{key:"renderMarkerStatusbar",value:function renderMarkerStatusbar(context,markerHover,disposables){var _this3=this;if(markerHover.marker.severity===markers/* MarkerSeverity.Error */.ZL.Error||markerHover.marker.severity===markers/* MarkerSeverity.Warning */.ZL.Warning||markerHover.marker.severity===markers/* MarkerSeverity.Info */.ZL.Info){context.statusBar.addAction({label:nls/* localize */.N('view problem',"View Problem"),commandId:gotoError.NextMarkerAction.ID,run:function run(){var _a;context.hide();(_a=gotoError.MarkerController.get(_this3._editor))===null||_a===void 0?void 0:_a.showAtMarker(markerHover.marker);_this3._editor.focus();}});}if(!this._editor.getOption(81/* readOnly */)){var quickfixPlaceholderElement=context.statusBar.append($('div'));if(this.recentMarkerCodeActionsInfo){if(markers/* IMarkerData.makeKey */.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===markers/* IMarkerData.makeKey */.H0.makeKey(markerHover.marker)){if(!this.recentMarkerCodeActionsInfo.hasCodeActions){quickfixPlaceholderElement.textContent=nls/* localize */.N('noQuickFixes',"No quick fixes available");}}else{this.recentMarkerCodeActionsInfo=undefined;}}var updatePlaceholderDisposable=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?lifecycle/* Disposable.None */.JT.None:disposables.add((0,common_async/* disposableTimeout */.Vg)(function(){return quickfixPlaceholderElement.textContent=nls/* localize */.N('checkingForQuickFixes',"Checking for quick fixes...");},200));if(!quickfixPlaceholderElement.textContent){// Have some content in here to avoid flickering
quickfixPlaceholderElement.textContent=String.fromCharCode(0xA0);// &nbsp;
}var codeActionsPromise=this.getCodeActions(markerHover.marker);disposables.add((0,lifecycle/* toDisposable */.OF)(function(){return codeActionsPromise.cancel();}));codeActionsPromise.then(function(actions){updatePlaceholderDisposable.dispose();_this3.recentMarkerCodeActionsInfo={marker:markerHover.marker,hasCodeActions:actions.validActions.length>0};if(!_this3.recentMarkerCodeActionsInfo.hasCodeActions){actions.dispose();quickfixPlaceholderElement.textContent=nls/* localize */.N('noQuickFixes',"No quick fixes available");return;}quickfixPlaceholderElement.style.display='none';var showing=false;disposables.add((0,lifecycle/* toDisposable */.OF)(function(){if(!showing){actions.dispose();}}));context.statusBar.addAction({label:nls/* localize */.N('quick fixes',"Quick Fix..."),commandId:codeActionCommands/* QuickFixAction.Id */.E7.Id,run:function run(target){showing=true;var controller=codeActionCommands/* QuickFixController.get */.pY.get(_this3._editor);var elementPosition=dom.getDomNodePagePosition(target);// Hide the hover pre-emptively, otherwise the editor can close the code actions
// context menu as well when using keyboard navigation
context.hide();controller===null||controller===void 0?void 0:controller.showCodeActions(markerCodeActionTrigger,actions,{x:elementPosition.left+6,y:elementPosition.top+elementPosition.height+6});}});},errors/* onUnexpectedError */.dL);}}},{key:"getCodeActions",value:function getCodeActions(marker){var _this4=this;return (0,common_async/* createCancelablePromise */.PG)(function(cancellationToken){return (0,codeAction/* getCodeActions */.aI)(_this4._editor.getModel(),new core_range/* Range */.e(marker.startLineNumber,marker.startColumn,marker.endLineNumber,marker.endColumn),markerCodeActionTrigger,progress/* Progress.None */.Ex.None,cancellationToken);});}}]);return MarkerHoverParticipant;}();MarkerHoverParticipant=markerHoverParticipant_decorate([markerHoverParticipant_param(1,markerDecorations/* IMarkerDecorationsService */.i),markerHoverParticipant_param(2,common_opener/* IOpenerService */.v4)],MarkerHoverParticipant);(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var linkFg=theme.getColor(colorRegistry/* textLinkForeground */.url);if(linkFg){collector.addRule(".monaco-hover .hover-contents a.code-link span { color: ".concat(linkFg,"; }"));}var activeLinkFg=theme.getColor(colorRegistry/* textLinkActiveForeground */.sgC);if(activeLinkFg){collector.addRule(".monaco-hover .hover-contents a.code-link span:hover { color: ".concat(activeLinkFg,"; }"));}});
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/htmlContent.js
var htmlContent = __webpack_require__(15093);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.js
var markdownRenderer = __webpack_require__(69152);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/ghostTextController.js + 9 modules
var ghostTextController = __webpack_require__(96199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibility.js
var accessibility = __webpack_require__(10304);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js
var common_actions = __webpack_require__(25749);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHoverParticipant.js
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||inlineCompletionsHoverParticipant_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function inlineCompletionsHoverParticipant_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=inlineCompletionsHoverParticipant_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function inlineCompletionsHoverParticipant_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return inlineCompletionsHoverParticipant_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return inlineCompletionsHoverParticipant_arrayLikeToArray(o,minLen);}function inlineCompletionsHoverParticipant_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function inlineCompletionsHoverParticipant_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function inlineCompletionsHoverParticipant_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function inlineCompletionsHoverParticipant_createClass(Constructor,protoProps,staticProps){if(protoProps)inlineCompletionsHoverParticipant_defineProperties(Constructor.prototype,protoProps);if(staticProps)inlineCompletionsHoverParticipant_defineProperties(Constructor,staticProps);return Constructor;}function inlineCompletionsHoverParticipant_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){inlineCompletionsHoverParticipant_typeof=function _typeof(obj){return typeof obj;};}else{inlineCompletionsHoverParticipant_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return inlineCompletionsHoverParticipant_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var inlineCompletionsHoverParticipant_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":inlineCompletionsHoverParticipant_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var inlineCompletionsHoverParticipant_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var InlineCompletionsHover=/*#__PURE__*/function(){function InlineCompletionsHover(owner,range,controller){inlineCompletionsHoverParticipant_classCallCheck(this,InlineCompletionsHover);this.owner=owner;this.range=range;this.controller=controller;}inlineCompletionsHoverParticipant_createClass(InlineCompletionsHover,[{key:"isValidForHoverAnchor",value:function isValidForHoverAnchor(anchor){return anchor.type===1/* Range */&&this.range.startColumn<=anchor.range.startColumn&&this.range.endColumn>=anchor.range.endColumn;}},{key:"hasMultipleSuggestions",value:function hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions();}}]);return InlineCompletionsHover;}();var InlineCompletionsHoverParticipant=/*#__PURE__*/function(){function InlineCompletionsHoverParticipant(_editor,_commandService,_menuService,_contextKeyService,_languageService,_openerService,accessibilityService){inlineCompletionsHoverParticipant_classCallCheck(this,InlineCompletionsHoverParticipant);this._editor=_editor;this._commandService=_commandService;this._menuService=_menuService;this._contextKeyService=_contextKeyService;this._languageService=_languageService;this._openerService=_openerService;this.accessibilityService=accessibilityService;}inlineCompletionsHoverParticipant_createClass(InlineCompletionsHoverParticipant,[{key:"suggestHoverAnchor",value:function suggestHoverAnchor(mouseEvent){var controller=ghostTextController.GhostTextController.get(this._editor);if(!controller){return null;}var target=mouseEvent.target;if(target.type===8/* CONTENT_VIEW_ZONE */){// handle the case where the mouse is over the view zone
var viewZoneData=target.detail;if(controller.shouldShowHoverAtViewZone(viewZoneData.viewZoneId)){return new HoverForeignElementAnchor(1000,this,core_range/* Range.fromPositions */.e.fromPositions(viewZoneData.positionBefore||viewZoneData.position,viewZoneData.positionBefore||viewZoneData.position));}}if(target.type===7/* CONTENT_EMPTY */){// handle the case where the mouse is over the empty portion of a line following ghost text
if(controller.shouldShowHoverAt(target.range)){return new HoverForeignElementAnchor(1000,this,target.range);}}if(target.type===6/* CONTENT_TEXT */){// handle the case where the mouse is directly over ghost text
var mightBeForeignElement=target.detail.mightBeForeignElement;if(mightBeForeignElement&&controller.shouldShowHoverAt(target.range)){return new HoverForeignElementAnchor(1000,this,target.range);}}return null;}},{key:"computeSync",value:function computeSync(anchor,lineDecorations){var controller=ghostTextController.GhostTextController.get(this._editor);if(controller&&controller.shouldShowHoverAt(anchor.range)){return[new InlineCompletionsHover(this,anchor.range,controller)];}return[];}},{key:"renderHoverParts",value:function renderHoverParts(context,hoverParts){var _this=this;var disposableStore=new lifecycle/* DisposableStore */.SL();var part=hoverParts[0];if(this.accessibilityService.isScreenReaderOptimized()){this.renderScreenReaderText(context,part,disposableStore);}var menu=disposableStore.add(this._menuService.createMenu(common_actions/* MenuId.InlineCompletionsActions */.eH.InlineCompletionsActions,this._contextKeyService));var previousAction=context.statusBar.addAction({label:nls/* localize */.N('showNextInlineSuggestion',"Next"),commandId:ghostTextController.ShowNextInlineSuggestionAction.ID,run:function run(){return _this._commandService.executeCommand(ghostTextController.ShowNextInlineSuggestionAction.ID);}});var nextAction=context.statusBar.addAction({label:nls/* localize */.N('showPreviousInlineSuggestion',"Previous"),commandId:ghostTextController.ShowPreviousInlineSuggestionAction.ID,run:function run(){return _this._commandService.executeCommand(ghostTextController.ShowPreviousInlineSuggestionAction.ID);}});context.statusBar.addAction({label:nls/* localize */.N('acceptInlineSuggestion',"Accept"),commandId:ghostTextController.commitInlineSuggestionAction.id,run:function run(){return _this._commandService.executeCommand(ghostTextController.commitInlineSuggestionAction.id);}});var actions=[previousAction,nextAction];for(var _i=0,_actions=actions;_i<_actions.length;_i++){var action=_actions[_i];action.setEnabled(false);}part.hasMultipleSuggestions().then(function(hasMore){var _iterator=inlineCompletionsHoverParticipant_createForOfIteratorHelper(actions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _action=_step.value;_action.setEnabled(hasMore);}}catch(err){_iterator.e(err);}finally{_iterator.f();}});var _iterator2=inlineCompletionsHoverParticipant_createForOfIteratorHelper(menu.getActions()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_slicedToArray(_step2.value,2),_=_step2$value[0],group=_step2$value[1];var _iterator3=inlineCompletionsHoverParticipant_createForOfIteratorHelper(group),_step3;try{var _loop=function _loop(){var action=_step3.value;if(action instanceof common_actions/* MenuItemAction */.U8){context.statusBar.addAction({label:action.label,commandId:action.item.id,run:function run(){return _this._commandService.executeCommand(action.item.id);}});}};for(_iterator3.s();!(_step3=_iterator3.n()).done;){_loop();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return disposableStore;}},{key:"renderScreenReaderText",value:function renderScreenReaderText(context,part,disposableStore){var _a,_b;var $=dom.$;var markdownHoverElement=$('div.hover-row.markdown-hover');var hoverContentsElement=dom.append(markdownHoverElement,$('div.hover-contents'));var renderer=disposableStore.add(new markdownRenderer/* MarkdownRenderer */.$({editor:this._editor},this._languageService,this._openerService));var render=function render(code){disposableStore.add(renderer.onDidRenderAsync(function(){hoverContentsElement.className='hover-contents code-hover-contents';context.onContentsChanged();}));var inlineSuggestionAvailable=nls/* localize */.N('inlineSuggestionFollows',"Suggestion:");var renderedContents=disposableStore.add(renderer.render(new htmlContent/* MarkdownString */.W5().appendText(inlineSuggestionAvailable).appendCodeblock('text',code)));hoverContentsElement.replaceChildren(renderedContents.element);};var ghostText=(_b=(_a=part.controller.activeModel)===null||_a===void 0?void 0:_a.inlineCompletionsModel)===null||_b===void 0?void 0:_b.ghostText;if(ghostText){var lineText=this._editor.getModel().getLineContent(ghostText.lineNumber);render(ghostText.renderForScreenReader(lineText));}context.fragment.appendChild(markdownHoverElement);}}]);return InlineCompletionsHoverParticipant;}();InlineCompletionsHoverParticipant=inlineCompletionsHoverParticipant_decorate([inlineCompletionsHoverParticipant_param(1,commands/* ICommandService */.Hy),inlineCompletionsHoverParticipant_param(2,common_actions/* IMenuService */.co),inlineCompletionsHoverParticipant_param(3,contextkey/* IContextKeyService */.i6),inlineCompletionsHoverParticipant_param(4,language/* ILanguageService */.O),inlineCompletionsHoverParticipant_param(5,common_opener/* IOpenerService */.v4),inlineCompletionsHoverParticipant_param(6,accessibility/* IAccessibilityService */.F)],InlineCompletionsHoverParticipant);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js
var keybinding = __webpack_require__(13112);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggest.js
var suggest = __webpack_require__(37536);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js + 1 modules
var unicodeHighlighter = __webpack_require__(79349);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js
var resolverService = __webpack_require__(90270);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/getHover.js
var getHover = __webpack_require__(40061);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlayHints/browser/inlayHintsController.js + 2 modules
var inlayHintsController = __webpack_require__(56832);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/configuration/common/configuration.js
var configuration = __webpack_require__(40800);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlayHints/browser/inlayHintsHover.js
function inlayHintsHover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function inlayHintsHover_createClass(Constructor,protoProps,staticProps){if(protoProps)inlayHintsHover_defineProperties(Constructor.prototype,protoProps);if(staticProps)inlayHintsHover_defineProperties(Constructor,staticProps);return Constructor;}function inlayHintsHover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function inlayHintsHover_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)inlayHintsHover_setPrototypeOf(subClass,superClass);}function inlayHintsHover_setPrototypeOf(o,p){inlayHintsHover_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return inlayHintsHover_setPrototypeOf(o,p);}function inlayHintsHover_createSuper(Derived){var hasNativeReflectConstruct=inlayHintsHover_isNativeReflectConstruct();return function _createSuperInternal(){var Super=inlayHintsHover_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=inlayHintsHover_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return inlayHintsHover_possibleConstructorReturn(this,result);};}function inlayHintsHover_possibleConstructorReturn(self,call){if(call&&(inlayHintsHover_typeof(call)==="object"||typeof call==="function")){return call;}return inlayHintsHover_assertThisInitialized(self);}function inlayHintsHover_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function inlayHintsHover_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function inlayHintsHover_getPrototypeOf(o){inlayHintsHover_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return inlayHintsHover_getPrototypeOf(o);}function inlayHintsHover_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){inlayHintsHover_typeof=function _typeof(obj){return typeof obj;};}else{inlayHintsHover_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return inlayHintsHover_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var inlayHintsHover_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":inlayHintsHover_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var inlayHintsHover_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var inlayHintsHover_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var inlayHintsHover_asyncValues=undefined&&undefined.__asyncValues||function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values==="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this;},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value);});};}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d});},reject);}};var InlayHintsHoverAnchor=/*#__PURE__*/function(_HoverForeignElementA){inlayHintsHover_inherits(InlayHintsHoverAnchor,_HoverForeignElementA);var _super=inlayHintsHover_createSuper(InlayHintsHoverAnchor);function InlayHintsHoverAnchor(part,owner){var _this;inlayHintsHover_classCallCheck(this,InlayHintsHoverAnchor);_this=_super.call(this,10,owner,part.item.anchor.range);_this.part=part;return _this;}return InlayHintsHoverAnchor;}(HoverForeignElementAnchor);var InlayHintsHover=/*#__PURE__*/function(_MarkdownHoverPartici){inlayHintsHover_inherits(InlayHintsHover,_MarkdownHoverPartici);var _super2=inlayHintsHover_createSuper(InlayHintsHover);function InlayHintsHover(editor,languageService,openerService,configurationService,_resolverService){var _this2;inlayHintsHover_classCallCheck(this,InlayHintsHover);_this2=_super2.call(this,editor,languageService,openerService,configurationService);_this2._resolverService=_resolverService;return _this2;}inlayHintsHover_createClass(InlayHintsHover,[{key:"suggestHoverAnchor",value:function suggestHoverAnchor(mouseEvent){var _a;var controller=inlayHintsController.InlayHintsController.get(this._editor);if(!controller){return null;}if(mouseEvent.target.type!==6/* CONTENT_TEXT */){return null;}var options=(_a=mouseEvent.target.detail.injectedText)===null||_a===void 0?void 0:_a.options;if(!(options instanceof textModel/* ModelDecorationInjectedTextOptions */.HS&&options.attachedData instanceof inlayHintsController.RenderedInlayHintLabelPart)){return null;}return new InlayHintsHoverAnchor(options.attachedData,this);}},{key:"computeSync",value:function computeSync(){return[];}},{key:"computeAsync",value:function computeAsync(anchor,_lineDecorations,token){var _this3=this;if(!(anchor instanceof InlayHintsHoverAnchor)){return common_async/* AsyncIterableObject.EMPTY */.Aq.EMPTY;}return new common_async/* AsyncIterableObject */.Aq(function(executor){return inlayHintsHover_awaiter(_this3,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var e_1,_a,part,itemTooltip,partTooltip,iterable,iterable_1,iterable_1_1,item;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:part=anchor.part;_context.next=3;return part.item.resolve(token);case 3:if(!token.isCancellationRequested){_context.next=5;break;}return _context.abrupt("return");case 5:if(typeof part.item.hint.tooltip==='string'){itemTooltip=new htmlContent/* MarkdownString */.W5().appendText(part.item.hint.tooltip);}else if(part.item.hint.tooltip){itemTooltip=part.item.hint.tooltip;}if(itemTooltip){executor.emitOne(new markdownHoverParticipant/* MarkdownHover */.hU(this,anchor.range,[itemTooltip],0));}// (2) Inlay Label Part Tooltip
if(typeof part.part.tooltip==='string'){partTooltip=new htmlContent/* MarkdownString */.W5().appendText(part.part.tooltip);}else if(part.part.tooltip){partTooltip=part.part.tooltip;}if(partTooltip){executor.emitOne(new markdownHoverParticipant/* MarkdownHover */.hU(this,anchor.range,[partTooltip],1));}// (3) Inlay Label Part Location tooltip
_context.next=11;return this._resolveInlayHintLabelPartHover(part,token);case 11:iterable=_context.sent;_context.prev=12;iterable_1=inlayHintsHover_asyncValues(iterable);case 14:_context.next=16;return iterable_1.next();case 16:iterable_1_1=_context.sent;if(iterable_1_1.done){_context.next=22;break;}item=iterable_1_1.value;executor.emitOne(item);case 20:_context.next=14;break;case 22:_context.next=27;break;case 24:_context.prev=24;_context.t0=_context["catch"](12);e_1={error:_context.t0};case 27:_context.prev=27;_context.prev=28;if(!(iterable_1_1&&!iterable_1_1.done&&(_a=iterable_1.return))){_context.next=32;break;}_context.next=32;return _a.call(iterable_1);case 32:_context.prev=32;if(!e_1){_context.next=35;break;}throw e_1.error;case 35:return _context.finish(32);case 36:return _context.finish(27);case 37:case"end":return _context.stop();}}},_callee,this,[[12,24,27,37],[28,,32,36]]);}));});}},{key:"_resolveInlayHintLabelPartHover",value:function _resolveInlayHintLabelPartHover(part,token){return inlayHintsHover_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var _this4=this;var _part$part$location,uri,range,ref,model;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(part.part.location){_context2.next=2;break;}return _context2.abrupt("return",common_async/* AsyncIterableObject.EMPTY */.Aq.EMPTY);case 2:_part$part$location=part.part.location,uri=_part$part$location.uri,range=_part$part$location.range;_context2.next=5;return this._resolverService.createModelReference(uri);case 5:ref=_context2.sent;_context2.prev=6;model=ref.object.textEditorModel;if(languages/* HoverProviderRegistry.has */.xp.has(model)){_context2.next=10;break;}return _context2.abrupt("return",common_async/* AsyncIterableObject.EMPTY */.Aq.EMPTY);case 10:return _context2.abrupt("return",(0,getHover/* getHover */.R8)(model,new position/* Position */.L(range.startLineNumber,range.startColumn),token).filter(function(item){return!(0,htmlContent/* isEmptyMarkdownString */.CP)(item.hover.contents);}).map(function(item){return new markdownHoverParticipant/* MarkdownHover */.hU(_this4,part.item.anchor.range,item.hover.contents,2+item.ordinal);}));case 11:_context2.prev=11;ref.dispose();return _context2.finish(11);case 14:case"end":return _context2.stop();}}},_callee2,this,[[6,,11,14]]);}));}}]);return InlayHintsHover;}(markdownHoverParticipant/* MarkdownHoverParticipant */.D5);InlayHintsHover=inlayHintsHover_decorate([inlayHintsHover_param(1,language/* ILanguageService */.O),inlayHintsHover_param(2,common_opener/* IOpenerService */.v4),inlayHintsHover_param(3,configuration/* IConfigurationService */.Ui),inlayHintsHover_param(4,resolverService/* ITextModelService */.S)],InlayHintsHover);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/contentHover.js
function contentHover_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){contentHover_get=Reflect.get;}else{contentHover_get=function _get(target,property,receiver){var base=contentHover_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return contentHover_get(target,property,receiver||target);}function contentHover_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=contentHover_getPrototypeOf(object);if(object===null)break;}return object;}function contentHover_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=contentHover_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function contentHover_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return contentHover_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return contentHover_arrayLikeToArray(o,minLen);}function contentHover_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function contentHover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function contentHover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function contentHover_createClass(Constructor,protoProps,staticProps){if(protoProps)contentHover_defineProperties(Constructor.prototype,protoProps);if(staticProps)contentHover_defineProperties(Constructor,staticProps);return Constructor;}function contentHover_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)contentHover_setPrototypeOf(subClass,superClass);}function contentHover_setPrototypeOf(o,p){contentHover_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return contentHover_setPrototypeOf(o,p);}function contentHover_createSuper(Derived){var hasNativeReflectConstruct=contentHover_isNativeReflectConstruct();return function _createSuperInternal(){var Super=contentHover_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=contentHover_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return contentHover_possibleConstructorReturn(this,result);};}function contentHover_possibleConstructorReturn(self,call){if(call&&(contentHover_typeof(call)==="object"||typeof call==="function")){return call;}return contentHover_assertThisInitialized(self);}function contentHover_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function contentHover_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function contentHover_getPrototypeOf(o){contentHover_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return contentHover_getPrototypeOf(o);}function contentHover_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){contentHover_typeof=function _typeof(obj){return typeof obj;};}else{contentHover_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return contentHover_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var contentHover_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":contentHover_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var contentHover_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var contentHover_$=dom.$;var ContentHoverController=/*#__PURE__*/function(_Disposable){contentHover_inherits(ContentHoverController,_Disposable);var _super=contentHover_createSuper(ContentHoverController);function ContentHoverController(_editor,_instantiationService,_keybindingService){var _this;contentHover_classCallCheck(this,ContentHoverController);_this=_super.call(this);_this._editor=_editor;_this._instantiationService=_instantiationService;_this._keybindingService=_keybindingService;_this._participants=[_this._instantiationService.createInstance(ColorHoverParticipant,_this._editor),_this._instantiationService.createInstance(markdownHoverParticipant/* MarkdownHoverParticipant */.D5,_this._editor),_this._instantiationService.createInstance(InlineCompletionsHoverParticipant,_this._editor),_this._instantiationService.createInstance(unicodeHighlighter.UnicodeHighlighterHoverParticipant,_this._editor),_this._instantiationService.createInstance(MarkerHoverParticipant,_this._editor),_this._instantiationService.createInstance(InlayHintsHover,_this._editor)];_this._widget=_this._register(_this._instantiationService.createInstance(ContentHoverWidget,_this._editor));_this._decorationsChangerListener=_this._register(new EditorDecorationsChangerListener(_this._editor));_this._computer=new ContentHoverComputer(_this._editor,_this._participants);_this._hoverOperation=_this._register(new HoverOperation(_this._editor,_this._computer));_this._messages=[];_this._messagesAreComplete=false;_this._register(_this._hoverOperation.onResult(function(result){_this._withResult(result.value,result.isComplete,result.hasLoadingMessage);}));_this._register(_this._decorationsChangerListener.onDidChangeModelDecorations(function(){return _this._onModelDecorationsChanged();}));_this._register(dom.addStandardDisposableListener(_this._widget.getDomNode(),'keydown',function(e){if(e.equals(9/* Escape */)){_this.hide();}}));_this._register(languages/* TokenizationRegistry.onDidChange */.RW.onDidChange(function(){if(_this._widget.position&&_this._computer.anchor&&_this._messages.length>0){_this._widget.clear();_this._renderMessages(_this._computer.anchor,_this._messages);}}));return _this;}contentHover_createClass(ContentHoverController,[{key:"_onModelDecorationsChanged",value:function _onModelDecorationsChanged(){if(this._widget.position){// The decorations have changed and the hover is visible,
// we need to recompute the displayed text
this._hoverOperation.cancel();if(!this._widget.colorPicker){// TODO@Michel ensure that displayed text for other decorations is computed even if color picker is in place
this._hoverOperation.start(0/* Delayed */);}}}},{key:"maybeShowAt",value:function maybeShowAt(mouseEvent){var anchorCandidates=[];var _iterator=contentHover_createForOfIteratorHelper(this._participants),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var participant=_step.value;if(participant.suggestHoverAnchor){var anchor=participant.suggestHoverAnchor(mouseEvent);if(anchor){anchorCandidates.push(anchor);}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var target=mouseEvent.target;if(target.type===6/* CONTENT_TEXT */){anchorCandidates.push(new HoverRangeAnchor(0,target.range));}if(target.type===7/* CONTENT_EMPTY */){var epsilon=this._editor.getOption(44/* fontInfo */).typicalHalfwidthCharacterWidth/2;if(!target.detail.isAfterLines&&typeof target.detail.horizontalDistanceToText==='number'&&target.detail.horizontalDistanceToText<epsilon){// Let hover kick in even when the mouse is technically in the empty area after a line, given the distance is small enough
anchorCandidates.push(new HoverRangeAnchor(0,target.range));}}if(anchorCandidates.length===0){return false;}anchorCandidates.sort(function(a,b){return b.priority-a.priority;});this._startShowingAt(anchorCandidates[0],0/* Delayed */,false);return true;}},{key:"startShowingAtRange",value:function startShowingAtRange(range,mode,focus){this._startShowingAt(new HoverRangeAnchor(0,range),mode,focus);}},{key:"_startShowingAt",value:function _startShowingAt(anchor,mode,focus){if(this._computer.anchor&&this._computer.anchor.equals(anchor)){// We have to show the widget at the exact same range as before, so no work is needed
return;}this._hoverOperation.cancel();if(this._widget.position){// The range might have changed, but the hover is visible
// Instead of hiding it completely, filter out messages that are still in the new range and
// kick off a new computation
if(!this._computer.anchor||!anchor.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){this.hide();}else{var filteredMessages=this._messages.filter(function(m){return m.isValidForHoverAnchor(anchor);});if(filteredMessages.length===0){this.hide();}else if(filteredMessages.length===this._messages.length&&this._messagesAreComplete){// no change
return;}else{this._renderMessages(anchor,filteredMessages);}}}this._computer.anchor=anchor;this._computer.shouldFocus=focus;this._hoverOperation.start(mode);}},{key:"hide",value:function hide(){this._computer.anchor=null;this._hoverOperation.cancel();this._widget.hide();}},{key:"isColorPickerVisible",value:function isColorPickerVisible(){return!!this._widget.colorPicker;}},{key:"_addLoadingMessage",value:function _addLoadingMessage(result){if(this._computer.anchor){var _iterator2=contentHover_createForOfIteratorHelper(this._participants),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var participant=_step2.value;if(participant.createLoadingMessage){var loadingMessage=participant.createLoadingMessage(this._computer.anchor);if(loadingMessage){return result.slice(0).concat([loadingMessage]);}}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return result;}},{key:"_withResult",value:function _withResult(result,isComplete,hasLoadingMessage){this._messages=hasLoadingMessage?this._addLoadingMessage(result):result;this._messagesAreComplete=isComplete;if(this._computer.anchor&&this._messages.length>0){this._renderMessages(this._computer.anchor,this._messages);}else if(isComplete){this.hide();}}},{key:"_renderMessages",value:function _renderMessages(anchor,messages){var _this2=this;// update column from which to show
var renderColumn=1073741824/* MAX_SAFE_SMALL_INTEGER */;var highlightRange=messages[0].range;var forceShowAtRange=null;var _iterator3=contentHover_createForOfIteratorHelper(messages),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var msg=_step3.value;renderColumn=Math.min(renderColumn,msg.range.startColumn);highlightRange=core_range/* Range.plusRange */.e.plusRange(highlightRange,msg.range);if(msg.forceShowAtRange){forceShowAtRange=msg.range;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var disposables=new lifecycle/* DisposableStore */.SL();var statusBar=disposables.add(new EditorHoverStatusBar(this._keybindingService));var fragment=document.createDocumentFragment();var colorPicker=null;var context={fragment:fragment,statusBar:statusBar,setColorPicker:function setColorPicker(widget){return colorPicker=widget;},onContentsChanged:function onContentsChanged(){return _this2._widget.onContentsChanged();},hide:function hide(){return _this2.hide();}};var _iterator4=contentHover_createForOfIteratorHelper(this._participants),_step4;try{var _loop=function _loop(){var participant=_step4.value;var hoverParts=messages.filter(function(msg){return msg.owner===participant;});if(hoverParts.length>0){disposables.add(participant.renderHoverParts(context,hoverParts));}};for(_iterator4.s();!(_step4=_iterator4.n()).done;){_loop();}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}if(statusBar.hasContent){fragment.appendChild(statusBar.hoverElement);}if(fragment.hasChildNodes()){if(highlightRange){var highlightDecorations=this._decorationsChangerListener.deltaDecorations([],[{range:highlightRange,options:ContentHoverController._DECORATION_OPTIONS}]);disposables.add((0,lifecycle/* toDisposable */.OF)(function(){_this2._decorationsChangerListener.deltaDecorations(highlightDecorations,[]);}));}this._widget.showAt(fragment,new ContentHoverVisibleData(colorPicker,forceShowAtRange?forceShowAtRange.getStartPosition():new position/* Position */.L(anchor.range.startLineNumber,renderColumn),forceShowAtRange?forceShowAtRange:highlightRange,this._editor.getOption(53/* hover */).above,this._computer.shouldFocus,disposables));}else{disposables.dispose();}}}]);return ContentHoverController;}(lifecycle/* Disposable */.JT);ContentHoverController._DECORATION_OPTIONS=textModel/* ModelDecorationOptions.register */.qx.register({description:'content-hover-highlight',className:'hoverHighlight'});ContentHoverController=contentHover_decorate([contentHover_param(1,instantiation/* IInstantiationService */.TG),contentHover_param(2,keybinding/* IKeybindingService */.d)],ContentHoverController);/**
 * Allows listening to `ICodeEditor.onDidChangeModelDecorations` and ignores the change caused by itself.
 */var EditorDecorationsChangerListener=/*#__PURE__*/function(_Disposable2){contentHover_inherits(EditorDecorationsChangerListener,_Disposable2);var _super2=contentHover_createSuper(EditorDecorationsChangerListener);function EditorDecorationsChangerListener(_editor){var _this3;contentHover_classCallCheck(this,EditorDecorationsChangerListener);_this3=_super2.call(this);_this3._editor=_editor;_this3._onDidChangeModelDecorations=_this3._register(new common_event/* Emitter */.Q5());_this3.onDidChangeModelDecorations=_this3._onDidChangeModelDecorations.event;_this3._isChangingDecorations=false;_this3._register(_this3._editor.onDidChangeModelDecorations(function(e){if(_this3._isChangingDecorations){return;}_this3._onDidChangeModelDecorations.fire(e);}));return _this3;}contentHover_createClass(EditorDecorationsChangerListener,[{key:"deltaDecorations",value:function deltaDecorations(oldDecorations,newDecorations){try{this._isChangingDecorations=true;return this._editor.deltaDecorations(oldDecorations,newDecorations);}finally{this._isChangingDecorations=false;}}}]);return EditorDecorationsChangerListener;}(lifecycle/* Disposable */.JT);var ContentHoverVisibleData=function ContentHoverVisibleData(colorPicker,showAtPosition,showAtRange,preferAbove,stoleFocus,disposables){contentHover_classCallCheck(this,ContentHoverVisibleData);this.colorPicker=colorPicker;this.showAtPosition=showAtPosition;this.showAtRange=showAtRange;this.preferAbove=preferAbove;this.stoleFocus=stoleFocus;this.disposables=disposables;};var ContentHoverWidget=/*#__PURE__*/function(_Disposable3){contentHover_inherits(ContentHoverWidget,_Disposable3);var _super3=contentHover_createSuper(ContentHoverWidget);function ContentHoverWidget(_editor,_contextKeyService){var _this4;contentHover_classCallCheck(this,ContentHoverWidget);_this4=_super3.call(this);_this4._editor=_editor;_this4._contextKeyService=_contextKeyService;_this4.allowEditorOverflow=true;_this4._hoverVisibleKey=editorContextKeys/* EditorContextKeys.hoverVisible.bindTo */.u.hoverVisible.bindTo(_this4._contextKeyService);_this4._hover=_this4._register(new hoverWidget/* HoverWidget */.c());_this4._visibleData=null;_this4._register(_this4._editor.onDidLayoutChange(function(){return _this4._layout();}));_this4._register(_this4._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(44/* fontInfo */)){_this4._updateFont();}}));_this4._setVisibleData(null);_this4._layout();_this4._editor.addContentWidget(contentHover_assertThisInitialized(_this4));return _this4;}/**
     * Returns `null` if the hover is not visible.
     */contentHover_createClass(ContentHoverWidget,[{key:"position",get:function get(){var _a,_b;return(_b=(_a=this._visibleData)===null||_a===void 0?void 0:_a.showAtPosition)!==null&&_b!==void 0?_b:null;}/**
     * Returns `null` if the color picker is not visible.
     */},{key:"colorPicker",get:function get(){var _a,_b;return(_b=(_a=this._visibleData)===null||_a===void 0?void 0:_a.colorPicker)!==null&&_b!==void 0?_b:null;}},{key:"dispose",value:function dispose(){this._editor.removeContentWidget(this);if(this._visibleData){this._visibleData.disposables.dispose();}contentHover_get(contentHover_getPrototypeOf(ContentHoverWidget.prototype),"dispose",this).call(this);}},{key:"getId",value:function getId(){return ContentHoverWidget.ID;}},{key:"getDomNode",value:function getDomNode(){return this._hover.containerDomNode;}},{key:"getPosition",value:function getPosition(){if(!this._visibleData){return null;}var preferAbove=this._visibleData.preferAbove;if(!preferAbove&&this._contextKeyService.getContextKeyValue(suggest/* Context.Visible.key */._y.Visible.key)){// Prefer rendering above if the suggest widget is visible
preferAbove=true;}return{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:preferAbove?[1/* ABOVE */,2/* BELOW */]:[2/* BELOW */,1/* ABOVE */]};}},{key:"_setVisibleData",value:function _setVisibleData(visibleData){if(this._visibleData){this._visibleData.disposables.dispose();}this._visibleData=visibleData;this._hoverVisibleKey.set(!!this._visibleData);this._hover.containerDomNode.classList.toggle('hidden',!this._visibleData);}},{key:"_layout",value:function _layout(){var height=Math.max(this._editor.getLayoutInfo().height/4,250);var _this$_editor$getOpti=this._editor.getOption(44/* fontInfo */),fontSize=_this$_editor$getOpti.fontSize,lineHeight=_this$_editor$getOpti.lineHeight;this._hover.contentsDomNode.style.fontSize="".concat(fontSize,"px");this._hover.contentsDomNode.style.lineHeight="".concat(lineHeight/fontSize);this._hover.contentsDomNode.style.maxHeight="".concat(height,"px");this._hover.contentsDomNode.style.maxWidth="".concat(Math.max(this._editor.getLayoutInfo().width*0.66,500),"px");}},{key:"_updateFont",value:function _updateFont(){var _this5=this;var codeClasses=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));codeClasses.forEach(function(node){return _this5._editor.applyFontInfo(node);});}},{key:"showAt",value:function showAt(node,visibleData){this._setVisibleData(visibleData);this._hover.contentsDomNode.textContent='';this._hover.contentsDomNode.appendChild(node);this._hover.contentsDomNode.style.paddingBottom='';this._updateFont();this._editor.layoutContentWidget(this);this.onContentsChanged();// Simply force a synchronous render on the editor
// such that the widget does not really render with left = '0px'
this._editor.render();// See https://github.com/microsoft/vscode/issues/140339
// TODO: Doing a second layout of the hover after force rendering the editor
this._editor.layoutContentWidget(this);this.onContentsChanged();if(visibleData.stoleFocus){this._hover.containerDomNode.focus();}if(visibleData.colorPicker){visibleData.colorPicker.layout();}}},{key:"hide",value:function hide(){if(this._visibleData){var stoleFocus=this._visibleData.stoleFocus;this._setVisibleData(null);this._editor.layoutContentWidget(this);if(stoleFocus){this._editor.focus();}}}},{key:"onContentsChanged",value:function onContentsChanged(){this._hover.onContentsChanged();var scrollDimensions=this._hover.scrollbar.getScrollDimensions();var hasHorizontalScrollbar=scrollDimensions.scrollWidth>scrollDimensions.width;if(hasHorizontalScrollbar){// There is just a horizontal scrollbar
var extraBottomPadding="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");if(this._hover.contentsDomNode.style.paddingBottom!==extraBottomPadding){this._hover.contentsDomNode.style.paddingBottom=extraBottomPadding;this._editor.layoutContentWidget(this);this._hover.onContentsChanged();}}}},{key:"clear",value:function clear(){this._hover.contentsDomNode.textContent='';}}]);return ContentHoverWidget;}(lifecycle/* Disposable */.JT);ContentHoverWidget.ID='editor.contrib.contentHoverWidget';ContentHoverWidget=contentHover_decorate([contentHover_param(1,contextkey/* IContextKeyService */.i6)],ContentHoverWidget);var EditorHoverStatusBar=/*#__PURE__*/function(_Disposable4){contentHover_inherits(EditorHoverStatusBar,_Disposable4);var _super4=contentHover_createSuper(EditorHoverStatusBar);function EditorHoverStatusBar(_keybindingService){var _this6;contentHover_classCallCheck(this,EditorHoverStatusBar);_this6=_super4.call(this);_this6._keybindingService=_keybindingService;_this6._hasContent=false;_this6.hoverElement=contentHover_$('div.hover-row.status-bar');_this6.actionsElement=dom.append(_this6.hoverElement,contentHover_$('div.actions'));return _this6;}contentHover_createClass(EditorHoverStatusBar,[{key:"hasContent",get:function get(){return this._hasContent;}},{key:"addAction",value:function addAction(actionOptions){var keybinding=this._keybindingService.lookupKeybinding(actionOptions.commandId);var keybindingLabel=keybinding?keybinding.getLabel():null;this._hasContent=true;return this._register(hoverWidget/* HoverAction.render */.S.render(this.actionsElement,actionOptions,keybindingLabel));}},{key:"append",value:function append(element){var result=dom.append(this.actionsElement,element);this._hasContent=true;return result;}}]);return EditorHoverStatusBar;}(lifecycle/* Disposable */.JT);EditorHoverStatusBar=contentHover_decorate([contentHover_param(0,keybinding/* IKeybindingService */.d)],EditorHoverStatusBar);var ContentHoverComputer=/*#__PURE__*/function(){function ContentHoverComputer(_editor,_participants){contentHover_classCallCheck(this,ContentHoverComputer);this._editor=_editor;this._participants=_participants;this._anchor=null;this._shouldFocus=false;}contentHover_createClass(ContentHoverComputer,[{key:"anchor",get:function get(){return this._anchor;},set:function set(value){this._anchor=value;}},{key:"shouldFocus",get:function get(){return this._shouldFocus;},set:function set(value){this._shouldFocus=value;}},{key:"computeAsync",value:function computeAsync(token){var anchor=this._anchor;if(!this._editor.hasModel()||!anchor){return common_async/* AsyncIterableObject.EMPTY */.Aq.EMPTY;}var lineDecorations=ContentHoverComputer._getLineDecorations(this._editor,anchor);return common_async/* AsyncIterableObject.merge */.Aq.merge(this._participants.map(function(participant){if(!participant.computeAsync){return common_async/* AsyncIterableObject.EMPTY */.Aq.EMPTY;}return participant.computeAsync(anchor,lineDecorations,token);}));}},{key:"computeSync",value:function computeSync(){if(!this._editor.hasModel()||!this._anchor){return[];}var lineDecorations=ContentHoverComputer._getLineDecorations(this._editor,this._anchor);var result=[];var _iterator5=contentHover_createForOfIteratorHelper(this._participants),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var participant=_step5.value;result=result.concat(participant.computeSync(this._anchor,lineDecorations));}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}return (0,arrays/* coalesce */.kX)(result);}}],[{key:"_getLineDecorations",value:function _getLineDecorations(editor,anchor){if(anchor.type!==1/* Range */){return[];}var model=editor.getModel();var lineNumber=anchor.range.startLineNumber;var maxColumn=model.getLineMaxColumn(lineNumber);return editor.getLineDecorations(lineNumber).filter(function(d){if(d.options.isWholeLine){return true;}var startColumn=d.range.startLineNumber===lineNumber?d.range.startColumn:1;var endColumn=d.range.endLineNumber===lineNumber?d.range.endColumn:maxColumn;if(d.options.showIfCollapsed){// Relax check around `showIfCollapsed` decorations to also include +/- 1 character
if(startColumn>anchor.range.startColumn+1||anchor.range.endColumn-1>endColumn){return false;}}else{if(startColumn>anchor.range.startColumn||anchor.range.endColumn>endColumn){return false;}}return true;});}}]);return ContentHoverComputer;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/marginHover.js
function marginHover_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){marginHover_typeof=function _typeof(obj){return typeof obj;};}else{marginHover_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return marginHover_typeof(obj);}function marginHover_toConsumableArray(arr){return marginHover_arrayWithoutHoles(arr)||marginHover_iterableToArray(arr)||marginHover_unsupportedIterableToArray(arr)||marginHover_nonIterableSpread();}function marginHover_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function marginHover_iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function marginHover_arrayWithoutHoles(arr){if(Array.isArray(arr))return marginHover_arrayLikeToArray(arr);}function marginHover_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=marginHover_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function marginHover_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return marginHover_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return marginHover_arrayLikeToArray(o,minLen);}function marginHover_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function marginHover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function marginHover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function marginHover_createClass(Constructor,protoProps,staticProps){if(protoProps)marginHover_defineProperties(Constructor.prototype,protoProps);if(staticProps)marginHover_defineProperties(Constructor,staticProps);return Constructor;}function marginHover_get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){marginHover_get=Reflect.get;}else{marginHover_get=function _get(target,property,receiver){var base=marginHover_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return marginHover_get(target,property,receiver||target);}function marginHover_superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=marginHover_getPrototypeOf(object);if(object===null)break;}return object;}function marginHover_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)marginHover_setPrototypeOf(subClass,superClass);}function marginHover_setPrototypeOf(o,p){marginHover_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return marginHover_setPrototypeOf(o,p);}function marginHover_createSuper(Derived){var hasNativeReflectConstruct=marginHover_isNativeReflectConstruct();return function _createSuperInternal(){var Super=marginHover_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=marginHover_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return marginHover_possibleConstructorReturn(this,result);};}function marginHover_possibleConstructorReturn(self,call){if(call&&(marginHover_typeof(call)==="object"||typeof call==="function")){return call;}return marginHover_assertThisInitialized(self);}function marginHover_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function marginHover_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function marginHover_getPrototypeOf(o){marginHover_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return marginHover_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var marginHover_$=dom.$;var MarginHoverWidget=/*#__PURE__*/function(_Disposable){marginHover_inherits(MarginHoverWidget,_Disposable);var _super=marginHover_createSuper(MarginHoverWidget);function MarginHoverWidget(editor,languageService){var _this;var openerService=arguments.length>2&&arguments[2]!==undefined?arguments[2]:common_opener/* NullOpenerService */.SW;marginHover_classCallCheck(this,MarginHoverWidget);_this=_super.call(this);_this._renderDisposeables=_this._register(new lifecycle/* DisposableStore */.SL());_this._editor=editor;_this._isVisible=false;_this._messages=[];_this._hover=_this._register(new hoverWidget/* HoverWidget */.c());_this._hover.containerDomNode.classList.toggle('hidden',!_this._isVisible);_this._markdownRenderer=_this._register(new markdownRenderer/* MarkdownRenderer */.$({editor:_this._editor},languageService,openerService));_this._computer=new MarginHoverComputer(_this._editor);_this._hoverOperation=_this._register(new HoverOperation(_this._editor,_this._computer));_this._register(_this._hoverOperation.onResult(function(result){_this._withResult(result.value);}));_this._register(_this._editor.onDidChangeModelDecorations(function(){return _this._onModelDecorationsChanged();}));_this._register(_this._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(44/* fontInfo */)){_this._updateFont();}}));_this._editor.addOverlayWidget(marginHover_assertThisInitialized(_this));return _this;}marginHover_createClass(MarginHoverWidget,[{key:"dispose",value:function dispose(){this._editor.removeOverlayWidget(this);marginHover_get(marginHover_getPrototypeOf(MarginHoverWidget.prototype),"dispose",this).call(this);}},{key:"getId",value:function getId(){return MarginHoverWidget.ID;}},{key:"getDomNode",value:function getDomNode(){return this._hover.containerDomNode;}},{key:"getPosition",value:function getPosition(){return null;}},{key:"_updateFont",value:function _updateFont(){var _this2=this;var codeClasses=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName('code'));codeClasses.forEach(function(node){return _this2._editor.applyFontInfo(node);});}},{key:"_onModelDecorationsChanged",value:function _onModelDecorationsChanged(){if(this._isVisible){// The decorations have changed and the hover is visible,
// we need to recompute the displayed text
this._hoverOperation.cancel();this._hoverOperation.start(0/* Delayed */);}}},{key:"startShowingAt",value:function startShowingAt(lineNumber){if(this._computer.lineNumber===lineNumber){// We have to show the widget at the exact same line number as before, so no work is needed
return;}this._hoverOperation.cancel();this.hide();this._computer.lineNumber=lineNumber;this._hoverOperation.start(0/* Delayed */);}},{key:"hide",value:function hide(){this._computer.lineNumber=-1;this._hoverOperation.cancel();if(!this._isVisible){return;}this._isVisible=false;this._hover.containerDomNode.classList.toggle('hidden',!this._isVisible);}},{key:"_withResult",value:function _withResult(result){this._messages=result;if(this._messages.length>0){this._renderMessages(this._computer.lineNumber,this._messages);}else{this.hide();}}},{key:"_renderMessages",value:function _renderMessages(lineNumber,messages){this._renderDisposeables.clear();var fragment=document.createDocumentFragment();var _iterator=marginHover_createForOfIteratorHelper(messages),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var msg=_step.value;var markdownHoverElement=marginHover_$('div.hover-row.markdown-hover');var hoverContentsElement=dom.append(markdownHoverElement,marginHover_$('div.hover-contents'));var renderedContents=this._renderDisposeables.add(this._markdownRenderer.render(msg.value));hoverContentsElement.appendChild(renderedContents.element);fragment.appendChild(markdownHoverElement);}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._updateContents(fragment);this._showAt(lineNumber);}},{key:"_updateContents",value:function _updateContents(node){this._hover.contentsDomNode.textContent='';this._hover.contentsDomNode.appendChild(node);this._updateFont();}},{key:"_showAt",value:function _showAt(lineNumber){if(!this._isVisible){this._isVisible=true;this._hover.containerDomNode.classList.toggle('hidden',!this._isVisible);}var editorLayout=this._editor.getLayoutInfo();var topForLineNumber=this._editor.getTopForLineNumber(lineNumber);var editorScrollTop=this._editor.getScrollTop();var lineHeight=this._editor.getOption(59/* lineHeight */);var nodeHeight=this._hover.containerDomNode.clientHeight;var top=topForLineNumber-editorScrollTop-(nodeHeight-lineHeight)/2;this._hover.containerDomNode.style.left="".concat(editorLayout.glyphMarginLeft+editorLayout.glyphMarginWidth,"px");this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(top),0),"px");}}]);return MarginHoverWidget;}(lifecycle/* Disposable */.JT);MarginHoverWidget.ID='editor.contrib.modesGlyphHoverWidget';var MarginHoverComputer=/*#__PURE__*/function(){function MarginHoverComputer(_editor){marginHover_classCallCheck(this,MarginHoverComputer);this._editor=_editor;this._lineNumber=-1;}marginHover_createClass(MarginHoverComputer,[{key:"lineNumber",get:function get(){return this._lineNumber;},set:function set(value){this._lineNumber=value;}},{key:"computeSync",value:function computeSync(){var toHoverMessage=function toHoverMessage(contents){return{value:contents};};var lineDecorations=this._editor.getLineDecorations(this._lineNumber);var result=[];if(!lineDecorations){return result;}var _iterator2=marginHover_createForOfIteratorHelper(lineDecorations),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var d=_step2.value;if(!d.options.glyphMarginClassName){continue;}var hoverMessage=d.options.glyphMarginHoverMessage;if(!hoverMessage||(0,htmlContent/* isEmptyMarkdownString */.CP)(hoverMessage)){continue;}result.push.apply(result,marginHover_toConsumableArray((0,arrays/* asArray */._2)(hoverMessage).map(toHoverMessage)));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return result;}}]);return MarginHoverComputer;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/hover/browser/hover.js
function hover_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)hover_setPrototypeOf(subClass,superClass);}function hover_setPrototypeOf(o,p){hover_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return hover_setPrototypeOf(o,p);}function hover_createSuper(Derived){var hasNativeReflectConstruct=hover_isNativeReflectConstruct();return function _createSuperInternal(){var Super=hover_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=hover_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return hover_possibleConstructorReturn(this,result);};}function hover_possibleConstructorReturn(self,call){if(call&&(hover_typeof(call)==="object"||typeof call==="function")){return call;}return hover_assertThisInitialized(self);}function hover_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function hover_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function hover_getPrototypeOf(o){hover_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return hover_getPrototypeOf(o);}function hover_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function hover_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function hover_createClass(Constructor,protoProps,staticProps){if(protoProps)hover_defineProperties(Constructor.prototype,protoProps);if(staticProps)hover_defineProperties(Constructor,staticProps);return Constructor;}function hover_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){hover_typeof=function _typeof(obj){return typeof obj;};}else{hover_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return hover_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var hover_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":hover_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var hover_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var ModesHoverController=/*#__PURE__*/function(){function ModesHoverController(_editor,_instantiationService,_openerService,_languageService,_contextKeyService){var _this=this;hover_classCallCheck(this,ModesHoverController);this._editor=_editor;this._instantiationService=_instantiationService;this._openerService=_openerService;this._languageService=_languageService;this._toUnhook=new lifecycle/* DisposableStore */.SL();this._isMouseDown=false;this._hoverClicked=false;this._contentWidget=null;this._glyphWidget=null;this._hookEvents();this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(53/* hover */)){_this._unhookEvents();_this._hookEvents();}});}hover_createClass(ModesHoverController,[{key:"_hookEvents",value:function _hookEvents(){var _this2=this;var hideWidgetsEventHandler=function hideWidgetsEventHandler(){return _this2._hideWidgets();};var hoverOpts=this._editor.getOption(53/* hover */);this._isHoverEnabled=hoverOpts.enabled;this._isHoverSticky=hoverOpts.sticky;if(this._isHoverEnabled){this._toUnhook.add(this._editor.onMouseDown(function(e){return _this2._onEditorMouseDown(e);}));this._toUnhook.add(this._editor.onMouseUp(function(e){return _this2._onEditorMouseUp(e);}));this._toUnhook.add(this._editor.onMouseMove(function(e){return _this2._onEditorMouseMove(e);}));this._toUnhook.add(this._editor.onKeyDown(function(e){return _this2._onKeyDown(e);}));}else{this._toUnhook.add(this._editor.onMouseMove(function(e){return _this2._onEditorMouseMove(e);}));this._toUnhook.add(this._editor.onKeyDown(function(e){return _this2._onKeyDown(e);}));}this._toUnhook.add(this._editor.onMouseLeave(hideWidgetsEventHandler));this._toUnhook.add(this._editor.onDidChangeModel(hideWidgetsEventHandler));this._toUnhook.add(this._editor.onDidScrollChange(function(e){return _this2._onEditorScrollChanged(e);}));}},{key:"_unhookEvents",value:function _unhookEvents(){this._toUnhook.clear();}},{key:"_onEditorScrollChanged",value:function _onEditorScrollChanged(e){if(e.scrollTopChanged||e.scrollLeftChanged){this._hideWidgets();}}},{key:"_onEditorMouseDown",value:function _onEditorMouseDown(mouseEvent){this._isMouseDown=true;var target=mouseEvent.target;if(target.type===9/* CONTENT_WIDGET */&&target.detail===ContentHoverWidget.ID){this._hoverClicked=true;// mouse down on top of content hover widget
return;}if(target.type===12/* OVERLAY_WIDGET */&&target.detail===MarginHoverWidget.ID){// mouse down on top of overlay hover widget
return;}if(target.type!==12/* OVERLAY_WIDGET */){this._hoverClicked=false;}this._hideWidgets();}},{key:"_onEditorMouseUp",value:function _onEditorMouseUp(mouseEvent){this._isMouseDown=false;}},{key:"_onEditorMouseMove",value:function _onEditorMouseMove(mouseEvent){var _a,_b,_c,_d,_e;var target=mouseEvent.target;if(this._isMouseDown&&this._hoverClicked){return;}if(this._isHoverSticky&&target.type===9/* CONTENT_WIDGET */&&target.detail===ContentHoverWidget.ID){// mouse moved on top of content hover widget
return;}if(this._isHoverSticky&&!((_b=(_a=mouseEvent.event.browserEvent.view)===null||_a===void 0?void 0:_a.getSelection())===null||_b===void 0?void 0:_b.isCollapsed)){// selected text within content hover widget
return;}if(!this._isHoverSticky&&target.type===9/* CONTENT_WIDGET */&&target.detail===ContentHoverWidget.ID&&((_c=this._contentWidget)===null||_c===void 0?void 0:_c.isColorPickerVisible())){// though the hover is not sticky, the color picker needs to.
return;}if(this._isHoverSticky&&target.type===12/* OVERLAY_WIDGET */&&target.detail===MarginHoverWidget.ID){// mouse moved on top of overlay hover widget
return;}if(!this._isHoverEnabled){this._hideWidgets();return;}var contentWidget=this._getOrCreateContentWidget();if(contentWidget.maybeShowAt(mouseEvent)){(_d=this._glyphWidget)===null||_d===void 0?void 0:_d.hide();return;}if(target.type===2/* GUTTER_GLYPH_MARGIN */&&target.position){(_e=this._contentWidget)===null||_e===void 0?void 0:_e.hide();if(!this._glyphWidget){this._glyphWidget=new MarginHoverWidget(this._editor,this._languageService,this._openerService);}this._glyphWidget.startShowingAt(target.position.lineNumber);return;}this._hideWidgets();}},{key:"_onKeyDown",value:function _onKeyDown(e){if(e.keyCode!==5/* Ctrl */&&e.keyCode!==6/* Alt */&&e.keyCode!==57/* Meta */&&e.keyCode!==4/* Shift */){// Do not hide hover when a modifier key is pressed
this._hideWidgets();}}},{key:"_hideWidgets",value:function _hideWidgets(){var _a,_b,_c;if(this._isMouseDown&&this._hoverClicked&&((_a=this._contentWidget)===null||_a===void 0?void 0:_a.isColorPickerVisible())){return;}this._hoverClicked=false;(_b=this._glyphWidget)===null||_b===void 0?void 0:_b.hide();(_c=this._contentWidget)===null||_c===void 0?void 0:_c.hide();}},{key:"_getOrCreateContentWidget",value:function _getOrCreateContentWidget(){if(!this._contentWidget){this._contentWidget=this._instantiationService.createInstance(ContentHoverController,this._editor);}return this._contentWidget;}},{key:"isColorPickerVisible",value:function isColorPickerVisible(){var _a;return((_a=this._contentWidget)===null||_a===void 0?void 0:_a.isColorPickerVisible())||false;}},{key:"showContentHover",value:function showContentHover(range,mode,focus){this._getOrCreateContentWidget().startShowingAtRange(range,mode,focus);}},{key:"dispose",value:function dispose(){var _a,_b;this._unhookEvents();this._toUnhook.dispose();this._didChangeConfigurationHandler.dispose();(_a=this._glyphWidget)===null||_a===void 0?void 0:_a.dispose();(_b=this._contentWidget)===null||_b===void 0?void 0:_b.dispose();}}],[{key:"get",value:function get(editor){return editor.getContribution(ModesHoverController.ID);}}]);return ModesHoverController;}();ModesHoverController.ID='editor.contrib.hover';ModesHoverController=hover_decorate([hover_param(1,instantiation/* IInstantiationService */.TG),hover_param(2,common_opener/* IOpenerService */.v4),hover_param(3,language/* ILanguageService */.O),hover_param(4,contextkey/* IContextKeyService */.i6)],ModesHoverController);var ShowHoverAction=/*#__PURE__*/function(_EditorAction){hover_inherits(ShowHoverAction,_EditorAction);var _super=hover_createSuper(ShowHoverAction);function ShowHoverAction(){hover_classCallCheck(this,ShowHoverAction);return _super.call(this,{id:'editor.action.showHover',label:nls/* localize */.N({key:'showHover',comment:['Label for action that will trigger the showing of a hover in the editor.','This allows for users to show the hover without using the mouse.']},"Show Hover"),alias:'Show Hover',precondition:undefined,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|39/* KeyI */),weight:100/* EditorContrib */}});}hover_createClass(ShowHoverAction,[{key:"run",value:function run(accessor,editor){if(!editor.hasModel()){return;}var controller=ModesHoverController.get(editor);if(!controller){return;}var position=editor.getPosition();var range=new core_range/* Range */.e(position.lineNumber,position.column,position.lineNumber,position.column);var focus=editor.getOption(2/* accessibilitySupport */)===2/* Enabled */;controller.showContentHover(range,1/* Immediate */,focus);}}]);return ShowHoverAction;}(editorExtensions/* EditorAction */.R6);var ShowDefinitionPreviewHoverAction=/*#__PURE__*/function(_EditorAction2){hover_inherits(ShowDefinitionPreviewHoverAction,_EditorAction2);var _super2=hover_createSuper(ShowDefinitionPreviewHoverAction);function ShowDefinitionPreviewHoverAction(){hover_classCallCheck(this,ShowDefinitionPreviewHoverAction);return _super2.call(this,{id:'editor.action.showDefinitionPreviewHover',label:nls/* localize */.N({key:'showDefinitionPreviewHover',comment:['Label for action that will trigger the showing of definition preview hover in the editor.','This allows for users to show the definition preview hover without using the mouse.']},"Show Definition Preview Hover"),alias:'Show Definition Preview Hover',precondition:undefined});}hover_createClass(ShowDefinitionPreviewHoverAction,[{key:"run",value:function run(accessor,editor){var controller=ModesHoverController.get(editor);if(!controller){return;}var position=editor.getPosition();if(!position){return;}var range=new core_range/* Range */.e(position.lineNumber,position.column,position.lineNumber,position.column);var goto=goToDefinitionAtPosition.GotoDefinitionAtPositionEditorContribution.get(editor);if(!goto){return;}var promise=goto.startFindDefinitionFromCursor(position);promise.then(function(){controller.showContentHover(range,1/* Immediate */,true);});}}]);return ShowDefinitionPreviewHoverAction;}(editorExtensions/* EditorAction */.R6);(0,editorExtensions/* registerEditorContribution */._K)(ModesHoverController.ID,ModesHoverController);(0,editorExtensions/* registerEditorAction */.Qr)(ShowHoverAction);(0,editorExtensions/* registerEditorAction */.Qr)(ShowDefinitionPreviewHoverAction);// theming
(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var editorHoverHighlightColor=theme.getColor(colorRegistry/* editorHoverHighlight */.ptc);if(editorHoverHighlightColor){collector.addRule(".monaco-editor .hoverHighlight { background-color: ".concat(editorHoverHighlightColor,"; }"));}var hoverBackground=theme.getColor(colorRegistry/* editorHoverBackground */.yJx);if(hoverBackground){collector.addRule(".monaco-editor .monaco-hover { background-color: ".concat(hoverBackground,"; }"));}var hoverBorder=theme.getColor(colorRegistry/* editorHoverBorder */.CNo);if(hoverBorder){collector.addRule(".monaco-editor .monaco-hover { border: 1px solid ".concat(hoverBorder,"; }"));collector.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(hoverBorder.transparent(0.5),"; }"));collector.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(hoverBorder.transparent(0.5),"; }"));collector.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(hoverBorder.transparent(0.5),"; }"));}var link=theme.getColor(colorRegistry/* textLinkForeground */.url);if(link){collector.addRule(".monaco-editor .monaco-hover a { color: ".concat(link,"; }"));}var linkHover=theme.getColor(colorRegistry/* textLinkActiveForeground */.sgC);if(linkHover){collector.addRule(".monaco-editor .monaco-hover a:hover { color: ".concat(linkHover,"; }"));}var hoverForeground=theme.getColor(colorRegistry/* editorHoverForeground */.Sbf);if(hoverForeground){collector.addRule(".monaco-editor .monaco-hover { color: ".concat(hoverForeground,"; }"));}var actionsBackground=theme.getColor(colorRegistry/* editorHoverStatusBarBackground */.LoV);if(actionsBackground){collector.addRule(".monaco-editor .monaco-hover .hover-row .actions { background-color: ".concat(actionsBackground,"; }"));}var codeBackground=theme.getColor(colorRegistry/* textCodeBlockBackground */.SwI);if(codeBackground){collector.addRule(".monaco-editor .monaco-hover code { background-color: ".concat(codeBackground,"; }"));}});

/***/ }),

/***/ 90636:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "D5": () => (/* binding */ MarkdownHoverParticipant),
/* harmony export */   "c": () => (/* binding */ renderMarkdownHovers),
/* harmony export */   "hU": () => (/* binding */ MarkdownHover)
/* harmony export */ });
/* harmony import */ var _base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20446);
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(92224);
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88494);
/* harmony import */ var _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15093);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19860);
/* harmony import */ var _markdownRenderer_browser_markdownRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(69152);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(96844);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(98480);
/* harmony import */ var _common_services_language_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(84318);
/* harmony import */ var _getHover_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40061);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(71453);
/* harmony import */ var _platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(40800);
/* harmony import */ var _platform_opener_common_opener_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(58208);
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var $=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.$;var MarkdownHover=/*#__PURE__*/function(){function MarkdownHover(owner,range,contents,ordinal){_classCallCheck(this,MarkdownHover);this.owner=owner;this.range=range;this.contents=contents;this.ordinal=ordinal;}_createClass(MarkdownHover,[{key:"isValidForHoverAnchor",value:function isValidForHoverAnchor(anchor){return anchor.type===1/* Range */&&this.range.startColumn<=anchor.range.startColumn&&this.range.endColumn>=anchor.range.endColumn;}}]);return MarkdownHover;}();var MarkdownHoverParticipant=/*#__PURE__*/function(){function MarkdownHoverParticipant(_editor,_languageService,_openerService,_configurationService){_classCallCheck(this,MarkdownHoverParticipant);this._editor=_editor;this._languageService=_languageService;this._openerService=_openerService;this._configurationService=_configurationService;}_createClass(MarkdownHoverParticipant,[{key:"createLoadingMessage",value:function createLoadingMessage(anchor){return new MarkdownHover(this,anchor.range,[new _base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__/* .MarkdownString */ .W5().appendText(_nls_js__WEBPACK_IMPORTED_MODULE_10__/* .localize */ .N('modesContentHover.loading',"Loading..."))],2000);}},{key:"computeSync",value:function computeSync(anchor,lineDecorations){if(!this._editor.hasModel()||anchor.type!==1/* Range */){return[];}var model=this._editor.getModel();var lineNumber=anchor.range.startLineNumber;var maxColumn=model.getLineMaxColumn(lineNumber);var result=[];var index=1000;var lineLength=model.getLineLength(lineNumber);var languageId=model.getLanguageIdAtPosition(anchor.range.startLineNumber,anchor.range.startColumn);var maxTokenizationLineLength=this._configurationService.getValue('editor.maxTokenizationLineLength',{overrideIdentifier:languageId});if(typeof maxTokenizationLineLength==='number'&&lineLength>=maxTokenizationLineLength){result.push(new MarkdownHover(this,anchor.range,[{value:_nls_js__WEBPACK_IMPORTED_MODULE_10__/* .localize */ .N('too many characters',"Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],index++));}var _iterator=_createForOfIteratorHelper(lineDecorations),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value;var startColumn=d.range.startLineNumber===lineNumber?d.range.startColumn:1;var endColumn=d.range.endLineNumber===lineNumber?d.range.endColumn:maxColumn;var hoverMessage=d.options.hoverMessage;if(!hoverMessage||(0,_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__/* .isEmptyMarkdownString */ .CP)(hoverMessage)){continue;}var range=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_11__/* .Range */ .e(anchor.range.startLineNumber,startColumn,anchor.range.startLineNumber,endColumn);result.push(new MarkdownHover(this,range,(0,_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_12__/* .asArray */ ._2)(hoverMessage),index++));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;}},{key:"computeAsync",value:function computeAsync(anchor,lineDecorations,token){var _this=this;if(!this._editor.hasModel()||anchor.type!==1/* Range */){return _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .AsyncIterableObject.EMPTY */ .Aq.EMPTY;}var model=this._editor.getModel();if(!_common_languages_js__WEBPACK_IMPORTED_MODULE_5__/* .HoverProviderRegistry.has */ .xp.has(model)){return _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .AsyncIterableObject.EMPTY */ .Aq.EMPTY;}var position=new _common_core_position_js__WEBPACK_IMPORTED_MODULE_13__/* .Position */ .L(anchor.range.startLineNumber,anchor.range.startColumn);return (0,_getHover_js__WEBPACK_IMPORTED_MODULE_7__/* .getHover */ .R8)(model,position,token).filter(function(item){return!(0,_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__/* .isEmptyMarkdownString */ .CP)(item.hover.contents);}).map(function(item){var rng=item.hover.range?_common_core_range_js__WEBPACK_IMPORTED_MODULE_11__/* .Range.lift */ .e.lift(item.hover.range):anchor.range;return new MarkdownHover(_this,rng,item.hover.contents,item.ordinal);});}},{key:"renderHoverParts",value:function renderHoverParts(context,hoverParts){return renderMarkdownHovers(context,hoverParts,this._editor,this._languageService,this._openerService);}}]);return MarkdownHoverParticipant;}();MarkdownHoverParticipant=__decorate([__param(1,_common_services_language_js__WEBPACK_IMPORTED_MODULE_6__/* .ILanguageService */ .O),__param(2,_platform_opener_common_opener_js__WEBPACK_IMPORTED_MODULE_9__/* .IOpenerService */ .v4),__param(3,_platform_configuration_common_configuration_js__WEBPACK_IMPORTED_MODULE_8__/* .IConfigurationService */ .Ui)],MarkdownHoverParticipant);function renderMarkdownHovers(context,hoverParts,editor,languageService,openerService){// Sort hover parts to keep them stable since they might come in async, out-of-order
hoverParts.sort(function(a,b){return a.ordinal-b.ordinal;});var disposables=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__/* .DisposableStore */ .SL();var _iterator2=_createForOfIteratorHelper(hoverParts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var hoverPart=_step2.value;var _iterator3=_createForOfIteratorHelper(hoverPart.contents),_step3;try{var _loop=function _loop(){var contents=_step3.value;if((0,_base_common_htmlContent_js__WEBPACK_IMPORTED_MODULE_2__/* .isEmptyMarkdownString */ .CP)(contents)){return"continue";}var markdownHoverElement=$('div.hover-row.markdown-hover');var hoverContentsElement=_base_browser_dom_js__WEBPACK_IMPORTED_MODULE_0__.append(markdownHoverElement,$('div.hover-contents'));var renderer=disposables.add(new _markdownRenderer_browser_markdownRenderer_js__WEBPACK_IMPORTED_MODULE_4__/* .MarkdownRenderer */ .$({editor:editor},languageService,openerService));disposables.add(renderer.onDidRenderAsync(function(){hoverContentsElement.className='hover-contents code-hover-contents';context.onContentsChanged();}));var renderedContents=disposables.add(renderer.render(contents));hoverContentsElement.appendChild(renderedContents.element);context.fragment.appendChild(markdownHoverElement);};for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _ret=_loop();if(_ret==="continue")continue;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return disposables;}

/***/ }),

/***/ 55811:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/editorState.js + 1 modules
var editorState = __webpack_require__(76141);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js
var core_selection = __webpack_require__(33199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js
var editorWorker = __webpack_require__(43086);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/editorColorRegistry.js
var editorColorRegistry = __webpack_require__(62660);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var InPlaceReplaceCommand=/*#__PURE__*/function(){function InPlaceReplaceCommand(editRange,originalSelection,text){_classCallCheck(this,InPlaceReplaceCommand);this._editRange=editRange;this._originalSelection=originalSelection;this._text=text;}_createClass(InPlaceReplaceCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){builder.addTrackedEditOperation(this._editRange,this._text);}},{key:"computeCursorState",value:function computeCursorState(model,helper){var inverseEditOperations=helper.getInverseEditOperations();var srcRange=inverseEditOperations[0].range;if(!this._originalSelection.isEmpty()){// Preserve selection and extends to typed text
return new core_selection/* Selection */.Y(srcRange.endLineNumber,srcRange.endColumn-this._text.length,srcRange.endLineNumber,srcRange.endColumn);}return new core_selection/* Selection */.Y(srcRange.endLineNumber,Math.min(this._originalSelection.positionColumn,srcRange.endColumn),srcRange.endLineNumber,Math.min(this._originalSelection.positionColumn,srcRange.endColumn));}}]);return InPlaceReplaceCommand;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace.js
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function inPlaceReplace_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function inPlaceReplace_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function inPlaceReplace_createClass(Constructor,protoProps,staticProps){if(protoProps)inPlaceReplace_defineProperties(Constructor.prototype,protoProps);if(staticProps)inPlaceReplace_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var InPlaceReplaceController=/*#__PURE__*/function(){function InPlaceReplaceController(editor,editorWorkerService){inPlaceReplace_classCallCheck(this,InPlaceReplaceController);this.decorationIds=[];this.editor=editor;this.editorWorkerService=editorWorkerService;}inPlaceReplace_createClass(InPlaceReplaceController,[{key:"dispose",value:function dispose(){}},{key:"run",value:function run(source,up){var _this=this;// cancel any pending request
if(this.currentRequest){this.currentRequest.cancel();}var editorSelection=this.editor.getSelection();var model=this.editor.getModel();if(!model||!editorSelection){return undefined;}var selection=editorSelection;if(selection.startLineNumber!==selection.endLineNumber){// Can't accept multiline selection
return undefined;}var state=new editorState/* EditorState */.yy(this.editor,1/* Value */|4/* Position */);var modelURI=model.uri;if(!this.editorWorkerService.canNavigateValueSet(modelURI)){return Promise.resolve(undefined);}this.currentRequest=(0,common_async/* createCancelablePromise */.PG)(function(token){return _this.editorWorkerService.navigateValueSet(modelURI,selection,up);});return this.currentRequest.then(function(result){if(!result||!result.range||!result.value){// No proper result
return;}if(!state.validate(_this.editor)){// state has changed
return;}// Selection
var editRange=range/* Range.lift */.e.lift(result.range);var highlightRange=result.range;var diff=result.value.length-(selection.endColumn-selection.startColumn);// highlight
highlightRange={startLineNumber:highlightRange.startLineNumber,startColumn:highlightRange.startColumn,endLineNumber:highlightRange.endLineNumber,endColumn:highlightRange.startColumn+result.value.length};if(diff>1){selection=new core_selection/* Selection */.Y(selection.startLineNumber,selection.startColumn,selection.endLineNumber,selection.endColumn+diff-1);}// Insert new text
var command=new InPlaceReplaceCommand(editRange,selection,result.value);_this.editor.pushUndoStop();_this.editor.executeCommand(source,command);_this.editor.pushUndoStop();// add decoration
_this.decorationIds=_this.editor.deltaDecorations(_this.decorationIds,[{range:highlightRange,options:InPlaceReplaceController.DECORATION}]);// remove decoration after delay
if(_this.decorationRemover){_this.decorationRemover.cancel();}_this.decorationRemover=(0,common_async/* timeout */.Vs)(350);_this.decorationRemover.then(function(){return _this.decorationIds=_this.editor.deltaDecorations(_this.decorationIds,[]);}).catch(errors/* onUnexpectedError */.dL);}).catch(errors/* onUnexpectedError */.dL);}}],[{key:"get",value:function get(editor){return editor.getContribution(InPlaceReplaceController.ID);}}]);return InPlaceReplaceController;}();InPlaceReplaceController.ID='editor.contrib.inPlaceReplaceController';InPlaceReplaceController.DECORATION=textModel/* ModelDecorationOptions.register */.qx.register({description:'in-place-replace',className:'valueSetReplacement'});InPlaceReplaceController=__decorate([__param(1,editorWorker/* IEditorWorkerService */.p)],InPlaceReplaceController);var InPlaceReplaceUp=/*#__PURE__*/function(_EditorAction){_inherits(InPlaceReplaceUp,_EditorAction);var _super=_createSuper(InPlaceReplaceUp);function InPlaceReplaceUp(){inPlaceReplace_classCallCheck(this,InPlaceReplaceUp);return _super.call(this,{id:'editor.action.inPlaceReplace.up',label:nls/* localize */.N('InPlaceReplaceAction.previous.label',"Replace with Previous Value"),alias:'Replace with Previous Value',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|82/* Comma */,weight:100/* EditorContrib */}});}inPlaceReplace_createClass(InPlaceReplaceUp,[{key:"run",value:function run(accessor,editor){var controller=InPlaceReplaceController.get(editor);if(!controller){return Promise.resolve(undefined);}return controller.run(this.id,true);}}]);return InPlaceReplaceUp;}(editorExtensions/* EditorAction */.R6);var InPlaceReplaceDown=/*#__PURE__*/function(_EditorAction2){_inherits(InPlaceReplaceDown,_EditorAction2);var _super2=_createSuper(InPlaceReplaceDown);function InPlaceReplaceDown(){inPlaceReplace_classCallCheck(this,InPlaceReplaceDown);return _super2.call(this,{id:'editor.action.inPlaceReplace.down',label:nls/* localize */.N('InPlaceReplaceAction.next.label',"Replace with Next Value"),alias:'Replace with Next Value',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|84/* Period */,weight:100/* EditorContrib */}});}inPlaceReplace_createClass(InPlaceReplaceDown,[{key:"run",value:function run(accessor,editor){var controller=InPlaceReplaceController.get(editor);if(!controller){return Promise.resolve(undefined);}return controller.run(this.id,false);}}]);return InPlaceReplaceDown;}(editorExtensions/* EditorAction */.R6);(0,editorExtensions/* registerEditorContribution */._K)(InPlaceReplaceController.ID,InPlaceReplaceController);(0,editorExtensions/* registerEditorAction */.Qr)(InPlaceReplaceUp);(0,editorExtensions/* registerEditorAction */.Qr)(InPlaceReplaceDown);(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var border=theme.getColor(editorColorRegistry/* editorBracketMatchBorder */.Dl);if(border){collector.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px ".concat(border,"; }"));}});

/***/ }),

/***/ 58076:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "J": () => (/* binding */ generateIndent),
/* harmony export */   "Y": () => (/* binding */ getSpaceCnt)
/* harmony export */ });
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function getSpaceCnt(str,tabSize){var spacesCnt=0;for(var i=0;i<str.length;i++){if(str.charAt(i)==='\t'){spacesCnt+=tabSize;}else{spacesCnt++;}}return spacesCnt;}function generateIndent(spacesCnt,tabSize,insertSpaces){spacesCnt=spacesCnt<0?0:spacesCnt;var result='';if(!insertSpaces){var tabsCnt=Math.floor(spacesCnt/tabSize);spacesCnt=spacesCnt%tabSize;for(var i=0;i<tabsCnt;i++){result+='\t';}}for(var _i=0;_i<spacesCnt;_i++){result+=' ';}return result;}

/***/ }),

/***/ 16210:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AutoIndentOnPaste": () => (/* binding */ AutoIndentOnPaste),
/* harmony export */   "AutoIndentOnPasteCommand": () => (/* binding */ AutoIndentOnPasteCommand),
/* harmony export */   "ChangeIndentationSizeAction": () => (/* binding */ ChangeIndentationSizeAction),
/* harmony export */   "DetectIndentation": () => (/* binding */ DetectIndentation),
/* harmony export */   "IndentUsingSpaces": () => (/* binding */ IndentUsingSpaces),
/* harmony export */   "IndentUsingTabs": () => (/* binding */ IndentUsingTabs),
/* harmony export */   "IndentationToSpacesAction": () => (/* binding */ IndentationToSpacesAction),
/* harmony export */   "IndentationToSpacesCommand": () => (/* binding */ IndentationToSpacesCommand),
/* harmony export */   "IndentationToTabsAction": () => (/* binding */ IndentationToTabsAction),
/* harmony export */   "IndentationToTabsCommand": () => (/* binding */ IndentationToTabsCommand),
/* harmony export */   "ReindentLinesAction": () => (/* binding */ ReindentLinesAction),
/* harmony export */   "ReindentSelectedLinesAction": () => (/* binding */ ReindentSelectedLinesAction),
/* harmony export */   "getReindentEditOperations": () => (/* binding */ getReindentEditOperations)
/* harmony export */ });
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19860);
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41712);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79098);
/* harmony import */ var _common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6215);
/* harmony import */ var _common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(63332);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(96844);
/* harmony import */ var _common_core_selection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(33199);
/* harmony import */ var _common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(48919);
/* harmony import */ var _common_model_textModel_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(58102);
/* harmony import */ var _common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(71567);
/* harmony import */ var _common_services_model_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(81431);
/* harmony import */ var _indentUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(58076);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(71453);
/* harmony import */ var _platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(28303);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function getReindentEditOperations(model,languageConfigurationService,startLineNumber,endLineNumber,inheritedIndent){if(model.getLineCount()===1&&model.getLineMaxColumn(1)===1){// Model is empty
return[];}var indentationRules=languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).indentationRules;if(!indentationRules){return[];}endLineNumber=Math.min(endLineNumber,model.getLineCount());// Skip `unIndentedLinePattern` lines
while(startLineNumber<=endLineNumber){if(!indentationRules.unIndentedLinePattern){break;}var text=model.getLineContent(startLineNumber);if(!indentationRules.unIndentedLinePattern.test(text)){break;}startLineNumber++;}if(startLineNumber>endLineNumber-1){return[];}var _model$getOptions=model.getOptions(),tabSize=_model$getOptions.tabSize,indentSize=_model$getOptions.indentSize,insertSpaces=_model$getOptions.insertSpaces;var shiftIndent=function shiftIndent(indentation,count){count=count||1;return _common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_3__/* .ShiftCommand.shiftIndent */ .U.shiftIndent(indentation,indentation.length+count,tabSize,indentSize,insertSpaces);};var unshiftIndent=function unshiftIndent(indentation,count){count=count||1;return _common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_3__/* .ShiftCommand.unshiftIndent */ .U.unshiftIndent(indentation,indentation.length+count,tabSize,indentSize,insertSpaces);};var indentEdits=[];// indentation being passed to lines below
var globalIndent;// Calculate indentation for the first line
// If there is no passed-in indentation, we use the indentation of the first line as base.
var currentLineText=model.getLineContent(startLineNumber);var adjustedLineContent=currentLineText;if(inheritedIndent!==undefined&&inheritedIndent!==null){globalIndent=inheritedIndent;var oldIndentation=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__/* .getLeadingWhitespace */ .V8(currentLineText);adjustedLineContent=globalIndent+currentLineText.substring(oldIndentation.length);if(indentationRules.decreaseIndentPattern&&indentationRules.decreaseIndentPattern.test(adjustedLineContent)){globalIndent=unshiftIndent(globalIndent);adjustedLineContent=globalIndent+currentLineText.substring(oldIndentation.length);}if(currentLineText!==adjustedLineContent){indentEdits.push(_common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_9__/* .EditOperation.replaceMove */ .h.replaceMove(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_10__/* .Selection */ .Y(startLineNumber,1,startLineNumber,oldIndentation.length+1),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_5__/* .TextModel.normalizeIndentation */ .yO.normalizeIndentation(globalIndent,indentSize,insertSpaces)));}}else{globalIndent=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__/* .getLeadingWhitespace */ .V8(currentLineText);}// idealIndentForNextLine doesn't equal globalIndent when there is a line matching `indentNextLinePattern`.
var idealIndentForNextLine=globalIndent;if(indentationRules.increaseIndentPattern&&indentationRules.increaseIndentPattern.test(adjustedLineContent)){idealIndentForNextLine=shiftIndent(idealIndentForNextLine);globalIndent=shiftIndent(globalIndent);}else if(indentationRules.indentNextLinePattern&&indentationRules.indentNextLinePattern.test(adjustedLineContent)){idealIndentForNextLine=shiftIndent(idealIndentForNextLine);}startLineNumber++;// Calculate indentation adjustment for all following lines
for(var lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){var _text=model.getLineContent(lineNumber);var _oldIndentation=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__/* .getLeadingWhitespace */ .V8(_text);var _adjustedLineContent=idealIndentForNextLine+_text.substring(_oldIndentation.length);if(indentationRules.decreaseIndentPattern&&indentationRules.decreaseIndentPattern.test(_adjustedLineContent)){idealIndentForNextLine=unshiftIndent(idealIndentForNextLine);globalIndent=unshiftIndent(globalIndent);}if(_oldIndentation!==idealIndentForNextLine){indentEdits.push(_common_core_editOperation_js__WEBPACK_IMPORTED_MODULE_9__/* .EditOperation.replaceMove */ .h.replaceMove(new _common_core_selection_js__WEBPACK_IMPORTED_MODULE_10__/* .Selection */ .Y(lineNumber,1,lineNumber,_oldIndentation.length+1),_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_5__/* .TextModel.normalizeIndentation */ .yO.normalizeIndentation(idealIndentForNextLine,indentSize,insertSpaces)));}// calculate idealIndentForNextLine
if(indentationRules.unIndentedLinePattern&&indentationRules.unIndentedLinePattern.test(_text)){// In reindent phase, if the line matches `unIndentedLinePattern` we inherit indentation from above lines
// but don't change globalIndent and idealIndentForNextLine.
continue;}else if(indentationRules.increaseIndentPattern&&indentationRules.increaseIndentPattern.test(_adjustedLineContent)){globalIndent=shiftIndent(globalIndent);idealIndentForNextLine=globalIndent;}else if(indentationRules.indentNextLinePattern&&indentationRules.indentNextLinePattern.test(_adjustedLineContent)){idealIndentForNextLine=shiftIndent(idealIndentForNextLine);}else{idealIndentForNextLine=globalIndent;}}return indentEdits;}var IndentationToSpacesAction=/*#__PURE__*/function(_EditorAction){_inherits(IndentationToSpacesAction,_EditorAction);var _super=_createSuper(IndentationToSpacesAction);function IndentationToSpacesAction(){_classCallCheck(this,IndentationToSpacesAction);return _super.call(this,{id:IndentationToSpacesAction.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('indentationToSpaces',"Convert Indentation to Spaces"),alias:'Convert Indentation to Spaces',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__/* .EditorContextKeys.writable */ .u.writable});}_createClass(IndentationToSpacesAction,[{key:"run",value:function run(accessor,editor){var model=editor.getModel();if(!model){return;}var modelOpts=model.getOptions();var selection=editor.getSelection();if(!selection){return;}var command=new IndentationToSpacesCommand(selection,modelOpts.tabSize);editor.pushUndoStop();editor.executeCommands(this.id,[command]);editor.pushUndoStop();model.updateOptions({insertSpaces:true});}}]);return IndentationToSpacesAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorAction */ .R6);IndentationToSpacesAction.ID='editor.action.indentationToSpaces';var IndentationToTabsAction=/*#__PURE__*/function(_EditorAction2){_inherits(IndentationToTabsAction,_EditorAction2);var _super2=_createSuper(IndentationToTabsAction);function IndentationToTabsAction(){_classCallCheck(this,IndentationToTabsAction);return _super2.call(this,{id:IndentationToTabsAction.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('indentationToTabs',"Convert Indentation to Tabs"),alias:'Convert Indentation to Tabs',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__/* .EditorContextKeys.writable */ .u.writable});}_createClass(IndentationToTabsAction,[{key:"run",value:function run(accessor,editor){var model=editor.getModel();if(!model){return;}var modelOpts=model.getOptions();var selection=editor.getSelection();if(!selection){return;}var command=new IndentationToTabsCommand(selection,modelOpts.tabSize);editor.pushUndoStop();editor.executeCommands(this.id,[command]);editor.pushUndoStop();model.updateOptions({insertSpaces:false});}}]);return IndentationToTabsAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorAction */ .R6);IndentationToTabsAction.ID='editor.action.indentationToTabs';var ChangeIndentationSizeAction=/*#__PURE__*/function(_EditorAction3){_inherits(ChangeIndentationSizeAction,_EditorAction3);var _super3=_createSuper(ChangeIndentationSizeAction);function ChangeIndentationSizeAction(insertSpaces,opts){var _this;_classCallCheck(this,ChangeIndentationSizeAction);_this=_super3.call(this,opts);_this.insertSpaces=insertSpaces;return _this;}_createClass(ChangeIndentationSizeAction,[{key:"run",value:function run(accessor,editor){var _this2=this;var quickInputService=accessor.get(_platform_quickinput_common_quickInput_js__WEBPACK_IMPORTED_MODULE_8__/* .IQuickInputService */ .eJ);var modelService=accessor.get(_common_services_model_js__WEBPACK_IMPORTED_MODULE_7__/* .IModelService */ .q);var model=editor.getModel();if(!model){return;}var creationOpts=modelService.getCreationOptions(model.getLanguageId(),model.uri,model.isForSimpleWidget);var picks=[1,2,3,4,5,6,7,8].map(function(n){return{id:n.toString(),label:n.toString(),// add description for tabSize value set in the configuration
description:n===creationOpts.tabSize?_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('configuredTabSize',"Configured Tab Size"):undefined};});// auto focus the tabSize set for the current editor
var autoFocusIndex=Math.min(model.getOptions().tabSize-1,7);setTimeout(function(){quickInputService.pick(picks,{placeHolder:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N({key:'selectTabWidth',comment:['Tab corresponds to the tab key']},"Select Tab Size for Current File"),activeItem:picks[autoFocusIndex]}).then(function(pick){if(pick){if(model&&!model.isDisposed()){model.updateOptions({tabSize:parseInt(pick.label,10),insertSpaces:_this2.insertSpaces});}}});},50/* quick input is sensitive to being opened so soon after another */);}}]);return ChangeIndentationSizeAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorAction */ .R6);var IndentUsingTabs=/*#__PURE__*/function(_ChangeIndentationSiz){_inherits(IndentUsingTabs,_ChangeIndentationSiz);var _super4=_createSuper(IndentUsingTabs);function IndentUsingTabs(){_classCallCheck(this,IndentUsingTabs);return _super4.call(this,false,{id:IndentUsingTabs.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('indentUsingTabs',"Indent Using Tabs"),alias:'Indent Using Tabs',precondition:undefined});}return IndentUsingTabs;}(ChangeIndentationSizeAction);IndentUsingTabs.ID='editor.action.indentUsingTabs';var IndentUsingSpaces=/*#__PURE__*/function(_ChangeIndentationSiz2){_inherits(IndentUsingSpaces,_ChangeIndentationSiz2);var _super5=_createSuper(IndentUsingSpaces);function IndentUsingSpaces(){_classCallCheck(this,IndentUsingSpaces);return _super5.call(this,true,{id:IndentUsingSpaces.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('indentUsingSpaces',"Indent Using Spaces"),alias:'Indent Using Spaces',precondition:undefined});}return IndentUsingSpaces;}(ChangeIndentationSizeAction);IndentUsingSpaces.ID='editor.action.indentUsingSpaces';var DetectIndentation=/*#__PURE__*/function(_EditorAction4){_inherits(DetectIndentation,_EditorAction4);var _super6=_createSuper(DetectIndentation);function DetectIndentation(){_classCallCheck(this,DetectIndentation);return _super6.call(this,{id:DetectIndentation.ID,label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('detectIndentation',"Detect Indentation from Content"),alias:'Detect Indentation from Content',precondition:undefined});}_createClass(DetectIndentation,[{key:"run",value:function run(accessor,editor){var modelService=accessor.get(_common_services_model_js__WEBPACK_IMPORTED_MODULE_7__/* .IModelService */ .q);var model=editor.getModel();if(!model){return;}var creationOpts=modelService.getCreationOptions(model.getLanguageId(),model.uri,model.isForSimpleWidget);model.detectIndentation(creationOpts.insertSpaces,creationOpts.tabSize);}}]);return DetectIndentation;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorAction */ .R6);DetectIndentation.ID='editor.action.detectIndentation';var ReindentLinesAction=/*#__PURE__*/function(_EditorAction5){_inherits(ReindentLinesAction,_EditorAction5);var _super7=_createSuper(ReindentLinesAction);function ReindentLinesAction(){_classCallCheck(this,ReindentLinesAction);return _super7.call(this,{id:'editor.action.reindentlines',label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('editor.reindentlines',"Reindent Lines"),alias:'Reindent Lines',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__/* .EditorContextKeys.writable */ .u.writable});}_createClass(ReindentLinesAction,[{key:"run",value:function run(accessor,editor){var languageConfigurationService=accessor.get(_common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__/* .ILanguageConfigurationService */ .c_);var model=editor.getModel();if(!model){return;}var edits=getReindentEditOperations(model,languageConfigurationService,1,model.getLineCount());if(edits.length>0){editor.pushUndoStop();editor.executeEdits(this.id,edits);editor.pushUndoStop();}}}]);return ReindentLinesAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorAction */ .R6);var ReindentSelectedLinesAction=/*#__PURE__*/function(_EditorAction6){_inherits(ReindentSelectedLinesAction,_EditorAction6);var _super8=_createSuper(ReindentSelectedLinesAction);function ReindentSelectedLinesAction(){_classCallCheck(this,ReindentSelectedLinesAction);return _super8.call(this,{id:'editor.action.reindentselectedlines',label:_nls_js__WEBPACK_IMPORTED_MODULE_11__/* .localize */ .N('editor.reindentselectedlines',"Reindent Selected Lines"),alias:'Reindent Selected Lines',precondition:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_4__/* .EditorContextKeys.writable */ .u.writable});}_createClass(ReindentSelectedLinesAction,[{key:"run",value:function run(accessor,editor){var languageConfigurationService=accessor.get(_common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__/* .ILanguageConfigurationService */ .c_);var model=editor.getModel();if(!model){return;}var selections=editor.getSelections();if(selections===null){return;}var edits=[];var _iterator=_createForOfIteratorHelper(selections),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var selection=_step.value;var startLineNumber=selection.startLineNumber;var endLineNumber=selection.endLineNumber;if(startLineNumber!==endLineNumber&&selection.endColumn===1){endLineNumber--;}if(startLineNumber===1){if(startLineNumber===endLineNumber){continue;}}else{startLineNumber--;}var editOperations=getReindentEditOperations(model,languageConfigurationService,startLineNumber,endLineNumber);edits.push.apply(edits,_toConsumableArray(editOperations));}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(edits.length>0){editor.pushUndoStop();editor.executeEdits(this.id,edits);editor.pushUndoStop();}}}]);return ReindentSelectedLinesAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorAction */ .R6);var AutoIndentOnPasteCommand=/*#__PURE__*/function(){function AutoIndentOnPasteCommand(edits,initialSelection){_classCallCheck(this,AutoIndentOnPasteCommand);this._initialSelection=initialSelection;this._edits=[];this._selectionId=null;var _iterator2=_createForOfIteratorHelper(edits),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var edit=_step2.value;if(edit.range&&typeof edit.text==='string'){this._edits.push(edit);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}_createClass(AutoIndentOnPasteCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){var _iterator3=_createForOfIteratorHelper(this._edits),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var edit=_step3.value;builder.addEditOperation(_common_core_range_js__WEBPACK_IMPORTED_MODULE_12__/* .Range.lift */ .e.lift(edit.range),edit.text);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}var selectionIsSet=false;if(Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()){if(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber){selectionIsSet=true;this._selectionId=builder.trackSelection(this._initialSelection,true);}else if(this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber){selectionIsSet=true;this._selectionId=builder.trackSelection(this._initialSelection,false);}}if(!selectionIsSet){this._selectionId=builder.trackSelection(this._initialSelection);}}},{key:"computeCursorState",value:function computeCursorState(model,helper){return helper.getTrackedSelection(this._selectionId);}}]);return AutoIndentOnPasteCommand;}();var AutoIndentOnPaste=/*#__PURE__*/function(){function AutoIndentOnPaste(editor){var _this3=this;_classCallCheck(this,AutoIndentOnPaste);this.callOnDispose=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__/* .DisposableStore */ .SL();this.callOnModel=new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__/* .DisposableStore */ .SL();this.editor=editor;this.callOnDispose.add(editor.onDidChangeConfiguration(function(){return _this3.update();}));this.callOnDispose.add(editor.onDidChangeModel(function(){return _this3.update();}));this.callOnDispose.add(editor.onDidChangeModelLanguage(function(){return _this3.update();}));}_createClass(AutoIndentOnPaste,[{key:"update",value:function update(){var _this4=this;// clean up
this.callOnModel.clear();// we are disabled
if(this.editor.getOption(9/* autoIndent */)<4/* Full */||this.editor.getOption(48/* formatOnPaste */)){return;}// no model
if(!this.editor.hasModel()){return;}this.callOnModel.add(this.editor.onDidPaste(function(_ref){var range=_ref.range;_this4.trigger(range);}));}},{key:"trigger",value:function trigger(range){var selections=this.editor.getSelections();if(selections===null||selections.length>1){return;}var model=this.editor.getModel();if(!model){return;}if(!model.isCheapToTokenize(range.getStartPosition().lineNumber)){return;}var autoIndent=this.editor.getOption(9/* autoIndent */);var _model$getOptions2=model.getOptions(),tabSize=_model$getOptions2.tabSize,indentSize=_model$getOptions2.indentSize,insertSpaces=_model$getOptions2.insertSpaces;var textEdits=[];var indentConverter={shiftIndent:function shiftIndent(indentation){return _common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_3__/* .ShiftCommand.shiftIndent */ .U.shiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces);},unshiftIndent:function unshiftIndent(indentation){return _common_commands_shiftCommand_js__WEBPACK_IMPORTED_MODULE_3__/* .ShiftCommand.unshiftIndent */ .U.unshiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces);}};var startLineNumber=range.startLineNumber;while(startLineNumber<=range.endLineNumber){if(this.shouldIgnoreLine(model,startLineNumber)){startLineNumber++;continue;}break;}if(startLineNumber>range.endLineNumber){return;}var firstLineText=model.getLineContent(startLineNumber);if(!/\S/.test(firstLineText.substring(0,range.startColumn-1))){var indentOfFirstLine=_common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__/* .LanguageConfigurationRegistry.getGoodIndentForLine */ .zu.getGoodIndentForLine(autoIndent,model,model.getLanguageId(),startLineNumber,indentConverter);if(indentOfFirstLine!==null){var oldIndentation=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__/* .getLeadingWhitespace */ .V8(firstLineText);var newSpaceCnt=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .getSpaceCnt */ .Y(indentOfFirstLine,tabSize);var oldSpaceCnt=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .getSpaceCnt */ .Y(oldIndentation,tabSize);if(newSpaceCnt!==oldSpaceCnt){var newIndent=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .generateIndent */ .J(newSpaceCnt,tabSize,insertSpaces);textEdits.push({range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_12__/* .Range */ .e(startLineNumber,1,startLineNumber,oldIndentation.length+1),text:newIndent});firstLineText=newIndent+firstLineText.substr(oldIndentation.length);}else{var indentMetadata=_common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__/* .LanguageConfigurationRegistry.getIndentMetadata */ .zu.getIndentMetadata(model,startLineNumber);if(indentMetadata===0||indentMetadata===8/* UNINDENT_MASK */){// we paste content into a line where only contains whitespaces
// after pasting, the indentation of the first line is already correct
// the first line doesn't match any indentation rule
// then no-op.
return;}}}}var firstLineNumber=startLineNumber;// ignore empty or ignored lines
while(startLineNumber<range.endLineNumber){if(!/\S/.test(model.getLineContent(startLineNumber+1))){startLineNumber++;continue;}break;}if(startLineNumber!==range.endLineNumber){var virtualModel={getLineTokens:function getLineTokens(lineNumber){return model.getLineTokens(lineNumber);},getLanguageId:function getLanguageId(){return model.getLanguageId();},getLanguageIdAtPosition:function getLanguageIdAtPosition(lineNumber,column){return model.getLanguageIdAtPosition(lineNumber,column);},getLineContent:function getLineContent(lineNumber){if(lineNumber===firstLineNumber){return firstLineText;}else{return model.getLineContent(lineNumber);}}};var indentOfSecondLine=_common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_6__/* .LanguageConfigurationRegistry.getGoodIndentForLine */ .zu.getGoodIndentForLine(autoIndent,virtualModel,model.getLanguageId(),startLineNumber+1,indentConverter);if(indentOfSecondLine!==null){var newSpaceCntOfSecondLine=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .getSpaceCnt */ .Y(indentOfSecondLine,tabSize);var oldSpaceCntOfSecondLine=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .getSpaceCnt */ .Y(_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__/* .getLeadingWhitespace */ .V8(model.getLineContent(startLineNumber+1)),tabSize);if(newSpaceCntOfSecondLine!==oldSpaceCntOfSecondLine){var spaceCntOffset=newSpaceCntOfSecondLine-oldSpaceCntOfSecondLine;for(var i=startLineNumber+1;i<=range.endLineNumber;i++){var lineContent=model.getLineContent(i);var originalIndent=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_1__/* .getLeadingWhitespace */ .V8(lineContent);var originalSpacesCnt=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .getSpaceCnt */ .Y(originalIndent,tabSize);var newSpacesCnt=originalSpacesCnt+spaceCntOffset;var _newIndent=_indentUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .generateIndent */ .J(newSpacesCnt,tabSize,insertSpaces);if(_newIndent!==originalIndent){textEdits.push({range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_12__/* .Range */ .e(i,1,i,originalIndent.length+1),text:_newIndent});}}}}}if(textEdits.length>0){this.editor.pushUndoStop();var cmd=new AutoIndentOnPasteCommand(textEdits,this.editor.getSelection());this.editor.executeCommand('autoIndentOnPaste',cmd);this.editor.pushUndoStop();}}},{key:"shouldIgnoreLine",value:function shouldIgnoreLine(model,lineNumber){model.forceTokenization(lineNumber);var nonWhitespaceColumn=model.getLineFirstNonWhitespaceColumn(lineNumber);if(nonWhitespaceColumn===0){return true;}var tokens=model.getLineTokens(lineNumber);if(tokens.getCount()>0){var firstNonWhitespaceTokenIndex=tokens.findTokenIndexAtOffset(nonWhitespaceColumn);if(firstNonWhitespaceTokenIndex>=0&&tokens.getStandardTokenType(firstNonWhitespaceTokenIndex)===1/* Comment */){return true;}}return false;}},{key:"dispose",value:function dispose(){this.callOnDispose.dispose();this.callOnModel.dispose();}}]);return AutoIndentOnPaste;}();AutoIndentOnPaste.ID='editor.contrib.autoIndentOnPaste';function getIndentationEditOperations(model,builder,tabSize,tabsToSpaces){if(model.getLineCount()===1&&model.getLineMaxColumn(1)===1){// Model is empty
return;}var spaces='';for(var i=0;i<tabSize;i++){spaces+=' ';}var spacesRegExp=new RegExp(spaces,'gi');for(var lineNumber=1,lineCount=model.getLineCount();lineNumber<=lineCount;lineNumber++){var lastIndentationColumn=model.getLineFirstNonWhitespaceColumn(lineNumber);if(lastIndentationColumn===0){lastIndentationColumn=model.getLineMaxColumn(lineNumber);}if(lastIndentationColumn===1){continue;}var originalIndentationRange=new _common_core_range_js__WEBPACK_IMPORTED_MODULE_12__/* .Range */ .e(lineNumber,1,lineNumber,lastIndentationColumn);var originalIndentation=model.getValueInRange(originalIndentationRange);var newIndentation=tabsToSpaces?originalIndentation.replace(/\t/ig,spaces):originalIndentation.replace(spacesRegExp,'\t');builder.addEditOperation(originalIndentationRange,newIndentation);}}var IndentationToSpacesCommand=/*#__PURE__*/function(){function IndentationToSpacesCommand(selection,tabSize){_classCallCheck(this,IndentationToSpacesCommand);this.selection=selection;this.tabSize=tabSize;this.selectionId=null;}_createClass(IndentationToSpacesCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){this.selectionId=builder.trackSelection(this.selection);getIndentationEditOperations(model,builder,this.tabSize,true);}},{key:"computeCursorState",value:function computeCursorState(model,helper){return helper.getTrackedSelection(this.selectionId);}}]);return IndentationToSpacesCommand;}();var IndentationToTabsCommand=/*#__PURE__*/function(){function IndentationToTabsCommand(selection,tabSize){_classCallCheck(this,IndentationToTabsCommand);this.selection=selection;this.tabSize=tabSize;this.selectionId=null;}_createClass(IndentationToTabsCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){this.selectionId=builder.trackSelection(this.selection);getIndentationEditOperations(model,builder,this.tabSize,false);}},{key:"computeCursorState",value:function computeCursorState(model,helper){return helper.getTrackedSelection(this.selectionId);}}]);return IndentationToTabsCommand;}();(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorContribution */ ._K)(AutoIndentOnPaste.ID,AutoIndentOnPaste);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(IndentationToSpacesAction);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(IndentationToTabsAction);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(IndentUsingTabs);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(IndentUsingSpaces);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(DetectIndentation);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(ReindentLinesAction);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_2__/* .registerEditorAction */ .Qr)(ReindentSelectedLinesAction);

/***/ }),

/***/ 56832:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "InlayHintsController": () => (/* binding */ InlayHintsController),
  "RenderedInlayHintLabelPart": () => (/* binding */ RenderedInlayHintLabelPart)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/cancellation.js
var cancellation = __webpack_require__(82643);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/map.js
var map = __webpack_require__(46081);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/types.js
var types = __webpack_require__(918);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/uri.js
var common_uri = __webpack_require__(91134);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorDom.js
var editorDom = __webpack_require__(48786);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js
var editorOptions = __webpack_require__(72530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model.js
var model = __webpack_require__(16227);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js
var languageFeatureDebounce = __webpack_require__(9585);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js
var services_resolverService = __webpack_require__(90270);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.js
var clickLinkGesture = __webpack_require__(16161);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var core_position = __webpack_require__(60721);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlayHints/browser/inlayHints.js
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var InlayHintAnchor=function InlayHintAnchor(range,direction){_classCallCheck(this,InlayHintAnchor);this.range=range;this.direction=direction;};var InlayHintItem=/*#__PURE__*/function(){function InlayHintItem(hint,anchor,provider){_classCallCheck(this,InlayHintItem);this.hint=hint;this.anchor=anchor;this.provider=provider;this._isResolved=false;}_createClass(InlayHintItem,[{key:"with",value:function _with(delta){var result=new InlayHintItem(this.hint,delta.anchor,this.provider);result._isResolved=this._isResolved;result._currentResolve=this._currentResolve;return result;}},{key:"resolve",value:function resolve(token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var _this=this;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof this.provider.resolveInlayHint!=='function')){_context.next=2;break;}return _context.abrupt("return");case 2:if(!this._currentResolve){_context.next=8;break;}_context.next=5;return this._currentResolve;case 5:if(!token.isCancellationRequested){_context.next=7;break;}return _context.abrupt("return");case 7:return _context.abrupt("return",this.resolve(token));case 8:if(!this._isResolved){this._currentResolve=this._doResolve(token).finally(function(){return _this._currentResolve=undefined;});}_context.next=11;return this._currentResolve;case 11:case"end":return _context.stop();}}},_callee,this);}));}},{key:"_doResolve",value:function _doResolve(token){var _a,_b;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var newHint;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Promise.resolve(this.provider.resolveInlayHint(this.hint,token));case 3:newHint=_context2.sent;this.hint.tooltip=(_a=newHint===null||newHint===void 0?void 0:newHint.tooltip)!==null&&_a!==void 0?_a:this.hint.tooltip;this.hint.label=(_b=newHint===null||newHint===void 0?void 0:newHint.label)!==null&&_b!==void 0?_b:this.hint.label;this._isResolved=true;_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](0);(0,errors/* onUnexpectedExternalError */.Cp)(_context2.t0);this._isResolved=false;case 13:case"end":return _context2.stop();}}},_callee2,this,[[0,9]]);}));}}]);return InlayHintItem;}();var InlayHintsFragments=/*#__PURE__*/function(){function InlayHintsFragments(ranges,data,model){_classCallCheck(this,InlayHintsFragments);this._disposables=new lifecycle/* DisposableStore */.SL();this.ranges=ranges;this.provider=new Set();var items=[];var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_slicedToArray(_step.value,2),list=_step$value[0],provider=_step$value[1];this._disposables.add(list);this.provider.add(provider);var _iterator2=_createForOfIteratorHelper(list.hints),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var hint=_step2.value;// compute the range to which the item should be attached to
var position=model.validatePosition(hint.position);var direction='before';var wordRange=InlayHintsFragments._getRangeAtPosition(model,position);var range=void 0;if(wordRange.getStartPosition().isBefore(position)){range=core_range/* Range.fromPositions */.e.fromPositions(wordRange.getStartPosition(),position);direction='after';}else{range=core_range/* Range.fromPositions */.e.fromPositions(position,wordRange.getEndPosition());direction='before';}items.push(new InlayHintItem(hint,new InlayHintAnchor(range,direction),provider));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.items=items.sort(function(a,b){return core_position/* Position.compare */.L.compare(a.hint.position,b.hint.position);});}_createClass(InlayHintsFragments,[{key:"dispose",value:function dispose(){this._disposables.dispose();}}],[{key:"create",value:function create(model,ranges,token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){var _this2=this;var data,promises;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:data=[];promises=languages/* InlayHintsProviderRegistry.ordered */.mX.ordered(model).reverse().map(function(provider){return ranges.map(function(range){return __awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var result;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return provider.provideInlayHints(model,range,token);case 3:result=_context3.sent;if(result===null||result===void 0?void 0:result.hints.length){data.push([result,provider]);}_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3["catch"](0);(0,errors/* onUnexpectedExternalError */.Cp)(_context3.t0);case 10:case"end":return _context3.stop();}}},_callee3,null,[[0,7]]);}));});});_context4.next=4;return Promise.all(promises.flat());case 4:if(!(token.isCancellationRequested||model.isDisposed())){_context4.next=6;break;}throw new errors/* CancellationError */.FU();case 6:return _context4.abrupt("return",new InlayHintsFragments(ranges,data,model));case 7:case"end":return _context4.stop();}}},_callee4);}));}},{key:"_getRangeAtPosition",value:function _getRangeAtPosition(model,position){var line=position.lineNumber;var word=model.getWordAtPosition(position);if(word){// always prefer the word range
return new core_range/* Range */.e(line,word.startColumn,line,word.endColumn);}model.tokenizeIfCheap(line);var tokens=model.getLineTokens(line);var offset=position.column-1;var idx=tokens.findTokenIndexAtOffset(offset);var start=tokens.getStartOffset(idx);var end=tokens.getEndOffset(idx);if(end-start===1){// single character token, when at its end try leading/trailing token instead
if(start===offset&&idx>1){// leading token
start=tokens.getStartOffset(idx-1);end=tokens.getEndOffset(idx-1);}else if(end===offset&&idx<tokens.getCount()-1){// trailing token
start=tokens.getStartOffset(idx+1);end=tokens.getEndOffset(idx+1);}}return new core_range/* Range */.e(line,start+1,line,end+1);}}]);return InlayHintsFragments;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/actions.js
var actions = __webpack_require__(42045);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToCommands.js + 1 modules
var goToCommands = __webpack_require__(6696);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js
var peekView = __webpack_require__(69944);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js
var common_actions = __webpack_require__(25749);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js
var contextView = __webpack_require__(25234);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js
var notification = __webpack_require__(73766);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlayHints/browser/inlayHintsLocations.js
function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||inlayHintsLocations_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return inlayHintsLocations_arrayLikeToArray(arr);}function inlayHintsLocations_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=inlayHintsLocations_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function inlayHintsLocations_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return inlayHintsLocations_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return inlayHintsLocations_arrayLikeToArray(o,minLen);}function inlayHintsLocations_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var inlayHintsLocations_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function showGoToContextMenu(accessor,editor,anchor,part){var _a;return inlayHintsLocations_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var _this=this;var resolverService,contextMenuService,commandService,instaService,notificationService,location,menuActions,filter,_iterator,_step,_loop,command,useShadowDOM;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:resolverService=accessor.get(services_resolverService/* ITextModelService */.S);contextMenuService=accessor.get(contextView/* IContextMenuService */.i);commandService=accessor.get(commands/* ICommandService */.Hy);instaService=accessor.get(instantiation/* IInstantiationService */.TG);notificationService=accessor.get(notification/* INotificationService */.lT);_context3.next=7;return part.item.resolve(cancellation/* CancellationToken.None */.T.None);case 7:if(part.part.location){_context3.next=9;break;}return _context3.abrupt("return");case 9:location=part.part.location;menuActions=[];// from all registered (not active) context menu actions select those
// that are a symbol navigation action
filter=new Set(common_actions/* MenuRegistry.getMenuItems */.BH.getMenuItems(common_actions/* MenuId.EditorContext */.eH.EditorContext).map(function(item){return (0,common_actions/* isIMenuItem */.vr)(item)?item.command.id:'';}));_iterator=inlayHintsLocations_createForOfIteratorHelper(editorExtensions/* EditorExtensionsRegistry.getEditorActions */.Uc.getEditorActions());try{_loop=function _loop(){var delegate=_step.value;if(delegate instanceof goToCommands.SymbolNavigationAction&&filter.has(delegate.id)){menuActions.push(new actions/* Action */.aU(delegate.id,delegate.label,undefined,true,function(){return inlayHintsLocations_awaiter(_this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var ref;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return resolverService.createModelReference(location.uri);case 2:ref=_context2.sent;_context2.prev=3;_context2.next=6;return instaService.invokeFunction(delegate.run.bind(delegate),editor,new goToCommands.SymbolNavigationAnchor(ref.object.textEditorModel,core_range/* Range.getStartPosition */.e.getStartPosition(location.range)));case 6:_context2.prev=6;ref.dispose();return _context2.finish(6);case 9:case"end":return _context2.stop();}}},_callee2,null,[[3,,6,9]]);}));}));}};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(part.part.command){command=part.part.command;menuActions.push(new actions/* Separator */.Z0());menuActions.push(new actions/* Action */.aU(command.id,command.title,undefined,true,function(){return inlayHintsLocations_awaiter(_this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var _b;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return commandService.executeCommand.apply(commandService,[command.id].concat(_toConsumableArray((_b=command.arguments)!==null&&_b!==void 0?_b:[])));case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context["catch"](0);notificationService.notify({severity:notification/* Severity.Error */.zb.Error,source:part.item.provider.displayName,message:_context.t0});case 8:case"end":return _context.stop();}}},_callee,null,[[0,5]]);}));}));}// show context menu
useShadowDOM=editor.getOption(115/* useShadowDOM */);contextMenuService.showContextMenu({domForShadowRoot:useShadowDOM?(_a=editor.getDomNode())!==null&&_a!==void 0?_a:undefined:undefined,getAnchor:function getAnchor(){var box=dom.getDomNodePagePosition(anchor);return{x:box.left,y:box.top+box.height+8};},getActions:function getActions(){return menuActions;},onHide:function onHide(){editor.focus();},autoSelectFirstItem:true});case 17:case"end":return _context3.stop();}}},_callee3);}));}function goToDefinitionWithLocation(accessor,event,editor,location){return inlayHintsLocations_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee5(){var _this2=this;var resolverService,ref;return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:resolverService=accessor.get(services_resolverService/* ITextModelService */.S);_context5.next=3;return resolverService.createModelReference(location.uri);case 3:ref=_context5.sent;_context5.next=6;return editor.invokeWithinContext(function(accessor){return inlayHintsLocations_awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){var openToSide,contextKeyService,isInPeek,canPeek,action;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:openToSide=event.hasSideBySideModifier;contextKeyService=accessor.get(contextkey/* IContextKeyService */.i6);isInPeek=peekView/* PeekContext.inPeekEditor.getValue */.Jy.inPeekEditor.getValue(contextKeyService);canPeek=!openToSide&&editor.getOption(78/* definitionLinkOpensInPeek */)&&!isInPeek;action=new goToCommands.DefinitionAction({openToSide:openToSide,openInPeek:canPeek,muteMessage:true},{alias:'',label:'',id:'',precondition:undefined});return _context4.abrupt("return",action.run(accessor,editor,{model:ref.object.textEditorModel,position:core_range/* Range.getStartPosition */.e.getStartPosition(location.range)}));case 6:case"end":return _context4.stop();}}},_callee4);}));});case 6:ref.dispose();case 7:case"end":return _context5.stop();}}},_callee5);}));}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js
var extensions = __webpack_require__(74822);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js
var colorRegistry = __webpack_require__(25530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlayHints/browser/inlayHintsController.js
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function inlayHintsController_toConsumableArray(arr){return inlayHintsController_arrayWithoutHoles(arr)||inlayHintsController_iterableToArray(arr)||inlayHintsController_unsupportedIterableToArray(arr)||inlayHintsController_nonIterableSpread();}function inlayHintsController_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function inlayHintsController_iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function inlayHintsController_arrayWithoutHoles(arr){if(Array.isArray(arr))return inlayHintsController_arrayLikeToArray(arr);}function inlayHintsController_slicedToArray(arr,i){return inlayHintsController_arrayWithHoles(arr)||inlayHintsController_iterableToArrayLimit(arr,i)||inlayHintsController_unsupportedIterableToArray(arr,i)||inlayHintsController_nonIterableRest();}function inlayHintsController_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function inlayHintsController_iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function inlayHintsController_arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function inlayHintsController_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=inlayHintsController_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e3){throw _e3;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e4){didErr=true;err=_e4;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function inlayHintsController_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return inlayHintsController_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return inlayHintsController_arrayLikeToArray(o,minLen);}function inlayHintsController_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function inlayHintsController_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function inlayHintsController_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function inlayHintsController_createClass(Constructor,protoProps,staticProps){if(protoProps)inlayHintsController_defineProperties(Constructor.prototype,protoProps);if(staticProps)inlayHintsController_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var inlayHintsController_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};// --- hint caching service (per session)
var InlayHintsCache=/*#__PURE__*/function(){function InlayHintsCache(){inlayHintsController_classCallCheck(this,InlayHintsCache);this._entries=new map/* LRUCache */.z6(50);}inlayHintsController_createClass(InlayHintsCache,[{key:"get",value:function get(model){var key=InlayHintsCache._key(model);return this._entries.get(key);}},{key:"set",value:function set(model,value){var key=InlayHintsCache._key(model);this._entries.set(key,value);}}],[{key:"_key",value:function _key(model){return"".concat(model.uri.toString(),"/").concat(model.getVersionId());}}]);return InlayHintsCache;}();var IInlayHintsCache=(0,instantiation/* createDecorator */.yh)('IInlayHintsCache');(0,extensions/* registerSingleton */.z)(IInlayHintsCache,InlayHintsCache,true);// --- rendered label
var RenderedInlayHintLabelPart=/*#__PURE__*/function(){function RenderedInlayHintLabelPart(item,index){inlayHintsController_classCallCheck(this,RenderedInlayHintLabelPart);this.item=item;this.index=index;}inlayHintsController_createClass(RenderedInlayHintLabelPart,[{key:"part",get:function get(){var label=this.item.hint.label;if(typeof label==='string'){return{label:label};}else{return label[this.index];}}}]);return RenderedInlayHintLabelPart;}();// --- controller
var InlayHintsController=/*#__PURE__*/function(){function InlayHintsController(_editor,_featureDebounce,_inlayHintsCache,_commandService,_notificationService,_instaService){var _this=this;inlayHintsController_classCallCheck(this,InlayHintsController);this._editor=_editor;this._inlayHintsCache=_inlayHintsCache;this._commandService=_commandService;this._notificationService=_notificationService;this._instaService=_instaService;this._disposables=new lifecycle/* DisposableStore */.SL();this._sessionDisposables=new lifecycle/* DisposableStore */.SL();this._decorationsMetadata=new Map();this._ruleFactory=new editorDom/* DynamicCssRules */.t7(this._editor);this._debounceInfo=_featureDebounce.for(languages/* InlayHintsProviderRegistry */.mX,'InlayHint',{min:25});this._disposables.add(languages/* InlayHintsProviderRegistry.onDidChange */.mX.onDidChange(function(){return _this._update();}));this._disposables.add(_editor.onDidChangeModel(function(){return _this._update();}));this._disposables.add(_editor.onDidChangeModelLanguage(function(){return _this._update();}));this._disposables.add(_editor.onDidChangeConfiguration(function(e){if(e.hasChanged(127/* inlayHints */)){_this._update();}}));this._update();}inlayHintsController_createClass(InlayHintsController,[{key:"dispose",value:function dispose(){this._sessionDisposables.dispose();this._removeAllDecorations();this._disposables.dispose();}},{key:"_update",value:function _update(){var _this2=this;this._sessionDisposables.clear();this._removeAllDecorations();if(!this._editor.getOption(127/* inlayHints */).enabled){return;}var model=this._editor.getModel();if(!model||!languages/* InlayHintsProviderRegistry.has */.mX.has(model)){return;}// iff possible, quickly update from cache
var cached=this._inlayHintsCache.get(model);if(cached){this._updateHintsDecorators([model.getFullModelRange()],cached);}this._sessionDisposables.add((0,lifecycle/* toDisposable */.OF)(function(){// cache items when switching files etc
if(!model.isDisposed()){_this2._cacheHintsForFastRestore(model);}}));var cts;var watchedProviders=new Set();var scheduler=new common_async/* RunOnceScheduler */.pY(function(){return inlayHintsController_awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var t1,listener,myToken,inlayHints,_iterator,_step,provider;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:t1=Date.now();cts===null||cts===void 0?void 0:cts.dispose(true);cts=new cancellation/* CancellationTokenSource */.A();listener=model.onWillDispose(function(){return cts===null||cts===void 0?void 0:cts.cancel();});_context.prev=4;myToken=cts.token;_context.next=8;return InlayHintsFragments.create(model,this._getHintsRanges(),myToken);case 8:inlayHints=_context.sent;scheduler.delay=this._debounceInfo.update(model,Date.now()-t1);if(!myToken.isCancellationRequested){_context.next=13;break;}inlayHints.dispose();return _context.abrupt("return");case 13:// listen to provider changes
_iterator=inlayHintsController_createForOfIteratorHelper(inlayHints.provider);try{for(_iterator.s();!(_step=_iterator.n()).done;){provider=_step.value;if(typeof provider.onDidChangeInlayHints==='function'&&!watchedProviders.has(provider)){watchedProviders.add(provider);this._sessionDisposables.add(provider.onDidChangeInlayHints(function(){if(!scheduler.isScheduled()){// ignore event when request is already scheduled
scheduler.schedule();}}));}}}catch(err){_iterator.e(err);}finally{_iterator.f();}this._sessionDisposables.add(inlayHints);this._updateHintsDecorators(inlayHints.ranges,inlayHints.items);this._cacheHintsForFastRestore(model);_context.next=23;break;case 20:_context.prev=20;_context.t0=_context["catch"](4);(0,errors/* onUnexpectedError */.dL)(_context.t0);case 23:_context.prev=23;cts.dispose();listener.dispose();return _context.finish(23);case 27:case"end":return _context.stop();}}},_callee,this,[[4,20,23,27]]);}));},this._debounceInfo.get(model));this._sessionDisposables.add(scheduler);this._sessionDisposables.add((0,lifecycle/* toDisposable */.OF)(function(){return cts===null||cts===void 0?void 0:cts.dispose(true);}));scheduler.schedule(0);this._sessionDisposables.add(this._editor.onDidScrollChange(function(e){// update when scroll position changes
// uses scrollTopChanged has weak heuristic to differenatiate between scrolling due to
// typing or due to "actual" scrolling
if(e.scrollTopChanged||!scheduler.isScheduled()){scheduler.schedule();}}));this._sessionDisposables.add(this._editor.onDidChangeModelContent(function(e){// update less aggressive when typing
var delay=Math.max(scheduler.delay,1250);scheduler.schedule(delay);}));// mouse gestures
this._sessionDisposables.add(this._installLinkGesture());this._sessionDisposables.add(this._installContextMenu());}},{key:"_installLinkGesture",value:function _installLinkGesture(){var _this3=this;var removeHighlight=function removeHighlight(){};var gesture=new clickLinkGesture/* ClickLinkGesture */.yN(this._editor);gesture.onMouseMoveOrRelevantKeyDown(function(e){var _e2=inlayHintsController_slicedToArray(e,1),mouseEvent=_e2[0];var labelPart=_this3._getInlayHintLabelPart(mouseEvent);var model=_this3._editor.getModel();if(!labelPart||!mouseEvent.hasTriggerModifier||!model){removeHighlight();return;}// render link => when the modifier is pressed and when there is a command or location
if(mouseEvent.hasTriggerModifier&&(labelPart.part.command||labelPart.part.location)){// resolve the item
var cts=new cancellation/* CancellationTokenSource */.A();labelPart.item.resolve(cts.token);_this3._activeInlayHintPart=labelPart;var lineNumber=_this3._activeInlayHintPart.item.hint.position.lineNumber;var range=new core_range/* Range */.e(lineNumber,1,lineNumber,model.getLineMaxColumn(lineNumber));var lineHints=new Set();var _iterator2=inlayHintsController_createForOfIteratorHelper(_this3._decorationsMetadata.values()),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var data=_step2.value;if(range.containsRange(data.item.anchor.range)){lineHints.add(data.item);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}_this3._updateHintsDecorators([range],Array.from(lineHints));removeHighlight=function removeHighlight(){cts.dispose(true);_this3._activeInlayHintPart=undefined;_this3._updateHintsDecorators([range],Array.from(lineHints));};}});gesture.onCancel(removeHighlight);gesture.onExecute(function(e){return inlayHintsController_awaiter(_this3,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var _a,label,part,_this$_commandService;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:label=this._getInlayHintLabelPart(e);if(!label){_context2.next=16;break;}part=label.part;if(!part.location){_context2.next=7;break;}// location -> execute go to def
this._instaService.invokeFunction(goToDefinitionWithLocation,e,this._editor,part.location);_context2.next=16;break;case 7:if(!languages/* Command.is */.mY.is(part.command)){_context2.next=16;break;}_context2.prev=8;_context2.next=11;return(_this$_commandService=this._commandService).executeCommand.apply(_this$_commandService,[part.command.id].concat(inlayHintsController_toConsumableArray((_a=part.command.arguments)!==null&&_a!==void 0?_a:[])));case 11:_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2["catch"](8);this._notificationService.notify({severity:notification/* Severity.Error */.zb.Error,source:label.item.provider.displayName,message:_context2.t0});case 16:case"end":return _context2.stop();}}},_callee2,this,[[8,13]]);}));});return gesture;}},{key:"_installContextMenu",value:function _installContextMenu(){var _this4=this;return this._editor.onContextMenu(function(e){return inlayHintsController_awaiter(_this4,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var part;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(e.event.target instanceof HTMLElement){_context3.next=2;break;}return _context3.abrupt("return");case 2:part=this._getInlayHintLabelPart(e);if(!part){_context3.next=6;break;}_context3.next=6;return this._instaService.invokeFunction(showGoToContextMenu,this._editor,e.event.target,part);case 6:case"end":return _context3.stop();}}},_callee3,this);}));});}},{key:"_getInlayHintLabelPart",value:function _getInlayHintLabelPart(e){var _a;if(e.target.type!==6/* CONTENT_TEXT */){return undefined;}var options=(_a=e.target.detail.injectedText)===null||_a===void 0?void 0:_a.options;if(options instanceof textModel/* ModelDecorationInjectedTextOptions */.HS&&(options===null||options===void 0?void 0:options.attachedData)instanceof RenderedInlayHintLabelPart){return options.attachedData;}return undefined;}},{key:"_cacheHintsForFastRestore",value:function _cacheHintsForFastRestore(model){var items=new Map();var _iterator3=inlayHintsController_createForOfIteratorHelper(this._decorationsMetadata),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _step3$value=inlayHintsController_slicedToArray(_step3.value,2),id=_step3$value[0],obj=_step3$value[1];if(items.has(obj.item)){// an inlay item can be rendered as multiple decorations
// but they will all uses the same range
continue;}var value=obj.item;var range=model.getDecorationRange(id);if(range){// update range with whatever the editor has tweaked it to
var anchor=new InlayHintAnchor(range,obj.item.anchor.direction);value=obj.item.with({anchor:anchor});}items.set(obj.item,value);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}this._inlayHintsCache.set(model,Array.from(items.values()));}},{key:"_getHintsRanges",value:function _getHintsRanges(){var extra=30;var model=this._editor.getModel();var visibleRanges=this._editor.getVisibleRangesPlusViewportAboveBelow();var result=[];var _iterator4=inlayHintsController_createForOfIteratorHelper(visibleRanges.sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts)),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var range=_step4.value;var extendedRange=model.validateRange(new core_range/* Range */.e(range.startLineNumber-extra,range.startColumn,range.endLineNumber+extra,range.endColumn));if(result.length===0||!core_range/* Range.areIntersectingOrTouching */.e.areIntersectingOrTouching(result[result.length-1],extendedRange)){result.push(extendedRange);}else{result[result.length-1]=core_range/* Range.plusRange */.e.plusRange(result[result.length-1],extendedRange);}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return result;}},{key:"_updateHintsDecorators",value:function _updateHintsDecorators(ranges,items){var _this5=this;var _a,_b;// utils to collect/create injected text decorations
var newDecorationsData=[];var addInjectedText=function addInjectedText(item,ref,content,cursorStops,attachedData){newDecorationsData.push({item:item,classNameRef:ref,decoration:{range:item.anchor.range,options:_defineProperty({// className: "rangeHighlight", // DEBUG highlight to see to what range a hint is attached
description:'InlayHint',showIfCollapsed:item.anchor.range.isEmpty(),collapseOnReplaceEdit:!item.anchor.range.isEmpty(),stickiness:0/* AlwaysGrowsWhenTypingAtEdges */},item.anchor.direction,{content:content,inlineClassNameAffectsLetterSpacing:true,inlineClassName:ref.className,cursorStops:cursorStops,attachedData:attachedData})}});};var addInjectedWhitespace=function addInjectedWhitespace(item,isLast){var marginRule=_this5._ruleFactory.createClassNameRef({width:"".concat(fontSize/3|0,"px"),display:'inline-block'});addInjectedText(item,marginRule,"\u200A",isLast?model/* InjectedTextCursorStops.Right */.RM.Right:model/* InjectedTextCursorStops.None */.RM.None);};//
var _this$_getLayoutInfo=this._getLayoutInfo(),fontSize=_this$_getLayoutInfo.fontSize,fontFamily=_this$_getLayoutInfo.fontFamily;var fontFamilyVar='--code-editorInlayHintsFontFamily';this._editor.getContainerDomNode().style.setProperty(fontFamilyVar,fontFamily);var _iterator5=inlayHintsController_createForOfIteratorHelper(items),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var item=_step5.value;// whitespace leading the actual label
if(item.hint.paddingLeft){addInjectedWhitespace(item,false);}// the label with its parts
var parts=typeof item.hint.label==='string'?[{label:item.hint.label}]:item.hint.label;for(var _i2=0;_i2<parts.length;_i2++){var part=parts[_i2];var isFirst=_i2===0;var isLast=_i2===parts.length-1;var cssProperties={fontSize:"".concat(fontSize,"px"),fontFamily:"var(".concat(fontFamilyVar,"), ").concat(editorOptions/* EDITOR_FONT_DEFAULTS.fontFamily */.hL.fontFamily),verticalAlign:'middle'};this._fillInColors(cssProperties,item.hint);if((part.command||part.location)&&((_a=this._activeInlayHintPart)===null||_a===void 0?void 0:_a.item)===item&&this._activeInlayHintPart.index===_i2){// active link!
cssProperties.textDecoration='underline';cssProperties.cursor='pointer';cssProperties.color=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorActiveLinkForeground */._Yy);}if(isFirst&&isLast){// only element
cssProperties.padding="1px ".concat(Math.max(1,fontSize/4)|0,"px");cssProperties.borderRadius="".concat(fontSize/4|0,"px");}else if(isFirst){// first element
cssProperties.padding="1px 0 1px ".concat(Math.max(1,fontSize/4)|0,"px");cssProperties.borderRadius="".concat(fontSize/4|0,"px 0 0 ").concat(fontSize/4|0,"px");}else if(isLast){// last element
cssProperties.padding="1px ".concat(Math.max(1,fontSize/4)|0,"px 1px 0");cssProperties.borderRadius="0 ".concat(fontSize/4|0,"px ").concat(fontSize/4|0,"px 0");}else{cssProperties.padding="1px 0 1px 0";}addInjectedText(item,this._ruleFactory.createClassNameRef(cssProperties),fixSpace(part.label),isLast&&!item.hint.paddingRight?model/* InjectedTextCursorStops.Right */.RM.Right:model/* InjectedTextCursorStops.None */.RM.None,new RenderedInlayHintLabelPart(item,_i2));}// whitespace trailing the actual label
if(item.hint.paddingRight){addInjectedWhitespace(item,true);}if(newDecorationsData.length>InlayHintsController._MAX_DECORATORS){break;}}// collect all decoration ids that are affected by the ranges
// and only update those decorations
}catch(err){_iterator5.e(err);}finally{_iterator5.f();}var decorationIdsToReplace=[];var _iterator6=inlayHintsController_createForOfIteratorHelper(ranges),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var range=_step6.value;var _iterator7=inlayHintsController_createForOfIteratorHelper((_b=this._editor.getDecorationsInRange(range))!==null&&_b!==void 0?_b:[]),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var id=_step7.value.id;var metadata=this._decorationsMetadata.get(id);if(metadata){decorationIdsToReplace.push(id);metadata.classNameRef.dispose();this._decorationsMetadata.delete(id);}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}var newDecorationIds=this._editor.deltaDecorations(decorationIdsToReplace,newDecorationsData.map(function(d){return d.decoration;}));for(var i=0;i<newDecorationIds.length;i++){var data=newDecorationsData[i];this._decorationsMetadata.set(newDecorationIds[i],{item:data.item,classNameRef:data.classNameRef});}}},{key:"_fillInColors",value:function _fillInColors(props,hint){if(hint.kind===languages/* InlayHintKind.Parameter */.gl.Parameter){props.backgroundColor=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorInlayHintParameterBackground */.phM);props.color=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorInlayHintParameterForeground */.HCL);}else if(hint.kind===languages/* InlayHintKind.Type */.gl.Type){props.backgroundColor=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorInlayHintTypeBackground */.bKB);props.color=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorInlayHintTypeForeground */.hX8);}else{props.backgroundColor=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorInlayHintBackground */.PpC);props.color=(0,themeService/* themeColorFromId */.EN)(colorRegistry/* editorInlayHintForeground */.VVv);}}},{key:"_getLayoutInfo",value:function _getLayoutInfo(){var options=this._editor.getOption(127/* inlayHints */);var editorFontSize=this._editor.getOption(46/* fontSize */);var fontSize=options.fontSize;if(!fontSize||fontSize<5||fontSize>editorFontSize){fontSize=editorFontSize*.9|0;}var fontFamily=options.fontFamily||this._editor.getOption(43/* fontFamily */);return{fontSize:fontSize,fontFamily:fontFamily};}},{key:"_removeAllDecorations",value:function _removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);var _iterator8=inlayHintsController_createForOfIteratorHelper(this._decorationsMetadata.values()),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var obj=_step8.value;obj.classNameRef.dispose();}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}this._decorationsMetadata.clear();}}],[{key:"get",value:function get(editor){var _a;return(_a=editor.getContribution(InlayHintsController.ID))!==null&&_a!==void 0?_a:undefined;}}]);return InlayHintsController;}();InlayHintsController.ID='editor.contrib.InlayHints';InlayHintsController._MAX_DECORATORS=1500;InlayHintsController=__decorate([__param(1,languageFeatureDebounce/* ILanguageFeatureDebounceService */.A),__param(2,IInlayHintsCache),__param(3,commands/* ICommandService */.Hy),__param(4,notification/* INotificationService */.lT),__param(5,instantiation/* IInstantiationService */.TG)],InlayHintsController);// Prevents the view from potentially visible whitespace
function fixSpace(str){var noBreakWhitespace='\xa0';return str.replace(/[ \t]/g,noBreakWhitespace);}(0,editorExtensions/* registerEditorContribution */._K)(InlayHintsController.ID,InlayHintsController);commands/* CommandsRegistry.registerCommand */.P0.registerCommand('_executeInlayHintProvider',function(accessor){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key2=1;_key2<_len;_key2++){args[_key2-1]=arguments[_key2];}return inlayHintsController_awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){var uri,range,ref,model,result;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:uri=args[0],range=args[1];(0,types/* assertType */.p_)(common_uri/* URI.isUri */.o.isUri(uri));(0,types/* assertType */.p_)(core_range/* Range.isIRange */.e.isIRange(range));_context4.next=5;return accessor.get(services_resolverService/* ITextModelService */.S).createModelReference(uri);case 5:ref=_context4.sent;_context4.prev=6;_context4.next=9;return InlayHintsFragments.create(ref.object.textEditorModel,[core_range/* Range.lift */.e.lift(range)],cancellation/* CancellationToken.None */.T.None);case 9:model=_context4.sent;result=model.items.map(function(i){return i.hint;});setTimeout(function(){return model.dispose();},0);// dispose after sending to ext host
return _context4.abrupt("return",result);case 13:_context4.prev=13;ref.dispose();return _context4.finish(13);case 16:case"end":return _context4.stop();}}},_callee4,null,[[6,,13,16]]);}));});

/***/ }),

/***/ 96199:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "ActiveGhostTextController": () => (/* binding */ ActiveGhostTextController),
  "GhostTextController": () => (/* binding */ GhostTextController),
  "ShowNextInlineSuggestionAction": () => (/* binding */ ShowNextInlineSuggestionAction),
  "ShowPreviousInlineSuggestionAction": () => (/* binding */ ShowPreviousInlineSuggestionAction),
  "TriggerInlineSuggestionAction": () => (/* binding */ TriggerInlineSuggestionAction),
  "commitInlineSuggestionAction": () => (/* binding */ commitInlineSuggestionAction)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/cursorColumns.js
var cursorColumns = __webpack_require__(44847);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/consts.js
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var inlineSuggestCommitId='editor.action.inlineSuggest.commit';
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/event.js
var common_event = __webpack_require__(36223);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var core_position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/languageConfigurationRegistry.js + 4 modules
var languageConfigurationRegistry = __webpack_require__(71567);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/cancellation.js
var cancellation = __webpack_require__(82643);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/controller/coreCommands.js
var coreCommands = __webpack_require__(91973);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/editOperation.js
var editOperation = __webpack_require__(63332);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/ghostText.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var GhostText=/*#__PURE__*/function(){function GhostText(lineNumber,parts){var additionalReservedLineCount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,GhostText);this.lineNumber=lineNumber;this.parts=parts;this.additionalReservedLineCount=additionalReservedLineCount;}_createClass(GhostText,[{key:"renderForScreenReader",value:function renderForScreenReader(lineText){if(this.parts.length===0){return'';}var lastPart=this.parts[this.parts.length-1];var cappedLineText=lineText.substr(0,lastPart.column-1);var text=applyEdits(cappedLineText,this.parts.map(function(p){return{range:{startLineNumber:1,endLineNumber:1,startColumn:p.column,endColumn:p.column},text:p.lines.join('\n')};}));return text.substring(this.parts[0].column-1);}}]);return GhostText;}();var PositionOffsetTransformer=/*#__PURE__*/function(){function PositionOffsetTransformer(text){_classCallCheck(this,PositionOffsetTransformer);this.lineStartOffsetByLineIdx=[];this.lineStartOffsetByLineIdx.push(0);for(var i=0;i<text.length;i++){if(text.charAt(i)==='\n'){this.lineStartOffsetByLineIdx.push(i+1);}}}_createClass(PositionOffsetTransformer,[{key:"getOffset",value:function getOffset(position){return this.lineStartOffsetByLineIdx[position.lineNumber-1]+position.column-1;}}]);return PositionOffsetTransformer;}();function applyEdits(text,edits){var transformer=new PositionOffsetTransformer(text);var offsetEdits=edits.map(function(e){var range=core_range/* Range.lift */.e.lift(e.range);return{startOffset:transformer.getOffset(range.getStartPosition()),endOffset:transformer.getOffset(range.getEndPosition()),text:e.text};});offsetEdits.sort(function(a,b){return b.startOffset-a.startOffset;});var _iterator=_createForOfIteratorHelper(offsetEdits),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var edit=_step.value;text=text.substring(0,edit.startOffset)+edit.text+text.substring(edit.endOffset);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return text;}var GhostTextPart=function GhostTextPart(column,lines,/**
     * Indicates if this part is a preview of an inline suggestion when a suggestion is previewed.
    */preview){_classCallCheck(this,GhostTextPart);this.column=column;this.lines=lines;this.preview=preview;};var BaseGhostTextWidgetModel=/*#__PURE__*/function(_Disposable){_inherits(BaseGhostTextWidgetModel,_Disposable);var _super=_createSuper(BaseGhostTextWidgetModel);function BaseGhostTextWidgetModel(editor){var _this;_classCallCheck(this,BaseGhostTextWidgetModel);_this=_super.call(this);_this.editor=editor;_this._expanded=undefined;_this.onDidChangeEmitter=new common_event/* Emitter */.Q5();_this.onDidChange=_this.onDidChangeEmitter.event;_this._register(editor.onDidChangeConfiguration(function(e){if(e.hasChanged(106/* suggest */)&&_this._expanded===undefined){_this.onDidChangeEmitter.fire();}}));return _this;}_createClass(BaseGhostTextWidgetModel,[{key:"setExpanded",value:function setExpanded(expanded){this._expanded=true;this.onDidChangeEmitter.fire();}}]);return BaseGhostTextWidgetModel;}(lifecycle/* Disposable */.JT);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/diff/diff.js + 1 modules
var diff = __webpack_require__(94657);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText.js
function inlineCompletionToGhostText_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=inlineCompletionToGhostText_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function inlineCompletionToGhostText_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return inlineCompletionToGhostText_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return inlineCompletionToGhostText_arrayLikeToArray(o,minLen);}function inlineCompletionToGhostText_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function normalizedInlineCompletionsEquals(a,b){if(a===b){return true;}if(!a||!b){return false;}return a.range.equalsRange(b.range)&&a.text===b.text&&a.command===b.command;}/**
 * @param previewSuffixLength Sets where to split `inlineCompletion.text`.
 * 	If the text is `hello` and the suffix length is 2, the non-preview part is `hel` and the preview-part is `lo`.
*/function inlineCompletionToGhostText(inlineCompletion,textModel,mode,cursorPosition){var previewSuffixLength=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;if(inlineCompletion.range.startLineNumber!==inlineCompletion.range.endLineNumber){// Only single line replacements are supported.
return undefined;}var sourceLine=textModel.getLineContent(inlineCompletion.range.startLineNumber);var sourceIndentationLength=strings/* getLeadingWhitespace */.V8(sourceLine).length;var suggestionTouchesIndentation=inlineCompletion.range.startColumn-1<=sourceIndentationLength;if(suggestionTouchesIndentation){// source:      [abc]
//                         ^^^^^^^^^ inlineCompletion.range
//              ^^^^^^^^^^ ^^^^^^ sourceIndentationLength
//                         ^^^^^^ replacedIndentation.length
//                               ^^^ rangeThatDoesNotReplaceIndentation
// inlineCompletion.text: 'foo'
//                         ^^ suggestionAddedIndentationLength
var suggestionAddedIndentationLength=strings/* getLeadingWhitespace */.V8(inlineCompletion.text).length;var replacedIndentation=sourceLine.substring(inlineCompletion.range.startColumn-1,sourceIndentationLength);var rangeThatDoesNotReplaceIndentation=core_range/* Range.fromPositions */.e.fromPositions(inlineCompletion.range.getStartPosition().delta(0,replacedIndentation.length),inlineCompletion.range.getEndPosition());var suggestionWithoutIndentationChange=inlineCompletion.text.startsWith(replacedIndentation)// Adds more indentation without changing existing indentation: We can add ghost text for this
?inlineCompletion.text.substring(replacedIndentation.length)// Changes or removes existing indentation. Only add ghost text for the non-indentation part.
:inlineCompletion.text.substring(suggestionAddedIndentationLength);inlineCompletion={range:rangeThatDoesNotReplaceIndentation,text:suggestionWithoutIndentationChange,command:inlineCompletion.command};}// This is a single line string
var valueToBeReplaced=textModel.getValueInRange(inlineCompletion.range);var changes=cachingDiff(valueToBeReplaced,inlineCompletion.text);if(!changes){// No ghost text in case the diff would be too slow to compute
return undefined;}var lineNumber=inlineCompletion.range.startLineNumber;var parts=new Array();if(mode==='prefix'){var filteredChanges=changes.filter(function(c){return c.originalLength===0;});if(filteredChanges.length>1||filteredChanges.length===1&&filteredChanges[0].originalStart!==valueToBeReplaced.length){// Prefixes only have a single change.
return undefined;}}var previewStartInCompletionText=inlineCompletion.text.length-previewSuffixLength;var _iterator=inlineCompletionToGhostText_createForOfIteratorHelper(changes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;var insertColumn=inlineCompletion.range.startColumn+c.originalStart+c.originalLength;if(mode==='subwordSmart'&&cursorPosition&&cursorPosition.lineNumber===inlineCompletion.range.startLineNumber&&insertColumn<cursorPosition.column){// No ghost text before cursor
return undefined;}if(c.originalLength>0){return undefined;}if(c.modifiedLength===0){continue;}var modifiedEnd=c.modifiedStart+c.modifiedLength;var nonPreviewTextEnd=Math.max(c.modifiedStart,Math.min(modifiedEnd,previewStartInCompletionText));var nonPreviewText=inlineCompletion.text.substring(c.modifiedStart,nonPreviewTextEnd);var italicText=inlineCompletion.text.substring(nonPreviewTextEnd,Math.max(c.modifiedStart,modifiedEnd));if(nonPreviewText.length>0){var lines=strings/* splitLines */.uq(nonPreviewText);parts.push(new GhostTextPart(insertColumn,lines,false));}if(italicText.length>0){var _lines=strings/* splitLines */.uq(italicText);parts.push(new GhostTextPart(insertColumn,_lines,true));}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return new GhostText(lineNumber,parts,0);}var lastRequest=undefined;function cachingDiff(originalValue,newValue){if((lastRequest===null||lastRequest===void 0?void 0:lastRequest.originalValue)===originalValue&&(lastRequest===null||lastRequest===void 0?void 0:lastRequest.newValue)===newValue){return lastRequest===null||lastRequest===void 0?void 0:lastRequest.changes;}else{var changes=smartDiff(originalValue,newValue);lastRequest={originalValue:originalValue,newValue:newValue,changes:changes};return changes;}}/**
 * When matching `if ()` with `if (f() = 1) { g(); }`,
 * align it like this:        `if (       )`
 * Not like this:			  `if (  )`
 * Also not like this:		  `if (             )`.
 *
 * The parenthesis are preprocessed to ensure that they match correctly.
 */function smartDiff(originalValue,newValue){if(originalValue.length>5000||newValue.length>5000){// We don't want to work on strings that are too big
return undefined;}function getMaxCharCode(val){var maxCharCode=0;for(var i=0,len=val.length;i<len;i++){var charCode=val.charCodeAt(i);if(charCode>maxCharCode){maxCharCode=charCode;}}return maxCharCode;}var maxCharCode=Math.max(getMaxCharCode(originalValue),getMaxCharCode(newValue));function getUniqueCharCode(id){if(id<0){throw new Error('unexpected');}return maxCharCode+id+1;}function getElements(source){var level=0;var group=0;var characters=new Int32Array(source.length);for(var i=0,len=source.length;i<len;i++){var id=group*100+level;// TODO support more brackets
if(source[i]==='('){characters[i]=getUniqueCharCode(2*id);level++;}else if(source[i]===')'){characters[i]=getUniqueCharCode(2*id+1);if(level===1){group++;}level=Math.max(level-1,0);}else{characters[i]=source.charCodeAt(i);}}return characters;}var elements1=getElements(originalValue);var elements2=getElements(newValue);return new diff/* LcsDiff */.Hs({getElements:function getElements(){return elements1;}},{getElements:function getElements(){return elements2;}}).ComputeDiff(false).changes;}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/fixBrackets.js
var fixBrackets = __webpack_require__(28330);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel.js
function inlineCompletionsModel_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=inlineCompletionsModel_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||inlineCompletionsModel_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function inlineCompletionsModel_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return inlineCompletionsModel_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return inlineCompletionsModel_arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return inlineCompletionsModel_arrayLikeToArray(arr);}function inlineCompletionsModel_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function inlineCompletionsModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function inlineCompletionsModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function inlineCompletionsModel_createClass(Constructor,protoProps,staticProps){if(protoProps)inlineCompletionsModel_defineProperties(Constructor.prototype,protoProps);if(staticProps)inlineCompletionsModel_defineProperties(Constructor,staticProps);return Constructor;}function inlineCompletionsModel_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)inlineCompletionsModel_setPrototypeOf(subClass,superClass);}function inlineCompletionsModel_setPrototypeOf(o,p){inlineCompletionsModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return inlineCompletionsModel_setPrototypeOf(o,p);}function inlineCompletionsModel_createSuper(Derived){var hasNativeReflectConstruct=inlineCompletionsModel_isNativeReflectConstruct();return function _createSuperInternal(){var Super=inlineCompletionsModel_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=inlineCompletionsModel_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return inlineCompletionsModel_possibleConstructorReturn(this,result);};}function inlineCompletionsModel_possibleConstructorReturn(self,call){if(call&&(inlineCompletionsModel_typeof(call)==="object"||typeof call==="function")){return call;}return inlineCompletionsModel_assertThisInitialized(self);}function inlineCompletionsModel_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function inlineCompletionsModel_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function inlineCompletionsModel_getPrototypeOf(o){inlineCompletionsModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return inlineCompletionsModel_getPrototypeOf(o);}function inlineCompletionsModel_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){inlineCompletionsModel_typeof=function _typeof(obj){return typeof obj;};}else{inlineCompletionsModel_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return inlineCompletionsModel_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":inlineCompletionsModel_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var InlineCompletionsModel=/*#__PURE__*/function(_Disposable){inlineCompletionsModel_inherits(InlineCompletionsModel,_Disposable);var _super=inlineCompletionsModel_createSuper(InlineCompletionsModel);function InlineCompletionsModel(editor,cache,commandService,languageConfigurationService){var _this;inlineCompletionsModel_classCallCheck(this,InlineCompletionsModel);_this=_super.call(this);_this.editor=editor;_this.cache=cache;_this.commandService=commandService;_this.languageConfigurationService=languageConfigurationService;_this.onDidChangeEmitter=new common_event/* Emitter */.Q5();_this.onDidChange=_this.onDidChangeEmitter.event;_this.completionSession=_this._register(new lifecycle/* MutableDisposable */.XK());_this.active=false;_this.disposed=false;_this._register(commandService.onDidExecuteCommand(function(e){// These commands don't trigger onDidType.
var commands=new Set([coreCommands.CoreEditingCommands.Tab.id,coreCommands.CoreEditingCommands.DeleteLeft.id,coreCommands.CoreEditingCommands.DeleteRight.id,inlineSuggestCommitId,'acceptSelectedSuggestion']);if(commands.has(e.commandId)&&editor.hasTextFocus()){_this.handleUserInput();}}));_this._register(_this.editor.onDidType(function(e){_this.handleUserInput();}));_this._register(_this.editor.onDidChangeCursorPosition(function(e){if(_this.session&&!_this.session.isValid){_this.hide();}}));_this._register((0,lifecycle/* toDisposable */.OF)(function(){_this.disposed=true;}));_this._register(_this.editor.onDidBlurEditorWidget(function(){_this.hide();}));return _this;}inlineCompletionsModel_createClass(InlineCompletionsModel,[{key:"handleUserInput",value:function handleUserInput(){var _this2=this;if(this.session&&!this.session.isValid){this.hide();}setTimeout(function(){if(_this2.disposed){return;}// Wait for the cursor update that happens in the same iteration loop iteration
_this2.startSessionIfTriggered();},0);}},{key:"session",get:function get(){return this.completionSession.value;}},{key:"ghostText",get:function get(){var _a;return(_a=this.session)===null||_a===void 0?void 0:_a.ghostText;}},{key:"minReservedLineCount",get:function get(){return this.session?this.session.minReservedLineCount:0;}},{key:"setExpanded",value:function setExpanded(expanded){var _a;(_a=this.session)===null||_a===void 0?void 0:_a.setExpanded(expanded);}},{key:"setActive",value:function setActive(active){var _a;this.active=active;if(active){(_a=this.session)===null||_a===void 0?void 0:_a.scheduleAutomaticUpdate();}}},{key:"startSessionIfTriggered",value:function startSessionIfTriggered(){var suggestOptions=this.editor.getOption(55/* inlineSuggest */);if(!suggestOptions.enabled){return;}if(this.session&&this.session.isValid){return;}this.trigger(languages/* InlineCompletionTriggerKind.Automatic */.bw.Automatic);}},{key:"trigger",value:function trigger(triggerKind){var _this3=this;if(this.completionSession.value){if(triggerKind===languages/* InlineCompletionTriggerKind.Explicit */.bw.Explicit){void this.completionSession.value.ensureUpdateWithExplicitContext();}return;}this.completionSession.value=new InlineCompletionsSession(this.editor,this.editor.getPosition(),function(){return _this3.active;},this.commandService,this.cache,triggerKind,this.languageConfigurationService);this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(function(){_this3.onDidChangeEmitter.fire();}));}},{key:"hide",value:function hide(){this.completionSession.clear();this.onDidChangeEmitter.fire();}},{key:"commitCurrentSuggestion",value:function commitCurrentSuggestion(){var _a;// Don't dispose the session, so that after committing, more suggestions are shown.
(_a=this.session)===null||_a===void 0?void 0:_a.commitCurrentCompletion();}},{key:"showNext",value:function showNext(){var _a;(_a=this.session)===null||_a===void 0?void 0:_a.showNextInlineCompletion();}},{key:"showPrevious",value:function showPrevious(){var _a;(_a=this.session)===null||_a===void 0?void 0:_a.showPreviousInlineCompletion();}},{key:"hasMultipleInlineCompletions",value:function hasMultipleInlineCompletions(){var _a;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var result;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(_a=this.session)===null||_a===void 0?void 0:_a.hasMultipleInlineCompletions();case 2:result=_context.sent;return _context.abrupt("return",result!==undefined?result:false);case 4:case"end":return _context.stop();}}},_callee,this);}));}}]);return InlineCompletionsModel;}(lifecycle/* Disposable */.JT);InlineCompletionsModel=__decorate([__param(2,commands/* ICommandService */.Hy),__param(3,languageConfigurationRegistry/* ILanguageConfigurationService */.c_)],InlineCompletionsModel);var InlineCompletionsSession=/*#__PURE__*/function(_BaseGhostTextWidgetM){inlineCompletionsModel_inherits(InlineCompletionsSession,_BaseGhostTextWidgetM);var _super2=inlineCompletionsModel_createSuper(InlineCompletionsSession);function InlineCompletionsSession(editor,triggerPosition,shouldUpdate,commandService,cache,initialTriggerKind,languageConfigurationService){var _this4;inlineCompletionsModel_classCallCheck(this,InlineCompletionsSession);_this4=_super2.call(this,editor);_this4.triggerPosition=triggerPosition;_this4.shouldUpdate=shouldUpdate;_this4.commandService=commandService;_this4.cache=cache;_this4.initialTriggerKind=initialTriggerKind;_this4.languageConfigurationService=languageConfigurationService;_this4.minReservedLineCount=0;_this4.updateOperation=_this4._register(new lifecycle/* MutableDisposable */.XK());_this4.updateSoon=_this4._register(new common_async/* RunOnceScheduler */.pY(function(){var triggerKind=_this4.initialTriggerKind;// All subsequent triggers are automatic.
_this4.initialTriggerKind=languages/* InlineCompletionTriggerKind.Automatic */.bw.Automatic;return _this4.update(triggerKind);},50));//#region Selection
// We use a semantic id to track the selection even if the cache changes.
_this4.currentlySelectedCompletionId=undefined;var lastCompletionItem=undefined;_this4._register(_this4.onDidChange(function(){var currentCompletion=_this4.currentCompletion;if(currentCompletion&&currentCompletion.sourceInlineCompletion!==lastCompletionItem){lastCompletionItem=currentCompletion.sourceInlineCompletion;var provider=currentCompletion.sourceProvider;if(provider.handleItemDidShow){provider.handleItemDidShow(currentCompletion.sourceInlineCompletions,lastCompletionItem);}}}));_this4._register((0,lifecycle/* toDisposable */.OF)(function(){_this4.cache.clear();}));_this4._register(_this4.editor.onDidChangeCursorPosition(function(e){if(_this4.cache.value){_this4.onDidChangeEmitter.fire();}}));_this4._register(_this4.editor.onDidChangeModelContent(function(e){_this4.scheduleAutomaticUpdate();}));_this4._register(languages/* InlineCompletionsProviderRegistry.onDidChange */.zu.onDidChange(function(){_this4.updateSoon.schedule();}));_this4.scheduleAutomaticUpdate();return _this4;}inlineCompletionsModel_createClass(InlineCompletionsSession,[{key:"fixAndGetIndexOfCurrentSelection",value:function fixAndGetIndexOfCurrentSelection(){var _this5=this;if(!this.currentlySelectedCompletionId||!this.cache.value){return 0;}if(this.cache.value.completions.length===0){// don't reset the selection in this case
return 0;}var idx=this.cache.value.completions.findIndex(function(v){return v.semanticId===_this5.currentlySelectedCompletionId;});if(idx===-1){// Reset the selection so that the selection does not jump back when it appears again
this.currentlySelectedCompletionId=undefined;return 0;}return idx;}},{key:"currentCachedCompletion",get:function get(){if(!this.cache.value){return undefined;}return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()];}},{key:"showNextInlineCompletion",value:function showNextInlineCompletion(){var _a;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var completions,newIdx;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.ensureUpdateWithExplicitContext();case 2:completions=((_a=this.cache.value)===null||_a===void 0?void 0:_a.completions)||[];if(completions.length>0){newIdx=(this.fixAndGetIndexOfCurrentSelection()+1)%completions.length;this.currentlySelectedCompletionId=completions[newIdx].semanticId;}else{this.currentlySelectedCompletionId=undefined;}this.onDidChangeEmitter.fire();case 5:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"showPreviousInlineCompletion",value:function showPreviousInlineCompletion(){var _a;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var completions,newIdx;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.ensureUpdateWithExplicitContext();case 2:completions=((_a=this.cache.value)===null||_a===void 0?void 0:_a.completions)||[];if(completions.length>0){newIdx=(this.fixAndGetIndexOfCurrentSelection()+completions.length-1)%completions.length;this.currentlySelectedCompletionId=completions[newIdx].semanticId;}else{this.currentlySelectedCompletionId=undefined;}this.onDidChangeEmitter.fire();case 5:case"end":return _context3.stop();}}},_callee3,this);}));}},{key:"ensureUpdateWithExplicitContext",value:function ensureUpdateWithExplicitContext(){var _a;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!this.updateOperation.value){_context4.next=10;break;}if(!(this.updateOperation.value.triggerKind===languages/* InlineCompletionTriggerKind.Explicit */.bw.Explicit)){_context4.next=6;break;}_context4.next=4;return this.updateOperation.value.promise;case 4:_context4.next=8;break;case 6:_context4.next=8;return this.update(languages/* InlineCompletionTriggerKind.Explicit */.bw.Explicit);case 8:_context4.next=13;break;case 10:if(!(((_a=this.cache.value)===null||_a===void 0?void 0:_a.triggerKind)!==languages/* InlineCompletionTriggerKind.Explicit */.bw.Explicit)){_context4.next=13;break;}_context4.next=13;return this.update(languages/* InlineCompletionTriggerKind.Explicit */.bw.Explicit);case 13:case"end":return _context4.stop();}}},_callee4,this);}));}},{key:"hasMultipleInlineCompletions",value:function hasMultipleInlineCompletions(){var _a;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee5(){return regenerator_default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.ensureUpdateWithExplicitContext();case 2:return _context5.abrupt("return",(((_a=this.cache.value)===null||_a===void 0?void 0:_a.completions.length)||0)>1);case 3:case"end":return _context5.stop();}}},_callee5,this);}));}//#endregion
},{key:"ghostText",get:function get(){var currentCompletion=this.currentCompletion;var mode=this.editor.getOptions().get(55/* inlineSuggest */).mode;return currentCompletion?inlineCompletionToGhostText(currentCompletion,this.editor.getModel(),mode,this.editor.getPosition()):undefined;}},{key:"currentCompletion",get:function get(){var completion=this.currentCachedCompletion;if(!completion){return undefined;}return completion.toLiveInlineCompletion();}},{key:"isValid",get:function get(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber;}},{key:"scheduleAutomaticUpdate",value:function scheduleAutomaticUpdate(){// Since updateSoon debounces, starvation can happen.
// To prevent stale cache, we clear the current update operation.
this.updateOperation.clear();this.updateSoon.schedule();}},{key:"update",value:function update(triggerKind){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee7(){var _this6=this;var position,promise,operation;return regenerator_default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(this.shouldUpdate()){_context7.next=2;break;}return _context7.abrupt("return");case 2:position=this.editor.getPosition();promise=(0,common_async/* createCancelablePromise */.PG)(function(token){return __awaiter(_this6,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee6(){var result;return regenerator_default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return provideInlineCompletions(position,this.editor.getModel(),{triggerKind:triggerKind,selectedSuggestionInfo:undefined},token,this.languageConfigurationService);case 3:result=_context6.sent;_context6.next=10;break;case 6:_context6.prev=6;_context6.t0=_context6["catch"](0);(0,errors/* onUnexpectedError */.dL)(_context6.t0);return _context6.abrupt("return");case 10:if(!token.isCancellationRequested){_context6.next=12;break;}return _context6.abrupt("return");case 12:this.cache.setValue(this.editor,result,triggerKind);this.onDidChangeEmitter.fire();case 14:case"end":return _context6.stop();}}},_callee6,this,[[0,6]]);}));});operation=new UpdateOperation(promise,triggerKind);this.updateOperation.value=operation;_context7.next=8;return promise;case 8:if(this.updateOperation.value===operation){this.updateOperation.clear();}case 9:case"end":return _context7.stop();}}},_callee7,this);}));}},{key:"takeOwnership",value:function takeOwnership(disposable){this._register(disposable);}},{key:"commitCurrentCompletion",value:function commitCurrentCompletion(){if(!this.ghostText){// No ghost text was shown for this completion.
// Thus, we don't want to commit anything.
return;}var completion=this.currentCompletion;if(completion){this.commit(completion);}}},{key:"commit",value:function commit(completion){// Mark the cache as stale, but don't dispose it yet,
// otherwise command args might get disposed.
var cache=this.cache.clearAndLeak();this.editor.executeEdits('inlineSuggestion.accept',[editOperation/* EditOperation.replaceMove */.h.replaceMove(completion.range,completion.text)]);if(completion.command){var _this$commandService;(_this$commandService=this.commandService).executeCommand.apply(_this$commandService,[completion.command.id].concat(_toConsumableArray(completion.command.arguments||[]))).finally(function(){cache===null||cache===void 0?void 0:cache.dispose();}).then(undefined,errors/* onUnexpectedExternalError */.Cp);}else{cache===null||cache===void 0?void 0:cache.dispose();}this.onDidChangeEmitter.fire();}}]);return InlineCompletionsSession;}(BaseGhostTextWidgetModel);var UpdateOperation=/*#__PURE__*/function(){function UpdateOperation(promise,triggerKind){inlineCompletionsModel_classCallCheck(this,UpdateOperation);this.promise=promise;this.triggerKind=triggerKind;}inlineCompletionsModel_createClass(UpdateOperation,[{key:"dispose",value:function dispose(){this.promise.cancel();}}]);return UpdateOperation;}();/**
 * The cache keeps itself in sync with the editor.
 * It also owns the completions result and disposes it when the cache is diposed.
*/var SynchronizedInlineCompletionsCache=/*#__PURE__*/function(_Disposable2){inlineCompletionsModel_inherits(SynchronizedInlineCompletionsCache,_Disposable2);var _super3=inlineCompletionsModel_createSuper(SynchronizedInlineCompletionsCache);function SynchronizedInlineCompletionsCache(editor,completionsSource,onChange,triggerKind){var _this7;inlineCompletionsModel_classCallCheck(this,SynchronizedInlineCompletionsCache);_this7=_super3.call(this);_this7.triggerKind=triggerKind;var decorationIds=editor.deltaDecorations([],completionsSource.items.map(function(i){return{range:i.range,options:{description:'inline-completion-tracking-range'}};}));_this7._register((0,lifecycle/* toDisposable */.OF)(function(){editor.deltaDecorations(decorationIds,[]);}));_this7.completions=completionsSource.items.map(function(c,idx){return new CachedInlineCompletion(c,decorationIds[idx]);});_this7._register(editor.onDidChangeModelContent(function(){var hasChanged=false;var model=editor.getModel();var _iterator=inlineCompletionsModel_createForOfIteratorHelper(_this7.completions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;var newRange=model.getDecorationRange(c.decorationId);if(!newRange){(0,errors/* onUnexpectedError */.dL)(new Error('Decoration has no range'));continue;}if(!c.synchronizedRange.equalsRange(newRange)){hasChanged=true;c.synchronizedRange=newRange;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(hasChanged){onChange();}}));_this7._register(completionsSource);return _this7;}return SynchronizedInlineCompletionsCache;}(lifecycle/* Disposable */.JT);var CachedInlineCompletion=/*#__PURE__*/function(){function CachedInlineCompletion(inlineCompletion,decorationId){inlineCompletionsModel_classCallCheck(this,CachedInlineCompletion);this.inlineCompletion=inlineCompletion;this.decorationId=decorationId;this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command});this.synchronizedRange=inlineCompletion.range;}inlineCompletionsModel_createClass(CachedInlineCompletion,[{key:"toLiveInlineCompletion",value:function toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion};}}]);return CachedInlineCompletion;}();function getDefaultRange(position,model){var word=model.getWordAtPosition(position);var maxColumn=model.getLineMaxColumn(position.lineNumber);// By default, always replace up until the end of the current line.
// This default might be subject to change!
return word?new core_range/* Range */.e(position.lineNumber,word.startColumn,position.lineNumber,maxColumn):core_range/* Range.fromPositions */.e.fromPositions(position,position.with(undefined,maxColumn));}function provideInlineCompletions(position,model,context){var token=arguments.length>3&&arguments[3]!==undefined?arguments[3]:cancellation/* CancellationToken.None */.T.None;var languageConfigurationService=arguments.length>4?arguments[4]:undefined;return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee9(){var _this8=this;var defaultReplaceRange,providers,results,itemsByHash,_iterator2,_step2,result,completions,_iterator4,_step4,item,range,text,trackedItem;return regenerator_default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:defaultReplaceRange=getDefaultRange(position,model);providers=languages/* InlineCompletionsProviderRegistry.all */.zu.all(model);_context9.next=4;return Promise.all(providers.map(function(provider){return __awaiter(_this8,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee8(){var completions;return regenerator_default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return provider.provideInlineCompletions(model,position,context,token);case 2:completions=_context8.sent;return _context8.abrupt("return",{completions:completions,provider:provider,dispose:function dispose(){if(completions){provider.freeInlineCompletions(completions);}}});case 4:case"end":return _context8.stop();}}},_callee8);}));}));case 4:results=_context9.sent;itemsByHash=new Map();_iterator2=inlineCompletionsModel_createForOfIteratorHelper(results);_context9.prev=7;_iterator2.s();case 9:if((_step2=_iterator2.n()).done){_context9.next=36;break;}result=_step2.value;completions=result.completions;if(!completions){_context9.next=34;break;}_iterator4=inlineCompletionsModel_createForOfIteratorHelper(completions.items);_context9.prev=14;_iterator4.s();case 16:if((_step4=_iterator4.n()).done){_context9.next=26;break;}item=_step4.value;range=item.range?core_range/* Range.lift */.e.lift(item.range):defaultReplaceRange;if(!(range.startLineNumber!==range.endLineNumber)){_context9.next=21;break;}return _context9.abrupt("continue",24);case 21:text=languageConfigurationService&&item.completeBracketPairs?closeBrackets(item.text,range.getStartPosition(),model,languageConfigurationService):item.text;trackedItem={text:text,range:range,command:item.command,sourceProvider:result.provider,sourceInlineCompletions:completions,sourceInlineCompletion:item};itemsByHash.set(JSON.stringify({text:text,range:item.range}),trackedItem);case 24:_context9.next=16;break;case 26:_context9.next=31;break;case 28:_context9.prev=28;_context9.t0=_context9["catch"](14);_iterator4.e(_context9.t0);case 31:_context9.prev=31;_iterator4.f();return _context9.finish(31);case 34:_context9.next=9;break;case 36:_context9.next=41;break;case 38:_context9.prev=38;_context9.t1=_context9["catch"](7);_iterator2.e(_context9.t1);case 41:_context9.prev=41;_iterator2.f();return _context9.finish(41);case 44:return _context9.abrupt("return",{items:_toConsumableArray(itemsByHash.values()),dispose:function dispose(){var _iterator3=inlineCompletionsModel_createForOfIteratorHelper(results),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var result=_step3.value;result.dispose();}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}});case 45:case"end":return _context9.stop();}}},_callee9,null,[[7,38,41,44],[14,28,31,34]]);}));}function closeBrackets(text,position,model,languageConfigurationService){var lineStart=model.getLineContent(position.lineNumber).substring(0,position.column-1);var newLine=lineStart+text;var newTokens=model.tokenizeLineWithEdit(position,newLine.length-(position.column-1),text);var slicedTokens=newTokens===null||newTokens===void 0?void 0:newTokens.sliceAndInflate(position.column-1,newLine.length,0);if(!slicedTokens){return text;}console.log(slicedTokens);var newText=(0,fixBrackets/* fixBracketsInLine */.r)(slicedTokens,languageConfigurationService);return newText;}function minimizeInlineCompletion(model,inlineCompletion){if(!inlineCompletion){return inlineCompletion;}var valueToReplace=model.getValueInRange(inlineCompletion.range);var commonPrefixLen=(0,strings/* commonPrefixLength */.Mh)(valueToReplace,inlineCompletion.text);var startOffset=model.getOffsetAt(inlineCompletion.range.getStartPosition())+commonPrefixLen;var start=model.getPositionAt(startOffset);var remainingValueToReplace=valueToReplace.substr(commonPrefixLen);var commonSuffixLen=(0,strings/* commonSuffixLength */.P1)(remainingValueToReplace,inlineCompletion.text);var end=model.getPositionAt(Math.max(startOffset,model.getOffsetAt(inlineCompletion.range.getEndPosition())-commonSuffixLen));return{range:core_range/* Range.fromPositions */.e.fromPositions(start,end),text:inlineCompletion.text.substr(commonPrefixLen,inlineCompletion.text.length-commonPrefixLen-commonSuffixLen)};}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/browser/snippetParser.js
var snippetParser = __webpack_require__(10754);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/snippet/browser/snippetSession.js + 1 modules
var snippetSession = __webpack_require__(13818);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestController.js + 13 modules
var browser_suggestController = __webpack_require__(69528);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider.js
function suggestWidgetInlineCompletionProvider_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){suggestWidgetInlineCompletionProvider_typeof=function _typeof(obj){return typeof obj;};}else{suggestWidgetInlineCompletionProvider_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return suggestWidgetInlineCompletionProvider_typeof(obj);}function suggestWidgetInlineCompletionProvider_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function suggestWidgetInlineCompletionProvider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function suggestWidgetInlineCompletionProvider_createClass(Constructor,protoProps,staticProps){if(protoProps)suggestWidgetInlineCompletionProvider_defineProperties(Constructor.prototype,protoProps);if(staticProps)suggestWidgetInlineCompletionProvider_defineProperties(Constructor,staticProps);return Constructor;}function suggestWidgetInlineCompletionProvider_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)suggestWidgetInlineCompletionProvider_setPrototypeOf(subClass,superClass);}function suggestWidgetInlineCompletionProvider_setPrototypeOf(o,p){suggestWidgetInlineCompletionProvider_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return suggestWidgetInlineCompletionProvider_setPrototypeOf(o,p);}function suggestWidgetInlineCompletionProvider_createSuper(Derived){var hasNativeReflectConstruct=suggestWidgetInlineCompletionProvider_isNativeReflectConstruct();return function _createSuperInternal(){var Super=suggestWidgetInlineCompletionProvider_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=suggestWidgetInlineCompletionProvider_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return suggestWidgetInlineCompletionProvider_possibleConstructorReturn(this,result);};}function suggestWidgetInlineCompletionProvider_possibleConstructorReturn(self,call){if(call&&(suggestWidgetInlineCompletionProvider_typeof(call)==="object"||typeof call==="function")){return call;}return suggestWidgetInlineCompletionProvider_assertThisInitialized(self);}function suggestWidgetInlineCompletionProvider_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function suggestWidgetInlineCompletionProvider_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function suggestWidgetInlineCompletionProvider_getPrototypeOf(o){suggestWidgetInlineCompletionProvider_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return suggestWidgetInlineCompletionProvider_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var SuggestWidgetInlineCompletionProvider=/*#__PURE__*/function(_Disposable){suggestWidgetInlineCompletionProvider_inherits(SuggestWidgetInlineCompletionProvider,_Disposable);var _super=suggestWidgetInlineCompletionProvider_createSuper(SuggestWidgetInlineCompletionProvider);function SuggestWidgetInlineCompletionProvider(editor,suggestControllerPreselector){var _this;suggestWidgetInlineCompletionProvider_classCallCheck(this,SuggestWidgetInlineCompletionProvider);_this=_super.call(this);_this.editor=editor;_this.suggestControllerPreselector=suggestControllerPreselector;_this.isSuggestWidgetVisible=false;_this.isShiftKeyPressed=false;_this._isActive=false;_this._currentSuggestItemInfo=undefined;_this.onDidChangeEmitter=new common_event/* Emitter */.Q5();_this.onDidChange=_this.onDidChangeEmitter.event;// This delay fixes a suggest widget issue when typing "." immediately restarts the suggestion session.
_this.setInactiveDelayed=_this._register(new common_async/* RunOnceScheduler */.pY(function(){if(!_this.isSuggestWidgetVisible){if(_this._isActive){_this._isActive=false;_this.onDidChangeEmitter.fire();}}},100));// See the command acceptAlternativeSelectedSuggestion that is bound to shift+tab
_this._register(editor.onKeyDown(function(e){if(e.shiftKey&&!_this.isShiftKeyPressed){_this.isShiftKeyPressed=true;_this.update(_this._isActive);}}));_this._register(editor.onKeyUp(function(e){if(e.shiftKey&&_this.isShiftKeyPressed){_this.isShiftKeyPressed=false;_this.update(_this._isActive);}}));var suggestController=browser_suggestController.SuggestController.get(_this.editor);if(suggestController){_this._register(suggestController.registerSelector({priority:100,select:function select(model,pos,suggestItems){var textModel=_this.editor.getModel();var normalizedItemToPreselect=minimizeInlineCompletion(textModel,_this.suggestControllerPreselector());if(!normalizedItemToPreselect){return-1;}var position=core_position/* Position.lift */.L.lift(pos);var candidates=suggestItems.map(function(suggestItem,index){var inlineSuggestItem=suggestionToSuggestItemInfo(suggestController,position,suggestItem,_this.isShiftKeyPressed);var normalizedSuggestItem=minimizeInlineCompletion(textModel,inlineSuggestItem===null||inlineSuggestItem===void 0?void 0:inlineSuggestItem.normalizedInlineCompletion);if(!normalizedSuggestItem){return undefined;}var valid=rangeStartsWith(normalizedItemToPreselect.range,normalizedSuggestItem.range)&&normalizedItemToPreselect.text.startsWith(normalizedSuggestItem.text);return{index:index,valid:valid,prefixLength:normalizedSuggestItem.text.length,suggestItem:suggestItem};}).filter(function(item){return item&&item.valid;});var result=(0,arrays/* findMaxBy */.Dc)(candidates,(0,arrays/* compareBy */.tT)(function(s){return s.prefixLength;},arrays/* numberComparator */.fv));return result?result.index:-1;}}));var isBoundToSuggestWidget=false;var bindToSuggestWidget=function bindToSuggestWidget(){if(isBoundToSuggestWidget){return;}isBoundToSuggestWidget=true;_this._register(suggestController.widget.value.onDidShow(function(){_this.isSuggestWidgetVisible=true;_this.update(true);}));_this._register(suggestController.widget.value.onDidHide(function(){_this.isSuggestWidgetVisible=false;_this.setInactiveDelayed.schedule();_this.update(_this._isActive);}));_this._register(suggestController.widget.value.onDidFocus(function(){_this.isSuggestWidgetVisible=true;_this.update(true);}));};_this._register(common_event/* Event.once */.ju.once(suggestController.model.onDidTrigger)(function(e){bindToSuggestWidget();}));}_this.update(_this._isActive);return _this;}/**
     * Returns undefined if the suggest widget is not active.
    */suggestWidgetInlineCompletionProvider_createClass(SuggestWidgetInlineCompletionProvider,[{key:"state",get:function get(){if(!this._isActive){return undefined;}return{selectedItem:this._currentSuggestItemInfo};}},{key:"update",value:function update(newActive){var newInlineCompletion=this.getSuggestItemInfo();var shouldFire=false;if(!suggestItemInfoEquals(this._currentSuggestItemInfo,newInlineCompletion)){this._currentSuggestItemInfo=newInlineCompletion;shouldFire=true;}if(this._isActive!==newActive){this._isActive=newActive;shouldFire=true;}if(shouldFire){this.onDidChangeEmitter.fire();}}},{key:"getSuggestItemInfo",value:function getSuggestItemInfo(){var suggestController=browser_suggestController.SuggestController.get(this.editor);if(!suggestController){return undefined;}if(!this.isSuggestWidgetVisible){return undefined;}var focusedItem=suggestController.widget.value.getFocusedItem();if(!focusedItem){return undefined;}// TODO: item.isResolved
return suggestionToSuggestItemInfo(suggestController,this.editor.getPosition(),focusedItem.item,this.isShiftKeyPressed);}},{key:"stopForceRenderingAbove",value:function stopForceRenderingAbove(){var suggestController=browser_suggestController.SuggestController.get(this.editor);if(suggestController){suggestController.stopForceRenderingAbove();}}},{key:"forceRenderingAbove",value:function forceRenderingAbove(){var suggestController=browser_suggestController.SuggestController.get(this.editor);if(suggestController){suggestController.forceRenderingAbove();}}}]);return SuggestWidgetInlineCompletionProvider;}(lifecycle/* Disposable */.JT);function rangeStartsWith(rangeToTest,prefix){return prefix.startLineNumber===rangeToTest.startLineNumber&&prefix.startColumn===rangeToTest.startColumn&&(prefix.endLineNumber<rangeToTest.endLineNumber||prefix.endLineNumber===rangeToTest.endLineNumber&&prefix.endColumn<=rangeToTest.endColumn);}function suggestItemInfoEquals(a,b){if(a===b){return true;}if(!a||!b){return false;}return a.completionItemKind===b.completionItemKind&&a.isSnippetText===b.isSnippetText&&normalizedInlineCompletionsEquals(a.normalizedInlineCompletion,b.normalizedInlineCompletion);}function suggestionToSuggestItemInfo(suggestController,position,item,toggleMode){// additionalTextEdits might not be resolved here, this could be problematic.
if(Array.isArray(item.completion.additionalTextEdits)&&item.completion.additionalTextEdits.length>0){// cannot represent additional text edits
return{completionItemKind:item.completion.kind,isSnippetText:false,normalizedInlineCompletion:{// Dummy element, so that space is reserved, but no text is shown
range:core_range/* Range.fromPositions */.e.fromPositions(position,position),text:''}};}var insertText=item.completion.insertText;var isSnippetText=false;if(item.completion.insertTextRules&4/* InsertAsSnippet */){var snippet=new snippetParser/* SnippetParser */.Yj().parse(insertText);var model=suggestController.editor.getModel();// Ignore snippets that are too large.
// Adjust whitespace is expensive for them.
if(snippet.children.length>100){return undefined;}snippetSession/* SnippetSession.adjustWhitespace */.l.adjustWhitespace(model,position,snippet,true,true);insertText=snippet.toString();isSnippetText=true;}var info=suggestController.getOverwriteInfo(item,toggleMode);return{isSnippetText:isSnippetText,completionItemKind:item.completion.kind,normalizedInlineCompletion:{text:insertText,range:core_range/* Range.fromPositions */.e.fromPositions(position.delta(0,-info.overwriteBefore),position.delta(0,Math.max(info.overwriteAfter,0)))}};}
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel.js
function suggestWidgetPreviewModel_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){suggestWidgetPreviewModel_typeof=function _typeof(obj){return typeof obj;};}else{suggestWidgetPreviewModel_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return suggestWidgetPreviewModel_typeof(obj);}function suggestWidgetPreviewModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function suggestWidgetPreviewModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function suggestWidgetPreviewModel_createClass(Constructor,protoProps,staticProps){if(protoProps)suggestWidgetPreviewModel_defineProperties(Constructor.prototype,protoProps);if(staticProps)suggestWidgetPreviewModel_defineProperties(Constructor,staticProps);return Constructor;}function suggestWidgetPreviewModel_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)suggestWidgetPreviewModel_setPrototypeOf(subClass,superClass);}function suggestWidgetPreviewModel_setPrototypeOf(o,p){suggestWidgetPreviewModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return suggestWidgetPreviewModel_setPrototypeOf(o,p);}function suggestWidgetPreviewModel_createSuper(Derived){var hasNativeReflectConstruct=suggestWidgetPreviewModel_isNativeReflectConstruct();return function _createSuperInternal(){var Super=suggestWidgetPreviewModel_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=suggestWidgetPreviewModel_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return suggestWidgetPreviewModel_possibleConstructorReturn(this,result);};}function suggestWidgetPreviewModel_possibleConstructorReturn(self,call){if(call&&(suggestWidgetPreviewModel_typeof(call)==="object"||typeof call==="function")){return call;}return suggestWidgetPreviewModel_assertThisInitialized(self);}function suggestWidgetPreviewModel_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function suggestWidgetPreviewModel_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function suggestWidgetPreviewModel_getPrototypeOf(o){suggestWidgetPreviewModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return suggestWidgetPreviewModel_getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var suggestWidgetPreviewModel_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var SuggestWidgetPreviewModel=/*#__PURE__*/function(_BaseGhostTextWidgetM){suggestWidgetPreviewModel_inherits(SuggestWidgetPreviewModel,_BaseGhostTextWidgetM);var _super=suggestWidgetPreviewModel_createSuper(SuggestWidgetPreviewModel);function SuggestWidgetPreviewModel(editor,cache){var _this;suggestWidgetPreviewModel_classCallCheck(this,SuggestWidgetPreviewModel);_this=_super.call(this,editor);_this.cache=cache;_this.suggestionInlineCompletionSource=_this._register(new SuggestWidgetInlineCompletionProvider(_this.editor,// Use the first cache item (if any) as preselection.
function(){var _a,_b;return(_b=(_a=_this.cache.value)===null||_a===void 0?void 0:_a.completions[0])===null||_b===void 0?void 0:_b.toLiveInlineCompletion();}));_this.updateOperation=_this._register(new lifecycle/* MutableDisposable */.XK());_this.updateCacheSoon=_this._register(new common_async/* RunOnceScheduler */.pY(function(){return _this.updateCache();},50));_this.minReservedLineCount=0;_this._register(_this.suggestionInlineCompletionSource.onDidChange(function(){_this.updateCacheSoon.schedule();var suggestWidgetState=_this.suggestionInlineCompletionSource.state;if(!suggestWidgetState){_this.minReservedLineCount=0;}var newGhostText=_this.ghostText;if(newGhostText){_this.minReservedLineCount=Math.max(_this.minReservedLineCount,sum(newGhostText.parts.map(function(p){return p.lines.length-1;})));}if(_this.minReservedLineCount>=1){_this.suggestionInlineCompletionSource.forceRenderingAbove();}else{_this.suggestionInlineCompletionSource.stopForceRenderingAbove();}_this.onDidChangeEmitter.fire();}));_this._register(_this.cache.onDidChange(function(){_this.onDidChangeEmitter.fire();}));_this._register(_this.editor.onDidChangeCursorPosition(function(e){_this.minReservedLineCount=0;_this.updateCacheSoon.schedule();_this.onDidChangeEmitter.fire();}));_this._register((0,lifecycle/* toDisposable */.OF)(function(){return _this.suggestionInlineCompletionSource.stopForceRenderingAbove();}));return _this;}suggestWidgetPreviewModel_createClass(SuggestWidgetPreviewModel,[{key:"isActive",get:function get(){return this.suggestionInlineCompletionSource.state!==undefined;}},{key:"isSuggestionPreviewEnabled",value:function isSuggestionPreviewEnabled(){var suggestOptions=this.editor.getOption(106/* suggest */);return suggestOptions.preview;}},{key:"updateCache",value:function updateCache(){return suggestWidgetPreviewModel_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var _this2=this;var state,info,position,promise,operation;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:state=this.suggestionInlineCompletionSource.state;if(!(!state||!state.selectedItem)){_context2.next=3;break;}return _context2.abrupt("return");case 3:info={text:state.selectedItem.normalizedInlineCompletion.text,range:state.selectedItem.normalizedInlineCompletion.range,isSnippetText:state.selectedItem.isSnippetText,completionKind:state.selectedItem.completionItemKind};position=this.editor.getPosition();promise=(0,common_async/* createCancelablePromise */.PG)(function(token){return suggestWidgetPreviewModel_awaiter(_this2,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var result;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return provideInlineCompletions(position,this.editor.getModel(),{triggerKind:languages/* InlineCompletionTriggerKind.Automatic */.bw.Automatic,selectedSuggestionInfo:info},token);case 3:result=_context.sent;_context.next=10;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);(0,errors/* onUnexpectedError */.dL)(_context.t0);return _context.abrupt("return");case 10:if(!token.isCancellationRequested){_context.next=12;break;}return _context.abrupt("return");case 12:this.cache.setValue(this.editor,result,languages/* InlineCompletionTriggerKind.Automatic */.bw.Automatic);this.onDidChangeEmitter.fire();case 14:case"end":return _context.stop();}}},_callee,this,[[0,6]]);}));});operation=new UpdateOperation(promise,languages/* InlineCompletionTriggerKind.Automatic */.bw.Automatic);this.updateOperation.value=operation;_context2.next=10;return promise;case 10:if(this.updateOperation.value===operation){this.updateOperation.clear();}case 11:case"end":return _context2.stop();}}},_callee2,this);}));}},{key:"ghostText",get:function get(){var _a,_b,_c;var isSuggestionPreviewEnabled=this.isSuggestionPreviewEnabled();var augmentedCompletion=minimizeInlineCompletion(this.editor.getModel(),(_b=(_a=this.cache.value)===null||_a===void 0?void 0:_a.completions[0])===null||_b===void 0?void 0:_b.toLiveInlineCompletion());var suggestWidgetState=this.suggestionInlineCompletionSource.state;var suggestInlineCompletion=minimizeInlineCompletion(this.editor.getModel(),(_c=suggestWidgetState===null||suggestWidgetState===void 0?void 0:suggestWidgetState.selectedItem)===null||_c===void 0?void 0:_c.normalizedInlineCompletion);var isAugmentedCompletionValid=augmentedCompletion&&suggestInlineCompletion&&augmentedCompletion.text.startsWith(suggestInlineCompletion.text)&&augmentedCompletion.range.equalsRange(suggestInlineCompletion.range);if(!isSuggestionPreviewEnabled&&!isAugmentedCompletionValid){return undefined;}// If the augmented completion is not valid and there is no suggest inline completion, we still show the augmented completion.
var finalCompletion=isAugmentedCompletionValid?augmentedCompletion:suggestInlineCompletion||augmentedCompletion;var inlineCompletionPreviewLength=isAugmentedCompletionValid?finalCompletion.text.length-suggestInlineCompletion.text.length:0;var newGhostText=this.toGhostText(finalCompletion,inlineCompletionPreviewLength);return newGhostText;}},{key:"toGhostText",value:function toGhostText(completion,inlineCompletionPreviewLength){var mode=this.editor.getOptions().get(106/* suggest */).previewMode;return completion?inlineCompletionToGhostText(completion,this.editor.getModel(),mode,this.editor.getPosition(),inlineCompletionPreviewLength)||// Show an invisible ghost text to reserve space
new GhostText(completion.range.endLineNumber,[],this.minReservedLineCount):undefined;}}]);return SuggestWidgetPreviewModel;}(BaseGhostTextWidgetModel);function sum(arr){return arr.reduce(function(a,b){return a+b;},0);}
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/utils.js
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/function createDisposableRef(object,disposable){return{object:object,dispose:function dispose(){return disposable===null||disposable===void 0?void 0:disposable.dispose();}};}
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/ghostTextModel.js
function ghostTextModel_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ghostTextModel_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ghostTextModel_createClass(Constructor,protoProps,staticProps){if(protoProps)ghostTextModel_defineProperties(Constructor.prototype,protoProps);if(staticProps)ghostTextModel_defineProperties(Constructor,staticProps);return Constructor;}function ghostTextModel_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ghostTextModel_setPrototypeOf(subClass,superClass);}function ghostTextModel_setPrototypeOf(o,p){ghostTextModel_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ghostTextModel_setPrototypeOf(o,p);}function ghostTextModel_createSuper(Derived){var hasNativeReflectConstruct=ghostTextModel_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ghostTextModel_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ghostTextModel_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ghostTextModel_possibleConstructorReturn(this,result);};}function ghostTextModel_possibleConstructorReturn(self,call){if(call&&(ghostTextModel_typeof(call)==="object"||typeof call==="function")){return call;}return ghostTextModel_assertThisInitialized(self);}function ghostTextModel_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ghostTextModel_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ghostTextModel_getPrototypeOf(o){ghostTextModel_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ghostTextModel_getPrototypeOf(o);}function ghostTextModel_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ghostTextModel_typeof=function _typeof(obj){return typeof obj;};}else{ghostTextModel_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ghostTextModel_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ghostTextModel_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":ghostTextModel_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var ghostTextModel_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var ghostTextModel_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var DelegatingModel=/*#__PURE__*/function(_Disposable){ghostTextModel_inherits(DelegatingModel,_Disposable);var _super=ghostTextModel_createSuper(DelegatingModel);function DelegatingModel(){var _this;ghostTextModel_classCallCheck(this,DelegatingModel);_this=_super.apply(this,arguments);_this.onDidChangeEmitter=new common_event/* Emitter */.Q5();_this.onDidChange=_this.onDidChangeEmitter.event;_this.hasCachedGhostText=false;_this.currentModelRef=_this._register(new lifecycle/* MutableDisposable */.XK());return _this;}ghostTextModel_createClass(DelegatingModel,[{key:"targetModel",get:function get(){var _a;return(_a=this.currentModelRef.value)===null||_a===void 0?void 0:_a.object;}},{key:"setTargetModel",value:function setTargetModel(model){var _this2=this;var _a;if(((_a=this.currentModelRef.value)===null||_a===void 0?void 0:_a.object)===model){return;}this.currentModelRef.clear();this.currentModelRef.value=model?createDisposableRef(model,model.onDidChange(function(){_this2.hasCachedGhostText=false;_this2.onDidChangeEmitter.fire();})):undefined;this.hasCachedGhostText=false;this.onDidChangeEmitter.fire();}},{key:"ghostText",get:function get(){var _a,_b;if(!this.hasCachedGhostText){this.cachedGhostText=(_b=(_a=this.currentModelRef.value)===null||_a===void 0?void 0:_a.object)===null||_b===void 0?void 0:_b.ghostText;this.hasCachedGhostText=true;}return this.cachedGhostText;}},{key:"setExpanded",value:function setExpanded(expanded){var _a;(_a=this.targetModel)===null||_a===void 0?void 0:_a.setExpanded(expanded);}},{key:"minReservedLineCount",get:function get(){return this.targetModel?this.targetModel.minReservedLineCount:0;}}]);return DelegatingModel;}(lifecycle/* Disposable */.JT);/**
 * A ghost text model that is both driven by inline completions and the suggest widget.
*/var GhostTextModel=/*#__PURE__*/function(_DelegatingModel){ghostTextModel_inherits(GhostTextModel,_DelegatingModel);var _super2=ghostTextModel_createSuper(GhostTextModel);function GhostTextModel(editor,commandService,languageConfigurationService){var _this3;ghostTextModel_classCallCheck(this,GhostTextModel);_this3=_super2.call(this);_this3.editor=editor;_this3.commandService=commandService;_this3.languageConfigurationService=languageConfigurationService;_this3.sharedCache=_this3._register(new SharedInlineCompletionCache());_this3.suggestWidgetAdapterModel=_this3._register(new SuggestWidgetPreviewModel(_this3.editor,_this3.sharedCache));_this3.inlineCompletionsModel=_this3._register(new InlineCompletionsModel(_this3.editor,_this3.sharedCache,_this3.commandService,_this3.languageConfigurationService));_this3._register(_this3.suggestWidgetAdapterModel.onDidChange(function(){_this3.updateModel();}));_this3.updateModel();return _this3;}ghostTextModel_createClass(GhostTextModel,[{key:"activeInlineCompletionsModel",get:function get(){if(this.targetModel===this.inlineCompletionsModel){return this.inlineCompletionsModel;}return undefined;}},{key:"updateModel",value:function updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel);this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel);}},{key:"shouldShowHoverAt",value:function shouldShowHoverAt(hoverRange){var _a;var ghostText=(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.ghostText;if(ghostText){return ghostText.parts.some(function(p){return hoverRange.containsPosition(new core_position/* Position */.L(ghostText.lineNumber,p.column));});}return false;}},{key:"triggerInlineCompletion",value:function triggerInlineCompletion(){var _a;(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.trigger(languages/* InlineCompletionTriggerKind.Explicit */.bw.Explicit);}},{key:"commitInlineCompletion",value:function commitInlineCompletion(){var _a;(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.commitCurrentSuggestion();}},{key:"hideInlineCompletion",value:function hideInlineCompletion(){var _a;(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.hide();}},{key:"showNextInlineCompletion",value:function showNextInlineCompletion(){var _a;(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.showNext();}},{key:"showPreviousInlineCompletion",value:function showPreviousInlineCompletion(){var _a;(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.showPrevious();}},{key:"hasMultipleInlineCompletions",value:function hasMultipleInlineCompletions(){var _a;return ghostTextModel_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var result;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(_a=this.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.hasMultipleInlineCompletions();case 2:result=_context.sent;return _context.abrupt("return",result!==undefined?result:false);case 4:case"end":return _context.stop();}}},_callee,this);}));}}]);return GhostTextModel;}(DelegatingModel);GhostTextModel=ghostTextModel_decorate([ghostTextModel_param(1,commands/* ICommandService */.Hy),ghostTextModel_param(2,languageConfigurationRegistry/* ILanguageConfigurationService */.c_)],GhostTextModel);var SharedInlineCompletionCache=/*#__PURE__*/function(_Disposable2){ghostTextModel_inherits(SharedInlineCompletionCache,_Disposable2);var _super3=ghostTextModel_createSuper(SharedInlineCompletionCache);function SharedInlineCompletionCache(){var _this4;ghostTextModel_classCallCheck(this,SharedInlineCompletionCache);_this4=_super3.apply(this,arguments);_this4.onDidChangeEmitter=new common_event/* Emitter */.Q5();_this4.onDidChange=_this4.onDidChangeEmitter.event;_this4.cache=_this4._register(new lifecycle/* MutableDisposable */.XK());return _this4;}ghostTextModel_createClass(SharedInlineCompletionCache,[{key:"value",get:function get(){return this.cache.value;}},{key:"setValue",value:function setValue(editor,completionsSource,triggerKind){var _this5=this;this.cache.value=new SynchronizedInlineCompletionsCache(editor,completionsSource,function(){return _this5.onDidChangeEmitter.fire();},triggerKind);}},{key:"clearAndLeak",value:function clearAndLeak(){return this.cache.clearAndLeak();}},{key:"clear",value:function clear(){this.cache.clear();}}]);return SharedInlineCompletionCache;}(lifecycle/* Disposable */.JT);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/browser/dom.js
var dom = __webpack_require__(20446);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/config/domFontInfo.js
var domFontInfo = __webpack_require__(9217);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js
var editorOptions = __webpack_require__(72530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/tokens/lineTokens.js
var tokens_lineTokens = __webpack_require__(83817);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/stringBuilder.js
var stringBuilder = __webpack_require__(26644);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/language.js
var language = __webpack_require__(84318);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/editorColorRegistry.js
var editorColorRegistry = __webpack_require__(62660);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/lineDecorations.js
var lineDecorations = __webpack_require__(9098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLineRenderer.js
var viewLineRenderer = __webpack_require__(93140);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js
var instantiation = __webpack_require__(71896);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/ghostTextWidget.js
function ghostTextWidget_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=ghostTextWidget_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function ghostTextWidget_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return ghostTextWidget_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ghostTextWidget_arrayLikeToArray(o,minLen);}function ghostTextWidget_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ghostTextWidget_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ghostTextWidget_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ghostTextWidget_createClass(Constructor,protoProps,staticProps){if(protoProps)ghostTextWidget_defineProperties(Constructor.prototype,protoProps);if(staticProps)ghostTextWidget_defineProperties(Constructor,staticProps);return Constructor;}function ghostTextWidget_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ghostTextWidget_setPrototypeOf(subClass,superClass);}function ghostTextWidget_setPrototypeOf(o,p){ghostTextWidget_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ghostTextWidget_setPrototypeOf(o,p);}function ghostTextWidget_createSuper(Derived){var hasNativeReflectConstruct=ghostTextWidget_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ghostTextWidget_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ghostTextWidget_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ghostTextWidget_possibleConstructorReturn(this,result);};}function ghostTextWidget_possibleConstructorReturn(self,call){if(call&&(ghostTextWidget_typeof(call)==="object"||typeof call==="function")){return call;}return ghostTextWidget_assertThisInitialized(self);}function ghostTextWidget_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ghostTextWidget_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ghostTextWidget_getPrototypeOf(o){ghostTextWidget_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ghostTextWidget_getPrototypeOf(o);}function ghostTextWidget_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ghostTextWidget_typeof=function _typeof(obj){return typeof obj;};}else{ghostTextWidget_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ghostTextWidget_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ghostTextWidget_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":ghostTextWidget_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var ghostTextWidget_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var _a;var ttPolicy=(_a=window.trustedTypes)===null||_a===void 0?void 0:_a.createPolicy('editorGhostText',{createHTML:function createHTML(value){return value;}});var GhostTextWidget=/*#__PURE__*/function(_Disposable){ghostTextWidget_inherits(GhostTextWidget,_Disposable);var _super=ghostTextWidget_createSuper(GhostTextWidget);function GhostTextWidget(editor,model,instantiationService,languageService){var _this;ghostTextWidget_classCallCheck(this,GhostTextWidget);_this=_super.call(this);_this.editor=editor;_this.model=model;_this.instantiationService=instantiationService;_this.languageService=languageService;_this.disposed=false;_this.partsWidget=_this._register(_this.instantiationService.createInstance(DecorationsWidget,_this.editor));_this.additionalLinesWidget=_this._register(new AdditionalLinesWidget(_this.editor,_this.languageService.languageIdCodec));_this.viewMoreContentWidget=undefined;_this._register(_this.editor.onDidChangeConfiguration(function(e){if(e.hasChanged(29/* disableMonospaceOptimizations */)||e.hasChanged(105/* stopRenderingLineAfter */)||e.hasChanged(88/* renderWhitespace */)||e.hasChanged(83/* renderControlCharacters */)||e.hasChanged(45/* fontLigatures */)||e.hasChanged(44/* fontInfo */)||e.hasChanged(59/* lineHeight */)){_this.update();}}));_this._register((0,lifecycle/* toDisposable */.OF)(function(){var _a;_this.disposed=true;_this.update();(_a=_this.viewMoreContentWidget)===null||_a===void 0?void 0:_a.dispose();_this.viewMoreContentWidget=undefined;}));_this._register(model.onDidChange(function(){_this.update();}));_this.update();return _this;}ghostTextWidget_createClass(GhostTextWidget,[{key:"shouldShowHoverAtViewZone",value:function shouldShowHoverAtViewZone(viewZoneId){return this.additionalLinesWidget.viewZoneId===viewZoneId;}},{key:"update",value:function update(){var _a;var ghostText=this.model.ghostText;if(!this.editor.hasModel()||!ghostText||this.disposed){this.partsWidget.clear();this.additionalLinesWidget.clear();return;}var inlineTexts=new Array();var additionalLines=new Array();function addToAdditionalLines(lines,className){if(additionalLines.length>0){var lastLine=additionalLines[additionalLines.length-1];if(className){lastLine.decorations.push(new lineDecorations/* LineDecoration */.Kp(lastLine.content.length+1,lastLine.content.length+1+lines[0].length,className,0/* Regular */));}lastLine.content+=lines[0];lines=lines.slice(1);}var _iterator=ghostTextWidget_createForOfIteratorHelper(lines),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var line=_step.value;additionalLines.push({content:line,decorations:className?[new lineDecorations/* LineDecoration */.Kp(1,line.length+1,className,0/* Regular */)]:[]});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}var textBufferLine=this.editor.getModel().getLineContent(ghostText.lineNumber);this.editor.getModel().getLineTokens(ghostText.lineNumber);var hiddenTextStartColumn=undefined;var lastIdx=0;var _iterator2=ghostTextWidget_createForOfIteratorHelper(ghostText.parts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var part=_step2.value;var lines=part.lines;if(hiddenTextStartColumn===undefined){inlineTexts.push({column:part.column,text:lines[0],preview:part.preview});lines=lines.slice(1);}else{addToAdditionalLines([textBufferLine.substring(lastIdx,part.column-1)],undefined);}if(lines.length>0){addToAdditionalLines(lines,'ghost-text');if(hiddenTextStartColumn===undefined&&part.column<=textBufferLine.length){hiddenTextStartColumn=part.column;}}lastIdx=part.column-1;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(hiddenTextStartColumn!==undefined){addToAdditionalLines([textBufferLine.substring(lastIdx)],undefined);}this.partsWidget.setParts(ghostText.lineNumber,inlineTexts,hiddenTextStartColumn!==undefined?{column:hiddenTextStartColumn,length:textBufferLine.length+1-hiddenTextStartColumn}:undefined);this.additionalLinesWidget.updateLines(ghostText.lineNumber,additionalLines,ghostText.additionalReservedLineCount);if(ghostText.parts.some(function(p){return p.lines.length<0;})){// Not supported at the moment, condition is always false.
this.viewMoreContentWidget=this.renderViewMoreLines(new core_position/* Position */.L(ghostText.lineNumber,this.editor.getModel().getLineMaxColumn(ghostText.lineNumber)),'',0);}else{(_a=this.viewMoreContentWidget)===null||_a===void 0?void 0:_a.dispose();this.viewMoreContentWidget=undefined;}}},{key:"renderViewMoreLines",value:function renderViewMoreLines(position,firstLineText,remainingLinesLength){var _this2=this;var fontInfo=this.editor.getOption(44/* fontInfo */);var domNode=document.createElement('div');domNode.className='suggest-preview-additional-widget';(0,domFontInfo/* applyFontInfo */.N)(domNode,fontInfo);var spacer=document.createElement('span');spacer.className='content-spacer';spacer.append(firstLineText);domNode.append(spacer);var newline=document.createElement('span');newline.className='content-newline suggest-preview-text';newline.append('  ');domNode.append(newline);var disposableStore=new lifecycle/* DisposableStore */.SL();var button=document.createElement('div');button.className='button suggest-preview-text';button.append("+".concat(remainingLinesLength," lines\u2026"));disposableStore.add(dom.addStandardDisposableListener(button,'mousedown',function(e){var _a;(_a=_this2.model)===null||_a===void 0?void 0:_a.setExpanded(true);e.preventDefault();_this2.editor.focus();}));domNode.append(button);return new ViewMoreLinesContentWidget(this.editor,position,domNode,disposableStore);}}]);return GhostTextWidget;}(lifecycle/* Disposable */.JT);GhostTextWidget=ghostTextWidget_decorate([ghostTextWidget_param(2,instantiation/* IInstantiationService */.TG),ghostTextWidget_param(3,language/* ILanguageService */.O)],GhostTextWidget);var DecorationsWidget=/*#__PURE__*/function(){function DecorationsWidget(editor){ghostTextWidget_classCallCheck(this,DecorationsWidget);this.editor=editor;this.decorationIds=[];this.disposableStore=new lifecycle/* DisposableStore */.SL();}ghostTextWidget_createClass(DecorationsWidget,[{key:"dispose",value:function dispose(){this.clear();this.disposableStore.dispose();}},{key:"clear",value:function clear(){this.editor.deltaDecorations(this.decorationIds,[]);this.disposableStore.clear();}},{key:"setParts",value:function setParts(lineNumber,parts,hiddenText){this.disposableStore.clear();var textModel=this.editor.getModel();if(!textModel){return;}var hiddenTextDecorations=new Array();if(hiddenText){hiddenTextDecorations.push({range:core_range/* Range.fromPositions */.e.fromPositions(new core_position/* Position */.L(lineNumber,hiddenText.column),new core_position/* Position */.L(lineNumber,hiddenText.column+hiddenText.length)),options:{inlineClassName:'ghost-text-hidden',description:'ghost-text-hidden'}});}this.decorationIds=this.editor.deltaDecorations(this.decorationIds,parts.map(function(p){return{range:core_range/* Range.fromPositions */.e.fromPositions(new core_position/* Position */.L(lineNumber,p.column)),options:{description:'ghost-text',after:{content:p.text,inlineClassName:p.preview?'ghost-text-decoration-preview':'ghost-text-decoration'},showIfCollapsed:true}};}).concat(hiddenTextDecorations));}}]);return DecorationsWidget;}();var AdditionalLinesWidget=/*#__PURE__*/function(){function AdditionalLinesWidget(editor,languageIdCodec){ghostTextWidget_classCallCheck(this,AdditionalLinesWidget);this.editor=editor;this.languageIdCodec=languageIdCodec;this._viewZoneId=undefined;}ghostTextWidget_createClass(AdditionalLinesWidget,[{key:"viewZoneId",get:function get(){return this._viewZoneId;}},{key:"dispose",value:function dispose(){this.clear();}},{key:"clear",value:function clear(){var _this3=this;this.editor.changeViewZones(function(changeAccessor){if(_this3._viewZoneId){changeAccessor.removeZone(_this3._viewZoneId);_this3._viewZoneId=undefined;}});}},{key:"updateLines",value:function updateLines(lineNumber,additionalLines,minReservedLineCount){var _this4=this;var textModel=this.editor.getModel();if(!textModel){return;}var _textModel$getOptions=textModel.getOptions(),tabSize=_textModel$getOptions.tabSize;this.editor.changeViewZones(function(changeAccessor){if(_this4._viewZoneId){changeAccessor.removeZone(_this4._viewZoneId);_this4._viewZoneId=undefined;}var heightInLines=Math.max(additionalLines.length,minReservedLineCount);if(heightInLines>0){var domNode=document.createElement('div');renderLines(domNode,tabSize,additionalLines,_this4.editor.getOptions(),_this4.languageIdCodec);_this4._viewZoneId=changeAccessor.addZone({afterLineNumber:lineNumber,heightInLines:heightInLines,domNode:domNode,afterColumnAffinity:1/* Right */});}});}}]);return AdditionalLinesWidget;}();function renderLines(domNode,tabSize,lines,opts,languageIdCodec){var disableMonospaceOptimizations=opts.get(29/* disableMonospaceOptimizations */);var stopRenderingLineAfter=opts.get(105/* stopRenderingLineAfter */);// To avoid visual confusion, we don't want to render visible whitespace
var renderWhitespace='none';var renderControlCharacters=opts.get(83/* renderControlCharacters */);var fontLigatures=opts.get(45/* fontLigatures */);var fontInfo=opts.get(44/* fontInfo */);var lineHeight=opts.get(59/* lineHeight */);var sb=(0,stringBuilder/* createStringBuilder */.l$)(10000);sb.appendASCIIString('<div class="suggest-preview-text">');for(var i=0,len=lines.length;i<len;i++){var lineData=lines[i];var line=lineData.content;sb.appendASCIIString('<div class="view-line');sb.appendASCIIString('" style="top:');sb.appendASCIIString(String(i*lineHeight));sb.appendASCIIString('px;width:1000000px;">');var isBasicASCII=strings/* isBasicASCII */.$i(line);var containsRTL=strings/* containsRTL */.Ut(line);var lineTokens=tokens_lineTokens/* LineTokens.createEmpty */.A.createEmpty(line,languageIdCodec);(0,viewLineRenderer/* renderViewLine */.d1)(new viewLineRenderer/* RenderLineInput */.IJ(fontInfo.isMonospace&&!disableMonospaceOptimizations,fontInfo.canUseHalfwidthRightwardsArrow,line,false,isBasicASCII,containsRTL,0,lineTokens,lineData.decorations,tabSize,0,fontInfo.spaceWidth,fontInfo.middotWidth,fontInfo.wsmiddotWidth,stopRenderingLineAfter,renderWhitespace,renderControlCharacters,fontLigatures!==editorOptions/* EditorFontLigatures.OFF */.n0.OFF,null),sb);sb.appendASCIIString('</div>');}sb.appendASCIIString('</div>');(0,domFontInfo/* applyFontInfo */.N)(domNode,fontInfo);var html=sb.build();var trustedhtml=ttPolicy?ttPolicy.createHTML(html):html;domNode.innerHTML=trustedhtml;}var ViewMoreLinesContentWidget=/*#__PURE__*/function(_Disposable2){ghostTextWidget_inherits(ViewMoreLinesContentWidget,_Disposable2);var _super2=ghostTextWidget_createSuper(ViewMoreLinesContentWidget);function ViewMoreLinesContentWidget(editor,position,domNode,disposableStore){var _this5;ghostTextWidget_classCallCheck(this,ViewMoreLinesContentWidget);_this5=_super2.call(this);_this5.editor=editor;_this5.position=position;_this5.domNode=domNode;_this5.allowEditorOverflow=false;_this5.suppressMouseDown=false;_this5._register(disposableStore);_this5._register((0,lifecycle/* toDisposable */.OF)(function(){_this5.editor.removeContentWidget(ghostTextWidget_assertThisInitialized(_this5));}));_this5.editor.addContentWidget(ghostTextWidget_assertThisInitialized(_this5));return _this5;}ghostTextWidget_createClass(ViewMoreLinesContentWidget,[{key:"getId",value:function getId(){return'editor.widget.viewMoreLinesWidget';}},{key:"getDomNode",value:function getDomNode(){return this.domNode;}},{key:"getPosition",value:function getPosition(){return{position:this.position,preference:[0/* EXACT */]};}}]);return ViewMoreLinesContentWidget;}(lifecycle/* Disposable */.JT);(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var foreground=theme.getColor(editorColorRegistry/* ghostTextForeground */.N5);if(foreground){// `!important` ensures that other decorations don't cause a style conflict (#132017).
collector.addRule(".monaco-editor .ghost-text-decoration { color: ".concat(foreground.toString()," !important; }"));collector.addRule(".monaco-editor .ghost-text-decoration-preview { color: ".concat(foreground.toString()," !important; }"));collector.addRule(".monaco-editor .suggest-preview-text .ghost-text { color: ".concat(foreground.toString()," !important; }"));}var background=theme.getColor(editorColorRegistry/* ghostTextBackground */.IO);if(background){collector.addRule(".monaco-editor .ghost-text-decoration { background-color: ".concat(background.toString(),"; }"));collector.addRule(".monaco-editor .ghost-text-decoration-preview { background-color: ".concat(background.toString(),"; }"));collector.addRule(".monaco-editor .suggest-preview-text .ghost-text { background-color: ".concat(background.toString(),"; }"));}var border=theme.getColor(editorColorRegistry/* ghostTextBorder */.x3);if(border){collector.addRule(".monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ".concat(border,"; }"));collector.addRule(".monaco-editor .ghost-text-decoration { border: 1px solid ".concat(border,"; }"));collector.addRule(".monaco-editor .ghost-text-decoration-preview { border: 1px solid ".concat(border,"; }"));}});
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js
var contextkey = __webpack_require__(11703);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js
var keybindingsRegistry = __webpack_require__(85377);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/inlineCompletions/browser/ghostTextController.js
function ghostTextController_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function ghostTextController_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function ghostTextController_createClass(Constructor,protoProps,staticProps){if(protoProps)ghostTextController_defineProperties(Constructor.prototype,protoProps);if(staticProps)ghostTextController_defineProperties(Constructor,staticProps);return Constructor;}function ghostTextController_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)ghostTextController_setPrototypeOf(subClass,superClass);}function ghostTextController_setPrototypeOf(o,p){ghostTextController_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return ghostTextController_setPrototypeOf(o,p);}function ghostTextController_createSuper(Derived){var hasNativeReflectConstruct=ghostTextController_isNativeReflectConstruct();return function _createSuperInternal(){var Super=ghostTextController_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=ghostTextController_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return ghostTextController_possibleConstructorReturn(this,result);};}function ghostTextController_possibleConstructorReturn(self,call){if(call&&(ghostTextController_typeof(call)==="object"||typeof call==="function")){return call;}return ghostTextController_assertThisInitialized(self);}function ghostTextController_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function ghostTextController_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ghostTextController_getPrototypeOf(o){ghostTextController_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return ghostTextController_getPrototypeOf(o);}function ghostTextController_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){ghostTextController_typeof=function _typeof(obj){return typeof obj;};}else{ghostTextController_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return ghostTextController_typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ghostTextController_decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":ghostTextController_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var ghostTextController_param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var ghostTextController_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var GhostTextController=/*#__PURE__*/function(_Disposable){ghostTextController_inherits(GhostTextController,_Disposable);var _super=ghostTextController_createSuper(GhostTextController);function GhostTextController(editor,instantiationService){var _this;ghostTextController_classCallCheck(this,GhostTextController);_this=_super.call(this);_this.editor=editor;_this.instantiationService=instantiationService;_this.triggeredExplicitly=false;_this.activeController=_this._register(new lifecycle/* MutableDisposable */.XK());_this._register(_this.editor.onDidChangeModel(function(){_this.updateModelController();}));_this._register(_this.editor.onDidChangeConfiguration(function(e){if(e.hasChanged(106/* suggest */)){_this.updateModelController();}if(e.hasChanged(55/* inlineSuggest */)){_this.updateModelController();}}));_this.updateModelController();return _this;}ghostTextController_createClass(GhostTextController,[{key:"activeModel",get:function get(){var _a;return(_a=this.activeController.value)===null||_a===void 0?void 0:_a.model;}// Don't call this method when not neccessary. It will recreate the activeController.
},{key:"updateModelController",value:function updateModelController(){var suggestOptions=this.editor.getOption(106/* suggest */);var inlineSuggestOptions=this.editor.getOption(55/* inlineSuggest */);this.activeController.value=undefined;// ActiveGhostTextController is only created if one of those settings is set or if the inline completions are triggered explicitly.
this.activeController.value=this.editor.hasModel()&&(suggestOptions.preview||inlineSuggestOptions.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(ActiveGhostTextController,this.editor):undefined;}},{key:"shouldShowHoverAt",value:function shouldShowHoverAt(hoverRange){var _a;return((_a=this.activeModel)===null||_a===void 0?void 0:_a.shouldShowHoverAt(hoverRange))||false;}},{key:"shouldShowHoverAtViewZone",value:function shouldShowHoverAtViewZone(viewZoneId){var _a,_b;return((_b=(_a=this.activeController.value)===null||_a===void 0?void 0:_a.widget)===null||_b===void 0?void 0:_b.shouldShowHoverAtViewZone(viewZoneId))||false;}},{key:"trigger",value:function trigger(){var _a;this.triggeredExplicitly=true;if(!this.activeController.value){this.updateModelController();}(_a=this.activeModel)===null||_a===void 0?void 0:_a.triggerInlineCompletion();}},{key:"commit",value:function commit(){var _a;(_a=this.activeModel)===null||_a===void 0?void 0:_a.commitInlineCompletion();}},{key:"hide",value:function hide(){var _a;(_a=this.activeModel)===null||_a===void 0?void 0:_a.hideInlineCompletion();}},{key:"showNextInlineCompletion",value:function showNextInlineCompletion(){var _a;(_a=this.activeModel)===null||_a===void 0?void 0:_a.showNextInlineCompletion();}},{key:"showPreviousInlineCompletion",value:function showPreviousInlineCompletion(){var _a;(_a=this.activeModel)===null||_a===void 0?void 0:_a.showPreviousInlineCompletion();}},{key:"hasMultipleInlineCompletions",value:function hasMultipleInlineCompletions(){var _a;return ghostTextController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var result;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(_a=this.activeModel)===null||_a===void 0?void 0:_a.hasMultipleInlineCompletions();case 2:result=_context.sent;return _context.abrupt("return",result!==undefined?result:false);case 4:case"end":return _context.stop();}}},_callee,this);}));}}],[{key:"get",value:function get(editor){return editor.getContribution(GhostTextController.ID);}}]);return GhostTextController;}(lifecycle/* Disposable */.JT);GhostTextController.inlineSuggestionVisible=new contextkey/* RawContextKey */.uy('inlineSuggestionVisible',false,nls/* localize */.N('inlineSuggestionVisible',"Whether an inline suggestion is visible"));GhostTextController.inlineSuggestionHasIndentation=new contextkey/* RawContextKey */.uy('inlineSuggestionHasIndentation',false,nls/* localize */.N('inlineSuggestionHasIndentation',"Whether the inline suggestion starts with whitespace"));GhostTextController.inlineSuggestionHasIndentationLessThanTabSize=new contextkey/* RawContextKey */.uy('inlineSuggestionHasIndentationLessThanTabSize',true,nls/* localize */.N('inlineSuggestionHasIndentationLessThanTabSize',"Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));GhostTextController.ID='editor.contrib.ghostTextController';GhostTextController=ghostTextController_decorate([ghostTextController_param(1,instantiation/* IInstantiationService */.TG)],GhostTextController);var GhostTextContextKeys=function GhostTextContextKeys(contextKeyService){ghostTextController_classCallCheck(this,GhostTextContextKeys);this.contextKeyService=contextKeyService;this.inlineCompletionVisible=GhostTextController.inlineSuggestionVisible.bindTo(this.contextKeyService);this.inlineCompletionSuggestsIndentation=GhostTextController.inlineSuggestionHasIndentation.bindTo(this.contextKeyService);this.inlineCompletionSuggestsIndentationLessThanTabSize=GhostTextController.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService);};/**
 * The controller for a text editor with an initialized text model.
 * Must be disposed as soon as the model detaches from the editor.
*/var ActiveGhostTextController=/*#__PURE__*/function(_Disposable2){ghostTextController_inherits(ActiveGhostTextController,_Disposable2);var _super2=ghostTextController_createSuper(ActiveGhostTextController);function ActiveGhostTextController(editor,instantiationService,contextKeyService){var _this2;ghostTextController_classCallCheck(this,ActiveGhostTextController);_this2=_super2.call(this);_this2.editor=editor;_this2.instantiationService=instantiationService;_this2.contextKeyService=contextKeyService;_this2.contextKeys=new GhostTextContextKeys(_this2.contextKeyService);_this2.model=_this2._register(_this2.instantiationService.createInstance(GhostTextModel,_this2.editor));_this2.widget=_this2._register(_this2.instantiationService.createInstance(GhostTextWidget,_this2.editor,_this2.model));_this2._register((0,lifecycle/* toDisposable */.OF)(function(){_this2.contextKeys.inlineCompletionVisible.set(false);_this2.contextKeys.inlineCompletionSuggestsIndentation.set(false);_this2.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(true);}));_this2._register(_this2.model.onDidChange(function(){_this2.updateContextKeys();}));_this2.updateContextKeys();return _this2;}ghostTextController_createClass(ActiveGhostTextController,[{key:"updateContextKeys",value:function updateContextKeys(){var _a;this.contextKeys.inlineCompletionVisible.set(((_a=this.model.activeInlineCompletionsModel)===null||_a===void 0?void 0:_a.ghostText)!==undefined);var startsWithIndentation=false;var startsWithIndentationLessThanTabSize=true;var ghostText=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&ghostText&&ghostText.parts.length>0){var _ghostText$parts$=ghostText.parts[0],column=_ghostText$parts$.column,lines=_ghostText$parts$.lines;var firstLine=lines[0];var indentationEndColumn=this.editor.getModel().getLineIndentColumn(ghostText.lineNumber);var inIndentation=column<=indentationEndColumn;if(inIndentation){var firstNonWsIdx=(0,strings/* firstNonWhitespaceIndex */.LC)(firstLine);if(firstNonWsIdx===-1){firstNonWsIdx=firstLine.length-1;}startsWithIndentation=firstNonWsIdx>0;var tabSize=this.editor.getModel().getOptions().tabSize;var visibleColumnIndentation=cursorColumns/* CursorColumns.visibleColumnFromColumn */.i.visibleColumnFromColumn(firstLine,firstNonWsIdx+1,tabSize);startsWithIndentationLessThanTabSize=visibleColumnIndentation<tabSize;}}this.contextKeys.inlineCompletionSuggestsIndentation.set(startsWithIndentation);this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(startsWithIndentationLessThanTabSize);}}]);return ActiveGhostTextController;}(lifecycle/* Disposable */.JT);ActiveGhostTextController=ghostTextController_decorate([ghostTextController_param(1,instantiation/* IInstantiationService */.TG),ghostTextController_param(2,contextkey/* IContextKeyService */.i6)],ActiveGhostTextController);var GhostTextCommand=editorExtensions/* EditorCommand.bindToContribution */._l.bindToContribution(GhostTextController.get);var commitInlineSuggestionAction=new GhostTextCommand({id:inlineSuggestCommitId,precondition:GhostTextController.inlineSuggestionVisible,handler:function handler(x){x.commit();x.editor.focus();}});(0,editorExtensions/* registerEditorCommand */.fK)(commitInlineSuggestionAction);keybindingsRegistry/* KeybindingsRegistry.registerKeybindingRule */.W.registerKeybindingRule({primary:2/* Tab */,weight:200,id:commitInlineSuggestionAction.id,when:contextkey/* ContextKeyExpr.and */.Ao.and(commitInlineSuggestionAction.precondition,editorContextKeys/* EditorContextKeys.tabMovesFocus.toNegated */.u.tabMovesFocus.toNegated(),GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)});(0,editorExtensions/* registerEditorCommand */.fK)(new GhostTextCommand({id:'editor.action.inlineSuggest.hide',precondition:GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9/* Escape */},handler:function handler(x){x.hide();}}));var ShowNextInlineSuggestionAction=/*#__PURE__*/function(_EditorAction){ghostTextController_inherits(ShowNextInlineSuggestionAction,_EditorAction);var _super3=ghostTextController_createSuper(ShowNextInlineSuggestionAction);function ShowNextInlineSuggestionAction(){ghostTextController_classCallCheck(this,ShowNextInlineSuggestionAction);return _super3.call(this,{id:ShowNextInlineSuggestionAction.ID,label:nls/* localize */.N('action.inlineSuggest.showNext',"Show Next Inline Suggestion"),alias:'Show Next Inline Suggestion',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.writable */.u.writable,GhostTextController.inlineSuggestionVisible),kbOpts:{weight:100,primary:512/* Alt */|89/* BracketRight */}});}ghostTextController_createClass(ShowNextInlineSuggestionAction,[{key:"run",value:function run(accessor,editor){return ghostTextController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var controller;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:controller=GhostTextController.get(editor);if(controller){controller.showNextInlineCompletion();editor.focus();}case 2:case"end":return _context2.stop();}}},_callee2);}));}}]);return ShowNextInlineSuggestionAction;}(editorExtensions/* EditorAction */.R6);ShowNextInlineSuggestionAction.ID='editor.action.inlineSuggest.showNext';var ShowPreviousInlineSuggestionAction=/*#__PURE__*/function(_EditorAction2){ghostTextController_inherits(ShowPreviousInlineSuggestionAction,_EditorAction2);var _super4=ghostTextController_createSuper(ShowPreviousInlineSuggestionAction);function ShowPreviousInlineSuggestionAction(){ghostTextController_classCallCheck(this,ShowPreviousInlineSuggestionAction);return _super4.call(this,{id:ShowPreviousInlineSuggestionAction.ID,label:nls/* localize */.N('action.inlineSuggest.showPrevious',"Show Previous Inline Suggestion"),alias:'Show Previous Inline Suggestion',precondition:contextkey/* ContextKeyExpr.and */.Ao.and(editorContextKeys/* EditorContextKeys.writable */.u.writable,GhostTextController.inlineSuggestionVisible),kbOpts:{weight:100,primary:512/* Alt */|87/* BracketLeft */}});}ghostTextController_createClass(ShowPreviousInlineSuggestionAction,[{key:"run",value:function run(accessor,editor){return ghostTextController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee3(){var controller;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:controller=GhostTextController.get(editor);if(controller){controller.showPreviousInlineCompletion();editor.focus();}case 2:case"end":return _context3.stop();}}},_callee3);}));}}]);return ShowPreviousInlineSuggestionAction;}(editorExtensions/* EditorAction */.R6);ShowPreviousInlineSuggestionAction.ID='editor.action.inlineSuggest.showPrevious';var TriggerInlineSuggestionAction=/*#__PURE__*/function(_EditorAction3){ghostTextController_inherits(TriggerInlineSuggestionAction,_EditorAction3);var _super5=ghostTextController_createSuper(TriggerInlineSuggestionAction);function TriggerInlineSuggestionAction(){ghostTextController_classCallCheck(this,TriggerInlineSuggestionAction);return _super5.call(this,{id:'editor.action.inlineSuggest.trigger',label:nls/* localize */.N('action.inlineSuggest.trigger',"Trigger Inline Suggestion"),alias:'Trigger Inline Suggestion',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}ghostTextController_createClass(TriggerInlineSuggestionAction,[{key:"run",value:function run(accessor,editor){return ghostTextController_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee4(){var controller;return regenerator_default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:controller=GhostTextController.get(editor);if(controller){controller.trigger();}case 2:case"end":return _context4.stop();}}},_callee4);}));}}]);return TriggerInlineSuggestionAction;}(editorExtensions/* EditorAction */.R6);(0,editorExtensions/* registerEditorContribution */._K)(GhostTextController.ID,GhostTextController);(0,editorExtensions/* registerEditorAction */.Qr)(TriggerInlineSuggestionAction);(0,editorExtensions/* registerEditorAction */.Qr)(ShowNextInlineSuggestionAction);(0,editorExtensions/* registerEditorAction */.Qr)(ShowPreviousInlineSuggestionAction);

/***/ }),

/***/ 65508:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExpandLineSelectionAction": () => (/* binding */ ExpandLineSelectionAction)
/* harmony export */ });
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(79098);
/* harmony import */ var _common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99375);
/* harmony import */ var _common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(48919);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71453);
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var ExpandLineSelectionAction=/*#__PURE__*/function(_EditorAction){_inherits(ExpandLineSelectionAction,_EditorAction);var _super=_createSuper(ExpandLineSelectionAction);function ExpandLineSelectionAction(){_classCallCheck(this,ExpandLineSelectionAction);return _super.call(this,{id:'expandLineSelection',label:_nls_js__WEBPACK_IMPORTED_MODULE_3__/* .localize */ .N('expandLineSelection',"Expand Line Selection"),alias:'Expand Line Selection',precondition:undefined,kbOpts:{weight:0/* EditorCore */,kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_2__/* .EditorContextKeys.textInputFocus */ .u.textInputFocus,primary:2048/* CtrlCmd */|42/* KeyL */}});}_createClass(ExpandLineSelectionAction,[{key:"run",value:function run(_accessor,editor,args){args=args||{};if(!editor.hasModel()){return;}var viewModel=editor._getViewModel();viewModel.model.pushStackElement();viewModel.setCursorStates(args.source,3/* Explicit */,_common_cursor_cursorMoveCommands_js__WEBPACK_IMPORTED_MODULE_1__/* .CursorMoveCommands.expandLineSelection */ .P.expandLineSelection(viewModel,viewModel.getCursorStates()));viewModel.revealPrimaryCursor(args.source,true);}}]);return ExpandLineSelectionAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .EditorAction */ .R6);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_0__/* .registerEditorAction */ .Qr)(ExpandLineSelectionAction);

/***/ }),

/***/ 10828:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "AbstractCaseAction": () => (/* binding */ AbstractCaseAction),
  "AbstractDeleteAllToBoundaryAction": () => (/* binding */ AbstractDeleteAllToBoundaryAction),
  "AbstractSortLinesAction": () => (/* binding */ AbstractSortLinesAction),
  "DeleteAllLeftAction": () => (/* binding */ DeleteAllLeftAction),
  "DeleteAllRightAction": () => (/* binding */ DeleteAllRightAction),
  "DeleteDuplicateLinesAction": () => (/* binding */ DeleteDuplicateLinesAction),
  "DeleteLinesAction": () => (/* binding */ DeleteLinesAction),
  "DuplicateSelectionAction": () => (/* binding */ DuplicateSelectionAction),
  "IndentLinesAction": () => (/* binding */ IndentLinesAction),
  "InsertLineAfterAction": () => (/* binding */ InsertLineAfterAction),
  "InsertLineBeforeAction": () => (/* binding */ InsertLineBeforeAction),
  "JoinLinesAction": () => (/* binding */ JoinLinesAction),
  "LowerCaseAction": () => (/* binding */ LowerCaseAction),
  "SnakeCaseAction": () => (/* binding */ SnakeCaseAction),
  "SortLinesAscendingAction": () => (/* binding */ SortLinesAscendingAction),
  "SortLinesDescendingAction": () => (/* binding */ SortLinesDescendingAction),
  "TitleCaseAction": () => (/* binding */ TitleCaseAction),
  "TransposeAction": () => (/* binding */ TransposeAction),
  "TrimTrailingWhitespaceAction": () => (/* binding */ TrimTrailingWhitespaceAction),
  "UpperCaseAction": () => (/* binding */ UpperCaseAction)
});

// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/keyCodes.js
var keyCodes = __webpack_require__(61273);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/controller/coreCommands.js
var coreCommands = __webpack_require__(91973);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/commands/replaceCommand.js
var replaceCommand = __webpack_require__(70523);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/commands/trimTrailingWhitespaceCommand.js
var trimTrailingWhitespaceCommand = __webpack_require__(40309);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/cursor/cursorTypeOperations.js + 1 modules
var cursorTypeOperations = __webpack_require__(20683);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/editOperation.js
var editOperation = __webpack_require__(63332);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/position.js
var position = __webpack_require__(60721);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var core_range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js
var core_selection = __webpack_require__(33199);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js
var editorContextKeys = __webpack_require__(48919);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/browser/copyLinesCommand.js
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var CopyLinesCommand=/*#__PURE__*/function(){function CopyLinesCommand(selection,isCopyingDown,noop){_classCallCheck(this,CopyLinesCommand);this._selection=selection;this._isCopyingDown=isCopyingDown;this._noop=noop||false;this._selectionDirection=0/* LTR */;this._selectionId=null;this._startLineNumberDelta=0;this._endLineNumberDelta=0;}_createClass(CopyLinesCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){var s=this._selection;this._startLineNumberDelta=0;this._endLineNumberDelta=0;if(s.startLineNumber<s.endLineNumber&&s.endColumn===1){this._endLineNumberDelta=1;s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1));}var sourceLines=[];for(var i=s.startLineNumber;i<=s.endLineNumber;i++){sourceLines.push(model.getLineContent(i));}var sourceText=sourceLines.join('\n');if(sourceText===''){// Duplicating empty line
if(this._isCopyingDown){this._startLineNumberDelta++;this._endLineNumberDelta++;}}if(this._noop){builder.addEditOperation(new core_range/* Range */.e(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber+1,1),s.endLineNumber===model.getLineCount()?'':'\n');}else{if(!this._isCopyingDown){builder.addEditOperation(new core_range/* Range */.e(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),'\n'+sourceText);}else{builder.addEditOperation(new core_range/* Range */.e(s.startLineNumber,1,s.startLineNumber,1),sourceText+'\n');}}this._selectionId=builder.trackSelection(s);this._selectionDirection=this._selection.getDirection();}},{key:"computeCursorState",value:function computeCursorState(model,helper){var result=helper.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var startLineNumber=result.startLineNumber;var startColumn=result.startColumn;var endLineNumber=result.endLineNumber;var endColumn=result.endColumn;if(this._startLineNumberDelta!==0){startLineNumber=startLineNumber+this._startLineNumberDelta;startColumn=1;}if(this._endLineNumberDelta!==0){endLineNumber=endLineNumber+this._endLineNumberDelta;endColumn=1;}result=core_selection/* Selection.createWithDirection */.Y.createWithDirection(startLineNumber,startColumn,endLineNumber,endColumn,this._selectionDirection);}return result;}}]);return CopyLinesCommand;}();
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/strings.js
var strings = __webpack_require__(41712);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/commands/shiftCommand.js
var shiftCommand = __webpack_require__(6215);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/languageConfiguration.js
var languageConfiguration = __webpack_require__(97657);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages/languageConfigurationRegistry.js + 4 modules
var languageConfigurationRegistry = __webpack_require__(71567);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/indentation/browser/indentUtils.js
var indentUtils = __webpack_require__(58076);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/browser/moveLinesCommand.js
function moveLinesCommand_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function moveLinesCommand_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function moveLinesCommand_createClass(Constructor,protoProps,staticProps){if(protoProps)moveLinesCommand_defineProperties(Constructor.prototype,protoProps);if(staticProps)moveLinesCommand_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var MoveLinesCommand=/*#__PURE__*/function(){function MoveLinesCommand(selection,isMovingDown,autoIndent){moveLinesCommand_classCallCheck(this,MoveLinesCommand);this._selection=selection;this._isMovingDown=isMovingDown;this._autoIndent=autoIndent;this._selectionId=null;this._moveEndLineSelectionShrink=false;}moveLinesCommand_createClass(MoveLinesCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){var modelLineCount=model.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===modelLineCount){this._selectionId=builder.trackSelection(this._selection);return;}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=builder.trackSelection(this._selection);return;}this._moveEndPositionDown=false;var s=this._selection;if(s.startLineNumber<s.endLineNumber&&s.endColumn===1){this._moveEndPositionDown=true;s=s.setEndPosition(s.endLineNumber-1,model.getLineMaxColumn(s.endLineNumber-1));}var _model$getOptions=model.getOptions(),tabSize=_model$getOptions.tabSize,indentSize=_model$getOptions.indentSize,insertSpaces=_model$getOptions.insertSpaces;var indentConverter=this.buildIndentConverter(tabSize,indentSize,insertSpaces);var virtualModel={getLineTokens:function getLineTokens(lineNumber){return model.getLineTokens(lineNumber);},getLanguageId:function getLanguageId(){return model.getLanguageId();},getLanguageIdAtPosition:function getLanguageIdAtPosition(lineNumber,column){return model.getLanguageIdAtPosition(lineNumber,column);},getLineContent:null};if(s.startLineNumber===s.endLineNumber&&model.getLineMaxColumn(s.startLineNumber)===1){// Current line is empty
var lineNumber=s.startLineNumber;var otherLineNumber=this._isMovingDown?lineNumber+1:lineNumber-1;if(model.getLineMaxColumn(otherLineNumber)===1){// Other line number is empty too, so no editing is needed
// Add a no-op to force running by the model
builder.addEditOperation(new core_range/* Range */.e(1,1,1,1),null);}else{// Type content from other line number on line number
builder.addEditOperation(new core_range/* Range */.e(lineNumber,1,lineNumber,1),model.getLineContent(otherLineNumber));// Remove content from other line number
builder.addEditOperation(new core_range/* Range */.e(otherLineNumber,1,otherLineNumber,model.getLineMaxColumn(otherLineNumber)),null);}// Track selection at the other line number
s=new core_selection/* Selection */.Y(otherLineNumber,1,otherLineNumber,1);}else{var movingLineNumber;var movingLineText;if(this._isMovingDown){movingLineNumber=s.endLineNumber+1;movingLineText=model.getLineContent(movingLineNumber);// Delete line that needs to be moved
builder.addEditOperation(new core_range/* Range */.e(movingLineNumber-1,model.getLineMaxColumn(movingLineNumber-1),movingLineNumber,model.getLineMaxColumn(movingLineNumber)),null);var insertingText=movingLineText;if(this.shouldAutoIndent(model,s)){var movingLineMatchResult=this.matchEnterRule(model,indentConverter,tabSize,movingLineNumber,s.startLineNumber-1);// if s.startLineNumber - 1 matches onEnter rule, we still honor that.
if(movingLineMatchResult!==null){var oldIndentation=strings/* getLeadingWhitespace */.V8(model.getLineContent(movingLineNumber));var newSpaceCnt=movingLineMatchResult+indentUtils/* getSpaceCnt */.Y(oldIndentation,tabSize);var newIndentation=indentUtils/* generateIndent */.J(newSpaceCnt,tabSize,insertSpaces);insertingText=newIndentation+this.trimLeft(movingLineText);}else{// no enter rule matches, let's check indentatin rules then.
virtualModel.getLineContent=function(lineNumber){if(lineNumber===s.startLineNumber){return model.getLineContent(movingLineNumber);}else{return model.getLineContent(lineNumber);}};var indentOfMovingLine=languageConfigurationRegistry/* LanguageConfigurationRegistry.getGoodIndentForLine */.zu.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(movingLineNumber,1),s.startLineNumber,indentConverter);if(indentOfMovingLine!==null){var _oldIndentation=strings/* getLeadingWhitespace */.V8(model.getLineContent(movingLineNumber));var _newSpaceCnt=indentUtils/* getSpaceCnt */.Y(indentOfMovingLine,tabSize);var oldSpaceCnt=indentUtils/* getSpaceCnt */.Y(_oldIndentation,tabSize);if(_newSpaceCnt!==oldSpaceCnt){var _newIndentation=indentUtils/* generateIndent */.J(_newSpaceCnt,tabSize,insertSpaces);insertingText=_newIndentation+this.trimLeft(movingLineText);}}}// add edit operations for moving line first to make sure it's executed after we make indentation change
// to s.startLineNumber
builder.addEditOperation(new core_range/* Range */.e(s.startLineNumber,1,s.startLineNumber,1),insertingText+'\n');var ret=this.matchEnterRuleMovingDown(model,indentConverter,tabSize,s.startLineNumber,movingLineNumber,insertingText);// check if the line being moved before matches onEnter rules, if so let's adjust the indentation by onEnter rules.
if(ret!==null){if(ret!==0){this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,ret);}}else{// it doesn't match onEnter rules, let's check indentation rules then.
virtualModel.getLineContent=function(lineNumber){if(lineNumber===s.startLineNumber){return insertingText;}else if(lineNumber>=s.startLineNumber+1&&lineNumber<=s.endLineNumber+1){return model.getLineContent(lineNumber-1);}else{return model.getLineContent(lineNumber);}};var newIndentatOfMovingBlock=languageConfigurationRegistry/* LanguageConfigurationRegistry.getGoodIndentForLine */.zu.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(movingLineNumber,1),s.startLineNumber+1,indentConverter);if(newIndentatOfMovingBlock!==null){var _oldIndentation2=strings/* getLeadingWhitespace */.V8(model.getLineContent(s.startLineNumber));var _newSpaceCnt2=indentUtils/* getSpaceCnt */.Y(newIndentatOfMovingBlock,tabSize);var _oldSpaceCnt=indentUtils/* getSpaceCnt */.Y(_oldIndentation2,tabSize);if(_newSpaceCnt2!==_oldSpaceCnt){var spaceCntOffset=_newSpaceCnt2-_oldSpaceCnt;this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,spaceCntOffset);}}}}else{// Insert line that needs to be moved before
builder.addEditOperation(new core_range/* Range */.e(s.startLineNumber,1,s.startLineNumber,1),insertingText+'\n');}}else{movingLineNumber=s.startLineNumber-1;movingLineText=model.getLineContent(movingLineNumber);// Delete line that needs to be moved
builder.addEditOperation(new core_range/* Range */.e(movingLineNumber,1,movingLineNumber+1,1),null);// Insert line that needs to be moved after
builder.addEditOperation(new core_range/* Range */.e(s.endLineNumber,model.getLineMaxColumn(s.endLineNumber),s.endLineNumber,model.getLineMaxColumn(s.endLineNumber)),'\n'+movingLineText);if(this.shouldAutoIndent(model,s)){virtualModel.getLineContent=function(lineNumber){if(lineNumber===movingLineNumber){return model.getLineContent(s.startLineNumber);}else{return model.getLineContent(lineNumber);}};var _ret=this.matchEnterRule(model,indentConverter,tabSize,s.startLineNumber,s.startLineNumber-2);// check if s.startLineNumber - 2 matches onEnter rules, if so adjust the moving block by onEnter rules.
if(_ret!==null){if(_ret!==0){this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,_ret);}}else{// it doesn't match any onEnter rule, let's check indentation rules then.
var indentOfFirstLine=languageConfigurationRegistry/* LanguageConfigurationRegistry.getGoodIndentForLine */.zu.getGoodIndentForLine(this._autoIndent,virtualModel,model.getLanguageIdAtPosition(s.startLineNumber,1),movingLineNumber,indentConverter);if(indentOfFirstLine!==null){// adjust the indentation of the moving block
var oldIndent=strings/* getLeadingWhitespace */.V8(model.getLineContent(s.startLineNumber));var _newSpaceCnt3=indentUtils/* getSpaceCnt */.Y(indentOfFirstLine,tabSize);var _oldSpaceCnt2=indentUtils/* getSpaceCnt */.Y(oldIndent,tabSize);if(_newSpaceCnt3!==_oldSpaceCnt2){var _spaceCntOffset=_newSpaceCnt3-_oldSpaceCnt2;this.getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,_spaceCntOffset);}}}}}}this._selectionId=builder.trackSelection(s);}},{key:"buildIndentConverter",value:function buildIndentConverter(tabSize,indentSize,insertSpaces){return{shiftIndent:function shiftIndent(indentation){return shiftCommand/* ShiftCommand.shiftIndent */.U.shiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces);},unshiftIndent:function unshiftIndent(indentation){return shiftCommand/* ShiftCommand.unshiftIndent */.U.unshiftIndent(indentation,indentation.length+1,tabSize,indentSize,insertSpaces);}};}},{key:"parseEnterResult",value:function parseEnterResult(model,indentConverter,tabSize,line,enter){if(enter){var enterPrefix=enter.indentation;if(enter.indentAction===languageConfiguration/* IndentAction.None */.wU.None){enterPrefix=enter.indentation+enter.appendText;}else if(enter.indentAction===languageConfiguration/* IndentAction.Indent */.wU.Indent){enterPrefix=enter.indentation+enter.appendText;}else if(enter.indentAction===languageConfiguration/* IndentAction.IndentOutdent */.wU.IndentOutdent){enterPrefix=enter.indentation;}else if(enter.indentAction===languageConfiguration/* IndentAction.Outdent */.wU.Outdent){enterPrefix=indentConverter.unshiftIndent(enter.indentation)+enter.appendText;}var movingLineText=model.getLineContent(line);if(this.trimLeft(movingLineText).indexOf(this.trimLeft(enterPrefix))>=0){var oldIndentation=strings/* getLeadingWhitespace */.V8(model.getLineContent(line));var newIndentation=strings/* getLeadingWhitespace */.V8(enterPrefix);var indentMetadataOfMovelingLine=languageConfigurationRegistry/* LanguageConfigurationRegistry.getIndentMetadata */.zu.getIndentMetadata(model,line);if(indentMetadataOfMovelingLine!==null&&indentMetadataOfMovelingLine&2/* DECREASE_MASK */){newIndentation=indentConverter.unshiftIndent(newIndentation);}var newSpaceCnt=indentUtils/* getSpaceCnt */.Y(newIndentation,tabSize);var oldSpaceCnt=indentUtils/* getSpaceCnt */.Y(oldIndentation,tabSize);return newSpaceCnt-oldSpaceCnt;}}return null;}/**
     *
     * @param model
     * @param indentConverter
     * @param tabSize
     * @param line the line moving down
     * @param futureAboveLineNumber the line which will be at the `line` position
     * @param futureAboveLineText
     */},{key:"matchEnterRuleMovingDown",value:function matchEnterRuleMovingDown(model,indentConverter,tabSize,line,futureAboveLineNumber,futureAboveLineText){if(strings/* lastNonWhitespaceIndex */.ow(futureAboveLineText)>=0){// break
var maxColumn=model.getLineMaxColumn(futureAboveLineNumber);var enter=languageConfigurationRegistry/* LanguageConfigurationRegistry.getEnterAction */.zu.getEnterAction(this._autoIndent,model,new core_range/* Range */.e(futureAboveLineNumber,maxColumn,futureAboveLineNumber,maxColumn));return this.parseEnterResult(model,indentConverter,tabSize,line,enter);}else{// go upwards, starting from `line - 1`
var validPrecedingLine=line-1;while(validPrecedingLine>=1){var lineContent=model.getLineContent(validPrecedingLine);var nonWhitespaceIdx=strings/* lastNonWhitespaceIndex */.ow(lineContent);if(nonWhitespaceIdx>=0){break;}validPrecedingLine--;}if(validPrecedingLine<1||line>model.getLineCount()){return null;}var _maxColumn=model.getLineMaxColumn(validPrecedingLine);var _enter=languageConfigurationRegistry/* LanguageConfigurationRegistry.getEnterAction */.zu.getEnterAction(this._autoIndent,model,new core_range/* Range */.e(validPrecedingLine,_maxColumn,validPrecedingLine,_maxColumn));return this.parseEnterResult(model,indentConverter,tabSize,line,_enter);}}},{key:"matchEnterRule",value:function matchEnterRule(model,indentConverter,tabSize,line,oneLineAbove,previousLineText){var validPrecedingLine=oneLineAbove;while(validPrecedingLine>=1){// ship empty lines as empty lines just inherit indentation
var lineContent=void 0;if(validPrecedingLine===oneLineAbove&&previousLineText!==undefined){lineContent=previousLineText;}else{lineContent=model.getLineContent(validPrecedingLine);}var nonWhitespaceIdx=strings/* lastNonWhitespaceIndex */.ow(lineContent);if(nonWhitespaceIdx>=0){break;}validPrecedingLine--;}if(validPrecedingLine<1||line>model.getLineCount()){return null;}var maxColumn=model.getLineMaxColumn(validPrecedingLine);var enter=languageConfigurationRegistry/* LanguageConfigurationRegistry.getEnterAction */.zu.getEnterAction(this._autoIndent,model,new core_range/* Range */.e(validPrecedingLine,maxColumn,validPrecedingLine,maxColumn));return this.parseEnterResult(model,indentConverter,tabSize,line,enter);}},{key:"trimLeft",value:function trimLeft(str){return str.replace(/^\s+/,'');}},{key:"shouldAutoIndent",value:function shouldAutoIndent(model,selection){if(this._autoIndent<4/* Full */){return false;}// if it's not easy to tokenize, we stop auto indent.
if(!model.isCheapToTokenize(selection.startLineNumber)){return false;}var languageAtSelectionStart=model.getLanguageIdAtPosition(selection.startLineNumber,1);var languageAtSelectionEnd=model.getLanguageIdAtPosition(selection.endLineNumber,1);if(languageAtSelectionStart!==languageAtSelectionEnd){return false;}if(languageConfigurationRegistry/* LanguageConfigurationRegistry.getIndentRulesSupport */.zu.getIndentRulesSupport(languageAtSelectionStart)===null){return false;}return true;}},{key:"getIndentEditsOfMovingBlock",value:function getIndentEditsOfMovingBlock(model,builder,s,tabSize,insertSpaces,offset){for(var i=s.startLineNumber;i<=s.endLineNumber;i++){var lineContent=model.getLineContent(i);var originalIndent=strings/* getLeadingWhitespace */.V8(lineContent);var originalSpacesCnt=indentUtils/* getSpaceCnt */.Y(originalIndent,tabSize);var newSpacesCnt=originalSpacesCnt+offset;var newIndent=indentUtils/* generateIndent */.J(newSpacesCnt,tabSize,insertSpaces);if(newIndent!==originalIndent){builder.addEditOperation(new core_range/* Range */.e(i,1,i,originalIndent.length+1),newIndent);if(i===s.endLineNumber&&s.endColumn<=originalIndent.length+1&&newIndent===''){// as users select part of the original indent white spaces
// when we adjust the indentation of endLine, we should adjust the cursor position as well.
this._moveEndLineSelectionShrink=true;}}}}},{key:"computeCursorState",value:function computeCursorState(model,helper){var result=helper.getTrackedSelection(this._selectionId);if(this._moveEndPositionDown){result=result.setEndPosition(result.endLineNumber+1,1);}if(this._moveEndLineSelectionShrink&&result.startLineNumber<result.endLineNumber){result=result.setEndPosition(result.endLineNumber,2);}return result;}}]);return MoveLinesCommand;}();
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/browser/sortLinesCommand.js
function sortLinesCommand_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function sortLinesCommand_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function sortLinesCommand_createClass(Constructor,protoProps,staticProps){if(protoProps)sortLinesCommand_defineProperties(Constructor.prototype,protoProps);if(staticProps)sortLinesCommand_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var SortLinesCommand=/*#__PURE__*/function(){function SortLinesCommand(selection,descending){sortLinesCommand_classCallCheck(this,SortLinesCommand);this.selection=selection;this.descending=descending;this.selectionId=null;}sortLinesCommand_createClass(SortLinesCommand,[{key:"getEditOperations",value:function getEditOperations(model,builder){var op=sortLines(model,this.selection,this.descending);if(op){builder.addEditOperation(op.range,op.text);}this.selectionId=builder.trackSelection(this.selection);}},{key:"computeCursorState",value:function computeCursorState(model,helper){return helper.getTrackedSelection(this.selectionId);}}],[{key:"getCollator",value:function getCollator(){if(!SortLinesCommand._COLLATOR){SortLinesCommand._COLLATOR=new Intl.Collator();}return SortLinesCommand._COLLATOR;}},{key:"canRun",value:function canRun(model,selection,descending){if(model===null){return false;}var data=getSortData(model,selection,descending);if(!data){return false;}for(var i=0,len=data.before.length;i<len;i++){if(data.before[i]!==data.after[i]){return true;}}return false;}}]);return SortLinesCommand;}();SortLinesCommand._COLLATOR=null;function getSortData(model,selection,descending){var startLineNumber=selection.startLineNumber;var endLineNumber=selection.endLineNumber;if(selection.endColumn===1){endLineNumber--;}// Nothing to sort if user didn't select anything.
if(startLineNumber>=endLineNumber){return null;}var linesToSort=[];// Get the contents of the selection to be sorted.
for(var lineNumber=startLineNumber;lineNumber<=endLineNumber;lineNumber++){linesToSort.push(model.getLineContent(lineNumber));}var sorted=linesToSort.slice(0);sorted.sort(SortLinesCommand.getCollator().compare);// If descending, reverse the order.
if(descending===true){sorted=sorted.reverse();}return{startLineNumber:startLineNumber,endLineNumber:endLineNumber,before:linesToSort,after:sorted};}/**
 * Generate commands for sorting lines on a model.
 */function sortLines(model,selection,descending){var data=getSortData(model,selection,descending);if(!data){return null;}return editOperation/* EditOperation.replace */.h.replace(new core_range/* Range */.e(data.startLineNumber,1,data.endLineNumber,model.getLineMaxColumn(data.endLineNumber)),data.after.join('\n'));}
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js
var actions = __webpack_require__(25749);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/linesOperations/browser/linesOperations.js
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function linesOperations_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function linesOperations_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function linesOperations_createClass(Constructor,protoProps,staticProps){if(protoProps)linesOperations_defineProperties(Constructor.prototype,protoProps);if(staticProps)linesOperations_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/// copy lines
var AbstractCopyLinesAction=/*#__PURE__*/function(_EditorAction){_inherits(AbstractCopyLinesAction,_EditorAction);var _super=_createSuper(AbstractCopyLinesAction);function AbstractCopyLinesAction(down,opts){var _this;linesOperations_classCallCheck(this,AbstractCopyLinesAction);_this=_super.call(this,opts);_this.down=down;return _this;}linesOperations_createClass(AbstractCopyLinesAction,[{key:"run",value:function run(_accessor,editor){if(!editor.hasModel()){return;}var selections=editor.getSelections().map(function(selection,index){return{selection:selection,index:index,ignore:false};});selections.sort(function(a,b){return core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(a.selection,b.selection);});// Remove selections that would result in copying the same line
var prev=selections[0];for(var i=1;i<selections.length;i++){var curr=selections[i];if(prev.selection.endLineNumber===curr.selection.startLineNumber){// these two selections would copy the same line
if(prev.index<curr.index){// prev wins
curr.ignore=true;}else{// curr wins
prev.ignore=true;prev=curr;}}}var commands=[];var _iterator=_createForOfIteratorHelper(selections),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var selection=_step.value;commands.push(new CopyLinesCommand(selection.selection,this.down,selection.ignore));}}catch(err){_iterator.e(err);}finally{_iterator.f();}editor.pushUndoStop();editor.executeCommands(this.id,commands);editor.pushUndoStop();}}]);return AbstractCopyLinesAction;}(editorExtensions/* EditorAction */.R6);var CopyLinesUpAction=/*#__PURE__*/function(_AbstractCopyLinesAct){_inherits(CopyLinesUpAction,_AbstractCopyLinesAct);var _super2=_createSuper(CopyLinesUpAction);function CopyLinesUpAction(){linesOperations_classCallCheck(this,CopyLinesUpAction);return _super2.call(this,false,{id:'editor.action.copyLinesUpAction',label:nls/* localize */.N('lines.copyUp',"Copy Line Up"),alias:'Copy Line Up',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:512/* Alt */|1024/* Shift */|16/* UpArrow */,linux:{primary:2048/* CtrlCmd */|512/* Alt */|1024/* Shift */|16/* UpArrow */},weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarSelectionMenu */.eH.MenubarSelectionMenu,group:'2_line',title:nls/* localize */.N({key:'miCopyLinesUp',comment:['&& denotes a mnemonic']},"&&Copy Line Up"),order:1}});}return CopyLinesUpAction;}(AbstractCopyLinesAction);var CopyLinesDownAction=/*#__PURE__*/function(_AbstractCopyLinesAct2){_inherits(CopyLinesDownAction,_AbstractCopyLinesAct2);var _super3=_createSuper(CopyLinesDownAction);function CopyLinesDownAction(){linesOperations_classCallCheck(this,CopyLinesDownAction);return _super3.call(this,true,{id:'editor.action.copyLinesDownAction',label:nls/* localize */.N('lines.copyDown',"Copy Line Down"),alias:'Copy Line Down',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:512/* Alt */|1024/* Shift */|18/* DownArrow */,linux:{primary:2048/* CtrlCmd */|512/* Alt */|1024/* Shift */|18/* DownArrow */},weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarSelectionMenu */.eH.MenubarSelectionMenu,group:'2_line',title:nls/* localize */.N({key:'miCopyLinesDown',comment:['&& denotes a mnemonic']},"Co&&py Line Down"),order:2}});}return CopyLinesDownAction;}(AbstractCopyLinesAction);var DuplicateSelectionAction=/*#__PURE__*/function(_EditorAction2){_inherits(DuplicateSelectionAction,_EditorAction2);var _super4=_createSuper(DuplicateSelectionAction);function DuplicateSelectionAction(){linesOperations_classCallCheck(this,DuplicateSelectionAction);return _super4.call(this,{id:'editor.action.duplicateSelection',label:nls/* localize */.N('duplicateSelection',"Duplicate Selection"),alias:'Duplicate Selection',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,menuOpts:{menuId:actions/* MenuId.MenubarSelectionMenu */.eH.MenubarSelectionMenu,group:'2_line',title:nls/* localize */.N({key:'miDuplicateSelection',comment:['&& denotes a mnemonic']},"&&Duplicate Selection"),order:5}});}linesOperations_createClass(DuplicateSelectionAction,[{key:"run",value:function run(accessor,editor,args){if(!editor.hasModel()){return;}var commands=[];var selections=editor.getSelections();var model=editor.getModel();var _iterator2=_createForOfIteratorHelper(selections),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var selection=_step2.value;if(selection.isEmpty()){commands.push(new CopyLinesCommand(selection,true));}else{var insertSelection=new core_selection/* Selection */.Y(selection.endLineNumber,selection.endColumn,selection.endLineNumber,selection.endColumn);commands.push(new replaceCommand/* ReplaceCommandThatSelectsText */.OY(insertSelection,model.getValueInRange(selection)));}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}editor.pushUndoStop();editor.executeCommands(this.id,commands);editor.pushUndoStop();}}]);return DuplicateSelectionAction;}(editorExtensions/* EditorAction */.R6);// move lines
var AbstractMoveLinesAction=/*#__PURE__*/function(_EditorAction3){_inherits(AbstractMoveLinesAction,_EditorAction3);var _super5=_createSuper(AbstractMoveLinesAction);function AbstractMoveLinesAction(down,opts){var _this2;linesOperations_classCallCheck(this,AbstractMoveLinesAction);_this2=_super5.call(this,opts);_this2.down=down;return _this2;}linesOperations_createClass(AbstractMoveLinesAction,[{key:"run",value:function run(_accessor,editor){var commands=[];var selections=editor.getSelections()||[];var autoIndent=editor.getOption(9/* autoIndent */);var _iterator3=_createForOfIteratorHelper(selections),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var selection=_step3.value;commands.push(new MoveLinesCommand(selection,this.down,autoIndent));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}editor.pushUndoStop();editor.executeCommands(this.id,commands);editor.pushUndoStop();}}]);return AbstractMoveLinesAction;}(editorExtensions/* EditorAction */.R6);var MoveLinesUpAction=/*#__PURE__*/function(_AbstractMoveLinesAct){_inherits(MoveLinesUpAction,_AbstractMoveLinesAct);var _super6=_createSuper(MoveLinesUpAction);function MoveLinesUpAction(){linesOperations_classCallCheck(this,MoveLinesUpAction);return _super6.call(this,false,{id:'editor.action.moveLinesUpAction',label:nls/* localize */.N('lines.moveUp',"Move Line Up"),alias:'Move Line Up',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:512/* Alt */|16/* UpArrow */,linux:{primary:512/* Alt */|16/* UpArrow */},weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarSelectionMenu */.eH.MenubarSelectionMenu,group:'2_line',title:nls/* localize */.N({key:'miMoveLinesUp',comment:['&& denotes a mnemonic']},"Mo&&ve Line Up"),order:3}});}return MoveLinesUpAction;}(AbstractMoveLinesAction);var MoveLinesDownAction=/*#__PURE__*/function(_AbstractMoveLinesAct2){_inherits(MoveLinesDownAction,_AbstractMoveLinesAct2);var _super7=_createSuper(MoveLinesDownAction);function MoveLinesDownAction(){linesOperations_classCallCheck(this,MoveLinesDownAction);return _super7.call(this,true,{id:'editor.action.moveLinesDownAction',label:nls/* localize */.N('lines.moveDown',"Move Line Down"),alias:'Move Line Down',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:512/* Alt */|18/* DownArrow */,linux:{primary:512/* Alt */|18/* DownArrow */},weight:100/* EditorContrib */},menuOpts:{menuId:actions/* MenuId.MenubarSelectionMenu */.eH.MenubarSelectionMenu,group:'2_line',title:nls/* localize */.N({key:'miMoveLinesDown',comment:['&& denotes a mnemonic']},"Move &&Line Down"),order:4}});}return MoveLinesDownAction;}(AbstractMoveLinesAction);var AbstractSortLinesAction=/*#__PURE__*/function(_EditorAction4){_inherits(AbstractSortLinesAction,_EditorAction4);var _super8=_createSuper(AbstractSortLinesAction);function AbstractSortLinesAction(descending,opts){var _this3;linesOperations_classCallCheck(this,AbstractSortLinesAction);_this3=_super8.call(this,opts);_this3.descending=descending;return _this3;}linesOperations_createClass(AbstractSortLinesAction,[{key:"run",value:function run(_accessor,editor){var selections=editor.getSelections()||[];var _iterator4=_createForOfIteratorHelper(selections),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var selection=_step4.value;if(!SortLinesCommand.canRun(editor.getModel(),selection,this.descending)){return;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}var commands=[];for(var i=0,len=selections.length;i<len;i++){commands[i]=new SortLinesCommand(selections[i],this.descending);}editor.pushUndoStop();editor.executeCommands(this.id,commands);editor.pushUndoStop();}}]);return AbstractSortLinesAction;}(editorExtensions/* EditorAction */.R6);var SortLinesAscendingAction=/*#__PURE__*/function(_AbstractSortLinesAct){_inherits(SortLinesAscendingAction,_AbstractSortLinesAct);var _super9=_createSuper(SortLinesAscendingAction);function SortLinesAscendingAction(){linesOperations_classCallCheck(this,SortLinesAscendingAction);return _super9.call(this,false,{id:'editor.action.sortLinesAscending',label:nls/* localize */.N('lines.sortAscending',"Sort Lines Ascending"),alias:'Sort Lines Ascending',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}return SortLinesAscendingAction;}(AbstractSortLinesAction);var SortLinesDescendingAction=/*#__PURE__*/function(_AbstractSortLinesAct2){_inherits(SortLinesDescendingAction,_AbstractSortLinesAct2);var _super10=_createSuper(SortLinesDescendingAction);function SortLinesDescendingAction(){linesOperations_classCallCheck(this,SortLinesDescendingAction);return _super10.call(this,true,{id:'editor.action.sortLinesDescending',label:nls/* localize */.N('lines.sortDescending',"Sort Lines Descending"),alias:'Sort Lines Descending',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}return SortLinesDescendingAction;}(AbstractSortLinesAction);var DeleteDuplicateLinesAction=/*#__PURE__*/function(_EditorAction5){_inherits(DeleteDuplicateLinesAction,_EditorAction5);var _super11=_createSuper(DeleteDuplicateLinesAction);function DeleteDuplicateLinesAction(){linesOperations_classCallCheck(this,DeleteDuplicateLinesAction);return _super11.call(this,{id:'editor.action.removeDuplicateLines',label:nls/* localize */.N('lines.deleteDuplicates',"Delete Duplicate Lines"),alias:'Delete Duplicate Lines',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}linesOperations_createClass(DeleteDuplicateLinesAction,[{key:"run",value:function run(_accessor,editor){if(!editor.hasModel()){return;}var model=editor.getModel();if(model.getLineCount()===1&&model.getLineMaxColumn(1)===1){return;}var edits=[];var endCursorState=[];var linesDeleted=0;var _iterator5=_createForOfIteratorHelper(editor.getSelections()),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var selection=_step5.value;var uniqueLines=new Set();var lines=[];for(var i=selection.startLineNumber;i<=selection.endLineNumber;i++){var line=model.getLineContent(i);if(uniqueLines.has(line)){continue;}lines.push(line);uniqueLines.add(line);}var selectionToReplace=new core_selection/* Selection */.Y(selection.startLineNumber,1,selection.endLineNumber,model.getLineMaxColumn(selection.endLineNumber));var adjustedSelectionStart=selection.startLineNumber-linesDeleted;var finalSelection=new core_selection/* Selection */.Y(adjustedSelectionStart,1,adjustedSelectionStart+lines.length-1,lines[lines.length-1].length);edits.push(editOperation/* EditOperation.replace */.h.replace(selectionToReplace,lines.join('\n')));endCursorState.push(finalSelection);linesDeleted+=selection.endLineNumber-selection.startLineNumber+1-lines.length;}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}editor.pushUndoStop();editor.executeEdits(this.id,edits,endCursorState);editor.pushUndoStop();}}]);return DeleteDuplicateLinesAction;}(editorExtensions/* EditorAction */.R6);var TrimTrailingWhitespaceAction=/*#__PURE__*/function(_EditorAction6){_inherits(TrimTrailingWhitespaceAction,_EditorAction6);var _super12=_createSuper(TrimTrailingWhitespaceAction);function TrimTrailingWhitespaceAction(){linesOperations_classCallCheck(this,TrimTrailingWhitespaceAction);return _super12.call(this,{id:TrimTrailingWhitespaceAction.ID,label:nls/* localize */.N('lines.trimTrailingWhitespace',"Trim Trailing Whitespace"),alias:'Trim Trailing Whitespace',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:(0,keyCodes/* KeyChord */.gx)(2048/* CtrlCmd */|41/* KeyK */,2048/* CtrlCmd */|54/* KeyX */),weight:100/* EditorContrib */}});}linesOperations_createClass(TrimTrailingWhitespaceAction,[{key:"run",value:function run(_accessor,editor,args){var cursors=[];if(args.reason==='auto-save'){// See https://github.com/editorconfig/editorconfig-vscode/issues/47
// It is very convenient for the editor config extension to invoke this action.
// So, if we get a reason:'auto-save' passed in, let's preserve cursor positions.
cursors=(editor.getSelections()||[]).map(function(s){return new position/* Position */.L(s.positionLineNumber,s.positionColumn);});}var selection=editor.getSelection();if(selection===null){return;}var command=new trimTrailingWhitespaceCommand/* TrimTrailingWhitespaceCommand */.V(selection,cursors);editor.pushUndoStop();editor.executeCommands(this.id,[command]);editor.pushUndoStop();}}]);return TrimTrailingWhitespaceAction;}(editorExtensions/* EditorAction */.R6);TrimTrailingWhitespaceAction.ID='editor.action.trimTrailingWhitespace';var DeleteLinesAction=/*#__PURE__*/function(_EditorAction7){_inherits(DeleteLinesAction,_EditorAction7);var _super13=_createSuper(DeleteLinesAction);function DeleteLinesAction(){linesOperations_classCallCheck(this,DeleteLinesAction);return _super13.call(this,{id:'editor.action.deleteLines',label:nls/* localize */.N('lines.delete',"Delete Line"),alias:'Delete Line',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.textInputFocus */.u.textInputFocus,primary:2048/* CtrlCmd */|1024/* Shift */|41/* KeyK */,weight:100/* EditorContrib */}});}linesOperations_createClass(DeleteLinesAction,[{key:"run",value:function run(_accessor,editor){if(!editor.hasModel()){return;}var ops=this._getLinesToRemove(editor);var model=editor.getModel();if(model.getLineCount()===1&&model.getLineMaxColumn(1)===1){// Model is empty
return;}var linesDeleted=0;var edits=[];var cursorState=[];for(var i=0,len=ops.length;i<len;i++){var op=ops[i];var startLineNumber=op.startLineNumber;var endLineNumber=op.endLineNumber;var startColumn=1;var endColumn=model.getLineMaxColumn(endLineNumber);if(endLineNumber<model.getLineCount()){endLineNumber+=1;endColumn=1;}else if(startLineNumber>1){startLineNumber-=1;startColumn=model.getLineMaxColumn(startLineNumber);}edits.push(editOperation/* EditOperation.replace */.h.replace(new core_selection/* Selection */.Y(startLineNumber,startColumn,endLineNumber,endColumn),''));cursorState.push(new core_selection/* Selection */.Y(startLineNumber-linesDeleted,op.positionColumn,startLineNumber-linesDeleted,op.positionColumn));linesDeleted+=op.endLineNumber-op.startLineNumber+1;}editor.pushUndoStop();editor.executeEdits(this.id,edits,cursorState);editor.pushUndoStop();}},{key:"_getLinesToRemove",value:function _getLinesToRemove(editor){// Construct delete operations
var operations=editor.getSelections().map(function(s){var endLineNumber=s.endLineNumber;if(s.startLineNumber<s.endLineNumber&&s.endColumn===1){endLineNumber-=1;}return{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:endLineNumber,positionColumn:s.positionColumn};});// Sort delete operations
operations.sort(function(a,b){if(a.startLineNumber===b.startLineNumber){return a.endLineNumber-b.endLineNumber;}return a.startLineNumber-b.startLineNumber;});// Merge delete operations which are adjacent or overlapping
var mergedOperations=[];var previousOperation=operations[0];for(var i=1;i<operations.length;i++){if(previousOperation.endLineNumber+1>=operations[i].startLineNumber){// Merge current operations into the previous one
previousOperation.endLineNumber=operations[i].endLineNumber;}else{// Push previous operation
mergedOperations.push(previousOperation);previousOperation=operations[i];}}// Push the last operation
mergedOperations.push(previousOperation);return mergedOperations;}}]);return DeleteLinesAction;}(editorExtensions/* EditorAction */.R6);var IndentLinesAction=/*#__PURE__*/function(_EditorAction8){_inherits(IndentLinesAction,_EditorAction8);var _super14=_createSuper(IndentLinesAction);function IndentLinesAction(){linesOperations_classCallCheck(this,IndentLinesAction);return _super14.call(this,{id:'editor.action.indentLines',label:nls/* localize */.N('lines.indent',"Indent Line"),alias:'Indent Line',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|89/* BracketRight */,weight:100/* EditorContrib */}});}linesOperations_createClass(IndentLinesAction,[{key:"run",value:function run(_accessor,editor){var viewModel=editor._getViewModel();if(!viewModel){return;}editor.pushUndoStop();editor.executeCommands(this.id,cursorTypeOperations/* TypeOperations.indent */.u.indent(viewModel.cursorConfig,editor.getModel(),editor.getSelections()));editor.pushUndoStop();}}]);return IndentLinesAction;}(editorExtensions/* EditorAction */.R6);var OutdentLinesAction=/*#__PURE__*/function(_EditorAction9){_inherits(OutdentLinesAction,_EditorAction9);var _super15=_createSuper(OutdentLinesAction);function OutdentLinesAction(){linesOperations_classCallCheck(this,OutdentLinesAction);return _super15.call(this,{id:'editor.action.outdentLines',label:nls/* localize */.N('lines.outdent',"Outdent Line"),alias:'Outdent Line',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|87/* BracketLeft */,weight:100/* EditorContrib */}});}linesOperations_createClass(OutdentLinesAction,[{key:"run",value:function run(_accessor,editor){coreCommands.CoreEditingCommands.Outdent.runEditorCommand(_accessor,editor,null);}}]);return OutdentLinesAction;}(editorExtensions/* EditorAction */.R6);var InsertLineBeforeAction=/*#__PURE__*/function(_EditorAction10){_inherits(InsertLineBeforeAction,_EditorAction10);var _super16=_createSuper(InsertLineBeforeAction);function InsertLineBeforeAction(){linesOperations_classCallCheck(this,InsertLineBeforeAction);return _super16.call(this,{id:'editor.action.insertLineBefore',label:nls/* localize */.N('lines.insertBefore',"Insert Line Above"),alias:'Insert Line Above',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|3/* Enter */,weight:100/* EditorContrib */}});}linesOperations_createClass(InsertLineBeforeAction,[{key:"run",value:function run(_accessor,editor){var viewModel=editor._getViewModel();if(!viewModel){return;}editor.pushUndoStop();editor.executeCommands(this.id,cursorTypeOperations/* TypeOperations.lineInsertBefore */.u.lineInsertBefore(viewModel.cursorConfig,editor.getModel(),editor.getSelections()));}}]);return InsertLineBeforeAction;}(editorExtensions/* EditorAction */.R6);var InsertLineAfterAction=/*#__PURE__*/function(_EditorAction11){_inherits(InsertLineAfterAction,_EditorAction11);var _super17=_createSuper(InsertLineAfterAction);function InsertLineAfterAction(){linesOperations_classCallCheck(this,InsertLineAfterAction);return _super17.call(this,{id:'editor.action.insertLineAfter',label:nls/* localize */.N('lines.insertAfter',"Insert Line Below"),alias:'Insert Line Below',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:2048/* CtrlCmd */|3/* Enter */,weight:100/* EditorContrib */}});}linesOperations_createClass(InsertLineAfterAction,[{key:"run",value:function run(_accessor,editor){var viewModel=editor._getViewModel();if(!viewModel){return;}editor.pushUndoStop();editor.executeCommands(this.id,cursorTypeOperations/* TypeOperations.lineInsertAfter */.u.lineInsertAfter(viewModel.cursorConfig,editor.getModel(),editor.getSelections()));}}]);return InsertLineAfterAction;}(editorExtensions/* EditorAction */.R6);var AbstractDeleteAllToBoundaryAction=/*#__PURE__*/function(_EditorAction12){_inherits(AbstractDeleteAllToBoundaryAction,_EditorAction12);var _super18=_createSuper(AbstractDeleteAllToBoundaryAction);function AbstractDeleteAllToBoundaryAction(){linesOperations_classCallCheck(this,AbstractDeleteAllToBoundaryAction);return _super18.apply(this,arguments);}linesOperations_createClass(AbstractDeleteAllToBoundaryAction,[{key:"run",value:function run(_accessor,editor){if(!editor.hasModel()){return;}var primaryCursor=editor.getSelection();var rangesToDelete=this._getRangesToDelete(editor);// merge overlapping selections
var effectiveRanges=[];for(var i=0,count=rangesToDelete.length-1;i<count;i++){var range=rangesToDelete[i];var nextRange=rangesToDelete[i+1];if(core_range/* Range.intersectRanges */.e.intersectRanges(range,nextRange)===null){effectiveRanges.push(range);}else{rangesToDelete[i+1]=core_range/* Range.plusRange */.e.plusRange(range,nextRange);}}effectiveRanges.push(rangesToDelete[rangesToDelete.length-1]);var endCursorState=this._getEndCursorState(primaryCursor,effectiveRanges);var edits=effectiveRanges.map(function(range){return editOperation/* EditOperation.replace */.h.replace(range,'');});editor.pushUndoStop();editor.executeEdits(this.id,edits,endCursorState);editor.pushUndoStop();}}]);return AbstractDeleteAllToBoundaryAction;}(editorExtensions/* EditorAction */.R6);var DeleteAllLeftAction=/*#__PURE__*/function(_AbstractDeleteAllToB){_inherits(DeleteAllLeftAction,_AbstractDeleteAllToB);var _super19=_createSuper(DeleteAllLeftAction);function DeleteAllLeftAction(){linesOperations_classCallCheck(this,DeleteAllLeftAction);return _super19.call(this,{id:'deleteAllLeft',label:nls/* localize */.N('lines.deleteAllLeft',"Delete All Left"),alias:'Delete All Left',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.textInputFocus */.u.textInputFocus,primary:0,mac:{primary:2048/* CtrlCmd */|1/* Backspace */},weight:100/* EditorContrib */}});}linesOperations_createClass(DeleteAllLeftAction,[{key:"_getEndCursorState",value:function _getEndCursorState(primaryCursor,rangesToDelete){var endPrimaryCursor=null;var endCursorState=[];var deletedLines=0;rangesToDelete.forEach(function(range){var endCursor;if(range.endColumn===1&&deletedLines>0){var newStartLine=range.startLineNumber-deletedLines;endCursor=new core_selection/* Selection */.Y(newStartLine,range.startColumn,newStartLine,range.startColumn);}else{endCursor=new core_selection/* Selection */.Y(range.startLineNumber,range.startColumn,range.startLineNumber,range.startColumn);}deletedLines+=range.endLineNumber-range.startLineNumber;if(range.intersectRanges(primaryCursor)){endPrimaryCursor=endCursor;}else{endCursorState.push(endCursor);}});if(endPrimaryCursor){endCursorState.unshift(endPrimaryCursor);}return endCursorState;}},{key:"_getRangesToDelete",value:function _getRangesToDelete(editor){var selections=editor.getSelections();if(selections===null){return[];}var rangesToDelete=selections;var model=editor.getModel();if(model===null){return[];}rangesToDelete.sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);rangesToDelete=rangesToDelete.map(function(selection){if(selection.isEmpty()){if(selection.startColumn===1){var deleteFromLine=Math.max(1,selection.startLineNumber-1);var deleteFromColumn=selection.startLineNumber===1?1:model.getLineContent(deleteFromLine).length+1;return new core_range/* Range */.e(deleteFromLine,deleteFromColumn,selection.startLineNumber,1);}else{return new core_range/* Range */.e(selection.startLineNumber,1,selection.startLineNumber,selection.startColumn);}}else{return new core_range/* Range */.e(selection.startLineNumber,1,selection.endLineNumber,selection.endColumn);}});return rangesToDelete;}}]);return DeleteAllLeftAction;}(AbstractDeleteAllToBoundaryAction);var DeleteAllRightAction=/*#__PURE__*/function(_AbstractDeleteAllToB2){_inherits(DeleteAllRightAction,_AbstractDeleteAllToB2);var _super20=_createSuper(DeleteAllRightAction);function DeleteAllRightAction(){linesOperations_classCallCheck(this,DeleteAllRightAction);return _super20.call(this,{id:'deleteAllRight',label:nls/* localize */.N('lines.deleteAllRight',"Delete All Right"),alias:'Delete All Right',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.textInputFocus */.u.textInputFocus,primary:0,mac:{primary:256/* WinCtrl */|41/* KeyK */,secondary:[2048/* CtrlCmd */|20/* Delete */]},weight:100/* EditorContrib */}});}linesOperations_createClass(DeleteAllRightAction,[{key:"_getEndCursorState",value:function _getEndCursorState(primaryCursor,rangesToDelete){var endPrimaryCursor=null;var endCursorState=[];for(var i=0,len=rangesToDelete.length,offset=0;i<len;i++){var range=rangesToDelete[i];var endCursor=new core_selection/* Selection */.Y(range.startLineNumber-offset,range.startColumn,range.startLineNumber-offset,range.startColumn);if(range.intersectRanges(primaryCursor)){endPrimaryCursor=endCursor;}else{endCursorState.push(endCursor);}}if(endPrimaryCursor){endCursorState.unshift(endPrimaryCursor);}return endCursorState;}},{key:"_getRangesToDelete",value:function _getRangesToDelete(editor){var model=editor.getModel();if(model===null){return[];}var selections=editor.getSelections();if(selections===null){return[];}var rangesToDelete=selections.map(function(sel){if(sel.isEmpty()){var maxColumn=model.getLineMaxColumn(sel.startLineNumber);if(sel.startColumn===maxColumn){return new core_range/* Range */.e(sel.startLineNumber,sel.startColumn,sel.startLineNumber+1,1);}else{return new core_range/* Range */.e(sel.startLineNumber,sel.startColumn,sel.startLineNumber,maxColumn);}}return sel;});rangesToDelete.sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);return rangesToDelete;}}]);return DeleteAllRightAction;}(AbstractDeleteAllToBoundaryAction);var JoinLinesAction=/*#__PURE__*/function(_EditorAction13){_inherits(JoinLinesAction,_EditorAction13);var _super21=_createSuper(JoinLinesAction);function JoinLinesAction(){linesOperations_classCallCheck(this,JoinLinesAction);return _super21.call(this,{id:'editor.action.joinLines',label:nls/* localize */.N('lines.joinLines',"Join Lines"),alias:'Join Lines',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable,kbOpts:{kbExpr:editorContextKeys/* EditorContextKeys.editorTextFocus */.u.editorTextFocus,primary:0,mac:{primary:256/* WinCtrl */|40/* KeyJ */},weight:100/* EditorContrib */}});}linesOperations_createClass(JoinLinesAction,[{key:"run",value:function run(_accessor,editor){var selections=editor.getSelections();if(selections===null){return;}var primaryCursor=editor.getSelection();if(primaryCursor===null){return;}selections.sort(core_range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts);var reducedSelections=[];var lastSelection=selections.reduce(function(previousValue,currentValue){if(previousValue.isEmpty()){if(previousValue.endLineNumber===currentValue.startLineNumber){if(primaryCursor.equalsSelection(previousValue)){primaryCursor=currentValue;}return currentValue;}if(currentValue.startLineNumber>previousValue.endLineNumber+1){reducedSelections.push(previousValue);return currentValue;}else{return new core_selection/* Selection */.Y(previousValue.startLineNumber,previousValue.startColumn,currentValue.endLineNumber,currentValue.endColumn);}}else{if(currentValue.startLineNumber>previousValue.endLineNumber){reducedSelections.push(previousValue);return currentValue;}else{return new core_selection/* Selection */.Y(previousValue.startLineNumber,previousValue.startColumn,currentValue.endLineNumber,currentValue.endColumn);}}});reducedSelections.push(lastSelection);var model=editor.getModel();if(model===null){return;}var edits=[];var endCursorState=[];var endPrimaryCursor=primaryCursor;var lineOffset=0;for(var i=0,len=reducedSelections.length;i<len;i++){var selection=reducedSelections[i];var startLineNumber=selection.startLineNumber;var startColumn=1;var columnDeltaOffset=0;var endLineNumber=void 0,endColumn=void 0;var selectionEndPositionOffset=model.getLineContent(selection.endLineNumber).length-selection.endColumn;if(selection.isEmpty()||selection.startLineNumber===selection.endLineNumber){var position=selection.getStartPosition();if(position.lineNumber<model.getLineCount()){endLineNumber=startLineNumber+1;endColumn=model.getLineMaxColumn(endLineNumber);}else{endLineNumber=position.lineNumber;endColumn=model.getLineMaxColumn(position.lineNumber);}}else{endLineNumber=selection.endLineNumber;endColumn=model.getLineMaxColumn(endLineNumber);}var trimmedLinesContent=model.getLineContent(startLineNumber);for(var _i=startLineNumber+1;_i<=endLineNumber;_i++){var lineText=model.getLineContent(_i);var firstNonWhitespaceIdx=model.getLineFirstNonWhitespaceColumn(_i);if(firstNonWhitespaceIdx>=1){var insertSpace=true;if(trimmedLinesContent===''){insertSpace=false;}if(insertSpace&&(trimmedLinesContent.charAt(trimmedLinesContent.length-1)===' '||trimmedLinesContent.charAt(trimmedLinesContent.length-1)==='\t')){insertSpace=false;trimmedLinesContent=trimmedLinesContent.replace(/[\s\uFEFF\xA0]+$/g,' ');}var lineTextWithoutIndent=lineText.substr(firstNonWhitespaceIdx-1);trimmedLinesContent+=(insertSpace?' ':'')+lineTextWithoutIndent;if(insertSpace){columnDeltaOffset=lineTextWithoutIndent.length+1;}else{columnDeltaOffset=lineTextWithoutIndent.length;}}else{columnDeltaOffset=0;}}var deleteSelection=new core_range/* Range */.e(startLineNumber,startColumn,endLineNumber,endColumn);if(!deleteSelection.isEmpty()){var resultSelection=void 0;if(selection.isEmpty()){edits.push(editOperation/* EditOperation.replace */.h.replace(deleteSelection,trimmedLinesContent));resultSelection=new core_selection/* Selection */.Y(deleteSelection.startLineNumber-lineOffset,trimmedLinesContent.length-columnDeltaOffset+1,startLineNumber-lineOffset,trimmedLinesContent.length-columnDeltaOffset+1);}else{if(selection.startLineNumber===selection.endLineNumber){edits.push(editOperation/* EditOperation.replace */.h.replace(deleteSelection,trimmedLinesContent));resultSelection=new core_selection/* Selection */.Y(selection.startLineNumber-lineOffset,selection.startColumn,selection.endLineNumber-lineOffset,selection.endColumn);}else{edits.push(editOperation/* EditOperation.replace */.h.replace(deleteSelection,trimmedLinesContent));resultSelection=new core_selection/* Selection */.Y(selection.startLineNumber-lineOffset,selection.startColumn,selection.startLineNumber-lineOffset,trimmedLinesContent.length-selectionEndPositionOffset);}}if(core_range/* Range.intersectRanges */.e.intersectRanges(deleteSelection,primaryCursor)!==null){endPrimaryCursor=resultSelection;}else{endCursorState.push(resultSelection);}}lineOffset+=deleteSelection.endLineNumber-deleteSelection.startLineNumber;}endCursorState.unshift(endPrimaryCursor);editor.pushUndoStop();editor.executeEdits(this.id,edits,endCursorState);editor.pushUndoStop();}}]);return JoinLinesAction;}(editorExtensions/* EditorAction */.R6);var TransposeAction=/*#__PURE__*/function(_EditorAction14){_inherits(TransposeAction,_EditorAction14);var _super22=_createSuper(TransposeAction);function TransposeAction(){linesOperations_classCallCheck(this,TransposeAction);return _super22.call(this,{id:'editor.action.transpose',label:nls/* localize */.N('editor.transpose',"Transpose characters around the cursor"),alias:'Transpose characters around the cursor',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}linesOperations_createClass(TransposeAction,[{key:"run",value:function run(_accessor,editor){var selections=editor.getSelections();if(selections===null){return;}var model=editor.getModel();if(model===null){return;}var commands=[];for(var i=0,len=selections.length;i<len;i++){var selection=selections[i];if(!selection.isEmpty()){continue;}var cursor=selection.getStartPosition();var maxColumn=model.getLineMaxColumn(cursor.lineNumber);if(cursor.column>=maxColumn){if(cursor.lineNumber===model.getLineCount()){continue;}// The cursor is at the end of current line and current line is not empty
// then we transpose the character before the cursor and the line break if there is any following line.
var deleteSelection=new core_range/* Range */.e(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber+1,1);var chars=model.getValueInRange(deleteSelection).split('').reverse().join('');commands.push(new replaceCommand/* ReplaceCommand */.T4(new core_selection/* Selection */.Y(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber+1,1),chars));}else{var _deleteSelection=new core_range/* Range */.e(cursor.lineNumber,Math.max(1,cursor.column-1),cursor.lineNumber,cursor.column+1);var _chars=model.getValueInRange(_deleteSelection).split('').reverse().join('');commands.push(new replaceCommand/* ReplaceCommandThatPreservesSelection */.hP(_deleteSelection,_chars,new core_selection/* Selection */.Y(cursor.lineNumber,cursor.column+1,cursor.lineNumber,cursor.column+1)));}}editor.pushUndoStop();editor.executeCommands(this.id,commands);editor.pushUndoStop();}}]);return TransposeAction;}(editorExtensions/* EditorAction */.R6);var AbstractCaseAction=/*#__PURE__*/function(_EditorAction15){_inherits(AbstractCaseAction,_EditorAction15);var _super23=_createSuper(AbstractCaseAction);function AbstractCaseAction(){linesOperations_classCallCheck(this,AbstractCaseAction);return _super23.apply(this,arguments);}linesOperations_createClass(AbstractCaseAction,[{key:"run",value:function run(_accessor,editor){var selections=editor.getSelections();if(selections===null){return;}var model=editor.getModel();if(model===null){return;}var wordSeparators=editor.getOption(117/* wordSeparators */);var textEdits=[];var _iterator6=_createForOfIteratorHelper(selections),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var selection=_step6.value;if(selection.isEmpty()){var cursor=selection.getStartPosition();var word=editor.getConfiguredWordAtPosition(cursor);if(!word){continue;}var wordRange=new core_range/* Range */.e(cursor.lineNumber,word.startColumn,cursor.lineNumber,word.endColumn);var text=model.getValueInRange(wordRange);textEdits.push(editOperation/* EditOperation.replace */.h.replace(wordRange,this._modifyText(text,wordSeparators)));}else{var _text=model.getValueInRange(selection);textEdits.push(editOperation/* EditOperation.replace */.h.replace(selection,this._modifyText(_text,wordSeparators)));}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}editor.pushUndoStop();editor.executeEdits(this.id,textEdits);editor.pushUndoStop();}}]);return AbstractCaseAction;}(editorExtensions/* EditorAction */.R6);var UpperCaseAction=/*#__PURE__*/function(_AbstractCaseAction){_inherits(UpperCaseAction,_AbstractCaseAction);var _super24=_createSuper(UpperCaseAction);function UpperCaseAction(){linesOperations_classCallCheck(this,UpperCaseAction);return _super24.call(this,{id:'editor.action.transformToUppercase',label:nls/* localize */.N('editor.transformToUppercase',"Transform to Uppercase"),alias:'Transform to Uppercase',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}linesOperations_createClass(UpperCaseAction,[{key:"_modifyText",value:function _modifyText(text,wordSeparators){return text.toLocaleUpperCase();}}]);return UpperCaseAction;}(AbstractCaseAction);var LowerCaseAction=/*#__PURE__*/function(_AbstractCaseAction2){_inherits(LowerCaseAction,_AbstractCaseAction2);var _super25=_createSuper(LowerCaseAction);function LowerCaseAction(){linesOperations_classCallCheck(this,LowerCaseAction);return _super25.call(this,{id:'editor.action.transformToLowercase',label:nls/* localize */.N('editor.transformToLowercase',"Transform to Lowercase"),alias:'Transform to Lowercase',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}linesOperations_createClass(LowerCaseAction,[{key:"_modifyText",value:function _modifyText(text,wordSeparators){return text.toLocaleLowerCase();}}]);return LowerCaseAction;}(AbstractCaseAction);var BackwardsCompatibleRegExp=/*#__PURE__*/function(){function BackwardsCompatibleRegExp(_pattern,_flags){linesOperations_classCallCheck(this,BackwardsCompatibleRegExp);this._pattern=_pattern;this._flags=_flags;this._actual=null;this._evaluated=false;}linesOperations_createClass(BackwardsCompatibleRegExp,[{key:"get",value:function get(){if(!this._evaluated){this._evaluated=true;try{this._actual=new RegExp(this._pattern,this._flags);}catch(err){// this browser does not support this regular expression
}}return this._actual;}},{key:"isSupported",value:function isSupported(){return this.get()!==null;}}]);return BackwardsCompatibleRegExp;}();var TitleCaseAction=/*#__PURE__*/function(_AbstractCaseAction3){_inherits(TitleCaseAction,_AbstractCaseAction3);var _super26=_createSuper(TitleCaseAction);function TitleCaseAction(){linesOperations_classCallCheck(this,TitleCaseAction);return _super26.call(this,{id:'editor.action.transformToTitlecase',label:nls/* localize */.N('editor.transformToTitlecase',"Transform to Title Case"),alias:'Transform to Title Case',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}linesOperations_createClass(TitleCaseAction,[{key:"_modifyText",value:function _modifyText(text,wordSeparators){var titleBoundary=TitleCaseAction.titleBoundary.get();if(!titleBoundary){// cannot support this
return text;}return text.toLocaleLowerCase().replace(titleBoundary,function(b){return b.toLocaleUpperCase();});}}]);return TitleCaseAction;}(AbstractCaseAction);TitleCaseAction.titleBoundary=new BackwardsCompatibleRegExp('(^|[^\\p{L}\\p{N}\']|((^|\\P{L})\'))\\p{L}','gmu');var SnakeCaseAction=/*#__PURE__*/function(_AbstractCaseAction4){_inherits(SnakeCaseAction,_AbstractCaseAction4);var _super27=_createSuper(SnakeCaseAction);function SnakeCaseAction(){linesOperations_classCallCheck(this,SnakeCaseAction);return _super27.call(this,{id:'editor.action.transformToSnakecase',label:nls/* localize */.N('editor.transformToSnakecase',"Transform to Snake Case"),alias:'Transform to Snake Case',precondition:editorContextKeys/* EditorContextKeys.writable */.u.writable});}linesOperations_createClass(SnakeCaseAction,[{key:"_modifyText",value:function _modifyText(text,wordSeparators){var caseBoundary=SnakeCaseAction.caseBoundary.get();var singleLetters=SnakeCaseAction.singleLetters.get();if(!caseBoundary||!singleLetters){// cannot support this
return text;}return text.replace(caseBoundary,'$1_$2').replace(singleLetters,'$1_$2$3').toLocaleLowerCase();}}]);return SnakeCaseAction;}(AbstractCaseAction);SnakeCaseAction.caseBoundary=new BackwardsCompatibleRegExp('(\\p{Ll})(\\p{Lu})','gmu');SnakeCaseAction.singleLetters=new BackwardsCompatibleRegExp('(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})','gmu');(0,editorExtensions/* registerEditorAction */.Qr)(CopyLinesUpAction);(0,editorExtensions/* registerEditorAction */.Qr)(CopyLinesDownAction);(0,editorExtensions/* registerEditorAction */.Qr)(DuplicateSelectionAction);(0,editorExtensions/* registerEditorAction */.Qr)(MoveLinesUpAction);(0,editorExtensions/* registerEditorAction */.Qr)(MoveLinesDownAction);(0,editorExtensions/* registerEditorAction */.Qr)(SortLinesAscendingAction);(0,editorExtensions/* registerEditorAction */.Qr)(SortLinesDescendingAction);(0,editorExtensions/* registerEditorAction */.Qr)(DeleteDuplicateLinesAction);(0,editorExtensions/* registerEditorAction */.Qr)(TrimTrailingWhitespaceAction);(0,editorExtensions/* registerEditorAction */.Qr)(DeleteLinesAction);(0,editorExtensions/* registerEditorAction */.Qr)(IndentLinesAction);(0,editorExtensions/* registerEditorAction */.Qr)(OutdentLinesAction);(0,editorExtensions/* registerEditorAction */.Qr)(InsertLineBeforeAction);(0,editorExtensions/* registerEditorAction */.Qr)(InsertLineAfterAction);(0,editorExtensions/* registerEditorAction */.Qr)(DeleteAllLeftAction);(0,editorExtensions/* registerEditorAction */.Qr)(DeleteAllRightAction);(0,editorExtensions/* registerEditorAction */.Qr)(JoinLinesAction);(0,editorExtensions/* registerEditorAction */.Qr)(TransposeAction);(0,editorExtensions/* registerEditorAction */.Qr)(UpperCaseAction);(0,editorExtensions/* registerEditorAction */.Qr)(LowerCaseAction);if(SnakeCaseAction.caseBoundary.isSupported()&&SnakeCaseAction.singleLetters.isSupported()){(0,editorExtensions/* registerEditorAction */.Qr)(SnakeCaseAction);}if(TitleCaseAction.titleBoundary.isSupported()){(0,editorExtensions/* registerEditorAction */.Qr)(TitleCaseAction);}

/***/ }),

/***/ 13036:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE": () => (/* binding */ CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE),
/* harmony export */   "LinkedEditingAction": () => (/* binding */ LinkedEditingAction),
/* harmony export */   "LinkedEditingContribution": () => (/* binding */ LinkedEditingContribution),
/* harmony export */   "editorLinkedEditingBackground": () => (/* binding */ editorLinkedEditingBackground)
/* harmony export */ });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92910);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_common_arrays_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(92224);
/* harmony import */ var _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88494);
/* harmony import */ var _base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82643);
/* harmony import */ var _base_common_color_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65142);
/* harmony import */ var _base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(32314);
/* harmony import */ var _base_common_event_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(36223);
/* harmony import */ var _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(19860);
/* harmony import */ var _base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41712);
/* harmony import */ var _base_common_uri_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(91134);
/* harmony import */ var _browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(79098);
/* harmony import */ var _browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(95328);
/* harmony import */ var _common_core_position_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(60721);
/* harmony import */ var _common_core_range_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(96844);
/* harmony import */ var _common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(48919);
/* harmony import */ var _common_model_textModel_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(58102);
/* harmony import */ var _common_languages_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(98480);
/* harmony import */ var _common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(71567);
/* harmony import */ var _nls_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(71453);
/* harmony import */ var _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(11703);
/* harmony import */ var _platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(25530);
/* harmony import */ var _platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(46199);
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new _platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_15__/* .RawContextKey */ .uy('LinkedEditingInputVisible',false);var DECORATION_CLASS_NAME='linked-editing-decoration';var LinkedEditingContribution=/*#__PURE__*/function(_Disposable){_inherits(LinkedEditingContribution,_Disposable);var _super=_createSuper(LinkedEditingContribution);function LinkedEditingContribution(editor,contextKeyService,languageConfigurationService){var _this;_classCallCheck(this,LinkedEditingContribution);_this=_super.call(this);_this.languageConfigurationService=languageConfigurationService;_this._debounceDuration=200;_this._localToDispose=_this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__/* .DisposableStore */ .SL());_this._editor=editor;_this._enabled=false;_this._visibleContextKey=CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);_this._currentDecorations=[];_this._languageWordPattern=null;_this._currentWordPattern=null;_this._ignoreChangeEvent=false;_this._localToDispose=_this._register(new _base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__/* .DisposableStore */ .SL());_this._rangeUpdateTriggerPromise=null;_this._rangeSyncTriggerPromise=null;_this._currentRequest=null;_this._currentRequestPosition=null;_this._currentRequestModelVersion=null;_this._register(_this._editor.onDidChangeModel(function(){return _this.reinitialize(true);}));_this._register(_this._editor.onDidChangeConfiguration(function(e){if(e.hasChanged(62/* linkedEditing */)||e.hasChanged(82/* renameOnType */)){_this.reinitialize(false);}}));_this._register(_common_languages_js__WEBPACK_IMPORTED_MODULE_13__/* .LinkedEditingRangeProviderRegistry.onDidChange */ .id.onDidChange(function(){return _this.reinitialize(false);}));_this._register(_this._editor.onDidChangeModelLanguage(function(){return _this.reinitialize(true);}));_this.reinitialize(true);return _this;}_createClass(LinkedEditingContribution,[{key:"reinitialize",value:function reinitialize(forceRefresh){var _this2=this;var model=this._editor.getModel();var isEnabled=model!==null&&(this._editor.getOption(62/* linkedEditing */)||this._editor.getOption(82/* renameOnType */))&&_common_languages_js__WEBPACK_IMPORTED_MODULE_13__/* .LinkedEditingRangeProviderRegistry.has */ .id.has(model);if(isEnabled===this._enabled&&!forceRefresh){return;}this._enabled=isEnabled;this.clearRanges();this._localToDispose.clear();if(!isEnabled||model===null){return;}this._localToDispose.add(_base_common_event_js__WEBPACK_IMPORTED_MODULE_5__/* .Event.runAndSubscribe */ .ju.runAndSubscribe(model.onDidChangeLanguageConfiguration,function(){_this2._languageWordPattern=_this2.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();}));var rangeUpdateScheduler=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .Delayer */ .vp(this._debounceDuration);var triggerRangeUpdate=function triggerRangeUpdate(){_this2._rangeUpdateTriggerPromise=rangeUpdateScheduler.trigger(function(){return _this2.updateRanges();},_this2._debounceDuration);};var rangeSyncScheduler=new _base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .Delayer */ .vp(0);var triggerRangeSync=function triggerRangeSync(decorations){_this2._rangeSyncTriggerPromise=rangeSyncScheduler.trigger(function(){return _this2._syncRanges(decorations);});};this._localToDispose.add(this._editor.onDidChangeCursorPosition(function(){triggerRangeUpdate();}));this._localToDispose.add(this._editor.onDidChangeModelContent(function(e){if(!_this2._ignoreChangeEvent){if(_this2._currentDecorations.length>0){var referenceRange=model.getDecorationRange(_this2._currentDecorations[0]);if(referenceRange&&e.changes.every(function(c){return referenceRange.intersectRanges(c.range);})){triggerRangeSync(_this2._currentDecorations);return;}}}triggerRangeUpdate();}));this._localToDispose.add({dispose:function dispose(){rangeUpdateScheduler.cancel();rangeSyncScheduler.cancel();}});this.updateRanges();}},{key:"_syncRanges",value:function _syncRanges(decorations){// dalayed invocation, make sure we're still on
if(!this._editor.hasModel()||decorations!==this._currentDecorations||decorations.length===0){// nothing to do
return;}var model=this._editor.getModel();var referenceRange=model.getDecorationRange(decorations[0]);if(!referenceRange||referenceRange.startLineNumber!==referenceRange.endLineNumber){return this.clearRanges();}var referenceValue=model.getValueInRange(referenceRange);if(this._currentWordPattern){var match=referenceValue.match(this._currentWordPattern);var matchLength=match?match[0].length:0;if(matchLength!==referenceValue.length){return this.clearRanges();}}var edits=[];for(var i=1,len=decorations.length;i<len;i++){var mirrorRange=model.getDecorationRange(decorations[i]);if(!mirrorRange){continue;}if(mirrorRange.startLineNumber!==mirrorRange.endLineNumber){edits.push({range:mirrorRange,text:referenceValue});}else{var oldValue=model.getValueInRange(mirrorRange);var newValue=referenceValue;var rangeStartColumn=mirrorRange.startColumn;var rangeEndColumn=mirrorRange.endColumn;var commonPrefixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__/* .commonPrefixLength */ .Mh(oldValue,newValue);rangeStartColumn+=commonPrefixLength;oldValue=oldValue.substr(commonPrefixLength);newValue=newValue.substr(commonPrefixLength);var commonSuffixLength=_base_common_strings_js__WEBPACK_IMPORTED_MODULE_7__/* .commonSuffixLength */ .P1(oldValue,newValue);rangeEndColumn-=commonSuffixLength;oldValue=oldValue.substr(0,oldValue.length-commonSuffixLength);newValue=newValue.substr(0,newValue.length-commonSuffixLength);if(rangeStartColumn!==rangeEndColumn||newValue.length!==0){edits.push({range:new _common_core_range_js__WEBPACK_IMPORTED_MODULE_18__/* .Range */ .e(mirrorRange.startLineNumber,rangeStartColumn,mirrorRange.endLineNumber,rangeEndColumn),text:newValue});}}}if(edits.length===0){return;}try{this._editor.popUndoStop();this._ignoreChangeEvent=true;var prevEditOperationType=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits('linkedEditing',edits);this._editor._getViewModel().setPrevEditOperationType(prevEditOperationType);}finally{this._ignoreChangeEvent=false;}}},{key:"dispose",value:function dispose(){this.clearRanges();_get(_getPrototypeOf(LinkedEditingContribution.prototype),"dispose",this).call(this);}},{key:"clearRanges",value:function clearRanges(){this._visibleContextKey.set(false);this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]);if(this._currentRequest){this._currentRequest.cancel();this._currentRequest=null;this._currentRequestPosition=null;}}},{key:"updateRanges",value:function updateRanges(){var force=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return __awaiter(this,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee2(){var _this3=this;var position,model,modelVersionId,range,request;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(this._editor.hasModel()){_context2.next=3;break;}this.clearRanges();return _context2.abrupt("return");case 3:position=this._editor.getPosition();if(!(!this._enabled&&!force||this._editor.getSelections().length>1)){_context2.next=7;break;}// disabled or multicursor
this.clearRanges();return _context2.abrupt("return");case 7:model=this._editor.getModel();modelVersionId=model.getVersionId();if(!(this._currentRequestPosition&&this._currentRequestModelVersion===modelVersionId)){_context2.next=16;break;}if(!position.equals(this._currentRequestPosition)){_context2.next=12;break;}return _context2.abrupt("return");case 12:if(!(this._currentDecorations&&this._currentDecorations.length>0)){_context2.next=16;break;}range=model.getDecorationRange(this._currentDecorations[0]);if(!(range&&range.containsPosition(position))){_context2.next=16;break;}return _context2.abrupt("return");case 16:this._currentRequestPosition=position;this._currentRequestModelVersion=modelVersionId;request=(0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .createCancelablePromise */ .PG)(function(token){return __awaiter(_this3,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(){var response,ranges,foundReferenceRange,i,len,referenceRange,decorations;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getLinkedEditingRanges(model,position,token);case 3:response=_context.sent;if(!(request!==this._currentRequest)){_context.next=6;break;}return _context.abrupt("return");case 6:this._currentRequest=null;if(!(modelVersionId!==model.getVersionId())){_context.next=9;break;}return _context.abrupt("return");case 9:ranges=[];if(response===null||response===void 0?void 0:response.ranges){ranges=response.ranges;}this._currentWordPattern=(response===null||response===void 0?void 0:response.wordPattern)||this._languageWordPattern;foundReferenceRange=false;i=0,len=ranges.length;case 14:if(!(i<len)){_context.next=22;break;}if(!_common_core_range_js__WEBPACK_IMPORTED_MODULE_18__/* .Range.containsPosition */ .e.containsPosition(ranges[i],position)){_context.next=19;break;}foundReferenceRange=true;if(i!==0){referenceRange=ranges[i];ranges.splice(i,1);ranges.unshift(referenceRange);}return _context.abrupt("break",22);case 19:i++;_context.next=14;break;case 22:if(foundReferenceRange){_context.next=25;break;}// Cannot do linked editing if the ranges are not where the cursor is...
this.clearRanges();return _context.abrupt("return");case 25:decorations=ranges.map(function(range){return{range:range,options:LinkedEditingContribution.DECORATION};});this._visibleContextKey.set(true);this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,decorations);_context.next=34;break;case 30:_context.prev=30;_context.t0=_context["catch"](0);if(!(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__/* .isCancellationError */ .n2)(_context.t0)){(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__/* .onUnexpectedError */ .dL)(_context.t0);}if(this._currentRequest===request||!this._currentRequest){// stop if we are still the latest request
this.clearRanges();}case 34:case"end":return _context.stop();}}},_callee,this,[[0,30]]);}));});this._currentRequest=request;return _context2.abrupt("return",request);case 21:case"end":return _context2.stop();}}},_callee2,this);}));}}],[{key:"get",value:function get(editor){return editor.getContribution(LinkedEditingContribution.ID);}}]);return LinkedEditingContribution;}(_base_common_lifecycle_js__WEBPACK_IMPORTED_MODULE_6__/* .Disposable */ .JT);LinkedEditingContribution.ID='editor.contrib.linkedEditing';LinkedEditingContribution.DECORATION=_common_model_textModel_js__WEBPACK_IMPORTED_MODULE_12__/* .ModelDecorationOptions.register */ .qx.register({description:'linked-editing',stickiness:0/* AlwaysGrowsWhenTypingAtEdges */,className:DECORATION_CLASS_NAME});LinkedEditingContribution=__decorate([__param(1,_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_15__/* .IContextKeyService */ .i6),__param(2,_common_languages_languageConfigurationRegistry_js__WEBPACK_IMPORTED_MODULE_14__/* .ILanguageConfigurationService */ .c_)],LinkedEditingContribution);var LinkedEditingAction=/*#__PURE__*/function(_EditorAction){_inherits(LinkedEditingAction,_EditorAction);var _super2=_createSuper(LinkedEditingAction);function LinkedEditingAction(){_classCallCheck(this,LinkedEditingAction);return _super2.call(this,{id:'editor.action.linkedEditing',label:_nls_js__WEBPACK_IMPORTED_MODULE_19__/* .localize */ .N('linkedEditing.label',"Start Linked Editing"),alias:'Start Linked Editing',precondition:_platform_contextkey_common_contextkey_js__WEBPACK_IMPORTED_MODULE_15__/* .ContextKeyExpr.and */ .Ao.and(_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__/* .EditorContextKeys.writable */ .u.writable,_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__/* .EditorContextKeys.hasRenameProvider */ .u.hasRenameProvider),kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__/* .EditorContextKeys.editorTextFocus */ .u.editorTextFocus,primary:2048/* CtrlCmd */|1024/* Shift */|60/* F2 */,weight:100/* EditorContrib */}});}_createClass(LinkedEditingAction,[{key:"runCommand",value:function runCommand(accessor,args){var _this4=this;var editorService=accessor.get(_browser_services_codeEditorService_js__WEBPACK_IMPORTED_MODULE_10__/* .ICodeEditorService */ .$);var _ref=Array.isArray(args)&&args||[undefined,undefined],_ref2=_slicedToArray(_ref,2),uri=_ref2[0],pos=_ref2[1];if(_base_common_uri_js__WEBPACK_IMPORTED_MODULE_8__/* .URI.isUri */ .o.isUri(uri)&&_common_core_position_js__WEBPACK_IMPORTED_MODULE_20__/* .Position.isIPosition */ .L.isIPosition(pos)){return editorService.openCodeEditor({resource:uri},editorService.getActiveCodeEditor()).then(function(editor){if(!editor){return;}editor.setPosition(pos);editor.invokeWithinContext(function(accessor){_this4.reportTelemetry(accessor,editor);return _this4.run(accessor,editor);});},_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__/* .onUnexpectedError */ .dL);}return _get(_getPrototypeOf(LinkedEditingAction.prototype),"runCommand",this).call(this,accessor,args);}},{key:"run",value:function run(_accessor,editor){var controller=LinkedEditingContribution.get(editor);if(controller){return Promise.resolve(controller.updateRanges(true));}return Promise.resolve();}}]);return LinkedEditingAction;}(_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorAction */ .R6);var LinkedEditingCommand=_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__/* .EditorCommand.bindToContribution */ ._l.bindToContribution(LinkedEditingContribution.get);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__/* .registerEditorCommand */ .fK)(new LinkedEditingCommand({id:'cancelLinkedEditingInput',precondition:CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:function handler(x){return x.clearRanges();},kbOpts:{kbExpr:_common_editorContextKeys_js__WEBPACK_IMPORTED_MODULE_11__/* .EditorContextKeys.editorTextFocus */ .u.editorTextFocus,weight:100/* EditorContrib */+99,primary:9/* Escape */,secondary:[1024/* Shift */|9/* Escape */]}}));function getLinkedEditingRanges(model,position,token){var _this5=this;var orderedByScore=_common_languages_js__WEBPACK_IMPORTED_MODULE_13__/* .LinkedEditingRangeProviderRegistry.ordered */ .id.ordered(model);// in order of score ask the linked editing range provider
// until someone response with a good result
// (good = not null)
return (0,_base_common_async_js__WEBPACK_IMPORTED_MODULE_1__/* .first */ .Ps)(orderedByScore.map(function(provider){return function(){return __awaiter(_this5,void 0,void 0,/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee3(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return provider.provideLinkedEditingRanges(model,position,token);case 3:return _context3.abrupt("return",_context3.sent);case 6:_context3.prev=6;_context3.t0=_context3["catch"](0);(0,_base_common_errors_js__WEBPACK_IMPORTED_MODULE_4__/* .onUnexpectedExternalError */ .Cp)(_context3.t0);return _context3.abrupt("return",undefined);case 10:case"end":return _context3.stop();}}},_callee3,null,[[0,6]]);}));};}),function(result){return!!result&&_base_common_arrays_js__WEBPACK_IMPORTED_MODULE_21__/* .isNonEmptyArray */ .Of(result===null||result===void 0?void 0:result.ranges);});}var editorLinkedEditingBackground=(0,_platform_theme_common_colorRegistry_js__WEBPACK_IMPORTED_MODULE_16__/* .registerColor */ .P6G)('editor.linkedEditingBackground',{dark:_base_common_color_js__WEBPACK_IMPORTED_MODULE_3__/* .Color.fromHex */ .Il.fromHex('#f00').transparent(0.3),light:_base_common_color_js__WEBPACK_IMPORTED_MODULE_3__/* .Color.fromHex */ .Il.fromHex('#f00').transparent(0.3),hc:_base_common_color_js__WEBPACK_IMPORTED_MODULE_3__/* .Color.fromHex */ .Il.fromHex('#f00').transparent(0.3)},_nls_js__WEBPACK_IMPORTED_MODULE_19__/* .localize */ .N('editorLinkedEditingBackground','Background color when the editor auto renames on type.'));(0,_platform_theme_common_themeService_js__WEBPACK_IMPORTED_MODULE_17__/* .registerThemingParticipant */ .Ic)(function(theme,collector){var editorLinkedEditingBackgroundColor=theme.getColor(editorLinkedEditingBackground);if(editorLinkedEditingBackgroundColor){collector.addRule(".monaco-editor .".concat(DECORATION_CLASS_NAME," { background: ").concat(editorLinkedEditingBackgroundColor,"; border-left-color: ").concat(editorLinkedEditingBackgroundColor,"; }"));}});(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__/* .registerModelAndPositionCommand */ .sb)('_executeLinkedEditingProvider',function(model,position){return getLinkedEditingRanges(model,position,_base_common_cancellation_js__WEBPACK_IMPORTED_MODULE_2__/* .CancellationToken.None */ .T.None);});(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__/* .registerEditorContribution */ ._K)(LinkedEditingContribution.ID,LinkedEditingContribution);(0,_browser_editorExtensions_js__WEBPACK_IMPORTED_MODULE_9__/* .registerEditorAction */ .Qr)(LinkedEditingAction);

/***/ }),

/***/ 11706:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "LinkDetector": () => (/* binding */ LinkDetector)
});

// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/async.js
var common_async = __webpack_require__(88494);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/cancellation.js
var cancellation = __webpack_require__(82643);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/errors.js
var errors = __webpack_require__(32314);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/htmlContent.js
var htmlContent = __webpack_require__(15093);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js
var lifecycle = __webpack_require__(19860);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/network.js
var network = __webpack_require__(12029);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/platform.js
var platform = __webpack_require__(63638);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/resources.js
var resources = __webpack_require__(74926);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/uri.js
var common_uri = __webpack_require__(91134);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js
var editorExtensions = __webpack_require__(79098);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js + 10 modules
var textModel = __webpack_require__(58102);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/languages.js + 2 modules
var languages = __webpack_require__(98480);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.js
var link_clickLinkGesture = __webpack_require__(16161);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/arrays.js
var arrays = __webpack_require__(92224);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/base/common/types.js
var types = __webpack_require__(918);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/core/range.js
var range = __webpack_require__(96844);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/common/services/model.js
var services_model = __webpack_require__(81431);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js
var commands = __webpack_require__(47937);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/links/browser/getLinks.js
function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};var Link=/*#__PURE__*/function(){function Link(link,provider){_classCallCheck(this,Link);this._link=link;this._provider=provider;}_createClass(Link,[{key:"toJSON",value:function toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip};}},{key:"range",get:function get(){return this._link.range;}},{key:"url",get:function get(){return this._link.url;}},{key:"tooltip",get:function get(){return this._link.tooltip;}},{key:"resolve",value:function resolve(token){return __awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var _this=this;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!this._link.url){_context.next=2;break;}return _context.abrupt("return",this._link.url);case 2:if(!(typeof this._provider.resolveLink==='function')){_context.next=4;break;}return _context.abrupt("return",Promise.resolve(this._provider.resolveLink(this._link,token)).then(function(value){_this._link=value||_this._link;if(_this._link.url){// recurse
return _this.resolve(token);}return Promise.reject(new Error('missing'));}));case 4:return _context.abrupt("return",Promise.reject(new Error('missing')));case 5:case"end":return _context.stop();}}},_callee,this);}));}}]);return Link;}();var LinksList=/*#__PURE__*/function(){function LinksList(tuples){var _this2=this;_classCallCheck(this,LinksList);this._disposables=new lifecycle/* DisposableStore */.SL();var links=[];var _iterator=_createForOfIteratorHelper(tuples),_step;try{var _loop=function _loop(){var _step$value=_slicedToArray(_step.value,2),list=_step$value[0],provider=_step$value[1];// merge all links
var newLinks=list.links.map(function(link){return new Link(link,provider);});links=LinksList._union(links,newLinks);// register disposables
if((0,lifecycle/* isDisposable */.Wf)(list)){_this2._disposables.add(list);}};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}this.links=links;}_createClass(LinksList,[{key:"dispose",value:function dispose(){this._disposables.dispose();this.links.length=0;}}],[{key:"_union",value:function _union(oldLinks,newLinks){// reunite oldLinks with newLinks and remove duplicates
var result=[];var oldIndex;var oldLen;var newIndex;var newLen;for(oldIndex=0,newIndex=0,oldLen=oldLinks.length,newLen=newLinks.length;oldIndex<oldLen&&newIndex<newLen;){var oldLink=oldLinks[oldIndex];var newLink=newLinks[newIndex];if(range/* Range.areIntersectingOrTouching */.e.areIntersectingOrTouching(oldLink.range,newLink.range)){// Remove the oldLink
oldIndex++;continue;}var comparisonResult=range/* Range.compareRangesUsingStarts */.e.compareRangesUsingStarts(oldLink.range,newLink.range);if(comparisonResult<0){// oldLink is before
result.push(oldLink);oldIndex++;}else{// newLink is before
result.push(newLink);newIndex++;}}for(;oldIndex<oldLen;oldIndex++){result.push(oldLinks[oldIndex]);}for(;newIndex<newLen;newIndex++){result.push(newLinks[newIndex]);}return result;}}]);return LinksList;}();function getLinks(model,token){var lists=[];// ask all providers for links in parallel
var promises=languages/* LinkProviderRegistry.ordered */.pM.ordered(model).reverse().map(function(provider,i){return Promise.resolve(provider.provideLinks(model,token)).then(function(result){if(result){lists[i]=[result,provider];}},errors/* onUnexpectedExternalError */.Cp);});return Promise.all(promises).then(function(){var result=new LinksList((0,arrays/* coalesce */.kX)(lists));if(!token.isCancellationRequested){return result;}result.dispose();return new LinksList([]);});}commands/* CommandsRegistry.registerCommand */.P0.registerCommand('_executeLinkProvider',function(accessor){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return __awaiter(void 0,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee2(){var uri,resolveCount,model,list,i,result;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:uri=args[0],resolveCount=args[1];(0,types/* assertType */.p_)(uri instanceof common_uri/* URI */.o);if(typeof resolveCount!=='number'){resolveCount=0;}model=accessor.get(services_model/* IModelService */.q).getModel(uri);if(model){_context2.next=6;break;}return _context2.abrupt("return",[]);case 6:_context2.next=8;return getLinks(model,cancellation/* CancellationToken.None */.T.None);case 8:list=_context2.sent;if(list){_context2.next=11;break;}return _context2.abrupt("return",[]);case 11:i=0;case 12:if(!(i<Math.min(resolveCount,list.links.length))){_context2.next=18;break;}_context2.next=15;return list.links[i].resolve(cancellation/* CancellationToken.None */.T.None);case 15:i++;_context2.next=12;break;case 18:result=list.links.slice(0);list.dispose();return _context2.abrupt("return",result);case 21:case"end":return _context2.stop();}}},_callee2);}));});
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/nls.js
var nls = __webpack_require__(71453);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js
var notification = __webpack_require__(73766);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js
var common_opener = __webpack_require__(58208);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js
var colorRegistry = __webpack_require__(25530);
// EXTERNAL MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js
var themeService = __webpack_require__(46199);
;// CONCATENATED MODULE: ../my-cli/node_modules/monaco-editor/esm/vs/editor/contrib/links/browser/links.js
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function links_createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=links_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function links_slicedToArray(arr,i){return links_arrayWithHoles(arr)||links_iterableToArrayLimit(arr,i)||links_unsupportedIterableToArray(arr,i)||links_nonIterableRest();}function links_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function links_unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return links_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return links_arrayLikeToArray(o,minLen);}function links_arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function links_iterableToArrayLimit(arr,i){var _i=arr&&(typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"]);if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function links_arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function links_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function links_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function links_createClass(Constructor,protoProps,staticProps){if(protoProps)links_defineProperties(Constructor.prototype,protoProps);if(staticProps)links_defineProperties(Constructor,staticProps);return Constructor;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/var __decorate=undefined&&undefined.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if((typeof Reflect==="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--){if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;}return c>3&&r&&Object.defineProperty(target,key,r),r;};var __param=undefined&&undefined.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);};};var links_awaiter=undefined&&undefined.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};function getHoverMessage(link,useMetaKey){var executeCmd=link.url&&/^command:/i.test(link.url.toString());var label=link.tooltip?link.tooltip:executeCmd?nls/* localize */.N('links.navigate.executeCmd','Execute command'):nls/* localize */.N('links.navigate.follow','Follow link');var kb=useMetaKey?platform/* isMacintosh */.dz?nls/* localize */.N('links.navigate.kb.meta.mac',"cmd + click"):nls/* localize */.N('links.navigate.kb.meta',"ctrl + click"):platform/* isMacintosh */.dz?nls/* localize */.N('links.navigate.kb.alt.mac',"option + click"):nls/* localize */.N('links.navigate.kb.alt',"alt + click");if(link.url){var nativeLabel='';if(/^command:/i.test(link.url.toString())){// Don't show complete command arguments in the native tooltip
var match=link.url.toString().match(/^command:([^?#]+)/);if(match){var commandId=match[1];var nativeLabelText=nls/* localize */.N('tooltip.explanation',"Execute command {0}",commandId);nativeLabel=" \"".concat(nativeLabelText,"\"");}}var hoverMessage=new htmlContent/* MarkdownString */.W5('',true).appendMarkdown("[".concat(label,"](").concat(link.url.toString(true).replace(/ /g,'%20')).concat(nativeLabel,") (").concat(kb,")"));return hoverMessage;}else{return new htmlContent/* MarkdownString */.W5().appendText("".concat(label," (").concat(kb,")"));}}var decoration={general:textModel/* ModelDecorationOptions.register */.qx.register({description:'detected-link',stickiness:1/* NeverGrowsWhenTypingAtEdges */,collapseOnReplaceEdit:true,inlineClassName:'detected-link'}),active:textModel/* ModelDecorationOptions.register */.qx.register({description:'detected-link-active',stickiness:1/* NeverGrowsWhenTypingAtEdges */,collapseOnReplaceEdit:true,inlineClassName:'detected-link-active'})};var LinkOccurrence=/*#__PURE__*/function(){function LinkOccurrence(link,decorationId){links_classCallCheck(this,LinkOccurrence);this.link=link;this.decorationId=decorationId;}links_createClass(LinkOccurrence,[{key:"activate",value:function activate(changeAccessor,useMetaKey){changeAccessor.changeDecorationOptions(this.decorationId,LinkOccurrence._getOptions(this.link,useMetaKey,true));}},{key:"deactivate",value:function deactivate(changeAccessor,useMetaKey){changeAccessor.changeDecorationOptions(this.decorationId,LinkOccurrence._getOptions(this.link,useMetaKey,false));}}],[{key:"decoration",value:function decoration(link,useMetaKey){return{range:link.range,options:LinkOccurrence._getOptions(link,useMetaKey,false)};}},{key:"_getOptions",value:function _getOptions(link,useMetaKey,isActive){var options=_extends({},isActive?decoration.active:decoration.general);options.hoverMessage=getHoverMessage(link,useMetaKey);return options;}}]);return LinkOccurrence;}();var LinkDetector=/*#__PURE__*/function(){function LinkDetector(editor,openerService,notificationService){var _this=this;links_classCallCheck(this,LinkDetector);this.listenersToRemove=new lifecycle/* DisposableStore */.SL();this.editor=editor;this.openerService=openerService;this.notificationService=notificationService;var clickLinkGesture=new link_clickLinkGesture/* ClickLinkGesture */.yN(editor);this.listenersToRemove.add(clickLinkGesture);this.listenersToRemove.add(clickLinkGesture.onMouseMoveOrRelevantKeyDown(function(_ref){var _ref2=links_slicedToArray(_ref,2),mouseEvent=_ref2[0],keyboardEvent=_ref2[1];_this._onEditorMouseMove(mouseEvent,keyboardEvent);}));this.listenersToRemove.add(clickLinkGesture.onExecute(function(e){_this.onEditorMouseUp(e);}));this.listenersToRemove.add(clickLinkGesture.onCancel(function(e){_this.cleanUpActiveLinkDecoration();}));this.enabled=editor.getOption(63/* links */);this.listenersToRemove.add(editor.onDidChangeConfiguration(function(e){var enabled=editor.getOption(63/* links */);if(_this.enabled===enabled){// No change in our configuration option
return;}_this.enabled=enabled;// Remove any links (for the getting disabled case)
_this.updateDecorations([]);// Stop any computation (for the getting disabled case)
_this.stop();// Start computing (for the getting enabled case)
_this.beginCompute();}));this.listenersToRemove.add(editor.onDidChangeModelContent(function(e){return _this.onChange();}));this.listenersToRemove.add(editor.onDidChangeModel(function(e){return _this.onModelChanged();}));this.listenersToRemove.add(editor.onDidChangeModelLanguage(function(e){return _this.onModelLanguageChanged();}));this.listenersToRemove.add(languages/* LinkProviderRegistry.onDidChange */.pM.onDidChange(function(e){return _this.onModelLanguageChanged();}));this.timeout=new common_async/* TimeoutTimer */._F();this.computePromise=null;this.activeLinksList=null;this.currentOccurrences={};this.activeLinkDecorationId=null;this.beginCompute();}links_createClass(LinkDetector,[{key:"onModelChanged",value:function onModelChanged(){this.currentOccurrences={};this.activeLinkDecorationId=null;this.stop();this.beginCompute();}},{key:"onModelLanguageChanged",value:function onModelLanguageChanged(){this.stop();this.beginCompute();}},{key:"onChange",value:function onChange(){var _this2=this;this.timeout.setIfNotSet(function(){return _this2.beginCompute();},LinkDetector.RECOMPUTE_TIME);}},{key:"beginCompute",value:function beginCompute(){return links_awaiter(this,void 0,void 0,/*#__PURE__*/regenerator_default().mark(function _callee(){var model;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!this.editor.hasModel()||!this.enabled)){_context.next=2;break;}return _context.abrupt("return");case 2:model=this.editor.getModel();if(languages/* LinkProviderRegistry.has */.pM.has(model)){_context.next=5;break;}return _context.abrupt("return");case 5:if(this.activeLinksList){this.activeLinksList.dispose();this.activeLinksList=null;}this.computePromise=common_async/* createCancelablePromise */.PG(function(token){return getLinks(model,token);});_context.prev=7;_context.next=10;return this.computePromise;case 10:this.activeLinksList=_context.sent;this.updateDecorations(this.activeLinksList.links);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](7);(0,errors/* onUnexpectedError */.dL)(_context.t0);case 17:_context.prev=17;this.computePromise=null;return _context.finish(17);case 20:case"end":return _context.stop();}}},_callee,this,[[7,14,17,20]]);}));}},{key:"updateDecorations",value:function updateDecorations(links){var useMetaKey=this.editor.getOption(70/* multiCursorModifier */)==='altKey';var oldDecorations=[];var keys=Object.keys(this.currentOccurrences);for(var i=0,len=keys.length;i<len;i++){var decorationId=keys[i];var occurance=this.currentOccurrences[decorationId];oldDecorations.push(occurance.decorationId);}var newDecorations=[];if(links){// Not sure why this is sometimes null
var _iterator=links_createForOfIteratorHelper(links),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var link=_step.value;newDecorations.push(LinkOccurrence.decoration(link,useMetaKey));}}catch(err){_iterator.e(err);}finally{_iterator.f();}}var decorations=this.editor.deltaDecorations(oldDecorations,newDecorations);this.currentOccurrences={};this.activeLinkDecorationId=null;for(var _i2=0,_len=decorations.length;_i2<_len;_i2++){var _occurance=new LinkOccurrence(links[_i2],decorations[_i2]);this.currentOccurrences[_occurance.decorationId]=_occurance;}}},{key:"_onEditorMouseMove",value:function _onEditorMouseMove(mouseEvent,withKey){var _this3=this;var useMetaKey=this.editor.getOption(70/* multiCursorModifier */)==='altKey';if(this.isEnabled(mouseEvent,withKey)){this.cleanUpActiveLinkDecoration();// always remove previous link decoration as their can only be one
var occurrence=this.getLinkOccurrence(mouseEvent.target.position);if(occurrence){this.editor.changeDecorations(function(changeAccessor){occurrence.activate(changeAccessor,useMetaKey);_this3.activeLinkDecorationId=occurrence.decorationId;});}}else{this.cleanUpActiveLinkDecoration();}}},{key:"cleanUpActiveLinkDecoration",value:function cleanUpActiveLinkDecoration(){var useMetaKey=this.editor.getOption(70/* multiCursorModifier */)==='altKey';if(this.activeLinkDecorationId){var occurrence=this.currentOccurrences[this.activeLinkDecorationId];if(occurrence){this.editor.changeDecorations(function(changeAccessor){occurrence.deactivate(changeAccessor,useMetaKey);});}this.activeLinkDecorationId=null;}}},{key:"onEditorMouseUp",value:function onEditorMouseUp(mouseEvent){if(!this.isEnabled(mouseEvent)){return;}var occurrence=this.getLinkOccurrence(mouseEvent.target.position);if(!occurrence){return;}this.openLinkOccurrence(occurrence,mouseEvent.hasSideBySideModifier,true/* from user gesture */);}},{key:"openLinkOccurrence",value:function openLinkOccurrence(occurrence,openToSide){var _this4=this;var fromUserGesture=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!this.openerService){return;}var link=occurrence.link;link.resolve(cancellation/* CancellationToken.None */.T.None).then(function(uri){// Support for relative file URIs of the shape file://./relativeFile.txt or file:///./relativeFile.txt
if(typeof uri==='string'&&_this4.editor.hasModel()){var modelUri=_this4.editor.getModel().uri;if(modelUri.scheme===network/* Schemas.file */.lg.file&&uri.startsWith("".concat(network/* Schemas.file */.lg.file,":"))){var parsedUri=common_uri/* URI.parse */.o.parse(uri);if(parsedUri.scheme===network/* Schemas.file */.lg.file){var fsPath=resources/* originalFSPath */.z_(parsedUri);var relativePath=null;if(fsPath.startsWith('/./')){relativePath=".".concat(fsPath.substr(1));}else if(fsPath.startsWith('//./')){relativePath=".".concat(fsPath.substr(2));}if(relativePath){uri=resources/* joinPath */.Vo(modelUri,relativePath);}}}}return _this4.openerService.open(uri,{openToSide:openToSide,fromUserGesture:fromUserGesture,allowContributedOpeners:true,allowCommands:true});},function(err){var messageOrError=err instanceof Error?err.message:err;// different error cases
if(messageOrError==='invalid'){_this4.notificationService.warn(nls/* localize */.N('invalid.url','Failed to open this link because it is not well-formed: {0}',link.url.toString()));}else if(messageOrError==='missing'){_this4.notificationService.warn(nls/* localize */.N('missing.url','Failed to open this link because its target is missing.'));}else{(0,errors/* onUnexpectedError */.dL)(err);}});}},{key:"getLinkOccurrence",value:function getLinkOccurrence(position){if(!this.editor.hasModel()||!position){return null;}var decorations=this.editor.getModel().getDecorationsInRange({startLineNumber:position.lineNumber,startColumn:position.column,endLineNumber:position.lineNumber,endColumn:position.column},0,true);var _iterator2=links_createForOfIteratorHelper(decorations),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _decoration=_step2.value;var currentOccurrence=this.currentOccurrences[_decoration.id];if(currentOccurrence){return currentOccurrence;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return null;}},{key:"isEnabled",value:function isEnabled(mouseEvent,withKey){return Boolean(mouseEvent.target.type===6/* CONTENT_TEXT */&&(mouseEvent.hasTriggerModifier||withKey&&withKey.keyCodeIsTriggerKey));}},{key:"stop",value:function stop(){var _a;this.timeout.cancel();if(this.activeLinksList){(_a=this.activeLinksList)===null||_a===void 0?void 0:_a.dispose();this.activeLinksList=null;}if(this.computePromise){this.computePromise.cancel();this.computePromise=null;}}},{key:"dispose",value:function dispose(){this.listenersToRemove.dispose();this.stop();this.timeout.dispose();}}],[{key:"get",value:function get(editor){return editor.getContribution(LinkDetector.ID);}}]);return LinkDetector;}();LinkDetector.ID='editor.linkDetector';LinkDetector.RECOMPUTE_TIME=1000;// ms
LinkDetector=__decorate([__param(1,common_opener/* IOpenerService */.v4),__param(2,notification/* INotificationService */.lT)],LinkDetector);var OpenLinkAction=/*#__PURE__*/function(_EditorAction){_inherits(OpenLinkAction,_EditorAction);var _super=_createSuper(OpenLinkAction);function OpenLinkAction(){links_classCallCheck(this,OpenLinkAction);return _super.call(this,{id:'editor.action.openLink',label:nls/* localize */.N('label',"Open Link"),alias:'Open Link',precondition:undefined});}links_createClass(OpenLinkAction,[{key:"run",value:function run(accessor,editor){var linkDetector=LinkDetector.get(editor);if(!linkDetector){return;}if(!editor.hasModel()){return;}var selections=editor.getSelections();var _iterator3=links_createForOfIteratorHelper(selections),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var sel=_step3.value;var link=linkDetector.getLinkOccurrence(sel.getEndPosition());if(link){linkDetector.openLinkOccurrence(link,false);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}]);return OpenLinkAction;}(editorExtensions/* EditorAction */.R6);(0,editorExtensions/* registerEditorContribution */._K)(LinkDetector.ID,LinkDetector);(0,editorExtensions/* registerEditorAction */.Qr)(OpenLinkAction);(0,themeService/* registerThemingParticipant */.Ic)(function(theme,collector){var activeLinkForeground=theme.getColor(colorRegistry/* editorActiveLinkForeground */._Yy);if(activeLinkForeground){collector.addRule(".monaco-editor .detected-link-active { color: ".concat(activeLinkForeground," !important; }"));}});

/***/ })

}]);