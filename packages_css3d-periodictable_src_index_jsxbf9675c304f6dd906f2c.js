"use strict";
(self["webpackChunkicode_run"] = self["webpackChunkicode_run"] || []).push([["packages_css3d-periodictable_src_index_jsx"],{

/***/ 38620:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ src)
});

// EXTERNAL MODULE: consume shared module (default) react@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var index_js_ = __webpack_require__(93121);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
;// CONCATENATED MODULE: ./packages/css3d-periodictable/src/index.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const index_module = ({"box":"packages-css3d-periodictable-src-index-module__box","element":"packages-css3d-periodictable-src-index-module__element","bg":"packages-css3d-periodictable-src-index-module__bg"});
// EXTERNAL MODULE: ./packages/css3d-periodictable/node_modules/three/build/three.module.js
var three_module = __webpack_require__(58433);
// EXTERNAL MODULE: ./packages/css3d-periodictable/node_modules/three/examples/jsm/libs/tween.module.min.js
var tween_module_min = __webpack_require__(10697);
// EXTERNAL MODULE: ./packages/css3d-periodictable/node_modules/three/examples/jsm/controls/TrackballControls.js
var TrackballControls = __webpack_require__(85055);
// EXTERNAL MODULE: ./packages/css3d-periodictable/node_modules/three/examples/jsm/renderers/CSS3DRenderer.js
var CSS3DRenderer = __webpack_require__(86576);
;// CONCATENATED MODULE: ./packages/css3d-periodictable/src/index.jsx
function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}var Css3dPeriodictable=/*#__PURE__*/function(_Component){_inherits(Css3dPeriodictable,_Component);var _super=_createSuper(Css3dPeriodictable);function Css3dPeriodictable(){var _this;_classCallCheck(this,Css3dPeriodictable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={};_this.getData=function(){var _this$props=_this.props,_this$props$data=_this$props.data,data=_this$props$data===void 0?[]:_this$props$data,_this$props$dataKeys=_this$props.dataKeys,dataKeys=_this$props$dataKeys===void 0?[]:_this$props$dataKeys;var newData=[];var count=0;var max=118*5;var imgKeyName=dataKeys[0]&&dataKeys[0].keyName;var hrefKeyName=dataKeys[1]&&dataKeys[1].keyName;var dataLength=data.length;while(count<max){newData.push({img:imgKeyName?data[count%dataLength][imgKeyName]:'',href:hrefKeyName?data[count%dataLength][hrefKeyName]:''});count++;}return newData;};_this.objects=[];_this.targets={table:[],sphere:[],helix:[],grid:[]};_this.sphere=function(vector){// sphere
for(var i=0,l=_this.objects.length;i<l;i++){var phi=Math.acos(-1+2*i/l);var theta=Math.sqrt(l*Math.PI)*phi;var object=new three_module/* Object3D */.Tme();object.position.setFromSphericalCoords(800,phi,theta);vector.copy(object.position).multiplyScalar(2);object.lookAt(vector);_this.targets.sphere.push(object);}};_this.helix=function(vector){// helix
for(var i=0,l=_this.objects.length;i<l;i++){var theta=i*0.175+Math.PI;var y=-(i*8)+450;var object=new three_module/* Object3D */.Tme();object.position.setFromCylindricalCoords(800,theta,y);vector.x=object.position.x*2;vector.y=object.position.y;vector.z=object.position.z*2;object.lookAt(vector);_this.targets.helix.push(object);}};_this.grid=function(){// grid
for(var i=0;i<_this.objects.length;i++){var object=new three_module/* Object3D */.Tme();object.position.x=i%5*400-800;object.position.y=-(Math.floor(i/5)%5)*400+800;object.position.z=Math.floor(i/25)*1000-2000;_this.targets.grid.push(object);}};_this.triggerTypeTime=null;_this.types=['sphere','helix'];_this.triggerType=function(){var typeIndex=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var timeing=arguments.length>1?arguments[1]:undefined;var types=_this.types;_this.transform(_this.targets[types[typeIndex]],2000);if(_this.triggerTypeTime){clearTimeout(_this.triggerTypeTime);_this.triggerTypeTime=null;}if(timeing){_this.triggerTypeTime=setTimeout(function(){_this.triggerType(typeIndex+1>=types.length?0:typeIndex+1,timeing);},timeing*1000);}};_this.containerSize=[];_this.init=function(){if(!_this.container){return;}var _this$props$cameraZoo=_this.props.cameraZoom,cameraZoom=_this$props$cameraZoo===void 0?1:_this$props$cameraZoo;_this.containerSize=[_this.container.clientWidth,_this.container.clientHeight];var width=_this.containerSize[0];var height=_this.containerSize[1];var table=_this.getData();_this.camera=new three_module/* PerspectiveCamera */.cPb(40,width/height,1,10000);_this.camera.position.z=2500/cameraZoom;_this.scene=new three_module/* Scene */.xsS();for(var i=0;i<table.length;i+=5){var element=document.createElement('div');element.className=index_module.element;element.style.backgroundColor='rgba(0,127,127,'+(Math.random()*0.5+0.25)+')';//element.style.overflow = 'hidden';
var details=document.createElement('img');if(table[i].img){details.src=table[i].img;}var bg=document.createElement('div');bg.className=index_module.bg;if(table[i].href){var domA=document.createElement('a');domA.href=table[i].href;domA.target='_blank';domA.style.display='block';domA.style.height='100%';domA.appendChild(details);element.appendChild(bg);element.appendChild(domA);domA.addEventListener('mousedown',function(event){window.open(event.currentTarget.href);});}else{element.appendChild(bg);element.appendChild(details);}var objectCSS=new CSS3DRenderer/* CSS3DObject */.cp(element);objectCSS.position.x=Math.random()*4000-2000;objectCSS.position.y=Math.random()*4000-2000;objectCSS.position.z=Math.random()*4000-2000;_this.scene.add(objectCSS);_this.objects.push(objectCSS);}var vector=new three_module/* Vector3 */.Pa4();_this.sphere(vector);_this.helix(vector);//
_this.renderer=new CSS3DRenderer/* CSS3DRenderer */.lX();_this.renderer.setSize(width,height);_this.container.appendChild(_this.renderer.domElement);//
_this.controls=new TrackballControls/* TrackballControls */.$(_this.camera,_this.renderer.domElement);_this.controls.minDistance=500;_this.controls.maxDistance=6000;_this.controls.addEventListener('change',_this.render3D);// const cube = new THREE.Mesh(
//   new THREE.BoxGeometry(1, 1, 1),
//   new THREE.MeshBasicMaterial({
//     color: 0x607d8b,
//   }),
// )
// cube.translateX(1500);
// this.scene.add(cube)
_this.triggerType(0,_this.props.timeing);};_this.transform=function(targets,duration){tween_module_min/* TWEEN.removeAll */.w.removeAll();for(var i=0;i<_this.objects.length;i++){var object=_this.objects[i];var target=targets[i];new tween_module_min/* TWEEN.Tween */.w.Tween(object.position).to({x:target.position.x,y:target.position.y,z:target.position.z},Math.random()*duration+duration).easing(tween_module_min/* TWEEN.Easing.Exponential.InOut */.w.Easing.Exponential.InOut).start();new tween_module_min/* TWEEN.Tween */.w.Tween(object.rotation).to({x:target.rotation.x,y:target.rotation.y,z:target.rotation.z},Math.random()*duration+duration).easing(tween_module_min/* TWEEN.Easing.Exponential.InOut */.w.Easing.Exponential.InOut).start();}new tween_module_min/* TWEEN.Tween */.w.Tween(_assertThisInitialized(_this)).to({},duration*2).onUpdate(_this.render3D).start();};_this.onResize=function(){var _this$props2=_this.props,_this$props2$cameraTy=_this$props2.cameraType,cameraType=_this$props2$cameraTy===void 0?'sphere':_this$props2$cameraTy,timeing=_this$props2.timeing,_this$props2$cameraZo=_this$props2.cameraZoom,cameraZoom=_this$props2$cameraZo===void 0?1:_this$props2$cameraZo;if((_this.cameraType!==cameraType||_this.timeing!==timeing)&&_this.types.indexOf(cameraType)>=0){_this.triggerType(_this.types.indexOf(cameraType),timeing);_this.cameraType=cameraType;_this.timeing=timeing;}if(_this.cameraZoom!==cameraZoom){_this.camera.position.z=2500/cameraZoom;_this.cameraZoom=cameraZoom;_this.render3D();}var containerSize=[_this.container.clientWidth,_this.container.clientHeight];if(_this.containerSize.join('')!==containerSize.join('')){_this.containerSize=containerSize;_this.camera.aspect=containerSize[0]/containerSize[1];_this.camera.updateProjectionMatrix();_this.renderer.setSize(containerSize[0],containerSize[1]);_this.render3D();}};_this.animate=function(){var speed=_this.props.speed;if(speed){_this.scene.rotation.y+=0.001*speed;}requestAnimationFrame(_this.animate);tween_module_min/* TWEEN.update */.w.update();_this.controls.update();_this.render3D();};_this.render3D=function(){_this.renderer.render(_this.scene,_this.camera);};return _this;}_createClass(Css3dPeriodictable,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.onResize();}},{key:"componentDidMount",value:function componentDidMount(){this.init();this.animate();}},{key:"render",value:function render(){var _this2=this;var _this$props3=this.props,className=_this$props3.className,_this$props3$style=_this$props3.style,style=_this$props3$style===void 0?{}:_this$props3$style;return/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(index_module.box," ").concat(className||''),ref:function ref(node){return _this2.container=node;},style:style});}}]);return Css3dPeriodictable;}(index_js_.Component);;/* harmony default export */ const src = (Css3dPeriodictable);

/***/ })

}]);