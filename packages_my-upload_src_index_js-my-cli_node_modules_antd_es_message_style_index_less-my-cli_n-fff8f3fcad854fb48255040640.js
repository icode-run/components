"use strict";
(self["webpackChunkicode_run"] = self["webpackChunkicode_run"] || []).push([["packages_my-upload_src_index_js-my-cli_node_modules_antd_es_message_style_index_less-my-cli_n-fff8f3"],{

/***/ 80653:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ src)
});

// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/form/style/index.js + 3 modules
var style = __webpack_require__(44036);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/form/index.js + 19 modules
var es_form = __webpack_require__(16575);
// EXTERNAL MODULE: consume shared module (default) react@^16.14.0 (singleton) (fallback: ../my-cli/node_modules/react/index.js)
var index_js_ = __webpack_require__(93121);
var index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/upload/style/index.js + 3 modules
var upload_style = __webpack_require__(99766);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/upload/index.js + 54 modules
var upload = __webpack_require__(50491);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/button/style/index.js + 1 modules
var button_style = __webpack_require__(85793);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/button/index.js
var es_button = __webpack_require__(31481);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/message/style/index.js + 1 modules
var message_style = __webpack_require__(35735);
// EXTERNAL MODULE: ../my-cli/node_modules/antd/es/message/index.js + 3 modules
var message = __webpack_require__(96213);
// EXTERNAL MODULE: ../my-cli/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(92910);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/UploadOutlined.js + 1 modules
var UploadOutlined = __webpack_require__(33154);
// EXTERNAL MODULE: ../my-cli/node_modules/@ant-design/icons/es/icons/SnippetsOutlined.js + 1 modules
var SnippetsOutlined = __webpack_require__(31361);
;// CONCATENATED MODULE: ./packages/my-upload/src/upload.module.less
// extracted by mini-css-extract-plugin
/* harmony default export */ const upload_module = ({"pasteBox":"packages-my-upload-src-upload-module__pasteBox","pasteBoxDisabled":"packages-my-upload-src-upload-module__pasteBoxDisabled","upload":"packages-my-upload-src-upload-module__upload"});
;// CONCATENATED MODULE: ./packages/my-upload/src/paste.js
function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}var blobToDataUrl=function blobToDataUrl(blob){return new Promise(function(resolve,reject){var a=new FileReader();a.onload=function(e){resolve(e.target.result);};a.readAsDataURL(blob);});};var paste=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(resType,svg){var imgBase64Data,error,clipboardData,clipboardItems,_iterator,_step,clipboardItem,_iterator2,_step2,type,value,_value;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:imgBase64Data=[];error='不允许从剪切板复制内容';_context.prev=2;clipboardData=window.navigator.clipboard;_context.next=6;return clipboardData.read();case 6:clipboardItems=_context.sent;_iterator=_createForOfIteratorHelper(clipboardItems);_context.prev=8;_iterator.s();case 10:if((_step=_iterator.n()).done){_context.next=53;break;}clipboardItem=_step.value;_iterator2=_createForOfIteratorHelper(clipboardItem.types);_context.prev=13;_iterator2.s();case 15:if((_step2=_iterator2.n()).done){_context.next=43;break;}type=_step2.value;if(!((type==='image/png'||type==='text/plain')&&svg)){_context.next=28;break;}_context.next=20;return clipboardItem.getType(type);case 20:value=_context.sent;if(!(resType==='base64'&&type==='image/png')){_context.next=25;break;}_context.next=24;return blobToDataUrl(value);case 24:value=_context.sent;case 25:imgBase64Data.push(value);_context.next=41;break;case 28:if(!(type==='image/png'&&!svg)){_context.next=40;break;}_context.next=31;return clipboardItem.getType(type);case 31:_value=_context.sent;;if(!(resType==='base64')){_context.next=37;break;}_context.next=36;return blobToDataUrl(_value);case 36:_value=_context.sent;case 37:imgBase64Data.push(_value);_context.next=41;break;case 40:error='剪切板无图片可复制';case 41:_context.next=15;break;case 43:_context.next=48;break;case 45:_context.prev=45;_context.t0=_context["catch"](13);_iterator2.e(_context.t0);case 48:_context.prev=48;_iterator2.f();return _context.finish(48);case 51:_context.next=10;break;case 53:_context.next=58;break;case 55:_context.prev=55;_context.t1=_context["catch"](8);_iterator.e(_context.t1);case 58:_context.prev=58;_iterator.f();return _context.finish(58);case 61:_context.next=65;break;case 63:_context.prev=63;_context.t2=_context["catch"](2);case 65:return _context.abrupt("return",imgBase64Data.length?imgBase64Data:error);case 66:case"end":return _context.stop();}}},_callee,null,[[2,63],[8,55,58,61],[13,45,48,51]]);}));return function paste(_x,_x2){return _ref.apply(this,arguments);};}();/* harmony default export */ const src_paste = (paste);
;// CONCATENATED MODULE: ./packages/my-upload/src/Upload.js
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function Upload_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function Upload_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Upload_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){Upload_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}// import MyImagesView from 'tf-react-upload/src/components/MyImagesView';
var MyUpload=/*#__PURE__*/function(_Component){_inherits(MyUpload,_Component);var _super=_createSuper(MyUpload);function MyUpload(props){var _this;_classCallCheck(this,MyUpload);_this=_super.call(this,props);_this.setIsVisibled=function(isVisibled){_this.setState({isVisibled:isVisibled});};_this.setFileList=function(fileList){_this.setState({fileList:fileList});};_this.setInitialViewUrl=function(url){_this.setState({initialViewUrl:url});};_this.sendPasteImg=function(data){var action=_this.props.action;var fileList=_this.state.fileList;if(!action){var newFileList=[].concat(fileList,[{url:data}]);_this.setState({fileList:newFileList});_this.onChange(newFileList);return;}var formdata=new FormData();formdata.append('avatar',data);var xhr=new XMLHttpRequest();xhr.open("post",action);xhr.send(formdata);xhr.onload=function(){if(xhr.status==200){var response=xhr.response;try{var res=JSON.parse(response);if(res.data&&res.data.url){var _newFileList=[].concat(fileList,[{url:res.data.url}]);_this.setState({fileList:_newFileList});_this.onChange(_newFileList);}}catch(e){console.log(e);}}};};_this.paste=/*#__PURE__*/function(){var _ref=Upload_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee(e){var _this$props,action,isCanSvg,base64Data;return regenerator_default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,action=_this$props.action,isCanSvg=_this$props.isCanSvg;e.stopPropagation();e.preventDefault();_context.next=5;return src_paste(action?'':'base64',isCanSvg&&action);case 5:base64Data=_context.sent;if(_typeof(base64Data)==='object'&&base64Data.length){base64Data.forEach(function(item){_this.sendPasteImg(item);});}else if(typeof base64Data==='string'){message/* default.warning */.ZP.warning(base64Data);}return _context.abrupt("return",false);case 8:case"end":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.getButton=function(type,maxLength,length,disabled,isPaste){var names={text:'上传文件',picture:'上传图片'};var button;if(type==='text'||type==='picture'){button=length>=maxLength&&disabled?null:/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,/*#__PURE__*/index_js_default().createElement(es_button/* default */.Z,{disabled:length>=maxLength||disabled?'disabled':''},/*#__PURE__*/index_js_default().createElement(UploadOutlined/* default */.Z,null),names[type]));}else{var pasteEl=null;pasteEl=/*#__PURE__*/index_js_default().createElement("div",{className:"".concat(upload_module.pasteBox," ").concat(disabled?upload_module.pasteBoxDisabled:''),onClick:_this.paste,title:"\u590D\u5236\u56FE\u7247/SVG\u4EE3\u7801"},/*#__PURE__*/index_js_default().createElement(SnippetsOutlined/* default */.Z,null));button=length>=maxLength?null:/*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment,null,isPaste?pasteEl:null,/*#__PURE__*/index_js_default().createElement("div",{className:"iconAdd ".concat(disabled?'iconAddDisabled':'')}));}return button;};_this.onChange=function(fileList){var _this$props2=_this.props,onCompleteChange=_this$props2.onCompleteChange,onChange=_this$props2.onChange;if(onCompleteChange&&typeof onCompleteChange==='function'){onCompleteChange(fileList);}if(onChange&&typeof onChange==='function'){onChange(fileList);}};_this.onLocationBeforeUpload=/*#__PURE__*/function(){var _ref2=Upload_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee2(file){var maxFileSize,fileList,isCanUpload,newFileSize,fileDataUrl,newFileList;return regenerator_default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:maxFileSize=_this.props.maxFileSize;fileList=_this.state.fileList;isCanUpload=true;newFileSize=maxFileSize&&maxFileSize>0?parseFloat(maxFileSize)*1024:0;if(file.size&&newFileSize>0&&file.size>newFileSize){isCanUpload=false;message/* default.error */.ZP.error("\u8BF7\u4E0A\u4F20\u5C0F\u4E8E".concat(maxFileSize,"KB\u7684\u56FE\u7247\u6216\u6587\u4EF6"));}if(!isCanUpload){_context2.next=12;break;}_context2.next=8;return _this.readFileDataUrl(file);case 8:fileDataUrl=_context2.sent;newFileList=[].concat(fileList,[{url:fileDataUrl}]);_this.setState({fileList:newFileList});_this.onChange(newFileList);case 12:return _context2.abrupt("return",false);case 13:case"end":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.onLocationChange=function(_ref3){var file=_ref3.file,fileList=_ref3.fileList;};_this.fileDataUrls={};_this.readFileDataUrl=function(file){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onload=function(e){resolve(e.target.result);};reader.readAsDataURL(file);});};_this.onActionBeforeUpload=/*#__PURE__*/function(){var _ref4=Upload_asyncToGenerator(/*#__PURE__*/regenerator_default().mark(function _callee3(file){var maxFileSize,isCanUpload,newFileSize,fileDataUrl;return regenerator_default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:maxFileSize=_this.props.maxFileSize;isCanUpload=true;newFileSize=maxFileSize&&maxFileSize>0?parseFloat(maxFileSize)*1024:0;if(file.size&&newFileSize>0&&file.size>newFileSize){isCanUpload=false;message/* default.error */.ZP.error("\u8BF7\u4E0A\u4F20\u5C0F\u4E8E".concat(maxFileSize,"KB\u7684\u56FE\u7247\u6216\u6587\u4EF6"));}if(!isCanUpload){_context3.next=9;break;}_context3.next=7;return _this.readFileDataUrl(file);case 7:fileDataUrl=_context3.sent;_this.fileDataUrls["".concat(file.name).concat(file.size)]=fileDataUrl;case 9:return _context3.abrupt("return",isCanUpload);case 10:case"end":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.onActionChange=function(_ref5,a){var file=_ref5.file,fileList=_ref5.fileList;var _this$props3=_this.props,getActionResponseUrl=_this$props3.getActionResponseUrl,maxFileSize=_this$props3.maxFileSize;var totalLength=0;var newFiles=[];fileList.map(function(item){if(item.status){newFiles.push(item);}if(item.status==='done'&&item.response&&!(item.response.code===0||item.response.code===200||item.response.result==='success'||item.response.status==='done')){item.status='error';}if(item.status==='done'){var newFileSize=maxFileSize&&maxFileSize>0?parseFloat(maxFileSize)*1024:0;if(item.size&&newFileSize>0&&item.size>newFileSize){item.status='error';item.response="\u8BF7\u4E0A\u4F20\u5C0F\u4E8E".concat(maxFileSize,"KB\u7684\u56FE\u7247\u6216\u6587\u4EF6");}var url=item.response&&typeof item.response.data==='string'?item.response.data:'';if(!item.url&&getActionResponseUrl&&typeof getActionResponseUrl==='function'&&item.response){var getData=getActionResponseUrl(item.response);url=getData.url;if(!url){item.response=getData.msg||'上传图片失败，请重新上传!';item.status='error';}}item.url=item.url||url;}if(item.status==='done'){totalLength++;}else if(item.status==='error'&&_this.fileDataUrls["".concat(item.name).concat(item.size)]){totalLength++;item.url=_this.fileDataUrls["".concat(item.name).concat(item.size)];}if(item.status==='error'&&item.response&&item.response.msg){item.response=item.response.msg;}});_this.setFileList(newFiles);//setRefresh((+new Date()));
if(totalLength===fileList.length){_this.onChange(fileList);}};_this.setStateValue(props,true);return _this;}_createClass(MyUpload,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps,props){var src=nextProps.src;if(JSON.stringify(nextProps.fileList)!==JSON.stringify(props.fileList)||JSON.stringify(nextProps.fileListArray)!==JSON.stringify(props.fileListArray)){this.setStateValue(nextProps);}}},{key:"setStateValue",value:function setStateValue(props,isFromConstructor){var fileListArray=props.fileListArray;var fileList=props.fileList||[];if(!fileList.length&&fileListArray&&fileListArray.length){fileListArray.map(function(item,index){fileList.push({uid:item||index,name:index+'.png',status:'done',url:item});});}if(isFromConstructor){this.state={fileList:fileList,isVisibled:false,initialViewUrl:''};}else{this.setFileList(fileList);}}},{key:"render",value:function render(){var _this2=this;var _this$state=this.state,initialViewUrl=_this$state.initialViewUrl,isVisibled=_this$state.isVisibled,fileList=_this$state.fileList;var _this$props4=this.props,style=_this$props4.style,className=_this$props4.className,children=_this$props4.children,getActionResponseUrl=_this$props4.getActionResponseUrl,maxLength=_this$props4.maxLength,maxFileSize=_this$props4.maxFileSize,isPaste=_this$props4.isPaste,action=_this$props4.action,onChange=_this$props4.onChange,disabled=_this$props4.disabled,_this$props4$listType=_this$props4.listType,listType=_this$props4$listType===void 0?'picture-card':_this$props4$listType,_this$props4$windowPr=_this$props4.windowPreview,windowPreview=_this$props4$windowPr===void 0?true:_this$props4$windowPr,res=_objectWithoutProperties(_this$props4,["style","className","children","getActionResponseUrl","maxLength","maxFileSize","isPaste","action","onChange","disabled","listType","windowPreview"]);if(res.fileList){delete res.fileList;}if(res.fileListArray){delete res.fileListArray;}return/*#__PURE__*/index_js_default().createElement("div",{style:style||{},className:"".concat(className||'')},/*#__PURE__*/index_js_default().createElement(upload/* default */.Z,_extends({accept:listType==='text'?'.xls,.xlsx,.doc,.docx,.pdf,image/jpg,image/jpeg,image/png,image/gif':'image/jpg,image/jpeg,image/png,image/gif',action:action,listType:listType,name:"avatar",fileList:fileList,className:upload_module.upload,disabled:disabled,beforeUpload:!action?this.onLocationBeforeUpload:this.onActionBeforeUpload,onChange:!action?this.onLocationChange:this.onActionChange,onPreview:function onPreview(file){if(listType==='text'){return;}if(windowPreview&&file.url.indexOf(/^http/)>=0){window.open(file.url);}else{_this2.setInitialViewUrl(file.url);_this2.setIsVisibled(true);}}},res),children?children:this.getButton(listType,maxLength,fileList.length,disabled,isPaste)));}}]);return MyUpload;}(index_js_.Component);/* harmony default export */ const Upload = (MyUpload);
;// CONCATENATED MODULE: ./packages/my-upload/src/index.js
function src_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){src_typeof=function _typeof(obj){return typeof obj;};}else{src_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return src_typeof(obj);}function src_extends(){src_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return src_extends.apply(this,arguments);}function src_objectWithoutProperties(source,excluded){if(source==null)return{};var target=src_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function src_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function src_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function src_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function src_createClass(Constructor,protoProps,staticProps){if(protoProps)src_defineProperties(Constructor.prototype,protoProps);if(staticProps)src_defineProperties(Constructor,staticProps);return Constructor;}function src_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)src_setPrototypeOf(subClass,superClass);}function src_setPrototypeOf(o,p){src_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return src_setPrototypeOf(o,p);}function src_createSuper(Derived){var hasNativeReflectConstruct=src_isNativeReflectConstruct();return function _createSuperInternal(){var Super=src_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=src_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return src_possibleConstructorReturn(this,result);};}function src_possibleConstructorReturn(self,call){if(call&&(src_typeof(call)==="object"||typeof call==="function")){return call;}return src_assertThisInitialized(self);}function src_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function src_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function src_getPrototypeOf(o){src_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return src_getPrototypeOf(o);}var src_MyUpload=/*#__PURE__*/function(_Component){src_inherits(MyUpload,_Component);var _super=src_createSuper(MyUpload);function MyUpload(props){var _this;src_classCallCheck(this,MyUpload);_this=_super.call(this,props);_this.state={};_this.onChange=function(fileList){var _this$props$param=_this.props.param,param=_this$props$param===void 0?{}:_this$props$param;if(param.onChange&&typeof param.onChange==='function'){var value=(fileList||[]).map(function(item){return item.url;});param.onChange(value);}};return _this;}src_createClass(MyUpload,[{key:"render",value:function render(){var _this$props=this.props,style=_this$props.style,className=_this$props.className,label=_this$props.label,param=_this$props.param,res=src_objectWithoutProperties(_this$props,["style","className","label","param"]);var content=/*#__PURE__*/index_js_default().createElement(Upload,src_extends({},this.props,{fileListArray:param.value||[],onChange:this.onChange,getActionResponseUrl:function getActionResponseUrl(res){// 从上传图片接口返回数据获取到url地址
return{url:res.data&&res.data.url,msg:res.msg||''};}}));return label?/*#__PURE__*/index_js_default().createElement(es_form/* default.Item */.Z.Item,src_extends({className:className,style:style},param.name?{name:param.name}:{},{label:label// hasFeedback = {hasFeedback}
// help={help}
// validateStatus={validateStatus || ''}
,initialValue:param.value||''//onChange={this.onChange}
,rules:param.rules}),content):content;}}]);return MyUpload;}(index_js_.Component);/* harmony default export */ const src = (src_MyUpload);

/***/ })

}]);